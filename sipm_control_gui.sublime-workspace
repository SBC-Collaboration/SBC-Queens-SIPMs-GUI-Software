{
	"auto_complete":
	{
		"selected_items":
		[
			[
				"CAENG",
				"CAENGroupConfig"
			],
			[
				"uint",
				"uint32_t"
			],
			[
				"con",
				"ConcurrentQueue"
			],
			[
				"CAENDigiti",
				"CAENDigitizerModelConstants"
			],
			[
				"TextPosi",
				"TextPositionEnum"
			],
			[
				"T",
				"TextPosition"
			],
			[
				"for",
				"for_each"
			],
			[
				"channel",
				"channel_to_modify"
			],
			[
				"Trig",
				"TriggerMask"
			],
			[
				"Grou",
				"GroupData"
			],
			[
				"GR",
				"GroupConfigs"
			],
			[
				"Dra",
				"DrawingOptions"
			],
			[
				"namesp",
				"namespace"
			],
			[
				"C",
				"CAENPerGroupConfigTab.hpp\""
			],
			[
				"CAENDi",
				"CAENDigitizerFamilies"
			],
			[
				"CAEN",
				"CAENDigitizerModel"
			],
			[
				"CAENDI",
				"CAENDigitizerFamilies"
			],
			[
				"Glo",
				"CAENGlobalConfig"
			],
			[
				"Draw",
				"DrawingOptions"
			],
			[
				"_te",
				"_teensy_doe"
			],
			[
				"IsI",
				"IsItemToggledSelection"
			],
			[
				"IsIte",
				"IsItemEdited"
			],
			[
				"unord",
				"unordered_map"
			],
			[
				"Plot",
				"PlotIndicator"
			],
			[
				"forma",
				"format_string"
			],
			[
				"X",
				"XAxisLabel"
			],
			[
				"clear",
				"clear_data"
			],
			[
				"PipeEnd",
				"PipeEndType"
			],
			[
				"SiPM",
				"SiPMAcquisitionData"
			],
			[
				"_slowda",
				"_slowdaq_pipe_end"
			],
			[
				"_teens",
				"_teensy_pipe_end"
			],
			[
				"is_samev",
				"is_same_v"
			],
			[
				"INdica",
				"IndicatorTypes"
			],
			[
				"Indicat",
				"IndicatorTypes"
			],
			[
				"Indi",
				"IndicatorTypes"
			],
			[
				"Indicato",
				"IndicatorTypes"
			],
			[
				"PlotType",
				"PlotTypeEnum"
			],
			[
				"BR",
				"BREAKDOWN_ROUTINE_ONGOING"
			],
			[
				"caen",
				"caenEvent"
			],
			[
				"_cu",
				"_current_voltage"
			],
			[
				"Br",
				"BreakdownRoutineState"
			],
			[
				"_vol",
				"_has_voltage_changed"
			],
			[
				"_cae",
				"_caen_port"
			],
			[
				"_ca",
				"_caen_port"
			],
			[
				"_pro",
				"_processing_evts"
			],
			[
				"Bre",
				"BreakdownRoutine"
			],
			[
				"make",
				"make_shared"
			],
			[
				"_l",
				"_latest_breakdown_voltage"
			],
			[
				"_has",
				"_has_finished"
			],
			[
				"has",
				"hasNewGainMeasurement"
			],
			[
				"getCur",
				"getCurrentVoltage"
			],
			[
				"c",
				"cgui_state"
			],
			[
				"_port",
				"_port_mutex"
			],
			[
				"mill",
				"milliseconds"
			],
			[
				"arma",
				"armadillo_helpers"
			],
			[
				"main",
				"main_loop_state"
			],
			[
				"cell",
				"CellNumber"
			],
			[
				"Model",
				"ModelConstants"
			],
			[
				"Num",
				"NumberOfGroups"
			],
			[
				"name",
				"namespace"
			],
			[
				"off",
				"offColor"
			],
			[
				"node_",
				"node_view"
			],
			[
				"Pelte",
				"PeltierPidUpdatePeriod"
			],
			[
				"Teensy",
				"TeensySystemPars"
			],
			[
				"Get",
				"GetSystemParameters"
			],
			[
				"Pel",
				"PeltierPidRTD"
			],
			[
				"photon",
				"photon_hits_tree"
			],
			[
				"nhi",
				"nhit_prime"
			],
			[
				"total",
				"totalbiny"
			],
			[
				"G4",
				"G4cout"
			],
			[
				"pa",
				"particleType"
			],
			[
				"Cr",
				"CreateNtupleIColumn"
			],
			[
				"_",
				"_histo_length"
			],
			[
				"_hi",
				"_histo_depth"
			],
			[
				"_min",
				"_min_val"
			],
			[
				"log",
				"logEnergy"
			],
			[
				"_max",
				"_max_val"
			],
			[
				"_his",
				"_histo_depth"
			],
			[
				"_hiso",
				"_histo_length"
			],
			[
				"his",
				"_histo_depth"
			],
			[
				"_histo",
				"_histo_length"
			],
			[
				"ene",
				"energyParticle"
			],
			[
				"_ci",
				"_circle_orientation"
			],
			[
				"verbo",
				"_verbosity"
			],
			[
				"temp",
				"temp0C_mod"
			],
			[
				"time",
				"time0C"
			],
			[
				"_get",
				"_get_reflectivity"
			],
			[
				"tyve",
				"tyvek_energies"
			],
			[
				"df",
				"df2000ma_wave"
			],
			[
				"mini",
				"miniclean_reflectivies"
			],
			[
				"min",
				"miniclean_energies"
			],
			[
				"pmt",
				"pmtsEff"
			],
			[
				"_ref",
				"_reflectroCover"
			],
			[
				"_refl",
				"_reflectorMaterial"
			],
			[
				"Stee",
				"SteelOP"
			],
			[
				"stee",
				"steel_properties"
			],
			[
				"DF",
				"DF2000MA_pt"
			],
			[
				"DF2",
				"DF2000MAReflector"
			],
			[
				"diele",
				"dielectric_metal"
			],
			[
				"of",
				"offsetY"
			],
			[
				"out",
				"out_data"
			],
			[
				"G4OpBounds",
				"G4OpBoundaryProcess"
			],
			[
				"h",
				"hfile"
			],
			[
				"tyvek",
				"tyvek_pt"
			],
			[
				"inc",
				"INCHES_TO_CM"
			],
			[
				"_moteh",
				"_motherPhys"
			],
			[
				"_world",
				"_worldPhys"
			],
			[
				"_main",
				"_mainPhys"
			],
			[
				"_da",
				"_daughter"
			],
			[
				"_mother",
				"_motherConstruction"
			],
			[
				"water",
				"water_tank_log-"
			],
			[
				"pico_ER",
				"PICO_reflector_log"
			],
			[
				"Diff",
				"DiffuseReflector"
			],
			[
				"reflec",
				"reflector_energies"
			],
			[
				"Add",
				"AddProperty"
			],
			[
				"wate",
				"water_energies"
			],
			[
				"PVC",
				"PVCOP"
			],
			[
				"string",
				"string\tstandard header"
			],
			[
				"vector",
				"vector\tstandard header"
			],
			[
				"eneg",
				"energies"
			],
			[
				"Find",
				"FindOrBuildMaterial"
			],
			[
				"trans",
				"transform"
			],
			[
				"anal",
				"analysisManager"
			],
			[
				"PMT",
				"PMTDISTRIBUTION"
			],
			[
				"G4Tr",
				"G4Transform3D"
			],
			[
				"tran",
				"transMatrix"
			],
			[
				"radi",
				"radiusCylinder"
			],
			[
				"top_ta",
				"top_tank_height"
			]
		]
	},
	"buffers":
	[
		{
			"file": "include/sbcqueens-gui/hardware_helpers/SiPMAcquisitionManager.hpp",
			"settings":
			{
				"buffer_size": 30038,
				"line_ending": "Unix"
			},
			"undo_stack":
			[
				[
					355,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAACXiQAAI2lmbmRlZiBTSVBNQUNRVUlTSVRJT05NQU5BR0VSX0gKI2RlZmluZSBTSVBNQUNRVUlTSVRJT05NQU5BR0VSX0gKI2luY2x1ZGUgPGZ1dHVyZT4KI2luY2x1ZGUgPG9wdGlvbmFsPgojcHJhZ21hIG9uY2UKCi8vIEMgU1REIGluY2x1ZGVzCi8vIEMgM3JkIHBhcnR5IGluY2x1ZGVzCi8vIEMrKyBzdGQgaW5jbHVkZXMKI2luY2x1ZGUgPGFycmF5PgojaW5jbHVkZSA8dmVjdG9yPgojaW5jbHVkZSA8dHVwbGU+CiNpbmNsdWRlIDxjc3RkaW50PgojaW5jbHVkZSA8ZnVuY3Rpb25hbD4KI2luY2x1ZGUgPG1lbW9yeT4KI2luY2x1ZGUgPG51bWVyaWM+CiNpbmNsdWRlIDxzdHJpbmc+CiNpbmNsdWRlIDx0aHJlYWQ+CiNpbmNsdWRlIDxjaHJvbm8+CiNpbmNsdWRlIDxyYW5kb20+CiNpbmNsdWRlIDxpb3N0cmVhbT4KI2luY2x1ZGUgPGFsZ29yaXRobT4KI2luY2x1ZGUgPGZpbGVzeXN0ZW0+CgovLyBDKysgM3JkIHBhcnR5IGluY2x1ZGVzCiNpbmNsdWRlIDxkYXRlL2RhdGUuaD4KI2luY2x1ZGUgPGFybWFkaWxsbz4KI2luY2x1ZGUgPHNlcmlhbC9zZXJpYWwuaD4KI2luY2x1ZGUgPHJlYWRlcndyaXRlcnF1ZXVlLmg+CiNpbmNsdWRlIDxzcGRsb2cvc3BkbG9nLmg+CgovLyBteSBpbmNsdWRlcwojaW5jbHVkZSAic2JjcXVlZW5zLWd1aS9tdWx0aXRocmVhZGluZ19oZWxwZXJzL1RocmVhZE1hbmFnZXIuaHBwIgoKI2luY2x1ZGUgInNiY3F1ZWVucy1ndWkvc2VyaWFsX2hlbHBlci5ocHAiCiNpbmNsdWRlICJzYmNxdWVlbnMtZ3VpL2ZpbGVfaGVscGVycy5ocHAiCiNpbmNsdWRlICJzYmNxdWVlbnMtZ3VpL2NhZW5faGVscGVyLmhwcCIKI2luY2x1ZGUgInNiY3F1ZWVucy1ndWkvaW1wbG90X2hlbHBlcnMuaHBwIgojaW5jbHVkZSAic2JjcXVlZW5zLWd1aS90aW1pbmdfZXZlbnRzLmhwcCIKI2luY2x1ZGUgInNiY3F1ZWVucy1ndWkvYXJtYWRpbGxvX2hlbHBlcnMuaHBwIgoKI2luY2x1ZGUgInNiY3F1ZWVucy1ndWkvaGFyZHdhcmVfaGVscGVycy9TaVBNQWNxdWlzaXRpb25EYXRhLmhwcCIKI2luY2x1ZGUgInNiY3F1ZWVucy1ndWkvaGFyZHdhcmVfaGVscGVycy9DbGllbnRDb250cm9sbGVyLmhwcCIKI2luY2x1ZGUgInNiY3F1ZWVucy1ndWkvaGFyZHdhcmVfaGVscGVycy9DYWxpYnJhdGlvbi5ocHAiCgojaW5jbHVkZSAic2JjcXVlZW5zLWd1aS9zaXBtX2hlbHBlcnMvU0JDQmluYXJ5Rm9ybWF0LmhwcCIKCi8vICNpbmNsdWRlICJzYmNxdWVlbnMtZ3VpL3NpcG1faGVscGVycy9CcmVha0Rvd25Sb3V0aW5lLmhwcCIKLy8gI2luY2x1ZGUgInNiY3F1ZWVucy1ndWkvc2lwbV9oZWxwZXJzL0FjcXVpc2l0aW9uUm91dGluZS5ocHAiCgojaW5jbHVkZSAic2lwbWFuYWx5c2lzL1B1bHNlRnVuY3Rpb25zLmhwcCIKI2luY2x1ZGUgInNpcG1hbmFseXNpcy9TUEVBbmFseXNpcy5ocHAiCiNpbmNsdWRlICJzaXBtYW5hbHlzaXMvR2FpblZCREVzdGltYXRpb24uaHBwIgoKbmFtZXNwYWNlIFNCQ1F1ZWVucyB7Cgp0ZW1wbGF0ZTxjbGFzcyBQaXBlcz4KY2xhc3MgU2lQTUFjcXVpc2l0aW9uTWFuYWdlciA6IHB1YmxpYyBUaHJlYWRNYW5hZ2VyPFBpcGVzPiB7CiAgICAvLyBUbyBnZXQgdGhlIHBpcGUgaW50ZXJmYWNlIHVzZWQgaW4gdGhlIHBpcGVzLgogICAgdXNpbmcgU2lQTVBpcGVfdHlwZSA9IHR5cGVuYW1lIFBpcGVzOjpTaVBNUGlwZV90eXBlOwogICAgLy8gU29mdHdhcmUgcmVsYXRlZCBpdGVtcwogICAgU2lQTUFjcXVpc2l0aW9uUGlwZUVuZDxTaVBNUGlwZV90eXBlLCBQaXBlRW5kVHlwZTo6Q29uc3VtZXI+IF9zaXBtX3BpcGVfZW5kOwogICAgLy8gQSByZWZlcmVuY2UgdG8gdGhlIERPRSB0aGF0cyBpbnNpZGUgX2NhZW5fcGlwZV9lbmQKICAgIFNpUE1BY3F1aXNpdGlvbkRhdGEmIF9kb2U7CgogICAgc3RkOjpzaGFyZWRfcHRyPHNwZGxvZzo6bG9nZ2VyPiBfbG9nZ2VyOwoKICAgIHVzaW5nIFNpUE1DQUVOID0gQ0FFTjxzdGQ6OnNoYXJlZF9wdHI8c3BkbG9nOjpsb2dnZXI+PjsKICAgIHVzaW5nIFNpUE1DQUVOX3B0ciA9IHN0ZDo6dW5pcXVlX3B0cjxTaVBNQ0FFTj47CiAgICBTaVBNQWNxdWlzaXRpb25TdGF0ZXMgX2FjcV9zdGF0ZSA9IFNpUE1BY3F1aXNpdGlvblN0YXRlczo6T3NjaWxsb3Njb3BlTW9kZTsKCiAgICB1c2luZyBTaVBNQ0FFTkZpbGUgPSBEYXRhRmlsZTxjb25zdCBDQUVORXZlbnQqPjsKICAgIHVzaW5nIFNpUE1DQUVORmlsZV9wdHIgPSBzdGQ6OnVuaXF1ZV9wdHI8U2lQTUNBRU5GaWxlPjsKICAgIFNpUE1DQUVORmlsZV9wdHIgX2NhZW5fZmlsZSA9IG51bGxwdHI7CgogICAgLy8gRmlsZXMKICAgIHN0ZDo6c3RyaW5nIF9ydW5fbmFtZTsKICAgIERhdGFGaWxlPFNpUE1Wb2x0YWdlTWVhc3VyZT4gX3ZvbHRhZ2VzX2ZpbGU7CiAgICBzdGQ6OnVuaXF1ZV9wdHI8TG9nRmlsZT4gX3NhdmVpbmZvX2ZpbGUgPSBudWxscHRyOwoKICAgIC8vIEhhcmR3YXJlCiAgICB1aW50OF90IF9udW1fY2hzID0gMDsKICAgIGRvdWJsZSBfYWNxX3JhdGUgPSAwLjA7CgogICAgdWludDMyX3QgU2F2ZWRXYXZlZm9ybXMgPSAwOwogICAgdWludDY0X3QgVHJpZ2dlcmVkV2F2ZWZvcm1zID0gMDsKCiAgICBib29sIF92YmRfY3JlYXRlZCA9IGZhbHNlOwoKICAgIC8vIHRtcCBzdHVmZgogICAgZG91YmxlIF93YWl0X3RpbWUgPSA5MDAwMDAuMDsKICAgIGRvdWJsZSBfcmVzZXRfdGltZXIgPSAwOwogICAgdWludDE2X3QqIF9kYXRhID0gbnVsbHB0cjsKICAgIHNpemVfdCBfbGVuZ3RoID0gMDsKICAgIGNvbnN0IENBRU5FdmVudCogX29zY19ldmVudCA9IG51bGxwdHI7CiAgICAvLyAxMDI0IGJlY2F1c2UgdGhlIGNhZW4gY2FuIG9ubHkgaG9sZCAxMDI0IG5vIG1hdHRlciB3aGF0IG1vZGVsIChzbyBmYXIpCiAgICBzdGQ6OmFycmF5PGNvbnN0IENBRU5FdmVudCosIDEwMjQ+IF9wcm9jZXNzaW5nX2V2dHMgPSB7bnVsbHB0cn07CgoKCiAgICAvLyBBbmFseXNpcwogICAgLy8gc3RkOjp1bmlxdWVfcHRyPEJyZWFrZG93blJvdXRpbmU+IF92YmRfcm91dGluZSA9IG51bGxwdHI7CiAgICAvLyBHYWluVkJERml0UGFyYW1ldGVycyBfbGF0ZXN0X2JyZWFrZG93bl92b2x0YWdlOwogICAgLy8gc3RkOjp1bmlxdWVfcHRyPEFjcXVpc2l0aW9uUm91dGluZT4gX2FjcV9yb3V0aW5lID0gbnVsbHB0cjsKCiAgICAvLyBBcyBsb25nIGFzIHdlIG1ha2UgdGhlIEZ1bmMgdGVtcGxhdGUgYXJndW1lbnQgYSBzdGQ6OmZ1Y3Rpb24KICAgIC8vIHdlIGNhbiB0aGVuIHVzZSBwb2ludGVyIG1hZ2ljIHRvIGluaXRpYWxpemUgdGhlbQogICAgdXNpbmcgU2lQTUFjcXVpc2l0aW9uZVN0YXRlCiAgICAgICAgPSBCbG9ja2luZ1RvdGFsVGltZUV2ZW50PAogICAgICAgICAgICBzdGQ6OmZ1bmN0aW9uPGJvb2wodm9pZCk+LAogICAgICAgICAgICBzdGQ6OmNocm9ubzo6bWlsbGlzZWNvbmRzCiAgICAgICAgPjsKCiAgICAvLyBXZSBuZWVkIHRvIHR1cm4gdGhlIGNsYXNzIEJsb2NraW5nVG90YWxUaW1lRXZlbnQgaW50byBhIHBvaW50ZXIKICAgIC8vIGJlY2F1c2UgaXQgZG9lcyBub3QgaGF2ZSBhbiBlbXB0eSBjb25zdHJ1Y3RvciBhbmQgZm9yIGEgZ29vZCByZWFzb24KICAgIC8vIGlmIGl0cyBlbXB0eSwgYnVncyBhbmQgY3Jhc2hlcyB3b3VsZCBoYXBwZW4gYWxsIHRoZSB0aW1lLgogICAgdXNpbmcgU2lQTUFjcXVpc2l0aW9uU3RhdGVfcHRyID0gc3RkOjpzaGFyZWRfcHRyPFNpUE1BY3F1aXNpdGlvbmVTdGF0ZT47CgogICAgU2lQTUFjcXVpc2l0aW9uU3RhdGVfcHRyIG1haW5fbG9vcF9zdGF0ZTsKCiAgICBTaVBNQWNxdWlzaXRpb25TdGF0ZV9wdHIgc3RhbmRieV9zdGF0ZTsKICAgIFNpUE1BY3F1aXNpdGlvblN0YXRlX3B0ciBhY3F1aXNpdGlvbl9zdGF0ZTsKICAgIFNpUE1BY3F1aXNpdGlvblN0YXRlX3B0ciBjbG9zaW5nX3N0YXRlOwoKIHB1YmxpYzoKICAgIGV4cGxpY2l0IFNpUE1BY3F1aXNpdGlvbk1hbmFnZXIoY29uc3QgUGlwZXMmIHBpcGVzKSA6CiAgICAgICAgVGhyZWFkTWFuYWdlcjxQaXBlcz4ocGlwZXMpLAogICAgICAgIF9zaXBtX3BpcGVfZW5kKHBpcGVzLlNpUE1QaXBlKSwgX2RvZXtfc2lwbV9waXBlX2VuZC5EYXRhfSB7CiAgICAgICAgLy8gVGhpcyBpcyBwb3NzaWJsZSBiZWNhdXNlIHN0ZDo6ZnVuY3Rpb24gY2FuIGJlIGFzc2lnbmVkCiAgICAgICAgLy8gdG8gd2hhdGV2ZXIgc3RkOjpiaW5kIHJldHVybnMKICAgICAgICBzdGFuZGJ5X3N0YXRlID0gc3RkOjptYWtlX3NoYXJlZDxTaVBNQWNxdWlzaXRpb25lU3RhdGU+KAogICAgICAgICAgICBzdGQ6OmNocm9ubzo6bWlsbGlzZWNvbmRzKDEwMDApLAogICAgICAgICAgICBzdGQ6OmJpbmQoJlNpUE1BY3F1aXNpdGlvbk1hbmFnZXI6OnN0YW5kYnksIHRoaXMpKTsKCiAgICAgICAgYWNxdWlzaXRpb25fc3RhdGUgPSBzdGQ6Om1ha2Vfc2hhcmVkPFNpUE1BY3F1aXNpdGlvbmVTdGF0ZT4oCiAgICAgICAgICAgIHN0ZDo6Y2hyb25vOjptaWxsaXNlY29uZHMoMSksCiAgICAgICAgICAgIHN0ZDo6YmluZCgmU2lQTUFjcXVpc2l0aW9uTWFuYWdlcjo6YWNxdWlzaXRpb24sIHRoaXMpKTsKCiAgICAgICAgY2xvc2luZ19zdGF0ZSA9IHN0ZDo6bWFrZV9zaGFyZWQ8U2lQTUFjcXVpc2l0aW9uZVN0YXRlPigKICAgICAgICAgICAgc3RkOjpjaHJvbm86Om1pbGxpc2Vjb25kcygxKSwKICAgICAgICAgICAgc3RkOjpiaW5kKCZTaVBNQWNxdWlzaXRpb25NYW5hZ2VyOjpjbG9zaW5nX21vZGUsIHRoaXMpKTsKCiAgICAgICAgX2xvZ2dlciA9IHNwZGxvZzo6Z2V0KCJsb2ciKTsKICAgIH0KCiAgICB+U2lQTUFjcXVpc2l0aW9uTWFuYWdlcigpIHsKICAgICAgICBfbG9nZ2VyLT5pbmZvKCJDbG9zaW5nIFNpUE1BY3F1aXNpdGlvbk1hbmFnZXIiKTsKICAgIH0KCiAgICB2b2lkIG9wZXJhdG9yKCkoKSB7CiAgICAgICAgX2xvZ2dlci0+aW5mbygiSW5pdGlhbGl6aW5nIENBRU4gdGhyZWFkIik7CgogICAgICAgIF9kb2UuSVZEYXRhID0gUGxvdERhdGFCdWZmZXI8Mj4oMTAwKTsKCiAgICAgICAgbWFpbl9sb29wX3N0YXRlID0gc3RhbmRieV9zdGF0ZTsKCiAgICAgICAgLy8gX3NpcG1fdm9sdF9zeXMuYnVpbGQoCiAgICAgICAgLy8gICAgIFs9XSAoc2VyaWFsX3B0ciYgcG9ydCkgLT4gYm9vbCB7CiAgICAgICAgLy8gICAgICAgICBzdGF0aWMgYXV0byBzZW5kX21zZ19zbG93ID0gbWFrZV9ibG9ja2luZ190b3RhbF90aW1lZF9ldmVudCgKICAgICAgICAvLyAgICAgICAgICAgICBzdGQ6OmNocm9ubzo6bWlsbGlzZWNvbmRzKDIwMCksCiAgICAgICAgLy8gICAgICAgICAgICAgWyZdKGNvbnN0IHN0ZDo6c3RyaW5nJiBtc2cpewogICAgICAgIC8vICAgICAgICAgICAgICAgICBzcGRsb2c6OmluZm8oIlNlbmRpbmcgbXNnIHRvIEtlaXRoZWx5OiB7MH0iLCBtc2cpOwogICAgICAgIC8vICAgICAgICAgICAgICAgICBzZW5kX21zZyhwb3J0LCBtc2cgKyAiXG4iLCAiIik7CiAgICAgICAgLy8gICAgICAgICAgICAgfQogICAgICAgIC8vICAgICAgICAgKTsKCiAgICAgICAgLy8gICAgICAgICBTZXJpYWxQYXJhbXMgc3NwOwogICAgICAgIC8vICAgICAgICAgc3NwLlRpbWVvdXQgPSBzZXJpYWw6OlRpbWVvdXQ6OnNpbXBsZVRpbWVvdXQoNTAwMCk7CiAgICAgICAgLy8gICAgICAgICBzc3AuQmF1ZHJhdGUgPSAxMTUyMDA7CiAgICAgICAgLy8gICAgICAgICBjb25uZWN0X3Bhcihwb3J0LCBfZG9lLlNpUE1Wb2x0YWdlU3lzUG9ydCwgc3NwKTsKCiAgICAgICAgLy8gICAgICAgICBpZiAoIXBvcnQpIHsKICAgICAgICAvLyAgICAgICAgICAgICBzcGRsb2c6OmVycm9yKCJQb3J0IHdpdGggcG9ydCBuYW1lIHswfSB3YXMgbm90IG9wZW4iLAogICAgICAgIC8vICAgICAgICAgICAgICAgICBfZG9lLlNpUE1Wb2x0YWdlU3lzUG9ydCk7CiAgICAgICAgLy8gICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIC8vICAgICAgICAgfQoKICAgICAgICAvLyAgICAgICAgIGlmICghcG9ydC0+aXNPcGVuKCkpIHsKICAgICAgICAvLyAgICAgICAgICAgICBzcGRsb2c6OmVycm9yKCJQb3J0IHdpdGggcG9ydCBuYW1lIHswfSB3YXMgbm90IG9wZW4iLAogICAgICAgIC8vICAgICAgICAgICAgICAgICBfZG9lLlNpUE1Wb2x0YWdlU3lzUG9ydCk7CiAgICAgICAgLy8gICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIC8vICAgICAgICAgfQoKICAgICAgICAvLyAgICAgICAgIHNwZGxvZzo6aW5mbygiQ29ubmVjdGVkIHRvIEtlaXRobGV5IDIwMDAhICIKICAgICAgICAvLyAgICAgICAgICAgICAiSW5pdGlhbGl6aW5nLi4uIik7CgogICAgICAgIC8vICAgICAgICAgLy8gU2V0dXAgR1BJQiBpbnRlcmZhY2UKICAgICAgICAvLyAgICAgICAgIC8vIHNlbmRfbXNnX3Nsb3coIisrcnN0Iik7CiAgICAgICAgLy8gICAgICAgICAvLyBUaGlzIHNob3VsZCBiZSBub3QgcnVuIGlmIHdlIGFyZSBpbiBkZWJ1ZyBtb2RlLgogICAgICAgIC8vICAgICAjaWZkZWYgTkRFQlVHCiAgICAgICAgLy8gICAgICAgICBzZW5kX21zZ19zbG93KCIrK2VvcyAwIik7CiAgICAgICAgLy8gICAgICAgICBzZW5kX21zZ19zbG93KCIrK2FkZHIgMTAiKTsKICAgICAgICAvLyAgICAgICAgIHNlbmRfbXNnX3Nsb3coIisrYXV0byAwIik7CgogICAgICAgIC8vICAgICAgICAgLy8vLyBpZiB0aXJlZCBvZiB3YWl0aW5nIGZvciBrZWl0aGxleSBjb21tZW50IHN0YXJ0aW5nIGhlcmU6CiAgICAgICAgLy8gICAgICAgICAvLyBOb3cgS2VpdGhsZXkKICAgICAgICAvLyAgICAgICAgIC8vIFRoZXNlIHBhcmFtZXRlcnMgYXJlIGNvbnN0YW50IGZvciBub3cKICAgICAgICAvLyAgICAgICAgIC8vIGJ1dCBsYXRlciB0aGV5IGNhbiBiZWNvbWUgYSBwYXJhbWV0ZXIgb3IgdGhlIHZvbHRhZ2UKICAgICAgICAvLyAgICAgICAgIC8vIHN5c3RlbSBjYW4gYmUgb3B0aW9uYWwgYXQgYWxsCiAgICAgICAgLy8gICAgICAgICBzZW5kX21zZ19zbG93KCIqcnN0Iik7CiAgICAgICAgLy8gICAgICAgICBzZW5kX21zZ19zbG93KCI6aW5pdDpjb250IG9uIik7CiAgICAgICAgLy8gICAgICAgICBzZW5kX21zZ19zbG93KCI6dm9sdDpkYzpucGxjIDEwIik7CiAgICAgICAgLy8gICAgICAgICBzZW5kX21zZ19zbG93KCI6dm9sdDpkYzpyYW5nOmF1dG8gMCIpOwogICAgICAgIC8vICAgICAgICAgc2VuZF9tc2dfc2xvdygiOnZvbHQ6ZGM6cmFuZyAxMDAiKTsKICAgICAgICAvLyAgICAgICAgIHNlbmRfbXNnX3Nsb3coIjp2b2x0OmRjOmF2ZXI6c3RhdCAwIik7CiAgICAgICAgLy8gICAgICAgICAvLyBzZW5kX21zZ19zbG93KCI6dm9sdDpkYzphdmVyOnRjb24gbW92Iik7CiAgICAgICAgLy8gICAgICAgICAvLyBzZW5kX21zZ19zbG93KCI6dm9sdDpkYzphdmVyOmNvdW4gMTAwIik7CgogICAgICAgIC8vICAgICAgICAgc2VuZF9tc2dfc2xvdygiOmZvcm0gYXNjaWkiKTsKCiAgICAgICAgLy8gICAgICAgICAvLyBLZWl0aGxleSA2NDg3CiAgICAgICAgLy8gICAgICAgICBzZW5kX21zZ19zbG93KCIrK2FkZHIgMjIiKTsKICAgICAgICAvLyAgICAgICAgIHNlbmRfbXNnX3Nsb3coIipyc3QiKTsKICAgICAgICAvLyAgICAgICAgIHNlbmRfbXNnX3Nsb3coIjpmb3JtOmVsZW0gcmVhZCIpOwoKICAgICAgICAvLyAgICAgICAgIC8vIFZvbHQgc3VwcGx5IHNpZGUKICAgICAgICAvLyAgICAgICAgIHNlbmRfbXNnX3Nsb3coIjpzb3VyOnZvbHQ6cmFuZyA1NSIpOwogICAgICAgIC8vICAgICAgICAgc2VuZF9tc2dfc2xvdygiOnNvdXI6dm9sdDppbGltIDI1MGUtNiIpOwogICAgICAgIC8vICAgICAgICAgc2VuZF9tc2dfc2xvdygiOnNvdXI6dm9sdCAiCiAgICAgICAgLy8gICAgICAgICAgICAgKyBzdGQ6OnRvX3N0cmluZyhfZG9lLlNpUE1Wb2x0YWdlU3lzVm9sdGFnZSkpOwogICAgICAgIC8vICAgICAgICAgc2VuZF9tc2dfc2xvdygiOnNvdXI6dm9sdDpzdGF0IE9GRiIpOwoKICAgICAgICAvLyAgICAgICAgIC8vIEFtbWV0ZXIgc2lkZQogICAgICAgIC8vICAgICAgICAgc2VuZF9tc2dfc2xvdygiOnNlbnM6Y3VycjpkYzpucGxjIDYiKTsKICAgICAgICAvLyAgICAgICAgIHNlbmRfbXNnX3Nsb3coIjpzZW5zOmF2ZXI6c3RhdCBvZmYiKTsKCiAgICAgICAgLy8gICAgICAgICAvLyBaZXJvIGNoZWNrCiAgICAgICAgLy8gICAgICAgICBzZW5kX21zZ19zbG93KCI6c3lzdDp6Y2ggT04iKTsKICAgICAgICAvLyAgICAgICAgIHNlbmRfbXNnX3Nsb3coIjpjdXJyOnJhbmcgMkUtNyIpOwogICAgICAgIC8vICAgICAgICAgc2VuZF9tc2dfc2xvdy5DaGFuZ2VXYWl0VGltZShzdGQ6OmNocm9ubzo6bWlsbGlzZWNvbmRzKDEwMDApKTsKICAgICAgICAvLyAgICAgICAgIHNlbmRfbXNnX3Nsb3coIjppbml0Iik7CiAgICAgICAgLy8gICAgICAgICBzZW5kX21zZ19zbG93KCI6c3lzdDp6Y29yOnN0YXQgT0ZGIik7CiAgICAgICAgLy8gICAgICAgICBzZW5kX21zZ19zbG93KCI6c3lzdDp6Y29yOmFjcSIpOwogICAgICAgIC8vICAgICAgICAgc2VuZF9tc2dfc2xvdygiOnN5c3Q6emNoIE9GRiIpOwogICAgICAgIC8vICAgICAgICAgc2VuZF9tc2dfc2xvdygiOnN5c3Q6emNvciBPTiIpOwogICAgICAgIC8vICAgICAgICAgc2VuZF9tc2dfc2xvdygiOnN5c3Q6YXplciBPTiIpOwoKICAgICAgICAvLyAgICAgICAgIHNlbmRfbXNnX3Nsb3cuQ2hhbmdlV2FpdFRpbWUoc3RkOjpjaHJvbm86Om1pbGxpc2Vjb25kcygyMDApKTsKICAgICAgICAvLyAgICAgICAgIHNlbmRfbXNnX3Nsb3coIjphcm06Y291biAxIik7CiAgICAgICAgLy8gICAgICAgICBzZW5kX21zZ19zbG93KCI6YXJtOnNvdXIgaW1tIik7CiAgICAgICAgLy8gICAgICAgICBzZW5kX21zZ19zbG93KCI6YXJtOnRpbWVyIDAiKTsKICAgICAgICAvLyAgICAgICAgIHNlbmRfbXNnX3Nsb3coIjp0cmlnOmNvdW4gMSIpOwogICAgICAgIC8vICAgICAgICAgc2VuZF9tc2dfc2xvdygiOnRyaWc6c291ciBpbW0iKTsKCiAgICAgICAgLy8gICAgICAgICBzZW5kX21zZ19zbG93LkNoYW5nZVdhaXRUaW1lKHN0ZDo6Y2hyb25vOjptaWxsaXNlY29uZHMoMTEwMCkpOwogICAgICAgIC8vICAgICAgICAgc2VuZF9tc2dfc2xvdygiOmluaXQiKTsKICAgICAgICAvLyAgICAgI2VuZGlmCgogICAgICAgIC8vICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgLy8gICAgIH0sCiAgICAgICAgLy8gICAgIFs9XShzZXJpYWxfcHRyJiBwb3J0KSAtPiBib29sIHsKICAgICAgICAvLyAgICAgICAgIGlmIChwb3J0KSB7CiAgICAgICAgLy8gICAgICAgICAgICAgc2VuZF9tc2cocG9ydCwgIisrYWRkciAyMlxuIiwgIiIpOwogICAgICAgIC8vICAgICAgICAgICAgIHNlbmRfbXNnKHBvcnQsICI6c291cjp2b2x0OnN0YXQgT0ZGXG4iLCAiIik7CiAgICAgICAgLy8gICAgICAgICAgICAgc2VuZF9tc2cocG9ydCwgIjpzb3VyOnZvbHQgMC4wXG4iLCAiIik7CgogICAgICAgIC8vICAgICAgICAgICAgIGlmIChwb3J0LT5pc09wZW4oKSkgewogICAgICAgIC8vICAgICAgICAgICAgICAgICBkaXNjb25uZWN0KHBvcnQpOwogICAgICAgIC8vICAgICAgICAgICAgIH0KICAgICAgICAvLyAgICAgICAgIH0KCiAgICAgICAgLy8gICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgLy8gfSk7CgogICAgICAgIC8vIEFjdHVhbCBsb29wIQogICAgICAgIHdoaWxlIChtYWluX2xvb3Bfc3RhdGUtPm9wZXJhdG9yKCkoKSkgewogICAgICAgICAgICAvLyBzaXBtX3ZvbHRhZ2Vfc3lzdGVtX3VwZGF0ZSgpOwogICAgICAgIH0KICAgIH0KCiBwcml2YXRlOgogICAgdm9pZCBjYWxjdWxhdGVfdHJpZ2dlcl9mcmVxdWVuY3koKSB7CiAgICAgICAgc3RhdGljIGRvdWJsZSBsYXN0X3RpbWUgPSBnZXRfY3VycmVudF90aW1lX2Vwb2NoKCkgLyAxMDAwLjA7CiAgICAgICAgc3RhdGljIHVpbnQ2NF90IGxhc3Rfd2F2ZWZvcm1zID0gMDsKICAgICAgICBkb3VibGUgY3VycmVudF90aW1lID0gZ2V0X2N1cnJlbnRfdGltZV9lcG9jaCgpIC8gMTAwMC4wOwogICAgICAgIGRvdWJsZSBkdCA9IGN1cnJlbnRfdGltZSAtIGxhc3RfdGltZTsKICAgICAgICB1aW50NjRfdCBkV2F2ZWZvcm1zID0gVHJpZ2dlcmVkV2F2ZWZvcm1zIC0gbGFzdF93YXZlZm9ybXM7CgogICAgICAgIGxhc3Rfd2F2ZWZvcm1zID0gVHJpZ2dlcmVkV2F2ZWZvcm1zOwogICAgICAgIGxhc3RfdGltZSA9IGN1cnJlbnRfdGltZTsKICAgICAgICBfZG9lLlRyaWdnZXJlZFJhdGUgPSBzdGF0aWNfY2FzdDxkb3VibGU+KGRXYXZlZm9ybXMpIC8gZHQ7CiAgICB9CgogICAgLy8gQ2hhbmdlcyB0aGUgbWFuYWdlciBzdGF0ZS4gQ3VycmVudGx5IG9ubHkgMzoKICAgIC8vIEFjcXVpc2l0aW9uLCBDbG9zaW5nLCBhbmQgU3RhbmRieQogICAgdm9pZCBzd2l0Y2hfc3RhdGUoY29uc3QgU2lQTUFjcXVpc2l0aW9uTWFuYWdlclN0YXRlcyYgbmV3U3RhdGUpIHsKICAgICAgICBfZG9lLkN1cnJlbnRTdGF0ZSA9IG5ld1N0YXRlOwogICAgICAgIHN3aXRjaCAoX2RvZS5DdXJyZW50U3RhdGUpIHsKICAgICAgICAgICAgY2FzZSBTaVBNQWNxdWlzaXRpb25NYW5hZ2VyU3RhdGVzOjpBY3F1aXNpdGlvbjoKICAgICAgICAgICAgICAgIF9hY3Ffc3RhdGUgPSBTaVBNQWNxdWlzaXRpb25TdGF0ZXM6Ok9zY2lsbG9zY29wZU1vZGU7CiAgICAgICAgICAgICAgICBtYWluX2xvb3Bfc3RhdGUgPSBhY3F1aXNpdGlvbl9zdGF0ZTsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlIFNpUE1BY3F1aXNpdGlvbk1hbmFnZXJTdGF0ZXM6OkNsb3Npbmc6CiAgICAgICAgICAgICAgICBtYWluX2xvb3Bfc3RhdGUgPSBjbG9zaW5nX3N0YXRlOwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgU2lQTUFjcXVpc2l0aW9uTWFuYWdlclN0YXRlczo6U3RhbmRieToKICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgICAgIC8vIGRvIG5vdGhpbmcgb3RoZXIgdGhhbiBzZXQgdG8gc3RhbmRieSBzdGF0ZQogICAgICAgICAgICAgICAgbWFpbl9sb29wX3N0YXRlID0gc3RhbmRieV9zdGF0ZTsKICAgICAgICB9CiAgICB9CgogICAgLy8gRW52ZWxvcGVzIHRoZSBsb2dpYyB0aGF0IGxpc3RlbnMgdG8gYW4gZXh0ZXJuYWwgcXVldWUKICAgIC8vIHRoYXQgY2FuIHRoZSBkYXRhIGluc2lkZSB0aGlzIHRocmVhZC4KICAgIHZvaWQgY2hhbmdlX3N0YXRlKCkgewogICAgICAgIC8vIEdVSSAtPiBDQUVOCiAgICAgICAgU2lQTUFjcXVpc2l0aW9uRGF0YSB0YXNrOwoKICAgICAgICAvLyBJZiB0aGUgcXVldWUgZG9lcyBub3QgcmV0dXJuIGEgdmFsaWQgY2FsbGJhY2ssIHRoaXMgY2FsbCB3aWxsCiAgICAgICAgLy8gZG8gbm90aGluZyBhbmQgc2hvdWxkIHJldHVybiB0cnVlIGFsd2F5cy4KICAgICAgICAvLyBUaGUgdGFza3MgYXJlIGVzc2VudGlhbGx5IGFueSBHVUkgZHJpdmVuIG1vZGlmaWNhdGlvbiwgZXhhbXBsZQogICAgICAgIC8vIHNldHRpbmcgdGhlIFBJRCBzZXRwb2ludHMgb3IgY29uc3RhbnRzCiAgICAgICAgLy8gb3IgYW4gdXNlciBkcml2ZW4gcmVzZXQKICAgICAgICBpZiAoX3NpcG1fcGlwZV9lbmQucmV0cmlldmUodGFzaykpIHsKICAgICAgICAgICAgdGFzay5DYWxsYmFjayhfZG9lKTsKICAgICAgICAgICAgc3dpdGNoX3N0YXRlKF9kb2UuQ3VycmVudFN0YXRlKTsKICAgICAgICB9CgogICAgICAgIC8vIFNlbmQgdGhlIGN1cnJlbnQgc3RhdGUgdG8gdGhlIEdVSSB0byB1cGRhdGUgaGltCiAgICAgICAgX3NpcG1fcGlwZV9lbmQuc2VuZCgpOwogICAgfQoKICAgIC8vIERvZXMgbm90aGluZyBvdGhlciB0aGFuIHdhaXQgMTAwMG1zIHRvIGF2b2lkIGNsb2dnaW5nIFBDIHJlc291cmNlcy4KICAgIGJvb2wgc3RhbmRieSgpIHsKICAgICAgICBzdGF0aWMgZG91YmxlIGkgPSAwOwoKICAgICAgICBfZG9lLklWRGF0YShpLCBjb3MoaS8zMC4wKSwgc2luKGkvMzAuMCkpOwogICAgICAgIGkgKz0gMS4wOwoKICAgICAgICBzdGF0aWMgQmluYXJ5Rm9ybWF0OjpEeW5hbWljV3JpdGVyPGRvdWJsZSwgZG91YmxlPiBmb28oIi4vb3V0LmJpbiIsCiAgICAgICAgICAgIHsieCIsICJ5In0sCiAgICAgICAgICAgIHsxLCAxfSwKICAgICAgICAgICAgezEsIDF9KTsKCiAgICAgICAgZG91YmxlIHhbMV07CiAgICAgICAgeFswXSA9IGNvcyhpLzMwLjApOwogICAgICAgIGRvdWJsZSB5WzFdOwogICAgICAgIHlbMF0gPSBzaW4oaSAvIDMwLjApOwoKICAgICAgICBmb28uc2F2ZSh4LCB5KTsKCiAgICAgICAgY2hhbmdlX3N0YXRlKCk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgYm9vbCBhY3F1aXNpdGlvbigpIHsKICAgICAgICBhdXRvIGNhZW5fcmVzID0gYXR0ZW1wdF9jb25uZWN0aW9uKCk7CiAgICAgICAgaWYgKGNhZW5fcmVzLT5IYXNFcnJvcigpKSB7CiAgICAgICAgICAgIGNhZW5fcmVzLnJlc2V0KCk7CiAgICAgICAgICAgIGNoYW5nZV9zdGF0ZSgpOwogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CgogICAgICAgIC8vIFdlIGFyZSBzdHVjayBpbnNpZGUgdGhpcyB3aGlsZSBsb29wIHdoaWNoIHdpbGwgYnJlYWsgdW5kZXIKICAgICAgICAvLyB0aHJlZSBjb25kaXRpb25zOgogICAgICAgIC8vIDEuIFRoZXJlIGlzIGEgZmF0YWwgZXJyb3IgaW4gdGhlIENBRU4gZGlnaXRpemVyLgogICAgICAgIC8vIDIuIEdVSSBjaGFuZ2VzIHRoZSBzdGF0ZSBvZiB0aGUgbWFuYWdlciB0byBzb21ldGhpbmcgZGlmZmVyZW50CiAgICAgICAgLy8gICAgIG90aGVyIHRoYW4gYWNxdWlzaXRpb24gbW9kZS4KICAgICAgICAvLyAzLi0gQW55IG90aGVyIGNvbmRpdGlvbiB1bmRlciBhY3F1aXNpdGlvbiBtb2RlLiBTdWNoIGFzIG51bWJlciBvZgogICAgICAgIC8vICAgICBzYW1wbGVzIGJ1dCBpdCBjYW4gYWx3YXlzIHJhbiB0byBnbyBmb3JldmVyCiAgICAgICAgd2hpbGUgKG5vdCBjYWVuX3Jlcy0+SGFzRXJyb3IoKSkgewogICAgICAgICAgICBzd2l0Y2goX2FjcV9zdGF0ZSkgewogICAgICAgICAgICAgICAgY2FzZSBTaVBNQWNxdWlzaXRpb25TdGF0ZXM6Ok9zY2lsbG9zY29wZU1vZGU6CiAgICAgICAgICAgICAgICAgICAgY2Flbl9yZXMgPSBvc2NpbGxvc2NvcGUoc3RkOjptb3ZlKGNhZW5fcmVzKSk7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgICAgY2FzZSBTaVBNQWNxdWlzaXRpb25TdGF0ZXM6OkFjcXVpc2l0aW9uTW9kZToKICAgICAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgICAvLyBSZXNldHMgdGhlIHNldHVwIGluZm9ybWF0aW9uIHdpdGhvdXQgZnJlZWluZyB0aGUgQ0FFTiByZXNvdXJjZQogICAgICAgICAgICAgICAgY2FzZSBTaVBNQWNxdWlzaXRpb25TdGF0ZXM6OlJlc2V0OgogICAgICAgICAgICAgICAgICAgIGNhZW5fcmVzID0gc2V0dXBfYW5kX3ByZXBhcmUoc3RkOjptb3ZlKGNhZW5fcmVzKSk7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIFRoaXMgbWFuYWdlcyB0aGUgY29tbXVuaWNhdGlvbiB3aXRoIHRoZSBHVUkKICAgICAgICAgICAgY2hhbmdlX3N0YXRlKCk7CiAgICAgICAgICAgIC8vIElmIHRoZSBHVUkgc2F5cywgaGV5IHN0b3AgYWNxdWlyaW5nLCB3ZSBkbyEKICAgICAgICAgICAgaWYgKF9kb2UuQ3VycmVudFN0YXRlICE9IFNpUE1BY3F1aXNpdGlvbk1hbmFnZXJTdGF0ZXM6OkFjcXVpc2l0aW9uKSB7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgLy8gT25jZSB3ZSBnbyBvdXQgb2Ygc2NvcGUsIHdlIHJlbGVhc2UvZGlzY29ubmVjdCB0aGUgQ0FFTgogICAgICAgIGNhZW5fcmVzLnJlc2V0KCk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLy8gQXR0ZW1wdHMgYSBjb25uZWN0aW9uIHRvIHRoZSBDQUVOIGRpZ2l0aXplciwgc2V0dXBzIHRoZSBjaGFubmVscywKICAgIC8vIHN0YXJ0cyBhY3F1aXNpdGlvbiwgYW5kIG1vdmVzIHRvIHRoZSBvc2NpbGxvc2NvcGUgbW9kZQogICAgU2lQTUNBRU5fcHRyIGF0dGVtcHRfY29ubmVjdGlvbigpIHsKICAgICAgICBhdXRvIGNhZW5fcG9ydCA9IHN0ZDo6bWFrZV91bmlxdWU8U2lQTUNBRU4+KF9sb2dnZXIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfZG9lLk1vZGVsLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2RvZS5Db25uZWN0aW9uVHlwZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9kb2UuUG9ydE51bSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfZG9lLlZNRUFkZHJlc3MpOwoKICAgICAgICAvLyBJZiBwb3J0IHJlc291cmNlIHdhcyBub3QgY3JlYXRlZCwgaXQgZXF1YWxzIGEgZmFpbHVyZSEKICAgICAgICBpZiAobm90IGNhZW5fcG9ydC0+SXNDb25uZWN0ZWQoKSkgewogICAgICAgICAgICBzd2l0Y2hfc3RhdGUoU2lQTUFjcXVpc2l0aW9uTWFuYWdlclN0YXRlczo6U3RhbmRieSk7CiAgICAgICAgICAgIHJldHVybiBjYWVuX3BvcnQ7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gc2V0dXBfYW5kX3ByZXBhcmUoc3RkOjptb3ZlKGNhZW5fcG9ydCkpOwogICAgfQoKICAgIFNpUE1DQUVOX3B0ciBzZXR1cF9hbmRfcHJlcGFyZShTaVBNQ0FFTl9wdHIgY2Flbl9wb3J0KSB7CiAgICAgICAgY2Flbl9wb3J0LT5TZXR1cChfZG9lLkdsb2JhbENvbmZpZywgX2RvZS5Hcm91cENvbmZpZ3MpOwogICAgICAgIGlmKGNhZW5fcG9ydC0+SGFzRXJyb3IoKSkgewogICAgICAgICAgICBzd2l0Y2hfc3RhdGUoU2lQTUFjcXVpc2l0aW9uTWFuYWdlclN0YXRlczo6U3RhbmRieSk7CiAgICAgICAgICAgIHJldHVybiBjYWVuX3BvcnQ7CiAgICAgICAgfQoKICAgICAgICAvLyBUaGUgc2V0dXAgZnVuY3Rpb25zIGRvZXMgY2hhbmdlIGFuZCBtYWtlIGNhbGN1bGF0aW9ucwogICAgICAgIC8vIGFib3V0IHNvbWUgcGFyYW1ldGVycyB3ZSBwYXNzLCB3ZSByZWFkIHRoZW0gYmFjayB0byBnZXQgYQogICAgICAgIC8vIG1vcmUgYWNjdXJhdGUgdmFsdWUgb2YgdGhlbS4KICAgICAgICBfZG9lLkdsb2JhbENvbmZpZyA9IGNhZW5fcG9ydC0+R2V0R2xvYmFsQ29uZmlndXJhdGlvbigpOwogICAgICAgIF9kb2UuR3JvdXBDb25maWdzID0gY2Flbl9wb3J0LT5HZXRHcm91cENvbmZpZ3VyYXRpb25zKCk7CgogICAgICAgIC8vIEluaXRpYWxpemUgdGhlIHBsb3R0aW5nIGRhdGEKICAgICAgICBzdGQ6OmdlbmVyYXRlKF9kb2UuR3JvdXBEYXRhLmJlZ2luKCksIF9kb2UuR3JvdXBEYXRhLmVuZCgpLCBbJl0oKXsKICAgICAgICAgICAgcmV0dXJuIFBsb3REYXRhQnVmZmVyPDg+KF9kb2UuR2xvYmFsQ29uZmlnLlJlY29yZExlbmd0aCk7CiAgICAgICAgfSk7CgogICAgICAgIC8vIEZpbGwgdGhlbSB1cCBhcyBieSBkZWZhdWx0IHRoZXkgYWN0IGxpa2UgY2lyY3VsYXIgYnVmZmVycwogICAgICAgIGZvcihhdXRvJiBkYXRhIDogX2RvZS5Hcm91cERhdGEpIHsKICAgICAgICAgICAgZGF0YS5maWxsKCk7CiAgICAgICAgfQoKICAgICAgICBfbnVtX2NocyA9IGNhZW5fcG9ydC0+TW9kZWxDb25zdGFudHMuTnVtQ2hhbm5lbHM7CiAgICAgICAgX2FjcV9yYXRlID0gY2Flbl9wb3J0LT5Nb2RlbENvbnN0YW50cy5BY3F1aXNpdGlvblJhdGU7CiAgICAgICAgX2RvZS5DQUVOQm9hcmRJbmZvID0gY2Flbl9wb3J0LT5HZXRCb2FyZEluZm8oKTsKCiAgICAgICAgLy8gRW5hYmxlIGFjcXVpc2l0aW9uIEhBUyB0byBiZSBjYWxsZWQgQUZURVIgc2V0dXAKICAgICAgICBjYWVuX3BvcnQtPkVuYWJsZUFjcXVpc2l0aW9uKCk7CiAgICAgICAgaWYoY2Flbl9wb3J0LT5IYXNFcnJvcigpKSB7CiAgICAgICAgICAgIHN3aXRjaF9zdGF0ZShTaVBNQWNxdWlzaXRpb25NYW5hZ2VyU3RhdGVzOjpTdGFuZGJ5KTsKICAgICAgICAgICAgcmV0dXJuIGNhZW5fcG9ydDsKICAgICAgICB9CgogICAgICAgIC8vIFRyeWluZyB0byBjYWxsIG9uY2Ugd2lsbCBpbml0aWFsaXplIHRoZSBwb3J0CiAgICAgICAgLy8gYnV0IHJlYWxseSB0aGlzIGNhbGwgaXMgbm90IGltcG9ydGFudAogICAgICAgIC8vIF9zaXBtX3ZvbHRfc3lzLmdldChbPV0oc2VyaWFsX3B0ciYgcG9ydCkgLT4gc3RkOjpvcHRpb25hbDxkb3VibGU+IHsKICAgICAgICAvLyAgICAgcmV0dXJuIHt9OwogICAgICAgIC8vIH0pOwogICAgICAgIC8vIHN0ZDo6Z2VuZXJhdGUoX3Byb2Nlc3NpbmdfZXZ0cy5iZWdpbigpLCBfcHJvY2Vzc2luZ19ldnRzLmVuZCgpLAogICAgICAgIC8vIFsmXSgpewogICAgICAgIC8vICAgICByZXR1cm4gc3RkOjptYWtlX3NoYXJlZDxjYWVuRXZlbnQ+KF9jYWVuX3BvcnQtPkhhbmRsZSk7CiAgICAgICAgLy8gfSk7CgogICAgICAgIC8vIEFsbG9jYXRlIG1lbW9yeSBmb3IgZXZlbnRzCgogICAgICAgIC8vIFRoZXNlIGxpbmVzIGdldCB0b2RheSdzIGRhdGUgYW5kIGNyZWF0ZXMgYSBmb2xkZXIgdW5kZXIgdGhhdCBkYXRlCiAgICAgICAgLy8gVGhlcmUgaXMgYSBzaW1pbGFyIGNvZGUgaW4gdGhlIFRlZW5zeSBpbnRlcmZhY2UgZmlsZQogICAgICAgIHN0ZDo6b3N0cmluZ3N0cmVhbSBvdXQ7CiAgICAgICAgYXV0byB0b2RheSA9IGRhdGU6OnllYXJfbW9udGhfZGF5ewogICAgICAgICAgICAgICAgZGF0ZTo6Zmxvb3I8ZGF0ZTo6ZGF5cz4oc3RkOjpjaHJvbm86OnN5c3RlbV9jbG9jazo6bm93KCkpfTsKICAgICAgICBvdXQgPDwgdG9kYXk7CiAgICAgICAgX3J1bl9uYW1lID0gb3V0LnN0cigpOwoKICAgICAgICBzdGQ6OmZpbGVzeXN0ZW06OmNyZWF0ZV9kaXJlY3RvcnkoX2RvZS5SdW5EaXIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyAiLyIgKyBfcnVuX25hbWUpOwoKLy8gICAgICAgIHNpcG1fZmlsZSgKLy8gICAgICAgICAgICAgX2RvZS5SdW5EaXIgKyAiLyIgKyBfcnVuX25hbWUgKyAiL1NhdmVJbmZvLnR4dCIpOwovLwovLyAgICAgICAgaWYgKG5vdCBzaXBtX2ZpbGUuaXNPcGVuKCkpIHsKLy8gICAgICAgICAgICBzcGRsb2c6OmVycm9yKCJGYWlsZWQgdG8gb3BlbiBTYXZlSW5mby50eHQiKTsKLy8gICAgICAgICAgICBzd2l0Y2hfc3RhdGUoU2lQTUFjcXVpc2l0aW9uTWFuYWdlclN0YXRlczo6U3RhbmRieSk7Ci8vICAgICAgICB9CgovLyAgICAgICAgc3BkbG9nOjppbmZvKCJUcnlpbmcgdG8gb3BlbiBmaWxlIHswfSIsIF9kb2UuUnVuRGlyCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyAiLyIgKyBfcnVuX25hbWUKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArICIvU2lQTUlWLnR4dCIpOwovLyAgICAgICAgb3Blbl9maWxlKF92b2x0YWdlc19maWxlLCBfZG9lLlJ1bkRpcgovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyAiLyIgKyBfcnVuX25hbWUKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgIi9TaVBNSVYudHh0Iik7CgovLyAgICAgICAgcyA9IF92b2x0YWdlc19maWxlID4gMDsKLy8gICAgICAgIGlmICghcykgewovLyAgICAgICAgICAgIHNwZGxvZzo6ZXJyb3IoIkZhaWxlZCB0byBvcGVuIHZvbHRhZ2UgZmlsZSIpOwovLyAgICAgICAgfQoKICAgICAgICBzdGQ6OmZpbGVzeXN0ZW06OmNyZWF0ZV9kaXJlY3RvcnkoX2RvZS5SdW5EaXIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyAiLyIgKyBfcnVuX25hbWUpOwoKICAgICAgICBfbG9nZ2VyLT5pbmZvKCJDQUVOIFNldHVwIGNvbXBsZXRlISIpOwogICAgICAgIHJldHVybiBjYWVuX3BvcnQ7CiAgICB9CgogICAgLy8gV2hpbGUgaW4gdGhpcyBzdGF0ZSBpdCBzaGFyZXMgdGhlIGRhdGEgd2l0aCB0aGUgR1VJIGJ1dAogICAgLy8gbm8gYWN0dWFsIGZpbGUgc2F2aW5nIGlzIGhhcHBlbmluZy4gSXQgZXNzZW50aWFsbHkgc2VydmVzCiAgICAvLyBhcyBhIG1vZGUgaW4gd2hlcmUgdGhlIHVzZXIgY2FuIHNlZSB3aGF0IGlzIGhhcHBlbmluZy4KICAgIC8vIFNpbWlsYXIgdG8gYW4gb3NjaWxsb3Njb3BlCiAgICBTaVBNQ0FFTl9wdHIgb3NjaWxsb3Njb3BlKFNpUE1DQUVOX3B0ciBjYWVuX3BvcnQpIHsKICAgICAgICBhdXRvIGV2ZW50cyA9IGNhZW5fcG9ydC0+R2V0RXZlbnRzSW5CdWZmZXIoKTsKICAgICAgICAvLyBfaW5kaWNhdG9yX3NlbmRlcihJbmRpY2F0b3JOYW1lczo6Q0FFTkJVRkZFUkVWRU5UUywgZXZlbnRzKTsKCiAgICAgICAgaWYgKF9kb2UuU29mdHdhcmVUcmlnZ2VyKSB7CiAgICAgICAgICAgIF9sb2dnZXItPmluZm8oIlNlbmRpbmcgYSBzb2Z0d2FyZSB0cmlnZ2VyIik7CiAgICAgICAgICAgIGNhZW5fcG9ydC0+U29mdHdhcmVUcmlnZ2VyKCk7CiAgICAgICAgICAgIF9kb2UuU29mdHdhcmVUcmlnZ2VyID0gZmFsc2U7CiAgICAgICAgfQovLwogICAgICAgIHN0YXRpYyBCaW5hcnlGb3JtYXQ6OlNpUE1EeW5hbWljV3JpdGVyIF9maWxlKCJzaXBtX3dhdmVmb3Jtcy5iaW4iLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWVuX3BvcnQtPk1vZGVsQ29uc3RhbnRzLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWVuX3BvcnQtPkdldEdsb2JhbENvbmZpZ3VyYXRpb24oKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2Flbl9wb3J0LT5HZXRHcm91cENvbmZpZ3VyYXRpb25zKCkpOwoKICAgICAgICBjYWVuX3BvcnQtPlJldHJpZXZlRGF0YSgpOwogICAgICAgIC8vIEdldE51bWJlck9mRXZlbnRzIGdldHMgdGhlIGFjdHVhbCBhY3F1aXJlZCBldmVudHMKICAgICAgICAvLyB3aGlsZSBHZXRFdmVudHNJbkJ1ZmZlciBnZXRzIHRoZSBldmVudHMgaW4gQ0FFTiBidWZmZXIKICAgICAgICBpZiAoY2Flbl9wb3J0LT5HZXROdW1iZXJPZkV2ZW50cygpID4gMCkgewogICAgICAgICAgICAvLyBUcmlnZ2VyZWRXYXZlZm9ybXMgKz0gX2NhZW5fcG9ydC0+RGF0YS5OdW1FdmVudHM7CiAgICAgICAgICAgIC8vIER1ZSB0byB0aGUgc2xvdyByYXRlIG9zY2lsbG9zY29wZSBtb2RlIGlzIGhhcHBlbmluZywgdXNpbmcKICAgICAgICAgICAgLy8gZXZlbnRzIGluc3RlYWQgb2YgLi4tPkRhdGEuTnVtRXZlbnRzIGlzIGEgYmV0dGVyIG51bWJlciB0byB1c2UKICAgICAgICAgICAgLy8gdG8gYXBwcm94aW1hdGUgdGhlIGFjdHVhbCBudW1iZXIgb2Ygd2F2ZWZvcm1zIGFjcXVpcmVkLgogICAgICAgICAgICAvLyBTcGVjaWFsbHkgYmVjYXVzZSB0aGUgYnVmZmVyIGlzIGNsZWFyZWQuCiAgICAgICAgICAgIFRyaWdnZXJlZFdhdmVmb3JtcyArPSBldmVudHM7CiAgICAgICAgICAgIC8vIHNwZGxvZzo6aW5mbygiVG90YWwgc2l6ZSBidWZmZXI6IHswfSIsICBfY2Flbl9wb3J0LT5EYXRhLlRvdGFsU2l6ZUJ1ZmZlcik7CiAgICAgICAgICAgIC8vIHNwZGxvZzo6aW5mbygiRGF0YSBzaXplOiB7MH0iLCBfY2Flbl9wb3J0LT5EYXRhLkRhdGFTaXplKTsKICAgICAgICAgICAgLy8gc3BkbG9nOjppbmZvKCJOdW0gZXZlbnRzOiB7MH0iLCBfY2Flbl9wb3J0LT5EYXRhLk51bUV2ZW50cyk7CgogICAgICAgICAgICAvLyBEZWNvZGUgZXZlbnRzCiAgICAgICAgICAgIGNhZW5fcG9ydC0+RGVjb2RlRXZlbnRzKCk7CiAgICAgICAgICAgIF9vc2NfZXZlbnQgPSBjYWVuX3BvcnQtPkdldEV2ZW50KDApOwogICAgICAgICAgICBhdXRvIG0gPSBjYWVuX2V2ZW50X3RvX2FybWFkaWxsbyhfb3NjX2V2ZW50LCA2NCk7CgogICAgICAgICAgICBhdXRvIHdhdmVmb3JtID0gY2Flbl9wb3J0LT5HZXRXYXZlZm9ybSgwKTsKICAgICAgICAgICAgX2ZpbGUuc2F2ZV93YXZlZm9ybSh3YXZlZm9ybSk7CgogICAgICAgICAgICAvLyBzcGRsb2c6OmluZm8oIkV2ZW50IHNpemU6IHswfSIsIF9vc2NfZXZlbnQtPkluZm8uRXZlbnRTaXplKTsKICAgICAgICAgICAgLy8gc3BkbG9nOjppbmZvKCJFdmVudCBjb3VudGVyOiB7MH0iLCBfb3NjX2V2ZW50LT5JbmZvLkV2ZW50Q291bnRlcik7CiAgICAgICAgICAgIC8vIHNwZGxvZzo6aW5mbygiVHJpZ2dlciBUaW1lIFRhZzogezB9IiwKICAgICAgICAgICAgLy8gICAgIF9vc2NfZXZlbnQtPkluZm8uVHJpZ2dlclRpbWVUYWcpOwoKICAgICAgICAgICAgcHJvY2Vzc19kYXRhX2Zvcl9ndWkoKTsKCiAgICAgICAgICAgIC8vIENsZWFyIGV2ZW50cyBpbiBidWZmZXIKICAgICAgICAgICAgY2Flbl9wb3J0LT5DbGVhckRhdGEoKTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBjYWVuX3BvcnQ7CiAgICB9CgogICAgLy8gRG9lcyB0aGUgU2lQTSBwdWxzZSBwcm9jZXNzaW5nIGJ1dCBubyBmaWxlIHNhdmluZwogICAgLy8gaXMgZG9uZS4gU2VydmVzIG1vcmUgZm9yIHRoZSB1c2VyIHRvIGtub3cKICAgIC8vIGhvdyB0aGluZ3MgYXJlIGNoYW5naW5nLgovLyAgICBib29sIG1lYXN1cmVtZW50X3JvdXRpbmVfbW9kZSgpIHsKLy8gICAgICAgIGlmIChub3QgX3ZiZF9yb3V0aW5lKSB7Ci8vICAgICAgICAgICAgX3ZiZF9yb3V0aW5lID0gc3RkOjptYWtlX3VuaXF1ZTxCcmVha2Rvd25Sb3V0aW5lPigKLy8gICAgICAgICAgICAgICAgX2NhZW5fcG9ydCwgX2RvZSwgX3J1bl9uYW1lLCBfc2F2ZWluZm9fZmlsZSA9IG51bGxwdHIpOwovLwovLyAgICAgICAgICAgIC8vIC8vIFJlc2V0IGFsbCBpbmRpY2F0b3JzIGZvciB0aGlzIHNlY3Rpb24KLy8gICAgICAgICAgICAvLyBfaW5kaWNhdG9yX3NlbmRlcihJbmRpY2F0b3JOYW1lczo6RklOSVNIRURfUk9VVElORSwgZmFsc2UpOwovLyAgICAgICAgICAgIC8vIF9pbmRpY2F0b3Jfc2VuZGVyKEluZGljYXRvck5hbWVzOjpNRUFTVVJFTUVOVF9ST1VUSU5FX09OR09JTkcsCi8vICAgICAgICAgICAgLy8gICAgIGZhbHNlKTsKLy8gICAgICAgICAgICAvLyBfaW5kaWNhdG9yX3NlbmRlcihJbmRpY2F0b3JOYW1lczo6QlJFQUtET1dOX1JPVVRJTkVfT05HT0lORywKLy8gICAgICAgICAgICAgICAgLy8gZmFsc2UpOwovLyAgICAgICAgfQovLwovLyAgICAgICAgX3ZiZF9yb3V0aW5lLT51cGRhdGUoKTsKLy8KLy8gICAgICAgIGlmKF92YmRfcm91dGluZS0+aGFzVm9sdGFnZUNoYW5nZWQoKSkgewovLyAgICAgICAgICAgIF9kb2UuU2lQTVZvbHRhZ2VTeXNWb2x0YWdlID0gX3ZiZF9yb3V0aW5lLT5nZXRDdXJyZW50Vm9sdGFnZSgpOwovLyAgICAgICAgICAgIF9kb2UuU2lQTVZvbHRhZ2VTeXNDaGFuZ2UgPSB0cnVlOwovLyAgICAgICAgfQovLwovLyAgICAgICAgX3Byb2Nlc3NpbmdfZXZ0cyA9IF92YmRfcm91dGluZS0+Z2V0TGF0ZXN0RXZlbnRzKCk7Ci8vICAgICAgICByZG1fZXh0cmFjdF9mb3JfZ3VpKCk7Ci8vCi8vICAgICAgICAvLyBHVUkgcmVsYXRlZCBzdHVmZgovLyAgICAgICAgVHJpZ2dlcmVkV2F2ZWZvcm1zICs9IHN0YXRpY19jYXN0PHVpbnQ2NF90PigKLy8gICAgICAgICAgICBfdmJkX3JvdXRpbmUtPmdldExhdGVzdE51bUV2ZW50cygpKTsKLy8gICAgICAgIFNhdmVkV2F2ZWZvcm1zID0gX3ZiZF9yb3V0aW5lLT5nZXRUb3RhbEFjcXVpcmVkRXZlbnRzKCk7Ci8vICAgICAgICAvLyBfaW5kaWNhdG9yX3NlbmRlcihJbmRpY2F0b3JOYW1lczo6U0FWRURfV0FWRUZPUk1TLCBTYXZlZFdhdmVmb3Jtcyk7Ci8vCi8vICAgICAgICBzd2l0Y2ggKF92YmRfcm91dGluZS0+Z2V0Q3VycmVudFN0YXRlKCkpIHsKLy8gICAgICAgIGNhc2UgQnJlYWtkb3duUm91dGluZVN0YXRlOjpGaW5pc2hlZDoKLy8gICAgICAgICAgICBzd2l0Y2hfc3RhdGUoU2lQTUFjcXVpc2l0aW9uU3RhdGVzOjpPc2NpbGxvc2NvcGVNb2RlKTsKLy8KLy8gICAgICAgICAgICAvLyBfaW5kaWNhdG9yX3NlbmRlcihJbmRpY2F0b3JOYW1lczo6RklOSVNIRURfUk9VVElORSwgdHJ1ZSk7Ci8vCi8vICAgICAgICAgICAgLy8gU2V0IGJhY2sgdG8gNTIganVzdCBpbiBjYXNlLgovLyAgICAgICAgICAgIF9kb2UuU2lQTVZvbHRhZ2VTeXNWb2x0YWdlID0gKl92YmRfcm91dGluZS0+R2FpblZvbHRhZ2VzLmNiZWdpbigpOwovLyAgICAgICAgICAgIF9kb2UuU2lQTVZvbHRhZ2VTeXNDaGFuZ2UgPSB0cnVlOwovLyAgICAgICAgICAgIC8vIENsZWFuIHJlc291cmNlcyBhbmQgZ2V0IHRoZSBwb3J0IGJhY2sKLy8gICAgICAgICAgICAvLyBfY2Flbl9wb3J0ID0gX3ZiZF9yb3V0aW5lLT5yZXRyaWV2ZUNBRU4oKTsKLy8gICAgICAgICAgICBfdmJkX3JvdXRpbmUgPSBudWxscHRyOwovLyAgICAgICAgICAgIGJyZWFrOwovLyAgICAgICAgY2FzZSBCcmVha2Rvd25Sb3V0aW5lU3RhdGU6OkdhaW5NZWFzdXJlbWVudHM6Ci8vICAgICAgICAgICAgLy8gX2luZGljYXRvcl9zZW5kZXIoSW5kaWNhdG9yTmFtZXM6OkJSRUFLRE9XTl9ST1VUSU5FX09OR09JTkcsIHRydWUpOwovLyAgICAgICAgY2FzZSBCcmVha2Rvd25Sb3V0aW5lU3RhdGU6OkNhbGN1bGF0ZUJyZWFrZG93blZvbHRhZ2U6Ci8vICAgICAgICAgICAgaWYgKF92YmRfcm91dGluZS0+aGFzTmV3R2Fpbk1lYXN1cmVtZW50KCkpCi8vICAgICAgICAgICAgewovLyAgICAgICAgICAgICAgICAvLyBhdXRvIHBhcnMgPSBfdmJkX3JvdXRpbmUtPmdldEFuYWx5c2lzTGF0ZXN0VmFsdWVzKCk7Ci8vICAgICAgICAgICAgICAgIC8vIF9pbmRpY2F0b3Jfc2VuZGVyKEluZGljYXRvck5hbWVzOjpHQUlOX1ZTX1ZPTFRBR0UsCi8vICAgICAgICAgICAgICAgIC8vICAgICBfZG9lLkxhdGVzdE1lYXN1cmUuVm9sdCwgcGFycy5TUEVQYXJhbWV0ZXJzKDEpKTsKLy8gICAgICAgICAgICAgICAgLy8gX2luZGljYXRvcl9zZW5kZXIoSW5kaWNhdG9yTmFtZXM6OlNQRV9HQUlOX01FQU4sCi8vICAgICAgICAgICAgICAgIC8vIHBhcnMuU1BFUGFyYW1ldGVycygxKSk7Ci8vCi8vICAgICAgICAgICAgICAgIC8vIF9pbmRpY2F0b3Jfc2VuZGVyKEluZGljYXRvck5hbWVzOjpTUEVfRUZGSUNJRU5DVFksCi8vICAgICAgICAgICAgICAgIC8vICAgICBwYXJzLlNQRUVmZmljaWVuY3kpOwovLyAgICAgICAgICAgICAgICAvLyBfaW5kaWNhdG9yX3NlbmRlcihJbmRpY2F0b3JOYW1lczo6SU5URUdSQUxfVEhSRVNIT0xELAovLyAgICAgICAgICAgICAgICAvLyAgICAgcGFycy5JbnRlZ3JhbFRocmVzaG9sZCk7Ci8vCi8vICAgICAgICAgICAgICAgIC8vIF9pbmRpY2F0b3Jfc2VuZGVyKEluZGljYXRvck5hbWVzOjpPRkZTRVQsCi8vICAgICAgICAgICAgICAgIC8vICAgICBwYXJzLlNQRVBhcmFtZXRlcnMoMikpOwovLwovLyAgICAgICAgICAgICAgICAvLyBfaW5kaWNhdG9yX3NlbmRlcihJbmRpY2F0b3JOYW1lczo6UklTRV9USU1FLAovLyAgICAgICAgICAgICAgICAvLyAgICAgcGFycy5TUEVQYXJhbWV0ZXJzKDMpKTsKLy8KLy8gICAgICAgICAgICAgICAgLy8gX2luZGljYXRvcl9zZW5kZXIoSW5kaWNhdG9yTmFtZXM6OkZBTExfVElNRSwKLy8gICAgICAgICAgICAgICAgLy8gICAgIHBhcnMuU1BFUGFyYW1ldGVycyg0KSk7Ci8vICAgICAgICAgICAgfQovLyAgICAgICAgICAgIGJyZWFrOwovLyAgICAgICAgY2FzZSBCcmVha2Rvd25Sb3V0aW5lU3RhdGU6OkFjcXVpc2l0aW9uOgovLyAgICAgICAgICAgIC8vIF9pbmRpY2F0b3Jfc2VuZGVyKEluZGljYXRvck5hbWVzOjpNRUFTVVJFTUVOVF9ST1VUSU5FX09OR09JTkcsIHRydWUpOwovLyAgICAgICAgICAgIGlmIChfdmJkX3JvdXRpbmUtPmhhc05ld0JyZWFrZG93blZvbHRhZ2UoKSkgewovLyAgICAgICAgICAgICAgIC8vIGF1dG8gdmFsdWVzID0gX3ZiZF9yb3V0aW5lLT5nZXRCcmVha2Rvd25Wb2x0YWdlKCk7Ci8vCi8vICAgICAgICAgICAgICAgIC8vIF9pbmRpY2F0b3Jfc2VuZGVyKEluZGljYXRvck5hbWVzOjpCUkVBS0RPV05fVk9MVEFHRSwKLy8gICAgICAgICAgICAgICAgLy8gICAgIHZhbHVlcy5CcmVha2Rvd25Wb2x0YWdlKTsKLy8gICAgICAgICAgICAgICAgLy8gX2luZGljYXRvcl9zZW5kZXIoSW5kaWNhdG9yTmFtZXM6OkJSRUFLRE9XTl9WT0xUQUdFX0VSUiwKLy8gICAgICAgICAgICAgICAgLy8gICAgIHZhbHVlcy5CcmVha2Rvd25Wb2x0YWdlRXJyb3IpOwovLyAgICAgICAgICAgIH0KLy8KLy8gICAgICAgICAgICBicmVhazsKLy8gICAgICAgIGRlZmF1bHQ6Ci8vICAgICAgICBicmVhazsKLy8gICAgICAgIH0KLy8KLy8gICAgICAgIC8vIENhbmNlbCBidXR0b24gcm91dGluZQovLyAgICAgICAgaWYgKF9kb2UuQ2FuY2VsTWVhc3VyZW1lbnRzICYmIF92YmRfcm91dGluZSkgewovLyAgICAgICAgICAgIHN3aXRjaF9zdGF0ZShTaVBNQWNxdWlzaXRpb25TdGF0ZXM6Ok9zY2lsbG9zY29wZU1vZGUpOwovLwovLyAgICAgICAgICAgIC8vIF9jYWVuX3BvcnQgPSBfdmJkX3JvdXRpbmUtPnJldHJpZXZlQ0FFTigpOwovLyAgICAgICAgICAgIF92YmRfcm91dGluZSA9IG51bGxwdHI7Ci8vICAgICAgICAgICAgX2RvZS5DYW5jZWxNZWFzdXJlbWVudHMgPSBmYWxzZTsKLy8gICAgICAgIH0KLy8KLy8gICAgICAgIGNoYW5nZV9zdGF0ZSgpOwovLyAgICAgICAgcmV0dXJuIHRydWU7Ci8vICAgIH0KCiAgICAvLyBib29sIHJ1bl9tb2RlKCkgewogICAgLy8gICAgIGlmIChub3QgX2FjcV9yb3V0aW5lKSB7CiAgICAvLyAgICAgICAgIF9pbmRpY2F0b3Jfc2VuZGVyKEluZGljYXRvck5hbWVzOjpET05FX0RBVEFfVEFLSU5HLCBmYWxzZSk7CiAgICAvLyAgICAgICAgIF9hY3Ffcm91dGluZSA9IHN0ZDo6bWFrZV91bmlxdWU8QWNxdWlzaXRpb25Sb3V0aW5lPiAoCiAgICAvLyAgICAgICAgICAgICBfY2Flbl9wb3J0LCBfZG9lLCBfcnVuX25hbWUsIF9zYXZlaW5mb19maWxlID0gbnVsbHB0ciwKICAgIC8vICAgICAgICAgICAgIF9sYXRlc3RfYnJlYWtkb3duX3ZvbHRhZ2UpOwogICAgLy8gICAgIH0KCiAgICAvLyAgICAgX2FjcV9yb3V0aW5lLT51cGRhdGUoKTsKCiAgICAvLyAgICAgaWYoX2FjcV9yb3V0aW5lLT5oYXNWb2x0YWdlQ2hhbmdlZCgpKSB7CiAgICAvLyAgICAgICAgIF9kb2UuU2lQTVZvbHRhZ2VTeXNWb2x0YWdlID0gX2FjcV9yb3V0aW5lLT5nZXRDdXJyZW50Vm9sdGFnZSgpOwogICAgLy8gICAgICAgICBfZG9lLlNpUE1Wb2x0YWdlU3lzQ2hhbmdlID0gdHJ1ZTsKICAgIC8vICAgICB9CgogICAgLy8gICAgIF9wcm9jZXNzaW5nX2V2dHMgPSBfYWNxX3JvdXRpbmUtPmdldExhdGVzdEV2ZW50cygpOwogICAgLy8gICAgIHJkbV9leHRyYWN0X2Zvcl9ndWkoKTsKCiAgICAvLyAgICAgLy8gR1VJIHJlbGF0ZWQgc3R1ZmYKICAgIC8vICAgICBUcmlnZ2VyZWRXYXZlZm9ybXMgPSBfYWNxX3JvdXRpbmUtPmdldExhdGVzdE51bUV2ZW50cygpOwogICAgLy8gICAgIFNhdmVkV2F2ZWZvcm1zID0gX2FjcV9yb3V0aW5lLT5nZXRUb3RhbEFjcXVpcmVkRXZlbnRzKCk7CiAgICAvLyAgICAgX2luZGljYXRvcl9zZW5kZXIoSW5kaWNhdG9yTmFtZXM6OlNBVkVEX1dBVkVGT1JNUywgU2F2ZWRXYXZlZm9ybXMpOwoKICAgIC8vICAgICAvLyBJdCBmaW5pc2hlZCwgd2UgbW92ZSBiYWNrIHRvIE9zY2lsbG9zY29wZU1vZGUKICAgIC8vICAgICBpZiAoX2FjcV9yb3V0aW5lLT5oYXNGaW5pc2hlZCgpKSB7CiAgICAvLyAgICAgICAgIHN3aXRjaF9zdGF0ZShTaVBNQWNxdWlzaXRpb25TdGF0ZXM6Ok9zY2lsbG9zY29wZU1vZGUpOwoKICAgIC8vICAgICAgICAgLy8gX2NhZW5fcG9ydCA9IF9hY3Ffcm91dGluZS0+cmV0cmlldmVDQUVOKCk7CiAgICAvLyAgICAgICAgIF9hY3Ffcm91dGluZSA9IG51bGxwdHI7CgogICAgLy8gICAgICAgICBfaW5kaWNhdG9yX3NlbmRlcihJbmRpY2F0b3JOYW1lczo6RE9ORV9EQVRBX1RBS0lORywgdHJ1ZSk7CiAgICAvLyAgICAgfQoKICAgIC8vICAgICAvLyBDYW5jZWwgYnV0dG9uIHJvdXRpbmUKICAgIC8vICAgICBpZiAoX2RvZS5DYW5jZWxNZWFzdXJlbWVudHMgJiYgX2FjcV9yb3V0aW5lKSB7CiAgICAvLyAgICAgICAgIHN3aXRjaF9zdGF0ZShTaVBNQWNxdWlzaXRpb25TdGF0ZXM6Ok9zY2lsbG9zY29wZU1vZGUpOwoKICAgIC8vICAgICAgICAgLy8gX2NhZW5fcG9ydCA9IF9hY3Ffcm91dGluZS0+cmV0cmlldmVDQUVOKCk7CiAgICAvLyAgICAgICAgIF9hY3Ffcm91dGluZSA9IG51bGxwdHI7CiAgICAvLyAgICAgICAgIF9kb2UuQ2FuY2VsTWVhc3VyZW1lbnRzID0gZmFsc2U7CiAgICAvLyAgICAgfQoKICAgIC8vICAgICBjaGFuZ2Vfc3RhdGUoKTsKICAgIC8vICAgICByZXR1cm4gdHJ1ZTsKICAgIC8vIH0KCiAgICAvLyBPbmx5IG1vZGUgdGhhdCBzdG9wcyB0aGUgbWFpbl9sb29wIGFuZCBmcmVlcyBhbGwgcmVzb3VyY2VzCiAgICBib29sIGNsb3NpbmdfbW9kZSgpIHsKICAgICAgICBfbG9nZ2VyLT5pbmZvKCJHb2luZyB0byBjbG9zZSB0aGUgQ0FFTiB0aHJlYWQuIik7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQoKICAgIHZvaWQgcmRtX2V4dHJhY3RfZm9yX2d1aSgpIHsKICAgICAgICBzdGF0aWMgYXV0byByZG1fZXh0cmFjdF90aW1lZCA9IG1ha2VfdG90YWxfdGltZWRfZXZlbnQoCiAgICAgICAgICAgIHN0ZDo6Y2hyb25vOjptaWxsaXNlY29uZHMoMjAwKSwKICAgICAgICAgICAgWyZdKCkgewogICAgICAgICAgICAgICAgLy8gRm9yIHRoZSBHVUkKICAgICAgICAgICAgICAgIGlmIChUcmlnZ2VyZWRXYXZlZm9ybXMgPT0gMCkgewogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHN0YXRpYyBzdGQ6OmRlZmF1bHRfcmFuZG9tX2VuZ2luZSBnZW5lcmF0b3I7CiAgICAgICAgICAgICAgICBzdGQ6OnVuaWZvcm1faW50X2Rpc3RyaWJ1dGlvbjx1aW50NjRfdD4KICAgICAgICAgICAgICAgICAgICBkaXN0cmlidXRpb24oMCwgVHJpZ2dlcmVkV2F2ZWZvcm1zKTsKICAgICAgICAgICAgICAgIHVpbnQ2NF90IHJkbV9udW0gPSBkaXN0cmlidXRpb24oZ2VuZXJhdG9yKTsKCiAgICAgICAgICAgICAgICBfb3NjX2V2ZW50ID0gX3Byb2Nlc3NpbmdfZXZ0c1tyZG1fbnVtXTsKCiAgICAgICAgICAgICAgICBwcm9jZXNzX2RhdGFfZm9yX2d1aSgpOwogICAgICAgIH0pOwoKICAgICAgICByZG1fZXh0cmFjdF90aW1lZCgpOwogICAgfQoKICAgIHZvaWQgcHJvY2Vzc19kYXRhX2Zvcl9ndWkoKSB7CiAgICAgICAgY2FsY3VsYXRlX3RyaWdnZXJfZnJlcXVlbmN5KCk7CgogICAgICAgIGlmIChub3QgX29zY19ldmVudCkgewogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICBhdXRvIHNpemUgPSBfb3NjX2V2ZW50LT5nZXREYXRhKCktPkNoU2l6ZVswXTsKICAgICAgICBhdXRvIGFsbF9jaHMgPSBfb3NjX2V2ZW50LT5nZXREYXRhKCktPkRhdGFDaGFubmVsOwoKICAgICAgICBpZiAoc2l6ZSA8PSAwKSB7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIGZvciAoc3RkOjpzaXplX3QgaSA9IDA7IGkgPCBzaXplOyBpKyspIHsKICAgICAgICAgICAgZm9yKHN0ZDo6c2l6ZV90IGdyb3VwID0gMDsgZ3JvdXAgPCA0OyBncm91cCArKykgewogICAgICAgICAgICAgICAgYXV0byBvZmZzZXQgPSBncm91cCo4OwogICAgICAgICAgICAgICAgX2RvZS5Hcm91cERhdGEuYXQoZ3JvdXApLmFkZF9hdChpLCBpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbF9jaHNbb2Zmc2V0ICsgMF0gPT0gbnVsbHB0ciA/IDAgOiBhbGxfY2hzW29mZnNldCArIDBdW2ldLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbF9jaHNbb2Zmc2V0ICsgMV0gPT0gbnVsbHB0ciA/IDAgOiBhbGxfY2hzW29mZnNldCArIDFdW2ldLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbF9jaHNbb2Zmc2V0ICsgMl0gPT0gbnVsbHB0ciA/IDAgOiBhbGxfY2hzW29mZnNldCArIDJdW2ldLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbF9jaHNbb2Zmc2V0ICsgM10gPT0gbnVsbHB0ciA/IDAgOiBhbGxfY2hzW29mZnNldCArIDNdW2ldLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbF9jaHNbb2Zmc2V0ICsgNF0gPT0gbnVsbHB0ciA/IDAgOiBhbGxfY2hzW29mZnNldCArIDRdW2ldLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbF9jaHNbb2Zmc2V0ICsgNV0gPT0gbnVsbHB0ciA/IDAgOiBhbGxfY2hzW29mZnNldCArIDVdW2ldLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbF9jaHNbb2Zmc2V0ICsgNl0gPT0gbnVsbHB0ciA/IDAgOiBhbGxfY2hzW29mZnNldCArIDZdW2ldLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbF9jaHNbb2Zmc2V0ICsgN10gPT0gbnVsbHB0ciA/IDAgOiBhbGxfY2hzW29mZnNldCArIDddW2ldKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCi8vICAgIHZvaWQgc2lwbV92b2x0YWdlX3N5c3RlbV91cGRhdGUoKSB7Ci8vICAgICAgICBzdGF0aWMgYXV0byBnZXRfdm9sdGFnZSA9IG1ha2VfdG90YWxfdGltZWRfZXZlbnQoCi8vICAgICAgICAgICAgc3RkOjpjaHJvbm86OnNlY29uZHMoMSksCi8vICAgICAgICAgICAgWyZdKCkgewovLyAgICAgICAgICAgICAgICBfc2lwbV92b2x0X3N5cy5hc3luY19nZXQoCi8vICAgICAgICAgICAgICAgIFs9XShzZXJpYWxfcHRyJiBwb3J0KQovLyAgICAgICAgICAgICAgICAgICAgLT4gc3RkOjpvcHRpb25hbDxTaVBNVm9sdGFnZU1lYXN1cmU+IHsKLy8gICAgICAgICAgICAgICAgICAgIHN0YXRpYyBhdXRvIHNlbmRfbXNnX3Nsb3cgPSBtYWtlX2Jsb2NraW5nX3RvdGFsX3RpbWVkX2V2ZW50KAovLyAgICAgICAgICAgICAgICAgICAgICAgIHN0ZDo6Y2hyb25vOjptaWxsaXNlY29uZHMoMTApLAovLyAgICAgICAgICAgICAgICAgICAgICAgIFsmXShjb25zdCBzdGQ6OnN0cmluZyYgbXNnKXsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VuZF9tc2cocG9ydCwgbXNnICsgIlxuIiwgIiIpOwovLyAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICk7Ci8vCi8vICAgICAgICAgICAgICAgICAgICBzZW5kX21zZ19zbG93LkNoYW5nZVdhaXRUaW1lKAovLyAgICAgICAgICAgICAgICAgICAgICAgIHN0ZDo6Y2hyb25vOjptaWxsaXNlY29uZHMoMTApKTsKLy8gICAgICAgICAgICAgICAgICAgIHNlbmRfbXNnX3Nsb3coIisrYWRkciAxMCIpOwovLyAgICAgICAgICAgICAgICAgICAgc2VuZF9tc2dfc2xvdygiOmZldGNoPyIpOwovLyAgICAgICAgICAgICAgICAgICAgc2VuZF9tc2dfc2xvdygiKytyZWFkIGVvaSIpOwovLwovLyAgICAgICAgICAgICAgICAgICAgYXV0byB2b2x0ID0gcmV0cmlldmVfbXNnPGRvdWJsZT4ocG9ydCk7Ci8vCi8vICAgICAgICAgICAgICAgICAgICBpZiAoIXZvbHQpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge307Ci8vICAgICAgICAgICAgICAgICAgICB9Ci8vCi8vICAgICAgICAgICAgICAgICAgICBkb3VibGUgdGltZSA9IGdldF9jdXJyZW50X3RpbWVfZXBvY2goKSAvIDEwMDAuMDsKLy8gICAgICAgICAgICAgICAgICAgIHNlbmRfbXNnX3Nsb3cuQ2hhbmdlV2FpdFRpbWUoCi8vICAgICAgICAgICAgICAgICAgICAgICAgc3RkOjpjaHJvbm86Om1pbGxpc2Vjb25kcygxMDApKTsKLy8gICAgICAgICAgICAgICAgICAgIHNlbmRfbXNnX3Nsb3coIisrYWRkciAyMiIpOwovLyAgICAgICAgICAgICAgICAgICAgc2VuZF9tc2dfc2xvdygiOmZldGNoPyIpOwovLyAgICAgICAgICAgICAgICAgICAgc2VuZF9tc2dfc2xvdygiKytyZWFkIGVvaSIpOwovLwovLyAgICAgICAgICAgICAgICAgICAgYXV0byBjdXJyID0gcmV0cmlldmVfbXNnPGRvdWJsZT4ocG9ydCk7Ci8vCi8vICAgICAgICAgICAgICAgICAgICBzZW5kX21zZ19zbG93KCI6aW5pdCIpOwovLwovLyAgICAgICAgICAgICAgICAgICAgaWYgKCFjdXJyKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHt9OwovLyAgICAgICAgICAgICAgICAgICAgfQovLwovLyAgICAgICAgICAgICAgICAgICAgU2lQTVZvbHRhZ2VNZWFzdXJlIG91dDsKLy8gICAgICAgICAgICAgICAgICAgIG91dC5UaW1lID0gdGltZTsKLy8gICAgICAgICAgICAgICAgICAgIG91dC5Wb2x0ID0gdm9sdC52YWx1ZSgpOwovLyAgICAgICAgICAgICAgICAgICAgb3V0LkN1cnJlbnQgPSBjdXJyLnZhbHVlKCk7Ci8vCi8vICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3RkOjptYWtlX29wdGlvbmFsKG91dCk7Ci8vICAgICAgICAgICAgfSk7Ci8vCi8vICAgICAgICAgICAgYXV0byBsYXRlc3RfdmFsdWVzID0gX3NpcG1fdm9sdF9zeXMuYXN5bmNfZ2V0X3ZhbHVlcygpOwovLyAgICAgICAgICAgIGZvciAoYXV0byByIDogbGF0ZXN0X3ZhbHVlcykgewovLyAgICAgICAgICAgICAgICBkb3VibGUgdGltZSA9IHIuVGltZTsKLy8gICAgICAgICAgICAgICAgZG91YmxlIHZvbHQgPSByLlZvbHQ7Ci8vICAgICAgICAgICAgICAgIGRvdWJsZSBjdXJyID0gci5DdXJyZW50OwovLwovLyAgICAgICAgICAgICAgICB2b2x0ID0gY2FsY3VsYXRlX3NpcG1fdm9sdGFnZSh2b2x0LCBjdXJyKTsKLy8KLy8gICAgICAgICAgICAgICAgLy8gVGhpcyBtZWFzdXJlIGlzIGEgTmFOL092ZXJmbG93IGZyb20gdGhlIHBpY29hbW1ldGVyCi8vICAgICAgICAgICAgICAgIGlmIChjdXJyIDwgOS45ZTM3KXsKLy8gICAgICAgICAgICAgICAgICAgIF9kb2UuTGF0ZXN0TWVhc3VyZS5Wb2x0ID0gdm9sdDsKLy8gICAgICAgICAgICAgICAgICAgIF9kb2UuTGF0ZXN0TWVhc3VyZS5UaW1lID0gdGltZTsKLy8gICAgICAgICAgICAgICAgICAgIF9kb2UuTGF0ZXN0TWVhc3VyZS5DdXJyZW50ID0gY3VycjsKLy8gICAgICAgICAgICAgICAgICAgIF92b2x0YWdlc19maWxlLT5BZGQoX2RvZS5MYXRlc3RNZWFzdXJlKTsKLy8gICAgICAgICAgICAgICAgICAgIC8vIF9pbmRpY2F0b3Jfc2VuZGVyKEluZGljYXRvck5hbWVzOjpETU1fVk9MVEFHRSwgdGltZSwgdm9sdCk7Ci8vICAgICAgICAgICAgICAgICAgICAvLyBfaW5kaWNhdG9yX3NlbmRlcihJbmRpY2F0b3JOYW1lczo6TEFURVNUX0RNTV9WT0xUQUdFLCB2b2x0KTsKLy8gICAgICAgICAgICAgICAgICAgIC8vIF9pbmRpY2F0b3Jfc2VuZGVyKEluZGljYXRvck5hbWVzOjpQSUNPX0NVUlJFTlQsIHRpbWUsIGN1cnIpOwovLyAgICAgICAgICAgICAgICAgICAgLy8gX2luZGljYXRvcl9zZW5kZXIoSW5kaWNhdG9yTmFtZXM6OkxBVEVTVF9QSUNPX0NVUlJFTlQsIGN1cnIpOwovLyAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgfQovLwovLyAgICAgICAgfSk7Ci8vCi8vICAgICAgICBzdGF0aWMgYXV0byBzYXZlX3ZvbHRhZ2VzID0gbWFrZV90b3RhbF90aW1lZF9ldmVudCgKLy8gICAgICAgICAgICBzdGQ6OmNocm9ubzo6c2Vjb25kcygzMCksCi8vICAgICAgICAgICAgWyZdKCkgewovLyAgICAgICAgICAgICAgICBzcGRsb2c6OmluZm8oIlNhdmluZyB2b2x0YWdlIChLZWl0aGxleSAyMDAwKSB2b2x0YWdlcy4iKTsKLy8gICAgICAgICAgICAgICAgYXN5bmNfc2F2ZShfdm9sdGFnZXNfZmlsZSwKLy8gICAgICAgICAgICAgICAgW10oY29uc3QgU2lQTVZvbHRhZ2VNZWFzdXJlJiBtZXMpIHsKLy8gICAgICAgICAgICAgICAgICAgIHN0ZDo6b3N0cmluZ3N0cmVhbSBvdXQ7Ci8vICAgICAgICAgICAgICAgICAgICBvdXQucHJlY2lzaW9uKDcpOwovLyAgICAgICAgICAgICAgICAgICAgb3V0IDw8ICIsIiA8PCBtZXMuVm9sdCA8PAovLyAgICAgICAgICAgICAgICAgICAgICAgICIsIiA8PCBtZXMuQ3VycmVudCA8PCAiXG4iIDw8IHN0ZDo6c2NpZW50aWZpYzs7Ci8vCi8vICAgICAgICAgICAgICAgICAgICByZXR1cm4gIHN0ZDo6dG9fc3RyaW5nKG1lcy5UaW1lKSArIG91dC5zdHIoKTsKLy8gICAgICAgICAgICB9KTsKLy8gICAgICAgIH0pOwovLwovLyAgICAgICAgc3dpdGNoIChfZG9lLkN1cnJlbnRTdGF0ZSkgewovLyAgICAgICAgICAgIGNhc2UgU2lQTUFjcXVpc2l0aW9uU3RhdGVzOjpPc2NpbGxvc2NvcGVNb2RlOgovLyAgICAgICAgICAgIGNhc2UgU2lQTUFjcXVpc2l0aW9uU3RhdGVzOjpNZWFzdXJlbWVudFJvdXRpbmVNb2RlOgovLyAgICAgICAgICAgICAgICBpZiAoX2RvZS5TaVBNVm9sdGFnZVN5c0NoYW5nZSkgewovLyAgICAgICAgICAgICAgICAgICAgX3NpcG1fdm9sdF9zeXMuZ2V0KFsmXShzZXJpYWxfcHRyJiBwb3J0KQovLyAgICAgICAgICAgICAgICAgICAgLT4gc3RkOjpvcHRpb25hbDxTaVBNVm9sdGFnZU1lYXN1cmU+IHsKLy8gICAgICAgICAgICAgICAgICAgICAgICBzZW5kX21zZyhwb3J0LCAiKythZGRyIDIyXG4iLCAiIik7Ci8vCi8vICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlIHdhaXQgdGltZSB0byBsZXQgdGhlIHVzZXIga25vdyB0aGUgdm9sdGFnZQovLyAgICAgICAgICAgICAgICAgICAgICAgIC8vIGhhcyBzdGFiaWxpemVkIGlzIDkwcyBvciAzIG1pbnMKLy8gICAgICAgICAgICAgICAgICAgICNpZmRlZiBOREVCVUcKLy8gICAgICAgICAgICAgICAgICAgICAgICBfd2FpdF90aW1lID0gOTAwMDAuMDsKLy8gICAgICAgICAgICAgICAgICAgICNlbHNlCi8vICAgICAgICAgICAgICAgICAgICAgICAgLy8gRGVidWcgbW9kZSByZWR1Y2VzIHRvIDMwc2Vjcy4gV2UgZG8gbm90IGhhdmUgdGltZSEKLy8gICAgICAgICAgICAgICAgICAgICAgICBfd2FpdF90aW1lID0gMzAwMDAuMDsKLy8gICAgICAgICAgICAgICAgICAgICNlbmRpZgovLyAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfZG9lLlNpUE1Wb2x0YWdlU3lzU3VwcGx5RU4pIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VuZF9tc2cocG9ydCwgIjpzb3VyOnZvbHQ6c3RhdCBPTlxuIiwgIiIpOwovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcGRsb2c6Ondhcm4oIlR1cm5pbmcgb24gdm9sdGFnZSBzdXBwbHkuIik7Ci8vCi8vICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VuZF9tc2cocG9ydCwgIjpzb3VyOnZvbHQ6c3RhdCBPRkZcbiIsICIiKTsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3BkbG9nOjp3YXJuKCJUdXJuaW5nIG9mZiB2b2x0YWdlIHN1cHBseS4iKTsKLy8gICAgICAgICAgICAgICAgICAgICAgICB9Ci8vCi8vICAgICAgICAgICAgICAgICAgICAgICAgYXV0byBkViA9IHN0ZDo6YWJzKF9kb2UuTGF0ZXN0TWVhc3VyZS5Wb2x0Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgIC0gX2RvZS5TaVBNVm9sdGFnZVN5c1ZvbHRhZ2UpOwovLyAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkViA+PSAxMC4wKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEhvd2V2ZXIsIHdoZW4gdGhlIHZvbHRhZ2Ugc3dpbmcgaXMgaGlnaGVyIHRoYW4KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gMTBWLCBpdCBzaG91bGQgYmUgbXVsdGlwbGllZCBpdCBieSAyLjUuCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgIF93YWl0X3RpbWUgKj0gMS4wOwovLyAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8KLy8gICAgICAgICAgICAgICAgICAgICAgICBzZW5kX21zZyhwb3J0LCAiOnNvdXI6dm9sdCAiCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgc3RkOjp0b19zdHJpbmcoX2RvZS5TaVBNVm9sdGFnZVN5c1ZvbHRhZ2UpCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgIlxuIiwgIiIpOwovLwovLyAgICAgICAgICAgICAgICAgICAgICAgIHNwZGxvZzo6aW5mbygiQ2hhbmdpbmcgb3V0cHV0IHZvbHRhZ2UgdG8gezB9IiwKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2RvZS5TaVBNVm9sdGFnZVN5c1ZvbHRhZ2UpOwovLwovLyAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlc2V0dGluZyB0aGUgdGltZXIuCi8vICAgICAgICAgICAgICAgICAgICAgICAgX3Jlc2V0X3RpbWVyID0gZ2V0X2N1cnJlbnRfdGltZV9lcG9jaCgpOyAvLyBtcwovLwovLyAgICAgICAgICAgICAgICAgICAgICAgIC8vIExldCdzIGFsc28gcmVzZXQgdGhpcyBpbmRpY2F0b3Igd2hpY2ggaGVscHMKLy8gICAgICAgICAgICAgICAgICAgICAgICAvLyBtaW5pbWl6ZSBjb25mdXNpb24gaW4gdGhlIEdVSQovLyAgICAgICAgICAgICAgICAgICAgICAgIC8vIF9pbmRpY2F0b3Jfc2VuZGVyKEluZGljYXRvck5hbWVzOjpET05FX0RBVEFfVEFLSU5HLAovLyAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICBmYWxzZSk7Ci8vCi8vICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHt9OwovLyAgICAgICAgICAgICAgICAgICAgfSk7Ci8vCi8vICAgICAgICAgICAgICAgICAgICAvLyBSZXNldAovLyAgICAgICAgICAgICAgICAgICAgX2RvZS5TaVBNVm9sdGFnZVN5c0NoYW5nZSA9IGZhbHNlOwovLyAgICAgICAgICAgICAgICB9Ci8vCi8vICAgICAgICAgICAgICAgIC8vIFRoaXMgaXMgdG8gYWxsb3cgc29tZSB0aW1lIGJldHdlZW4gdm9sdGFnZSBjaGFuZ2VzIHNvIGl0Ci8vICAgICAgICAgICAgICAgIC8vIHNldHRsZXMgYmVmb3JlIGEgbWVhc3VyZW1lbnQgaXMgZG9uZS4KLy8gICAgICAgICAgICAgICAgaWYgKChnZXRfY3VycmVudF90aW1lX2Vwb2NoKCkgLSBfcmVzZXRfdGltZXIpIDwgX3dhaXRfdGltZSkgewovLyAgICAgICAgICAgICAgICAgICAgX2RvZS5pc1ZvbHRhZ2VTdGFiaWxpemVkID0gZmFsc2U7Ci8vICAgICAgICAgICAgICAgIH0gZWxzZSB7Ci8vICAgICAgICAgICAgICAgICAgICBfZG9lLmlzVm9sdGFnZVN0YWJpbGl6ZWQgPSB0cnVlOwovLyAgICAgICAgICAgICAgICB9Ci8vCi8vICAgICAgICAgICAgICAgIC8vIF9pbmRpY2F0b3Jfc2VuZGVyKEluZGljYXRvck5hbWVzOjpDVVJSRU5UX1NUQUJJTElaRUQsCi8vICAgICAgICAgICAgICAgIC8vICAgICAgICAgX2RvZS5pc1ZvbHRhZ2VTdGFiaWxpemVkKTsKLy8KLy8gICAgICAgICAgICAgICAgZ2V0X3ZvbHRhZ2UoKTsKLy8gICAgICAgICAgICAgICAgc2F2ZV92b2x0YWdlcygpOwovLyAgICAgICAgICAgIGJyZWFrOwovLwovLyAgICAgICAgICAgIGNhc2UgU2lQTUFjcXVpc2l0aW9uU3RhdGVzOjpTdGFuZGJ5OgovLyAgICAgICAgICAgIGNhc2UgU2lQTUFjcXVpc2l0aW9uU3RhdGVzOjpBdHRlbXB0Q29ubmVjdGlvbjoKLy8gICAgICAgICAgICBjYXNlIFNpUE1BY3F1aXNpdGlvblN0YXRlczo6RGlzY29ubmVjdGVkOgovLyAgICAgICAgICAgIGNhc2UgU2lQTUFjcXVpc2l0aW9uU3RhdGVzOjpDbG9zaW5nOgovLyAgICAgICAgICAgIGRlZmF1bHQ6Ci8vICAgICAgICAgICAgYnJlYWs7Ci8vICAgICAgICB9Ci8vICAgIH0KfTsKCnRlbXBsYXRlPHR5cGVuYW1lIFBpcGVzPgphdXRvIG1ha2Vfc2lwbWFjcXVpc2l0aW9uX21hbmFnZXIoY29uc3QgUGlwZXMmIHApIHsKICAgIHJldHVybiBzdGQ6Om1ha2VfdW5pcXVlPFNpUE1BY3F1aXNpdGlvbk1hbmFnZXI8UGlwZXM+PihwKTsKfQoKfSAgLy8gbmFtZXNwYWNlIFNCQ1F1ZWVucwojZW5kaWYKAAAAAAAAAACXiQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAZC8AAAAAAABkLwAAAAAAAAAAAAAAAPC/"
				],
				[
					356,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAACXiQAAI2lmbmRlZiBTSVBNQUNRVUlTSVRJT05NQU5BR0VSX0gKI2RlZmluZSBTSVBNQUNRVUlTSVRJT05NQU5BR0VSX0gKI2luY2x1ZGUgPGZ1dHVyZT4KI2luY2x1ZGUgPG9wdGlvbmFsPgojcHJhZ21hIG9uY2UKCi8vIEMgU1REIGluY2x1ZGVzCi8vIEMgM3JkIHBhcnR5IGluY2x1ZGVzCi8vIEMrKyBzdGQgaW5jbHVkZXMKI2luY2x1ZGUgPGFycmF5PgojaW5jbHVkZSA8dmVjdG9yPgojaW5jbHVkZSA8dHVwbGU+CiNpbmNsdWRlIDxjc3RkaW50PgojaW5jbHVkZSA8ZnVuY3Rpb25hbD4KI2luY2x1ZGUgPG1lbW9yeT4KI2luY2x1ZGUgPG51bWVyaWM+CiNpbmNsdWRlIDxzdHJpbmc+CiNpbmNsdWRlIDx0aHJlYWQ+CiNpbmNsdWRlIDxjaHJvbm8+CiNpbmNsdWRlIDxyYW5kb20+CiNpbmNsdWRlIDxpb3N0cmVhbT4KI2luY2x1ZGUgPGFsZ29yaXRobT4KI2luY2x1ZGUgPGZpbGVzeXN0ZW0+CgovLyBDKysgM3JkIHBhcnR5IGluY2x1ZGVzCiNpbmNsdWRlIDxkYXRlL2RhdGUuaD4KI2luY2x1ZGUgPGFybWFkaWxsbz4KI2luY2x1ZGUgPHNlcmlhbC9zZXJpYWwuaD4KI2luY2x1ZGUgPHJlYWRlcndyaXRlcnF1ZXVlLmg+CiNpbmNsdWRlIDxzcGRsb2cvc3BkbG9nLmg+CgovLyBteSBpbmNsdWRlcwojaW5jbHVkZSAic2JjcXVlZW5zLWd1aS9tdWx0aXRocmVhZGluZ19oZWxwZXJzL1RocmVhZE1hbmFnZXIuaHBwIgoKI2luY2x1ZGUgInNiY3F1ZWVucy1ndWkvc2VyaWFsX2hlbHBlci5ocHAiCiNpbmNsdWRlICJzYmNxdWVlbnMtZ3VpL2ZpbGVfaGVscGVycy5ocHAiCiNpbmNsdWRlICJzYmNxdWVlbnMtZ3VpL2NhZW5faGVscGVyLmhwcCIKI2luY2x1ZGUgInNiY3F1ZWVucy1ndWkvaW1wbG90X2hlbHBlcnMuaHBwIgojaW5jbHVkZSAic2JjcXVlZW5zLWd1aS90aW1pbmdfZXZlbnRzLmhwcCIKI2luY2x1ZGUgInNiY3F1ZWVucy1ndWkvYXJtYWRpbGxvX2hlbHBlcnMuaHBwIgoKI2luY2x1ZGUgInNiY3F1ZWVucy1ndWkvaGFyZHdhcmVfaGVscGVycy9TaVBNQWNxdWlzaXRpb25EYXRhLmhwcCIKI2luY2x1ZGUgInNiY3F1ZWVucy1ndWkvaGFyZHdhcmVfaGVscGVycy9DbGllbnRDb250cm9sbGVyLmhwcCIKI2luY2x1ZGUgInNiY3F1ZWVucy1ndWkvaGFyZHdhcmVfaGVscGVycy9DYWxpYnJhdGlvbi5ocHAiCgojaW5jbHVkZSAic2JjcXVlZW5zLWd1aS9zaXBtX2hlbHBlcnMvU0JDQmluYXJ5Rm9ybWF0LmhwcCIKCi8vICNpbmNsdWRlICJzYmNxdWVlbnMtZ3VpL3NpcG1faGVscGVycy9CcmVha0Rvd25Sb3V0aW5lLmhwcCIKLy8gI2luY2x1ZGUgInNiY3F1ZWVucy1ndWkvc2lwbV9oZWxwZXJzL0FjcXVpc2l0aW9uUm91dGluZS5ocHAiCgojaW5jbHVkZSAic2lwbWFuYWx5c2lzL1B1bHNlRnVuY3Rpb25zLmhwcCIKI2luY2x1ZGUgInNpcG1hbmFseXNpcy9TUEVBbmFseXNpcy5ocHAiCiNpbmNsdWRlICJzaXBtYW5hbHlzaXMvR2FpblZCREVzdGltYXRpb24uaHBwIgoKbmFtZXNwYWNlIFNCQ1F1ZWVucyB7Cgp0ZW1wbGF0ZTxjbGFzcyBQaXBlcz4KY2xhc3MgU2lQTUFjcXVpc2l0aW9uTWFuYWdlciA6IHB1YmxpYyBUaHJlYWRNYW5hZ2VyPFBpcGVzPiB7CiAgICAvLyBUbyBnZXQgdGhlIHBpcGUgaW50ZXJmYWNlIHVzZWQgaW4gdGhlIHBpcGVzLgogICAgdXNpbmcgU2lQTVBpcGVfdHlwZSA9IHR5cGVuYW1lIFBpcGVzOjpTaVBNUGlwZV90eXBlOwogICAgLy8gU29mdHdhcmUgcmVsYXRlZCBpdGVtcwogICAgU2lQTUFjcXVpc2l0aW9uUGlwZUVuZDxTaVBNUGlwZV90eXBlLCBQaXBlRW5kVHlwZTo6Q29uc3VtZXI+IF9zaXBtX3BpcGVfZW5kOwogICAgLy8gQSByZWZlcmVuY2UgdG8gdGhlIERPRSB0aGF0cyBpbnNpZGUgX2NhZW5fcGlwZV9lbmQKICAgIFNpUE1BY3F1aXNpdGlvbkRhdGEmIF9kb2U7CgogICAgc3RkOjpzaGFyZWRfcHRyPHNwZGxvZzo6bG9nZ2VyPiBfbG9nZ2VyOwoKICAgIHVzaW5nIFNpUE1DQUVOID0gQ0FFTjxzdGQ6OnNoYXJlZF9wdHI8c3BkbG9nOjpsb2dnZXI+PjsKICAgIHVzaW5nIFNpUE1DQUVOX3B0ciA9IHN0ZDo6dW5pcXVlX3B0cjxTaVBNQ0FFTj47CiAgICBTaVBNQWNxdWlzaXRpb25TdGF0ZXMgX2FjcV9zdGF0ZSA9IFNpUE1BY3F1aXNpdGlvblN0YXRlczo6T3NjaWxsb3Njb3BlTW9kZTsKCiAgICB1c2luZyBTaVBNQ0FFTkZpbGUgPSBEYXRhRmlsZTxjb25zdCBDQUVORXZlbnQqPjsKICAgIHVzaW5nIFNpUE1DQUVORmlsZV9wdHIgPSBzdGQ6OnVuaXF1ZV9wdHI8U2lQTUNBRU5GaWxlPjsKICAgIFNpUE1DQUVORmlsZV9wdHIgX2NhZW5fZmlsZSA9IG51bGxwdHI7CgogICAgLy8gRmlsZXMKICAgIHN0ZDo6c3RyaW5nIF9ydW5fbmFtZTsKICAgIERhdGFGaWxlPFNpUE1Wb2x0YWdlTWVhc3VyZT4gX3ZvbHRhZ2VzX2ZpbGU7CiAgICBzdGQ6OnVuaXF1ZV9wdHI8TG9nRmlsZT4gX3NhdmVpbmZvX2ZpbGUgPSBudWxscHRyOwoKICAgIC8vIEhhcmR3YXJlCiAgICB1aW50OF90IF9udW1fY2hzID0gMDsKICAgIGRvdWJsZSBfYWNxX3JhdGUgPSAwLjA7CgogICAgdWludDMyX3QgU2F2ZWRXYXZlZm9ybXMgPSAwOwogICAgdWludDY0X3QgVHJpZ2dlcmVkV2F2ZWZvcm1zID0gMDsKCiAgICBib29sIF92YmRfY3JlYXRlZCA9IGZhbHNlOwoKICAgIC8vIHRtcCBzdHVmZgogICAgZG91YmxlIF93YWl0X3RpbWUgPSA5MDAwMDAuMDsKICAgIGRvdWJsZSBfcmVzZXRfdGltZXIgPSAwOwogICAgdWludDE2X3QqIF9kYXRhID0gbnVsbHB0cjsKICAgIHNpemVfdCBfbGVuZ3RoID0gMDsKICAgIGNvbnN0IENBRU5FdmVudCogX29zY19ldmVudCA9IG51bGxwdHI7CiAgICAvLyAxMDI0IGJlY2F1c2UgdGhlIGNhZW4gY2FuIG9ubHkgaG9sZCAxMDI0IG5vIG1hdHRlciB3aGF0IG1vZGVsIChzbyBmYXIpCiAgICBzdGQ6OmFycmF5PGNvbnN0IENBRU5FdmVudCosIDEwMjQ+IF9wcm9jZXNzaW5nX2V2dHMgPSB7bnVsbHB0cn07CgoKCiAgICAvLyBBbmFseXNpcwogICAgLy8gc3RkOjp1bmlxdWVfcHRyPEJyZWFrZG93blJvdXRpbmU+IF92YmRfcm91dGluZSA9IG51bGxwdHI7CiAgICAvLyBHYWluVkJERml0UGFyYW1ldGVycyBfbGF0ZXN0X2JyZWFrZG93bl92b2x0YWdlOwogICAgLy8gc3RkOjp1bmlxdWVfcHRyPEFjcXVpc2l0aW9uUm91dGluZT4gX2FjcV9yb3V0aW5lID0gbnVsbHB0cjsKCiAgICAvLyBBcyBsb25nIGFzIHdlIG1ha2UgdGhlIEZ1bmMgdGVtcGxhdGUgYXJndW1lbnQgYSBzdGQ6OmZ1Y3Rpb24KICAgIC8vIHdlIGNhbiB0aGVuIHVzZSBwb2ludGVyIG1hZ2ljIHRvIGluaXRpYWxpemUgdGhlbQogICAgdXNpbmcgU2lQTUFjcXVpc2l0aW9uZVN0YXRlCiAgICAgICAgPSBCbG9ja2luZ1RvdGFsVGltZUV2ZW50PAogICAgICAgICAgICBzdGQ6OmZ1bmN0aW9uPGJvb2wodm9pZCk+LAogICAgICAgICAgICBzdGQ6OmNocm9ubzo6bWlsbGlzZWNvbmRzCiAgICAgICAgPjsKCiAgICAvLyBXZSBuZWVkIHRvIHR1cm4gdGhlIGNsYXNzIEJsb2NraW5nVG90YWxUaW1lRXZlbnQgaW50byBhIHBvaW50ZXIKICAgIC8vIGJlY2F1c2UgaXQgZG9lcyBub3QgaGF2ZSBhbiBlbXB0eSBjb25zdHJ1Y3RvciBhbmQgZm9yIGEgZ29vZCByZWFzb24KICAgIC8vIGlmIGl0cyBlbXB0eSwgYnVncyBhbmQgY3Jhc2hlcyB3b3VsZCBoYXBwZW4gYWxsIHRoZSB0aW1lLgogICAgdXNpbmcgU2lQTUFjcXVpc2l0aW9uU3RhdGVfcHRyID0gc3RkOjpzaGFyZWRfcHRyPFNpUE1BY3F1aXNpdGlvbmVTdGF0ZT47CgogICAgU2lQTUFjcXVpc2l0aW9uU3RhdGVfcHRyIG1haW5fbG9vcF9zdGF0ZTsKCiAgICBTaVBNQWNxdWlzaXRpb25TdGF0ZV9wdHIgc3RhbmRieV9zdGF0ZTsKICAgIFNpUE1BY3F1aXNpdGlvblN0YXRlX3B0ciBhY3F1aXNpdGlvbl9zdGF0ZTsKICAgIFNpUE1BY3F1aXNpdGlvblN0YXRlX3B0ciBjbG9zaW5nX3N0YXRlOwoKIHB1YmxpYzoKICAgIGV4cGxpY2l0IFNpUE1BY3F1aXNpdGlvbk1hbmFnZXIoY29uc3QgUGlwZXMmIHBpcGVzKSA6CiAgICAgICAgVGhyZWFkTWFuYWdlcjxQaXBlcz4ocGlwZXMpLAogICAgICAgIF9zaXBtX3BpcGVfZW5kKHBpcGVzLlNpUE1QaXBlKSwgX2RvZXtfc2lwbV9waXBlX2VuZC5EYXRhfSB7CiAgICAgICAgLy8gVGhpcyBpcyBwb3NzaWJsZSBiZWNhdXNlIHN0ZDo6ZnVuY3Rpb24gY2FuIGJlIGFzc2lnbmVkCiAgICAgICAgLy8gdG8gd2hhdGV2ZXIgc3RkOjpiaW5kIHJldHVybnMKICAgICAgICBzdGFuZGJ5X3N0YXRlID0gc3RkOjptYWtlX3NoYXJlZDxTaVBNQWNxdWlzaXRpb25lU3RhdGU+KAogICAgICAgICAgICBzdGQ6OmNocm9ubzo6bWlsbGlzZWNvbmRzKDEwMDApLAogICAgICAgICAgICBzdGQ6OmJpbmQoJlNpUE1BY3F1aXNpdGlvbk1hbmFnZXI6OnN0YW5kYnksIHRoaXMpKTsKCiAgICAgICAgYWNxdWlzaXRpb25fc3RhdGUgPSBzdGQ6Om1ha2Vfc2hhcmVkPFNpUE1BY3F1aXNpdGlvbmVTdGF0ZT4oCiAgICAgICAgICAgIHN0ZDo6Y2hyb25vOjptaWxsaXNlY29uZHMoMSksCiAgICAgICAgICAgIHN0ZDo6YmluZCgmU2lQTUFjcXVpc2l0aW9uTWFuYWdlcjo6YWNxdWlzaXRpb24sIHRoaXMpKTsKCiAgICAgICAgY2xvc2luZ19zdGF0ZSA9IHN0ZDo6bWFrZV9zaGFyZWQ8U2lQTUFjcXVpc2l0aW9uZVN0YXRlPigKICAgICAgICAgICAgc3RkOjpjaHJvbm86Om1pbGxpc2Vjb25kcygxKSwKICAgICAgICAgICAgc3RkOjpiaW5kKCZTaVBNQWNxdWlzaXRpb25NYW5hZ2VyOjpjbG9zaW5nX21vZGUsIHRoaXMpKTsKCiAgICAgICAgX2xvZ2dlciA9IHNwZGxvZzo6Z2V0KCJsb2ciKTsKICAgIH0KCiAgICB+U2lQTUFjcXVpc2l0aW9uTWFuYWdlcigpIHsKICAgICAgICBfbG9nZ2VyLT5pbmZvKCJDbG9zaW5nIFNpUE1BY3F1aXNpdGlvbk1hbmFnZXIiKTsKICAgIH0KCiAgICB2b2lkIG9wZXJhdG9yKCkoKSB7CiAgICAgICAgX2xvZ2dlci0+aW5mbygiSW5pdGlhbGl6aW5nIENBRU4gdGhyZWFkIik7CgogICAgICAgIF9kb2UuSVZEYXRhID0gUGxvdERhdGFCdWZmZXI8Mj4oMTAwKTsKCiAgICAgICAgbWFpbl9sb29wX3N0YXRlID0gc3RhbmRieV9zdGF0ZTsKCiAgICAgICAgLy8gX3NpcG1fdm9sdF9zeXMuYnVpbGQoCiAgICAgICAgLy8gICAgIFs9XSAoc2VyaWFsX3B0ciYgcG9ydCkgLT4gYm9vbCB7CiAgICAgICAgLy8gICAgICAgICBzdGF0aWMgYXV0byBzZW5kX21zZ19zbG93ID0gbWFrZV9ibG9ja2luZ190b3RhbF90aW1lZF9ldmVudCgKICAgICAgICAvLyAgICAgICAgICAgICBzdGQ6OmNocm9ubzo6bWlsbGlzZWNvbmRzKDIwMCksCiAgICAgICAgLy8gICAgICAgICAgICAgWyZdKGNvbnN0IHN0ZDo6c3RyaW5nJiBtc2cpewogICAgICAgIC8vICAgICAgICAgICAgICAgICBzcGRsb2c6OmluZm8oIlNlbmRpbmcgbXNnIHRvIEtlaXRoZWx5OiB7MH0iLCBtc2cpOwogICAgICAgIC8vICAgICAgICAgICAgICAgICBzZW5kX21zZyhwb3J0LCBtc2cgKyAiXG4iLCAiIik7CiAgICAgICAgLy8gICAgICAgICAgICAgfQogICAgICAgIC8vICAgICAgICAgKTsKCiAgICAgICAgLy8gICAgICAgICBTZXJpYWxQYXJhbXMgc3NwOwogICAgICAgIC8vICAgICAgICAgc3NwLlRpbWVvdXQgPSBzZXJpYWw6OlRpbWVvdXQ6OnNpbXBsZVRpbWVvdXQoNTAwMCk7CiAgICAgICAgLy8gICAgICAgICBzc3AuQmF1ZHJhdGUgPSAxMTUyMDA7CiAgICAgICAgLy8gICAgICAgICBjb25uZWN0X3Bhcihwb3J0LCBfZG9lLlNpUE1Wb2x0YWdlU3lzUG9ydCwgc3NwKTsKCiAgICAgICAgLy8gICAgICAgICBpZiAoIXBvcnQpIHsKICAgICAgICAvLyAgICAgICAgICAgICBzcGRsb2c6OmVycm9yKCJQb3J0IHdpdGggcG9ydCBuYW1lIHswfSB3YXMgbm90IG9wZW4iLAogICAgICAgIC8vICAgICAgICAgICAgICAgICBfZG9lLlNpUE1Wb2x0YWdlU3lzUG9ydCk7CiAgICAgICAgLy8gICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIC8vICAgICAgICAgfQoKICAgICAgICAvLyAgICAgICAgIGlmICghcG9ydC0+aXNPcGVuKCkpIHsKICAgICAgICAvLyAgICAgICAgICAgICBzcGRsb2c6OmVycm9yKCJQb3J0IHdpdGggcG9ydCBuYW1lIHswfSB3YXMgbm90IG9wZW4iLAogICAgICAgIC8vICAgICAgICAgICAgICAgICBfZG9lLlNpUE1Wb2x0YWdlU3lzUG9ydCk7CiAgICAgICAgLy8gICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIC8vICAgICAgICAgfQoKICAgICAgICAvLyAgICAgICAgIHNwZGxvZzo6aW5mbygiQ29ubmVjdGVkIHRvIEtlaXRobGV5IDIwMDAhICIKICAgICAgICAvLyAgICAgICAgICAgICAiSW5pdGlhbGl6aW5nLi4uIik7CgogICAgICAgIC8vICAgICAgICAgLy8gU2V0dXAgR1BJQiBpbnRlcmZhY2UKICAgICAgICAvLyAgICAgICAgIC8vIHNlbmRfbXNnX3Nsb3coIisrcnN0Iik7CiAgICAgICAgLy8gICAgICAgICAvLyBUaGlzIHNob3VsZCBiZSBub3QgcnVuIGlmIHdlIGFyZSBpbiBkZWJ1ZyBtb2RlLgogICAgICAgIC8vICAgICAjaWZkZWYgTkRFQlVHCiAgICAgICAgLy8gICAgICAgICBzZW5kX21zZ19zbG93KCIrK2VvcyAwIik7CiAgICAgICAgLy8gICAgICAgICBzZW5kX21zZ19zbG93KCIrK2FkZHIgMTAiKTsKICAgICAgICAvLyAgICAgICAgIHNlbmRfbXNnX3Nsb3coIisrYXV0byAwIik7CgogICAgICAgIC8vICAgICAgICAgLy8vLyBpZiB0aXJlZCBvZiB3YWl0aW5nIGZvciBrZWl0aGxleSBjb21tZW50IHN0YXJ0aW5nIGhlcmU6CiAgICAgICAgLy8gICAgICAgICAvLyBOb3cgS2VpdGhsZXkKICAgICAgICAvLyAgICAgICAgIC8vIFRoZXNlIHBhcmFtZXRlcnMgYXJlIGNvbnN0YW50IGZvciBub3cKICAgICAgICAvLyAgICAgICAgIC8vIGJ1dCBsYXRlciB0aGV5IGNhbiBiZWNvbWUgYSBwYXJhbWV0ZXIgb3IgdGhlIHZvbHRhZ2UKICAgICAgICAvLyAgICAgICAgIC8vIHN5c3RlbSBjYW4gYmUgb3B0aW9uYWwgYXQgYWxsCiAgICAgICAgLy8gICAgICAgICBzZW5kX21zZ19zbG93KCIqcnN0Iik7CiAgICAgICAgLy8gICAgICAgICBzZW5kX21zZ19zbG93KCI6aW5pdDpjb250IG9uIik7CiAgICAgICAgLy8gICAgICAgICBzZW5kX21zZ19zbG93KCI6dm9sdDpkYzpucGxjIDEwIik7CiAgICAgICAgLy8gICAgICAgICBzZW5kX21zZ19zbG93KCI6dm9sdDpkYzpyYW5nOmF1dG8gMCIpOwogICAgICAgIC8vICAgICAgICAgc2VuZF9tc2dfc2xvdygiOnZvbHQ6ZGM6cmFuZyAxMDAiKTsKICAgICAgICAvLyAgICAgICAgIHNlbmRfbXNnX3Nsb3coIjp2b2x0OmRjOmF2ZXI6c3RhdCAwIik7CiAgICAgICAgLy8gICAgICAgICAvLyBzZW5kX21zZ19zbG93KCI6dm9sdDpkYzphdmVyOnRjb24gbW92Iik7CiAgICAgICAgLy8gICAgICAgICAvLyBzZW5kX21zZ19zbG93KCI6dm9sdDpkYzphdmVyOmNvdW4gMTAwIik7CgogICAgICAgIC8vICAgICAgICAgc2VuZF9tc2dfc2xvdygiOmZvcm0gYXNjaWkiKTsKCiAgICAgICAgLy8gICAgICAgICAvLyBLZWl0aGxleSA2NDg3CiAgICAgICAgLy8gICAgICAgICBzZW5kX21zZ19zbG93KCIrK2FkZHIgMjIiKTsKICAgICAgICAvLyAgICAgICAgIHNlbmRfbXNnX3Nsb3coIipyc3QiKTsKICAgICAgICAvLyAgICAgICAgIHNlbmRfbXNnX3Nsb3coIjpmb3JtOmVsZW0gcmVhZCIpOwoKICAgICAgICAvLyAgICAgICAgIC8vIFZvbHQgc3VwcGx5IHNpZGUKICAgICAgICAvLyAgICAgICAgIHNlbmRfbXNnX3Nsb3coIjpzb3VyOnZvbHQ6cmFuZyA1NSIpOwogICAgICAgIC8vICAgICAgICAgc2VuZF9tc2dfc2xvdygiOnNvdXI6dm9sdDppbGltIDI1MGUtNiIpOwogICAgICAgIC8vICAgICAgICAgc2VuZF9tc2dfc2xvdygiOnNvdXI6dm9sdCAiCiAgICAgICAgLy8gICAgICAgICAgICAgKyBzdGQ6OnRvX3N0cmluZyhfZG9lLlNpUE1Wb2x0YWdlU3lzVm9sdGFnZSkpOwogICAgICAgIC8vICAgICAgICAgc2VuZF9tc2dfc2xvdygiOnNvdXI6dm9sdDpzdGF0IE9GRiIpOwoKICAgICAgICAvLyAgICAgICAgIC8vIEFtbWV0ZXIgc2lkZQogICAgICAgIC8vICAgICAgICAgc2VuZF9tc2dfc2xvdygiOnNlbnM6Y3VycjpkYzpucGxjIDYiKTsKICAgICAgICAvLyAgICAgICAgIHNlbmRfbXNnX3Nsb3coIjpzZW5zOmF2ZXI6c3RhdCBvZmYiKTsKCiAgICAgICAgLy8gICAgICAgICAvLyBaZXJvIGNoZWNrCiAgICAgICAgLy8gICAgICAgICBzZW5kX21zZ19zbG93KCI6c3lzdDp6Y2ggT04iKTsKICAgICAgICAvLyAgICAgICAgIHNlbmRfbXNnX3Nsb3coIjpjdXJyOnJhbmcgMkUtNyIpOwogICAgICAgIC8vICAgICAgICAgc2VuZF9tc2dfc2xvdy5DaGFuZ2VXYWl0VGltZShzdGQ6OmNocm9ubzo6bWlsbGlzZWNvbmRzKDEwMDApKTsKICAgICAgICAvLyAgICAgICAgIHNlbmRfbXNnX3Nsb3coIjppbml0Iik7CiAgICAgICAgLy8gICAgICAgICBzZW5kX21zZ19zbG93KCI6c3lzdDp6Y29yOnN0YXQgT0ZGIik7CiAgICAgICAgLy8gICAgICAgICBzZW5kX21zZ19zbG93KCI6c3lzdDp6Y29yOmFjcSIpOwogICAgICAgIC8vICAgICAgICAgc2VuZF9tc2dfc2xvdygiOnN5c3Q6emNoIE9GRiIpOwogICAgICAgIC8vICAgICAgICAgc2VuZF9tc2dfc2xvdygiOnN5c3Q6emNvciBPTiIpOwogICAgICAgIC8vICAgICAgICAgc2VuZF9tc2dfc2xvdygiOnN5c3Q6YXplciBPTiIpOwoKICAgICAgICAvLyAgICAgICAgIHNlbmRfbXNnX3Nsb3cuQ2hhbmdlV2FpdFRpbWUoc3RkOjpjaHJvbm86Om1pbGxpc2Vjb25kcygyMDApKTsKICAgICAgICAvLyAgICAgICAgIHNlbmRfbXNnX3Nsb3coIjphcm06Y291biAxIik7CiAgICAgICAgLy8gICAgICAgICBzZW5kX21zZ19zbG93KCI6YXJtOnNvdXIgaW1tIik7CiAgICAgICAgLy8gICAgICAgICBzZW5kX21zZ19zbG93KCI6YXJtOnRpbWVyIDAiKTsKICAgICAgICAvLyAgICAgICAgIHNlbmRfbXNnX3Nsb3coIjp0cmlnOmNvdW4gMSIpOwogICAgICAgIC8vICAgICAgICAgc2VuZF9tc2dfc2xvdygiOnRyaWc6c291ciBpbW0iKTsKCiAgICAgICAgLy8gICAgICAgICBzZW5kX21zZ19zbG93LkNoYW5nZVdhaXRUaW1lKHN0ZDo6Y2hyb25vOjptaWxsaXNlY29uZHMoMTEwMCkpOwogICAgICAgIC8vICAgICAgICAgc2VuZF9tc2dfc2xvdygiOmluaXQiKTsKICAgICAgICAvLyAgICAgI2VuZGlmCgogICAgICAgIC8vICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgLy8gICAgIH0sCiAgICAgICAgLy8gICAgIFs9XShzZXJpYWxfcHRyJiBwb3J0KSAtPiBib29sIHsKICAgICAgICAvLyAgICAgICAgIGlmIChwb3J0KSB7CiAgICAgICAgLy8gICAgICAgICAgICAgc2VuZF9tc2cocG9ydCwgIisrYWRkciAyMlxuIiwgIiIpOwogICAgICAgIC8vICAgICAgICAgICAgIHNlbmRfbXNnKHBvcnQsICI6c291cjp2b2x0OnN0YXQgT0ZGXG4iLCAiIik7CiAgICAgICAgLy8gICAgICAgICAgICAgc2VuZF9tc2cocG9ydCwgIjpzb3VyOnZvbHQgMC4wXG4iLCAiIik7CgogICAgICAgIC8vICAgICAgICAgICAgIGlmIChwb3J0LT5pc09wZW4oKSkgewogICAgICAgIC8vICAgICAgICAgICAgICAgICBkaXNjb25uZWN0KHBvcnQpOwogICAgICAgIC8vICAgICAgICAgICAgIH0KICAgICAgICAvLyAgICAgICAgIH0KCiAgICAgICAgLy8gICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgLy8gfSk7CgogICAgICAgIC8vIEFjdHVhbCBsb29wIQogICAgICAgIHdoaWxlIChtYWluX2xvb3Bfc3RhdGUtPm9wZXJhdG9yKCkoKSkgewogICAgICAgICAgICAvLyBzaXBtX3ZvbHRhZ2Vfc3lzdGVtX3VwZGF0ZSgpOwogICAgICAgIH0KICAgIH0KCiBwcml2YXRlOgogICAgdm9pZCBjYWxjdWxhdGVfdHJpZ2dlcl9mcmVxdWVuY3koKSB7CiAgICAgICAgc3RhdGljIGRvdWJsZSBsYXN0X3RpbWUgPSBnZXRfY3VycmVudF90aW1lX2Vwb2NoKCkgLyAxMDAwLjA7CiAgICAgICAgc3RhdGljIHVpbnQ2NF90IGxhc3Rfd2F2ZWZvcm1zID0gMDsKICAgICAgICBkb3VibGUgY3VycmVudF90aW1lID0gZ2V0X2N1cnJlbnRfdGltZV9lcG9jaCgpIC8gMTAwMC4wOwogICAgICAgIGRvdWJsZSBkdCA9IGN1cnJlbnRfdGltZSAtIGxhc3RfdGltZTsKICAgICAgICB1aW50NjRfdCBkV2F2ZWZvcm1zID0gVHJpZ2dlcmVkV2F2ZWZvcm1zIC0gbGFzdF93YXZlZm9ybXM7CgogICAgICAgIGxhc3Rfd2F2ZWZvcm1zID0gVHJpZ2dlcmVkV2F2ZWZvcm1zOwogICAgICAgIGxhc3RfdGltZSA9IGN1cnJlbnRfdGltZTsKICAgICAgICBfZG9lLlRyaWdnZXJlZFJhdGUgPSBzdGF0aWNfY2FzdDxkb3VibGU+KGRXYXZlZm9ybXMpIC8gZHQ7CiAgICB9CgogICAgLy8gQ2hhbmdlcyB0aGUgbWFuYWdlciBzdGF0ZS4gQ3VycmVudGx5IG9ubHkgMzoKICAgIC8vIEFjcXVpc2l0aW9uLCBDbG9zaW5nLCBhbmQgU3RhbmRieQogICAgdm9pZCBzd2l0Y2hfc3RhdGUoY29uc3QgU2lQTUFjcXVpc2l0aW9uTWFuYWdlclN0YXRlcyYgbmV3U3RhdGUpIHsKICAgICAgICBfZG9lLkN1cnJlbnRTdGF0ZSA9IG5ld1N0YXRlOwogICAgICAgIHN3aXRjaCAoX2RvZS5DdXJyZW50U3RhdGUpIHsKICAgICAgICAgICAgY2FzZSBTaVBNQWNxdWlzaXRpb25NYW5hZ2VyU3RhdGVzOjpBY3F1aXNpdGlvbjoKICAgICAgICAgICAgICAgIF9hY3Ffc3RhdGUgPSBTaVBNQWNxdWlzaXRpb25TdGF0ZXM6Ok9zY2lsbG9zY29wZU1vZGU7CiAgICAgICAgICAgICAgICBtYWluX2xvb3Bfc3RhdGUgPSBhY3F1aXNpdGlvbl9zdGF0ZTsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlIFNpUE1BY3F1aXNpdGlvbk1hbmFnZXJTdGF0ZXM6OkNsb3Npbmc6CiAgICAgICAgICAgICAgICBtYWluX2xvb3Bfc3RhdGUgPSBjbG9zaW5nX3N0YXRlOwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgU2lQTUFjcXVpc2l0aW9uTWFuYWdlclN0YXRlczo6U3RhbmRieToKICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgICAgIC8vIGRvIG5vdGhpbmcgb3RoZXIgdGhhbiBzZXQgdG8gc3RhbmRieSBzdGF0ZQogICAgICAgICAgICAgICAgbWFpbl9sb29wX3N0YXRlID0gc3RhbmRieV9zdGF0ZTsKICAgICAgICB9CiAgICB9CgogICAgLy8gRW52ZWxvcGVzIHRoZSBsb2dpYyB0aGF0IGxpc3RlbnMgdG8gYW4gZXh0ZXJuYWwgcXVldWUKICAgIC8vIHRoYXQgY2FuIHRoZSBkYXRhIGluc2lkZSB0aGlzIHRocmVhZC4KICAgIHZvaWQgY2hhbmdlX3N0YXRlKCkgewogICAgICAgIC8vIEdVSSAtPiBDQUVOCiAgICAgICAgU2lQTUFjcXVpc2l0aW9uRGF0YSB0YXNrOwoKICAgICAgICAvLyBJZiB0aGUgcXVldWUgZG9lcyBub3QgcmV0dXJuIGEgdmFsaWQgY2FsbGJhY2ssIHRoaXMgY2FsbCB3aWxsCiAgICAgICAgLy8gZG8gbm90aGluZyBhbmQgc2hvdWxkIHJldHVybiB0cnVlIGFsd2F5cy4KICAgICAgICAvLyBUaGUgdGFza3MgYXJlIGVzc2VudGlhbGx5IGFueSBHVUkgZHJpdmVuIG1vZGlmaWNhdGlvbiwgZXhhbXBsZQogICAgICAgIC8vIHNldHRpbmcgdGhlIFBJRCBzZXRwb2ludHMgb3IgY29uc3RhbnRzCiAgICAgICAgLy8gb3IgYW4gdXNlciBkcml2ZW4gcmVzZXQKICAgICAgICBpZiAoX3NpcG1fcGlwZV9lbmQucmV0cmlldmUodGFzaykpIHsKICAgICAgICAgICAgdGFzay5DYWxsYmFjayhfZG9lKTsKICAgICAgICAgICAgc3dpdGNoX3N0YXRlKF9kb2UuQ3VycmVudFN0YXRlKTsKICAgICAgICB9CgogICAgICAgIC8vIFNlbmQgdGhlIGN1cnJlbnQgc3RhdGUgdG8gdGhlIEdVSSB0byB1cGRhdGUgaGltCiAgICAgICAgX3NpcG1fcGlwZV9lbmQuc2VuZCgpOwogICAgfQoKICAgIC8vIERvZXMgbm90aGluZyBvdGhlciB0aGFuIHdhaXQgMTAwMG1zIHRvIGF2b2lkIGNsb2dnaW5nIFBDIHJlc291cmNlcy4KICAgIGJvb2wgc3RhbmRieSgpIHsKICAgICAgICBzdGF0aWMgZG91YmxlIGkgPSAwOwoKICAgICAgICBfZG9lLklWRGF0YShpLCBjb3MoaS8zMC4wKSwgc2luKGkvMzAuMCkpOwogICAgICAgIGkgKz0gMS4wOwoKICAgICAgICBzdGF0aWMgQmluYXJ5Rm9ybWF0OjpEeW5hbWljV3JpdGVyPGRvdWJsZSwgZG91YmxlPiBmb28oIi4vb3V0LmJpbiIsCiAgICAgICAgICAgIHsieCIsICJ5In0sCiAgICAgICAgICAgIHsxLCAxfSwKICAgICAgICAgICAgezEsIDF9KTsKCiAgICAgICAgZG91YmxlIHhbMV07CiAgICAgICAgeFswXSA9IGNvcyhpLzMwLjApOwogICAgICAgIGRvdWJsZSB5WzFdOwogICAgICAgIHlbMF0gPSBzaW4oaSAvIDMwLjApOwoKICAgICAgICBmb28uc2F2ZSh4LCB5KTsKCiAgICAgICAgY2hhbmdlX3N0YXRlKCk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgYm9vbCBhY3F1aXNpdGlvbigpIHsKICAgICAgICBhdXRvIGNhZW5fcmVzID0gYXR0ZW1wdF9jb25uZWN0aW9uKCk7CiAgICAgICAgaWYgKGNhZW5fcmVzLT5IYXNFcnJvcigpKSB7CiAgICAgICAgICAgIGNhZW5fcmVzLnJlc2V0KCk7CiAgICAgICAgICAgIGNoYW5nZV9zdGF0ZSgpOwogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CgogICAgICAgIC8vIFdlIGFyZSBzdHVjayBpbnNpZGUgdGhpcyB3aGlsZSBsb29wIHdoaWNoIHdpbGwgYnJlYWsgdW5kZXIKICAgICAgICAvLyB0aHJlZSBjb25kaXRpb25zOgogICAgICAgIC8vIDEuIFRoZXJlIGlzIGEgZmF0YWwgZXJyb3IgaW4gdGhlIENBRU4gZGlnaXRpemVyLgogICAgICAgIC8vIDIuIEdVSSBjaGFuZ2VzIHRoZSBzdGF0ZSBvZiB0aGUgbWFuYWdlciB0byBzb21ldGhpbmcgZGlmZmVyZW50CiAgICAgICAgLy8gICAgIG90aGVyIHRoYW4gYWNxdWlzaXRpb24gbW9kZS4KICAgICAgICAvLyAzLi0gQW55IG90aGVyIGNvbmRpdGlvbiB1bmRlciBhY3F1aXNpdGlvbiBtb2RlLiBTdWNoIGFzIG51bWJlciBvZgogICAgICAgIC8vICAgICBzYW1wbGVzIGJ1dCBpdCBjYW4gYWx3YXlzIHJhbiB0byBnbyBmb3JldmVyCiAgICAgICAgd2hpbGUgKG5vdCBjYWVuX3Jlcy0+SGFzRXJyb3IoKSkgewogICAgICAgICAgICBzd2l0Y2goX2FjcV9zdGF0ZSkgewogICAgICAgICAgICAgICAgY2FzZSBTaVBNQWNxdWlzaXRpb25TdGF0ZXM6Ok9zY2lsbG9zY29wZU1vZGU6CiAgICAgICAgICAgICAgICAgICAgY2Flbl9yZXMgPSBvc2NpbGxvc2NvcGUoc3RkOjptb3ZlKGNhZW5fcmVzKSk7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgICAgY2FzZSBTaVBNQWNxdWlzaXRpb25TdGF0ZXM6OkFjcXVpc2l0aW9uTW9kZToKICAgICAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgICAvLyBSZXNldHMgdGhlIHNldHVwIGluZm9ybWF0aW9uIHdpdGhvdXQgZnJlZWluZyB0aGUgQ0FFTiByZXNvdXJjZQogICAgICAgICAgICAgICAgY2FzZSBTaVBNQWNxdWlzaXRpb25TdGF0ZXM6OlJlc2V0OgogICAgICAgICAgICAgICAgICAgIGNhZW5fcmVzID0gc2V0dXBfYW5kX3ByZXBhcmUoc3RkOjptb3ZlKGNhZW5fcmVzKSk7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIFRoaXMgbWFuYWdlcyB0aGUgY29tbXVuaWNhdGlvbiB3aXRoIHRoZSBHVUkKICAgICAgICAgICAgY2hhbmdlX3N0YXRlKCk7CiAgICAgICAgICAgIC8vIElmIHRoZSBHVUkgc2F5cywgaGV5IHN0b3AgYWNxdWlyaW5nLCB3ZSBkbyEKICAgICAgICAgICAgaWYgKF9kb2UuQ3VycmVudFN0YXRlICE9IFNpUE1BY3F1aXNpdGlvbk1hbmFnZXJTdGF0ZXM6OkFjcXVpc2l0aW9uKSB7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgLy8gT25jZSB3ZSBnbyBvdXQgb2Ygc2NvcGUsIHdlIHJlbGVhc2UvZGlzY29ubmVjdCB0aGUgQ0FFTgogICAgICAgIGNhZW5fcmVzLnJlc2V0KCk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLy8gQXR0ZW1wdHMgYSBjb25uZWN0aW9uIHRvIHRoZSBDQUVOIGRpZ2l0aXplciwgc2V0dXBzIHRoZSBjaGFubmVscywKICAgIC8vIHN0YXJ0cyBhY3F1aXNpdGlvbiwgYW5kIG1vdmVzIHRvIHRoZSBvc2NpbGxvc2NvcGUgbW9kZQogICAgU2lQTUNBRU5fcHRyIGF0dGVtcHRfY29ubmVjdGlvbigpIHsKICAgICAgICBhdXRvIGNhZW5fcG9ydCA9IHN0ZDo6bWFrZV91bmlxdWU8U2lQTUNBRU4+KF9sb2dnZXIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfZG9lLk1vZGVsLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2RvZS5Db25uZWN0aW9uVHlwZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9kb2UuUG9ydE51bSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfZG9lLlZNRUFkZHJlc3MpOwoKICAgICAgICAvLyBJZiBwb3J0IHJlc291cmNlIHdhcyBub3QgY3JlYXRlZCwgaXQgZXF1YWxzIGEgZmFpbHVyZSEKICAgICAgICBpZiAobm90IGNhZW5fcG9ydC0+SXNDb25uZWN0ZWQoKSkgewogICAgICAgICAgICBzd2l0Y2hfc3RhdGUoU2lQTUFjcXVpc2l0aW9uTWFuYWdlclN0YXRlczo6U3RhbmRieSk7CiAgICAgICAgICAgIHJldHVybiBjYWVuX3BvcnQ7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gc2V0dXBfYW5kX3ByZXBhcmUoc3RkOjptb3ZlKGNhZW5fcG9ydCkpOwogICAgfQoKICAgIFNpUE1DQUVOX3B0ciBzZXR1cF9hbmRfcHJlcGFyZShTaVBNQ0FFTl9wdHIgY2Flbl9wb3J0KSB7CiAgICAgICAgY2Flbl9wb3J0LT5TZXR1cChfZG9lLkdsb2JhbENvbmZpZywgX2RvZS5Hcm91cENvbmZpZ3MpOwogICAgICAgIGlmKGNhZW5fcG9ydC0+SGFzRXJyb3IoKSkgewogICAgICAgICAgICBzd2l0Y2hfc3RhdGUoU2lQTUFjcXVpc2l0aW9uTWFuYWdlclN0YXRlczo6U3RhbmRieSk7CiAgICAgICAgICAgIHJldHVybiBjYWVuX3BvcnQ7CiAgICAgICAgfQoKICAgICAgICAvLyBUaGUgc2V0dXAgZnVuY3Rpb25zIGRvZXMgY2hhbmdlIGFuZCBtYWtlIGNhbGN1bGF0aW9ucwogICAgICAgIC8vIGFib3V0IHNvbWUgcGFyYW1ldGVycyB3ZSBwYXNzLCB3ZSByZWFkIHRoZW0gYmFjayB0byBnZXQgYQogICAgICAgIC8vIG1vcmUgYWNjdXJhdGUgdmFsdWUgb2YgdGhlbS4KICAgICAgICBfZG9lLkdsb2JhbENvbmZpZyA9IGNhZW5fcG9ydC0+R2V0R2xvYmFsQ29uZmlndXJhdGlvbigpOwogICAgICAgIF9kb2UuR3JvdXBDb25maWdzID0gY2Flbl9wb3J0LT5HZXRHcm91cENvbmZpZ3VyYXRpb25zKCk7CgogICAgICAgIC8vIEluaXRpYWxpemUgdGhlIHBsb3R0aW5nIGRhdGEKICAgICAgICBzdGQ6OmdlbmVyYXRlKF9kb2UuR3JvdXBEYXRhLmJlZ2luKCksIF9kb2UuR3JvdXBEYXRhLmVuZCgpLCBbJl0oKXsKICAgICAgICAgICAgcmV0dXJuIFBsb3REYXRhQnVmZmVyPDg+KF9kb2UuR2xvYmFsQ29uZmlnLlJlY29yZExlbmd0aCk7CiAgICAgICAgfSk7CgogICAgICAgIC8vIEZpbGwgdGhlbSB1cCBhcyBieSBkZWZhdWx0IHRoZXkgYWN0IGxpa2UgY2lyY3VsYXIgYnVmZmVycwogICAgICAgIGZvcihhdXRvJiBkYXRhIDogX2RvZS5Hcm91cERhdGEpIHsKICAgICAgICAgICAgZGF0YS5maWxsKCk7CiAgICAgICAgfQoKICAgICAgICBfbnVtX2NocyA9IGNhZW5fcG9ydC0+TW9kZWxDb25zdGFudHMuTnVtQ2hhbm5lbHM7CiAgICAgICAgX2FjcV9yYXRlID0gY2Flbl9wb3J0LT5Nb2RlbENvbnN0YW50cy5BY3F1aXNpdGlvblJhdGU7CiAgICAgICAgX2RvZS5DQUVOQm9hcmRJbmZvID0gY2Flbl9wb3J0LT5HZXRCb2FyZEluZm8oKTsKCiAgICAgICAgLy8gRW5hYmxlIGFjcXVpc2l0aW9uIEhBUyB0byBiZSBjYWxsZWQgQUZURVIgc2V0dXAKICAgICAgICBjYWVuX3BvcnQtPkVuYWJsZUFjcXVpc2l0aW9uKCk7CiAgICAgICAgaWYoY2Flbl9wb3J0LT5IYXNFcnJvcigpKSB7CiAgICAgICAgICAgIHN3aXRjaF9zdGF0ZShTaVBNQWNxdWlzaXRpb25NYW5hZ2VyU3RhdGVzOjpTdGFuZGJ5KTsKICAgICAgICAgICAgcmV0dXJuIGNhZW5fcG9ydDsKICAgICAgICB9CgogICAgICAgIC8vIFRyeWluZyB0byBjYWxsIG9uY2Ugd2lsbCBpbml0aWFsaXplIHRoZSBwb3J0CiAgICAgICAgLy8gYnV0IHJlYWxseSB0aGlzIGNhbGwgaXMgbm90IGltcG9ydGFudAogICAgICAgIC8vIF9zaXBtX3ZvbHRfc3lzLmdldChbPV0oc2VyaWFsX3B0ciYgcG9ydCkgLT4gc3RkOjpvcHRpb25hbDxkb3VibGU+IHsKICAgICAgICAvLyAgICAgcmV0dXJuIHt9OwogICAgICAgIC8vIH0pOwogICAgICAgIC8vIHN0ZDo6Z2VuZXJhdGUoX3Byb2Nlc3NpbmdfZXZ0cy5iZWdpbigpLCBfcHJvY2Vzc2luZ19ldnRzLmVuZCgpLAogICAgICAgIC8vIFsmXSgpewogICAgICAgIC8vICAgICByZXR1cm4gc3RkOjptYWtlX3NoYXJlZDxjYWVuRXZlbnQ+KF9jYWVuX3BvcnQtPkhhbmRsZSk7CiAgICAgICAgLy8gfSk7CgogICAgICAgIC8vIEFsbG9jYXRlIG1lbW9yeSBmb3IgZXZlbnRzCgogICAgICAgIC8vIFRoZXNlIGxpbmVzIGdldCB0b2RheSdzIGRhdGUgYW5kIGNyZWF0ZXMgYSBmb2xkZXIgdW5kZXIgdGhhdCBkYXRlCiAgICAgICAgLy8gVGhlcmUgaXMgYSBzaW1pbGFyIGNvZGUgaW4gdGhlIFRlZW5zeSBpbnRlcmZhY2UgZmlsZQogICAgICAgIHN0ZDo6b3N0cmluZ3N0cmVhbSBvdXQ7CiAgICAgICAgYXV0byB0b2RheSA9IGRhdGU6OnllYXJfbW9udGhfZGF5ewogICAgICAgICAgICAgICAgZGF0ZTo6Zmxvb3I8ZGF0ZTo6ZGF5cz4oc3RkOjpjaHJvbm86OnN5c3RlbV9jbG9jazo6bm93KCkpfTsKICAgICAgICBvdXQgPDwgdG9kYXk7CiAgICAgICAgX3J1bl9uYW1lID0gb3V0LnN0cigpOwoKICAgICAgICBzdGQ6OmZpbGVzeXN0ZW06OmNyZWF0ZV9kaXJlY3RvcnkoX2RvZS5SdW5EaXIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyAiLyIgKyBfcnVuX25hbWUpOwoKLy8gICAgICAgIHNpcG1fZmlsZSgKLy8gICAgICAgICAgICAgX2RvZS5SdW5EaXIgKyAiLyIgKyBfcnVuX25hbWUgKyAiL1NhdmVJbmZvLnR4dCIpOwovLwovLyAgICAgICAgaWYgKG5vdCBzaXBtX2ZpbGUuaXNPcGVuKCkpIHsKLy8gICAgICAgICAgICBzcGRsb2c6OmVycm9yKCJGYWlsZWQgdG8gb3BlbiBTYXZlSW5mby50eHQiKTsKLy8gICAgICAgICAgICBzd2l0Y2hfc3RhdGUoU2lQTUFjcXVpc2l0aW9uTWFuYWdlclN0YXRlczo6U3RhbmRieSk7Ci8vICAgICAgICB9CgovLyAgICAgICAgc3BkbG9nOjppbmZvKCJUcnlpbmcgdG8gb3BlbiBmaWxlIHswfSIsIF9kb2UuUnVuRGlyCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyAiLyIgKyBfcnVuX25hbWUKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArICIvU2lQTUlWLnR4dCIpOwovLyAgICAgICAgb3Blbl9maWxlKF92b2x0YWdlc19maWxlLCBfZG9lLlJ1bkRpcgovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyAiLyIgKyBfcnVuX25hbWUKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgIi9TaVBNSVYudHh0Iik7CgovLyAgICAgICAgcyA9IF92b2x0YWdlc19maWxlID4gMDsKLy8gICAgICAgIGlmICghcykgewovLyAgICAgICAgICAgIHNwZGxvZzo6ZXJyb3IoIkZhaWxlZCB0byBvcGVuIHZvbHRhZ2UgZmlsZSIpOwovLyAgICAgICAgfQoKICAgICAgICBzdGQ6OmZpbGVzeXN0ZW06OmNyZWF0ZV9kaXJlY3RvcnkoX2RvZS5SdW5EaXIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyAiLyIgKyBfcnVuX25hbWUpOwoKICAgICAgICBfbG9nZ2VyLT5pbmZvKCJDQUVOIFNldHVwIGNvbXBsZXRlISIpOwogICAgICAgIHJldHVybiBjYWVuX3BvcnQ7CiAgICB9CgogICAgLy8gV2hpbGUgaW4gdGhpcyBzdGF0ZSBpdCBzaGFyZXMgdGhlIGRhdGEgd2l0aCB0aGUgR1VJIGJ1dAogICAgLy8gbm8gYWN0dWFsIGZpbGUgc2F2aW5nIGlzIGhhcHBlbmluZy4gSXQgZXNzZW50aWFsbHkgc2VydmVzCiAgICAvLyBhcyBhIG1vZGUgaW4gd2hlcmUgdGhlIHVzZXIgY2FuIHNlZSB3aGF0IGlzIGhhcHBlbmluZy4KICAgIC8vIFNpbWlsYXIgdG8gYW4gb3NjaWxsb3Njb3BlCiAgICBTaVBNQ0FFTl9wdHIgb3NjaWxsb3Njb3BlKFNpUE1DQUVOX3B0ciBjYWVuX3BvcnQpIHsKICAgICAgICBhdXRvIGV2ZW50cyA9IGNhZW5fcG9ydC0+R2V0RXZlbnRzSW5CdWZmZXIoKTsKICAgICAgICAvLyBfaW5kaWNhdG9yX3NlbmRlcihJbmRpY2F0b3JOYW1lczo6Q0FFTkJVRkZFUkVWRU5UUywgZXZlbnRzKTsKCiAgICAgICAgaWYgKF9kb2UuU29mdHdhcmVUcmlnZ2VyKSB7CiAgICAgICAgICAgIF9sb2dnZXItPmluZm8oIlNlbmRpbmcgYSBzb2Z0d2FyZSB0cmlnZ2VyIik7CiAgICAgICAgICAgIGNhZW5fcG9ydC0+U29mdHdhcmVUcmlnZ2VyKCk7CiAgICAgICAgICAgIF9kb2UuU29mdHdhcmVUcmlnZ2VyID0gZmFsc2U7CiAgICAgICAgfQovLwogICAgICAgIHN0YXRpYyBCaW5hcnlGb3JtYXQ6OlNpUE1EeW5hbWljV3JpdGVyIF9maWxlKCJzaXBtX3dhdmVmb3Jtcy5iaW4iLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWVuX3BvcnQtPk1vZGVsQ29uc3RhbnRzLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWVuX3BvcnQtPkdldEdsb2JhbENvbmZpZ3VyYXRpb24oKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2Flbl9wb3J0LT5HZXRHcm91cENvbmZpZ3VyYXRpb25zKCkpOwoKICAgICAgICBjYWVuX3BvcnQtPlJldHJpZXZlRGF0YSgpOwogICAgICAgIC8vIEdldE51bWJlck9mRXZlbnRzIGdldHMgdGhlIGFjdHVhbCBhY3F1aXJlZCBldmVudHMKICAgICAgICAvLyB3aGlsZSBHZXRFdmVudHNJbkJ1ZmZlciBnZXRzIHRoZSBldmVudHMgaW4gQ0FFTiBidWZmZXIKICAgICAgICBpZiAoY2Flbl9wb3J0LT5HZXROdW1iZXJPZkV2ZW50cygpID4gMCkgewogICAgICAgICAgICAvLyBUcmlnZ2VyZWRXYXZlZm9ybXMgKz0gX2NhZW5fcG9ydC0+RGF0YS5OdW1FdmVudHM7CiAgICAgICAgICAgIC8vIER1ZSB0byB0aGUgc2xvdyByYXRlIG9zY2lsbG9zY29wZSBtb2RlIGlzIGhhcHBlbmluZywgdXNpbmcKICAgICAgICAgICAgLy8gZXZlbnRzIGluc3RlYWQgb2YgLi4tPkRhdGEuTnVtRXZlbnRzIGlzIGEgYmV0dGVyIG51bWJlciB0byB1c2UKICAgICAgICAgICAgLy8gdG8gYXBwcm94aW1hdGUgdGhlIGFjdHVhbCBudW1iZXIgb2Ygd2F2ZWZvcm1zIGFjcXVpcmVkLgogICAgICAgICAgICAvLyBTcGVjaWFsbHkgYmVjYXVzZSB0aGUgYnVmZmVyIGlzIGNsZWFyZWQuCiAgICAgICAgICAgIFRyaWdnZXJlZFdhdmVmb3JtcyArPSBldmVudHM7CiAgICAgICAgICAgIC8vIHNwZGxvZzo6aW5mbygiVG90YWwgc2l6ZSBidWZmZXI6IHswfSIsICBfY2Flbl9wb3J0LT5EYXRhLlRvdGFsU2l6ZUJ1ZmZlcik7CiAgICAgICAgICAgIC8vIHNwZGxvZzo6aW5mbygiRGF0YSBzaXplOiB7MH0iLCBfY2Flbl9wb3J0LT5EYXRhLkRhdGFTaXplKTsKICAgICAgICAgICAgLy8gc3BkbG9nOjppbmZvKCJOdW0gZXZlbnRzOiB7MH0iLCBfY2Flbl9wb3J0LT5EYXRhLk51bUV2ZW50cyk7CgogICAgICAgICAgICAvLyBEZWNvZGUgZXZlbnRzCiAgICAgICAgICAgIGNhZW5fcG9ydC0+RGVjb2RlRXZlbnRzKCk7CiAgICAgICAgICAgIF9vc2NfZXZlbnQgPSBjYWVuX3BvcnQtPkdldEV2ZW50KDApOwogICAgICAgICAgICBhdXRvIG0gPSBjYWVuX2V2ZW50X3RvX2FybWFkaWxsbyhfb3NjX2V2ZW50LCA2NCk7CgogICAgICAgICAgICBhdXRvIHdhdmVmb3JtID0gY2Flbl9wb3J0LT5HZXRXYXZlZm9ybSgwKTsKICAgICAgICAgICAgX2ZpbGUuc2F2ZV93YXZlZm9ybSh3YXZlZm9ybSk7CgogICAgICAgICAgICAvLyBzcGRsb2c6OmluZm8oIkV2ZW50IHNpemU6IHswfSIsIF9vc2NfZXZlbnQtPkluZm8uRXZlbnRTaXplKTsKICAgICAgICAgICAgLy8gc3BkbG9nOjppbmZvKCJFdmVudCBjb3VudGVyOiB7MH0iLCBfb3NjX2V2ZW50LT5JbmZvLkV2ZW50Q291bnRlcik7CiAgICAgICAgICAgIC8vIHNwZGxvZzo6aW5mbygiVHJpZ2dlciBUaW1lIFRhZzogezB9IiwKICAgICAgICAgICAgLy8gICAgIF9vc2NfZXZlbnQtPkluZm8uVHJpZ2dlclRpbWVUYWcpOwoKICAgICAgICAgICAgcHJvY2Vzc19kYXRhX2Zvcl9ndWkoKTsKCiAgICAgICAgICAgIC8vIENsZWFyIGV2ZW50cyBpbiBidWZmZXIKICAgICAgICAgICAgY2Flbl9wb3J0LT5DbGVhckRhdGEoKTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBjYWVuX3BvcnQ7CiAgICB9CgogICAgLy8gRG9lcyB0aGUgU2lQTSBwdWxzZSBwcm9jZXNzaW5nIGJ1dCBubyBmaWxlIHNhdmluZwogICAgLy8gaXMgZG9uZS4gU2VydmVzIG1vcmUgZm9yIHRoZSB1c2VyIHRvIGtub3cKICAgIC8vIGhvdyB0aGluZ3MgYXJlIGNoYW5naW5nLgovLyAgICBib29sIG1lYXN1cmVtZW50X3JvdXRpbmVfbW9kZSgpIHsKLy8gICAgICAgIGlmIChub3QgX3ZiZF9yb3V0aW5lKSB7Ci8vICAgICAgICAgICAgX3ZiZF9yb3V0aW5lID0gc3RkOjptYWtlX3VuaXF1ZTxCcmVha2Rvd25Sb3V0aW5lPigKLy8gICAgICAgICAgICAgICAgX2NhZW5fcG9ydCwgX2RvZSwgX3J1bl9uYW1lLCBfc2F2ZWluZm9fZmlsZSA9IG51bGxwdHIpOwovLwovLyAgICAgICAgICAgIC8vIC8vIFJlc2V0IGFsbCBpbmRpY2F0b3JzIGZvciB0aGlzIHNlY3Rpb24KLy8gICAgICAgICAgICAvLyBfaW5kaWNhdG9yX3NlbmRlcihJbmRpY2F0b3JOYW1lczo6RklOSVNIRURfUk9VVElORSwgZmFsc2UpOwovLyAgICAgICAgICAgIC8vIF9pbmRpY2F0b3Jfc2VuZGVyKEluZGljYXRvck5hbWVzOjpNRUFTVVJFTUVOVF9ST1VUSU5FX09OR09JTkcsCi8vICAgICAgICAgICAgLy8gICAgIGZhbHNlKTsKLy8gICAgICAgICAgICAvLyBfaW5kaWNhdG9yX3NlbmRlcihJbmRpY2F0b3JOYW1lczo6QlJFQUtET1dOX1JPVVRJTkVfT05HT0lORywKLy8gICAgICAgICAgICAgICAgLy8gZmFsc2UpOwovLyAgICAgICAgfQovLwovLyAgICAgICAgX3ZiZF9yb3V0aW5lLT51cGRhdGUoKTsKLy8KLy8gICAgICAgIGlmKF92YmRfcm91dGluZS0+aGFzVm9sdGFnZUNoYW5nZWQoKSkgewovLyAgICAgICAgICAgIF9kb2UuU2lQTVZvbHRhZ2VTeXNWb2x0YWdlID0gX3ZiZF9yb3V0aW5lLT5nZXRDdXJyZW50Vm9sdGFnZSgpOwovLyAgICAgICAgICAgIF9kb2UuU2lQTVZvbHRhZ2VTeXNDaGFuZ2UgPSB0cnVlOwovLyAgICAgICAgfQovLwovLyAgICAgICAgX3Byb2Nlc3NpbmdfZXZ0cyA9IF92YmRfcm91dGluZS0+Z2V0TGF0ZXN0RXZlbnRzKCk7Ci8vICAgICAgICByZG1fZXh0cmFjdF9mb3JfZ3VpKCk7Ci8vCi8vICAgICAgICAvLyBHVUkgcmVsYXRlZCBzdHVmZgovLyAgICAgICAgVHJpZ2dlcmVkV2F2ZWZvcm1zICs9IHN0YXRpY19jYXN0PHVpbnQ2NF90PigKLy8gICAgICAgICAgICBfdmJkX3JvdXRpbmUtPmdldExhdGVzdE51bUV2ZW50cygpKTsKLy8gICAgICAgIFNhdmVkV2F2ZWZvcm1zID0gX3ZiZF9yb3V0aW5lLT5nZXRUb3RhbEFjcXVpcmVkRXZlbnRzKCk7Ci8vICAgICAgICAvLyBfaW5kaWNhdG9yX3NlbmRlcihJbmRpY2F0b3JOYW1lczo6U0FWRURfV0FWRUZPUk1TLCBTYXZlZFdhdmVmb3Jtcyk7Ci8vCi8vICAgICAgICBzd2l0Y2ggKF92YmRfcm91dGluZS0+Z2V0Q3VycmVudFN0YXRlKCkpIHsKLy8gICAgICAgIGNhc2UgQnJlYWtkb3duUm91dGluZVN0YXRlOjpGaW5pc2hlZDoKLy8gICAgICAgICAgICBzd2l0Y2hfc3RhdGUoU2lQTUFjcXVpc2l0aW9uU3RhdGVzOjpPc2NpbGxvc2NvcGVNb2RlKTsKLy8KLy8gICAgICAgICAgICAvLyBfaW5kaWNhdG9yX3NlbmRlcihJbmRpY2F0b3JOYW1lczo6RklOSVNIRURfUk9VVElORSwgdHJ1ZSk7Ci8vCi8vICAgICAgICAgICAgLy8gU2V0IGJhY2sgdG8gNTIganVzdCBpbiBjYXNlLgovLyAgICAgICAgICAgIF9kb2UuU2lQTVZvbHRhZ2VTeXNWb2x0YWdlID0gKl92YmRfcm91dGluZS0+R2FpblZvbHRhZ2VzLmNiZWdpbigpOwovLyAgICAgICAgICAgIF9kb2UuU2lQTVZvbHRhZ2VTeXNDaGFuZ2UgPSB0cnVlOwovLyAgICAgICAgICAgIC8vIENsZWFuIHJlc291cmNlcyBhbmQgZ2V0IHRoZSBwb3J0IGJhY2sKLy8gICAgICAgICAgICAvLyBfY2Flbl9wb3J0ID0gX3ZiZF9yb3V0aW5lLT5yZXRyaWV2ZUNBRU4oKTsKLy8gICAgICAgICAgICBfdmJkX3JvdXRpbmUgPSBudWxscHRyOwovLyAgICAgICAgICAgIGJyZWFrOwovLyAgICAgICAgY2FzZSBCcmVha2Rvd25Sb3V0aW5lU3RhdGU6OkdhaW5NZWFzdXJlbWVudHM6Ci8vICAgICAgICAgICAgLy8gX2luZGljYXRvcl9zZW5kZXIoSW5kaWNhdG9yTmFtZXM6OkJSRUFLRE9XTl9ST1VUSU5FX09OR09JTkcsIHRydWUpOwovLyAgICAgICAgY2FzZSBCcmVha2Rvd25Sb3V0aW5lU3RhdGU6OkNhbGN1bGF0ZUJyZWFrZG93blZvbHRhZ2U6Ci8vICAgICAgICAgICAgaWYgKF92YmRfcm91dGluZS0+aGFzTmV3R2Fpbk1lYXN1cmVtZW50KCkpCi8vICAgICAgICAgICAgewovLyAgICAgICAgICAgICAgICAvLyBhdXRvIHBhcnMgPSBfdmJkX3JvdXRpbmUtPmdldEFuYWx5c2lzTGF0ZXN0VmFsdWVzKCk7Ci8vICAgICAgICAgICAgICAgIC8vIF9pbmRpY2F0b3Jfc2VuZGVyKEluZGljYXRvck5hbWVzOjpHQUlOX1ZTX1ZPTFRBR0UsCi8vICAgICAgICAgICAgICAgIC8vICAgICBfZG9lLkxhdGVzdE1lYXN1cmUuVm9sdCwgcGFycy5TUEVQYXJhbWV0ZXJzKDEpKTsKLy8gICAgICAgICAgICAgICAgLy8gX2luZGljYXRvcl9zZW5kZXIoSW5kaWNhdG9yTmFtZXM6OlNQRV9HQUlOX01FQU4sCi8vICAgICAgICAgICAgICAgIC8vIHBhcnMuU1BFUGFyYW1ldGVycygxKSk7Ci8vCi8vICAgICAgICAgICAgICAgIC8vIF9pbmRpY2F0b3Jfc2VuZGVyKEluZGljYXRvck5hbWVzOjpTUEVfRUZGSUNJRU5DVFksCi8vICAgICAgICAgICAgICAgIC8vICAgICBwYXJzLlNQRUVmZmljaWVuY3kpOwovLyAgICAgICAgICAgICAgICAvLyBfaW5kaWNhdG9yX3NlbmRlcihJbmRpY2F0b3JOYW1lczo6SU5URUdSQUxfVEhSRVNIT0xELAovLyAgICAgICAgICAgICAgICAvLyAgICAgcGFycy5JbnRlZ3JhbFRocmVzaG9sZCk7Ci8vCi8vICAgICAgICAgICAgICAgIC8vIF9pbmRpY2F0b3Jfc2VuZGVyKEluZGljYXRvck5hbWVzOjpPRkZTRVQsCi8vICAgICAgICAgICAgICAgIC8vICAgICBwYXJzLlNQRVBhcmFtZXRlcnMoMikpOwovLwovLyAgICAgICAgICAgICAgICAvLyBfaW5kaWNhdG9yX3NlbmRlcihJbmRpY2F0b3JOYW1lczo6UklTRV9USU1FLAovLyAgICAgICAgICAgICAgICAvLyAgICAgcGFycy5TUEVQYXJhbWV0ZXJzKDMpKTsKLy8KLy8gICAgICAgICAgICAgICAgLy8gX2luZGljYXRvcl9zZW5kZXIoSW5kaWNhdG9yTmFtZXM6OkZBTExfVElNRSwKLy8gICAgICAgICAgICAgICAgLy8gICAgIHBhcnMuU1BFUGFyYW1ldGVycyg0KSk7Ci8vICAgICAgICAgICAgfQovLyAgICAgICAgICAgIGJyZWFrOwovLyAgICAgICAgY2FzZSBCcmVha2Rvd25Sb3V0aW5lU3RhdGU6OkFjcXVpc2l0aW9uOgovLyAgICAgICAgICAgIC8vIF9pbmRpY2F0b3Jfc2VuZGVyKEluZGljYXRvck5hbWVzOjpNRUFTVVJFTUVOVF9ST1VUSU5FX09OR09JTkcsIHRydWUpOwovLyAgICAgICAgICAgIGlmIChfdmJkX3JvdXRpbmUtPmhhc05ld0JyZWFrZG93blZvbHRhZ2UoKSkgewovLyAgICAgICAgICAgICAgIC8vIGF1dG8gdmFsdWVzID0gX3ZiZF9yb3V0aW5lLT5nZXRCcmVha2Rvd25Wb2x0YWdlKCk7Ci8vCi8vICAgICAgICAgICAgICAgIC8vIF9pbmRpY2F0b3Jfc2VuZGVyKEluZGljYXRvck5hbWVzOjpCUkVBS0RPV05fVk9MVEFHRSwKLy8gICAgICAgICAgICAgICAgLy8gICAgIHZhbHVlcy5CcmVha2Rvd25Wb2x0YWdlKTsKLy8gICAgICAgICAgICAgICAgLy8gX2luZGljYXRvcl9zZW5kZXIoSW5kaWNhdG9yTmFtZXM6OkJSRUFLRE9XTl9WT0xUQUdFX0VSUiwKLy8gICAgICAgICAgICAgICAgLy8gICAgIHZhbHVlcy5CcmVha2Rvd25Wb2x0YWdlRXJyb3IpOwovLyAgICAgICAgICAgIH0KLy8KLy8gICAgICAgICAgICBicmVhazsKLy8gICAgICAgIGRlZmF1bHQ6Ci8vICAgICAgICBicmVhazsKLy8gICAgICAgIH0KLy8KLy8gICAgICAgIC8vIENhbmNlbCBidXR0b24gcm91dGluZQovLyAgICAgICAgaWYgKF9kb2UuQ2FuY2VsTWVhc3VyZW1lbnRzICYmIF92YmRfcm91dGluZSkgewovLyAgICAgICAgICAgIHN3aXRjaF9zdGF0ZShTaVBNQWNxdWlzaXRpb25TdGF0ZXM6Ok9zY2lsbG9zY29wZU1vZGUpOwovLwovLyAgICAgICAgICAgIC8vIF9jYWVuX3BvcnQgPSBfdmJkX3JvdXRpbmUtPnJldHJpZXZlQ0FFTigpOwovLyAgICAgICAgICAgIF92YmRfcm91dGluZSA9IG51bGxwdHI7Ci8vICAgICAgICAgICAgX2RvZS5DYW5jZWxNZWFzdXJlbWVudHMgPSBmYWxzZTsKLy8gICAgICAgIH0KLy8KLy8gICAgICAgIGNoYW5nZV9zdGF0ZSgpOwovLyAgICAgICAgcmV0dXJuIHRydWU7Ci8vICAgIH0KCiAgICAvLyBib29sIHJ1bl9tb2RlKCkgewogICAgLy8gICAgIGlmIChub3QgX2FjcV9yb3V0aW5lKSB7CiAgICAvLyAgICAgICAgIF9pbmRpY2F0b3Jfc2VuZGVyKEluZGljYXRvck5hbWVzOjpET05FX0RBVEFfVEFLSU5HLCBmYWxzZSk7CiAgICAvLyAgICAgICAgIF9hY3Ffcm91dGluZSA9IHN0ZDo6bWFrZV91bmlxdWU8QWNxdWlzaXRpb25Sb3V0aW5lPiAoCiAgICAvLyAgICAgICAgICAgICBfY2Flbl9wb3J0LCBfZG9lLCBfcnVuX25hbWUsIF9zYXZlaW5mb19maWxlID0gbnVsbHB0ciwKICAgIC8vICAgICAgICAgICAgIF9sYXRlc3RfYnJlYWtkb3duX3ZvbHRhZ2UpOwogICAgLy8gICAgIH0KCiAgICAvLyAgICAgX2FjcV9yb3V0aW5lLT51cGRhdGUoKTsKCiAgICAvLyAgICAgaWYoX2FjcV9yb3V0aW5lLT5oYXNWb2x0YWdlQ2hhbmdlZCgpKSB7CiAgICAvLyAgICAgICAgIF9kb2UuU2lQTVZvbHRhZ2VTeXNWb2x0YWdlID0gX2FjcV9yb3V0aW5lLT5nZXRDdXJyZW50Vm9sdGFnZSgpOwogICAgLy8gICAgICAgICBfZG9lLlNpUE1Wb2x0YWdlU3lzQ2hhbmdlID0gdHJ1ZTsKICAgIC8vICAgICB9CgogICAgLy8gICAgIF9wcm9jZXNzaW5nX2V2dHMgPSBfYWNxX3JvdXRpbmUtPmdldExhdGVzdEV2ZW50cygpOwogICAgLy8gICAgIHJkbV9leHRyYWN0X2Zvcl9ndWkoKTsKCiAgICAvLyAgICAgLy8gR1VJIHJlbGF0ZWQgc3R1ZmYKICAgIC8vICAgICBUcmlnZ2VyZWRXYXZlZm9ybXMgPSBfYWNxX3JvdXRpbmUtPmdldExhdGVzdE51bUV2ZW50cygpOwogICAgLy8gICAgIFNhdmVkV2F2ZWZvcm1zID0gX2FjcV9yb3V0aW5lLT5nZXRUb3RhbEFjcXVpcmVkRXZlbnRzKCk7CiAgICAvLyAgICAgX2luZGljYXRvcl9zZW5kZXIoSW5kaWNhdG9yTmFtZXM6OlNBVkVEX1dBVkVGT1JNUywgU2F2ZWRXYXZlZm9ybXMpOwoKICAgIC8vICAgICAvLyBJdCBmaW5pc2hlZCwgd2UgbW92ZSBiYWNrIHRvIE9zY2lsbG9zY29wZU1vZGUKICAgIC8vICAgICBpZiAoX2FjcV9yb3V0aW5lLT5oYXNGaW5pc2hlZCgpKSB7CiAgICAvLyAgICAgICAgIHN3aXRjaF9zdGF0ZShTaVBNQWNxdWlzaXRpb25TdGF0ZXM6Ok9zY2lsbG9zY29wZU1vZGUpOwoKICAgIC8vICAgICAgICAgLy8gX2NhZW5fcG9ydCA9IF9hY3Ffcm91dGluZS0+cmV0cmlldmVDQUVOKCk7CiAgICAvLyAgICAgICAgIF9hY3Ffcm91dGluZSA9IG51bGxwdHI7CgogICAgLy8gICAgICAgICBfaW5kaWNhdG9yX3NlbmRlcihJbmRpY2F0b3JOYW1lczo6RE9ORV9EQVRBX1RBS0lORywgdHJ1ZSk7CiAgICAvLyAgICAgfQoKICAgIC8vICAgICAvLyBDYW5jZWwgYnV0dG9uIHJvdXRpbmUKICAgIC8vICAgICBpZiAoX2RvZS5DYW5jZWxNZWFzdXJlbWVudHMgJiYgX2FjcV9yb3V0aW5lKSB7CiAgICAvLyAgICAgICAgIHN3aXRjaF9zdGF0ZShTaVBNQWNxdWlzaXRpb25TdGF0ZXM6Ok9zY2lsbG9zY29wZU1vZGUpOwoKICAgIC8vICAgICAgICAgLy8gX2NhZW5fcG9ydCA9IF9hY3Ffcm91dGluZS0+cmV0cmlldmVDQUVOKCk7CiAgICAvLyAgICAgICAgIF9hY3Ffcm91dGluZSA9IG51bGxwdHI7CiAgICAvLyAgICAgICAgIF9kb2UuQ2FuY2VsTWVhc3VyZW1lbnRzID0gZmFsc2U7CiAgICAvLyAgICAgfQoKICAgIC8vICAgICBjaGFuZ2Vfc3RhdGUoKTsKICAgIC8vICAgICByZXR1cm4gdHJ1ZTsKICAgIC8vIH0KCiAgICAvLyBPbmx5IG1vZGUgdGhhdCBzdG9wcyB0aGUgbWFpbl9sb29wIGFuZCBmcmVlcyBhbGwgcmVzb3VyY2VzCiAgICBib29sIGNsb3NpbmdfbW9kZSgpIHsKICAgICAgICBfbG9nZ2VyLT5pbmZvKCJHb2luZyB0byBjbG9zZSB0aGUgQ0FFTiB0aHJlYWQuIik7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQoKICAgIHZvaWQgcmRtX2V4dHJhY3RfZm9yX2d1aSgpIHsKICAgICAgICBzdGF0aWMgYXV0byByZG1fZXh0cmFjdF90aW1lZCA9IG1ha2VfdG90YWxfdGltZWRfZXZlbnQoCiAgICAgICAgICAgIHN0ZDo6Y2hyb25vOjptaWxsaXNlY29uZHMoMjAwKSwKICAgICAgICAgICAgWyZdKCkgewogICAgICAgICAgICAgICAgLy8gRm9yIHRoZSBHVUkKICAgICAgICAgICAgICAgIGlmIChUcmlnZ2VyZWRXYXZlZm9ybXMgPT0gMCkgewogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHN0YXRpYyBzdGQ6OmRlZmF1bHRfcmFuZG9tX2VuZ2luZSBnZW5lcmF0b3I7CiAgICAgICAgICAgICAgICBzdGQ6OnVuaWZvcm1faW50X2Rpc3RyaWJ1dGlvbjx1aW50NjRfdD4KICAgICAgICAgICAgICAgICAgICBkaXN0cmlidXRpb24oMCwgVHJpZ2dlcmVkV2F2ZWZvcm1zKTsKICAgICAgICAgICAgICAgIHVpbnQ2NF90IHJkbV9udW0gPSBkaXN0cmlidXRpb24oZ2VuZXJhdG9yKTsKCiAgICAgICAgICAgICAgICBfb3NjX2V2ZW50ID0gX3Byb2Nlc3NpbmdfZXZ0c1tyZG1fbnVtXTsKCiAgICAgICAgICAgICAgICBwcm9jZXNzX2RhdGFfZm9yX2d1aSgpOwogICAgICAgIH0pOwoKICAgICAgICByZG1fZXh0cmFjdF90aW1lZCgpOwogICAgfQoKICAgIHZvaWQgcHJvY2Vzc19kYXRhX2Zvcl9ndWkoKSB7CiAgICAgICAgY2FsY3VsYXRlX3RyaWdnZXJfZnJlcXVlbmN5KCk7CgogICAgICAgIGlmIChub3QgX29zY19ldmVudCkgewogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICBhdXRvIHNpemUgPSBfb3NjX2V2ZW50LT5nZXREYXRhKCktPkNoU2l6ZVswXTsKICAgICAgICBhdXRvIGFsbF9jaHMgPSBfb3NjX2V2ZW50LT5nZXREYXRhKCktPkRhdGFDaGFubmVsOwoKICAgICAgICBpZiAoc2l6ZSA8PSAwKSB7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIGZvciAoc3RkOjpzaXplX3QgaSA9IDA7IGkgPCBzaXplOyBpKyspIHsKICAgICAgICAgICAgZm9yKHN0ZDo6c2l6ZV90IGdyb3VwID0gMDsgZ3JvdXAgPCA0OyBncm91cCArKykgewogICAgICAgICAgICAgICAgYXV0byBvZmZzZXQgPSBncm91cCo4OwogICAgICAgICAgICAgICAgX2RvZS5Hcm91cERhdGEuYXQoZ3JvdXApLmFkZF9hdChpLCBpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbF9jaHNbb2Zmc2V0ICsgMF0gPT0gbnVsbHB0ciA/IDAgOiBhbGxfY2hzW29mZnNldCArIDBdW2ldLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbF9jaHNbb2Zmc2V0ICsgMV0gPT0gbnVsbHB0ciA/IDAgOiBhbGxfY2hzW29mZnNldCArIDFdW2ldLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbF9jaHNbb2Zmc2V0ICsgMl0gPT0gbnVsbHB0ciA/IDAgOiBhbGxfY2hzW29mZnNldCArIDJdW2ldLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbF9jaHNbb2Zmc2V0ICsgM10gPT0gbnVsbHB0ciA/IDAgOiBhbGxfY2hzW29mZnNldCArIDNdW2ldLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbF9jaHNbb2Zmc2V0ICsgNF0gPT0gbnVsbHB0ciA/IDAgOiBhbGxfY2hzW29mZnNldCArIDRdW2ldLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbF9jaHNbb2Zmc2V0ICsgNV0gPT0gbnVsbHB0ciA/IDAgOiBhbGxfY2hzW29mZnNldCArIDVdW2ldLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbF9jaHNbb2Zmc2V0ICsgNl0gPT0gbnVsbHB0ciA/IDAgOiBhbGxfY2hzW29mZnNldCArIDZdW2ldLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbF9jaHNbb2Zmc2V0ICsgN10gPT0gbnVsbHB0ciA/IDAgOiBhbGxfY2hzW29mZnNldCArIDddW2ldKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCi8vICAgIHZvaWQgc2lwbV92b2x0YWdlX3N5c3RlbV91cGRhdGUoKSB7Ci8vICAgICAgICBzdGF0aWMgYXV0byBnZXRfdm9sdGFnZSA9IG1ha2VfdG90YWxfdGltZWRfZXZlbnQoCi8vICAgICAgICAgICAgc3RkOjpjaHJvbm86OnNlY29uZHMoMSksCi8vICAgICAgICAgICAgWyZdKCkgewovLyAgICAgICAgICAgICAgICBfc2lwbV92b2x0X3N5cy5hc3luY19nZXQoCi8vICAgICAgICAgICAgICAgIFs9XShzZXJpYWxfcHRyJiBwb3J0KQovLyAgICAgICAgICAgICAgICAgICAgLT4gc3RkOjpvcHRpb25hbDxTaVBNVm9sdGFnZU1lYXN1cmU+IHsKLy8gICAgICAgICAgICAgICAgICAgIHN0YXRpYyBhdXRvIHNlbmRfbXNnX3Nsb3cgPSBtYWtlX2Jsb2NraW5nX3RvdGFsX3RpbWVkX2V2ZW50KAovLyAgICAgICAgICAgICAgICAgICAgICAgIHN0ZDo6Y2hyb25vOjptaWxsaXNlY29uZHMoMTApLAovLyAgICAgICAgICAgICAgICAgICAgICAgIFsmXShjb25zdCBzdGQ6OnN0cmluZyYgbXNnKXsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VuZF9tc2cocG9ydCwgbXNnICsgIlxuIiwgIiIpOwovLyAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgICAgICk7Ci8vCi8vICAgICAgICAgICAgICAgICAgICBzZW5kX21zZ19zbG93LkNoYW5nZVdhaXRUaW1lKAovLyAgICAgICAgICAgICAgICAgICAgICAgIHN0ZDo6Y2hyb25vOjptaWxsaXNlY29uZHMoMTApKTsKLy8gICAgICAgICAgICAgICAgICAgIHNlbmRfbXNnX3Nsb3coIisrYWRkciAxMCIpOwovLyAgICAgICAgICAgICAgICAgICAgc2VuZF9tc2dfc2xvdygiOmZldGNoPyIpOwovLyAgICAgICAgICAgICAgICAgICAgc2VuZF9tc2dfc2xvdygiKytyZWFkIGVvaSIpOwovLwovLyAgICAgICAgICAgICAgICAgICAgYXV0byB2b2x0ID0gcmV0cmlldmVfbXNnPGRvdWJsZT4ocG9ydCk7Ci8vCi8vICAgICAgICAgICAgICAgICAgICBpZiAoIXZvbHQpIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge307Ci8vICAgICAgICAgICAgICAgICAgICB9Ci8vCi8vICAgICAgICAgICAgICAgICAgICBkb3VibGUgdGltZSA9IGdldF9jdXJyZW50X3RpbWVfZXBvY2goKSAvIDEwMDAuMDsKLy8gICAgICAgICAgICAgICAgICAgIHNlbmRfbXNnX3Nsb3cuQ2hhbmdlV2FpdFRpbWUoCi8vICAgICAgICAgICAgICAgICAgICAgICAgc3RkOjpjaHJvbm86Om1pbGxpc2Vjb25kcygxMDApKTsKLy8gICAgICAgICAgICAgICAgICAgIHNlbmRfbXNnX3Nsb3coIisrYWRkciAyMiIpOwovLyAgICAgICAgICAgICAgICAgICAgc2VuZF9tc2dfc2xvdygiOmZldGNoPyIpOwovLyAgICAgICAgICAgICAgICAgICAgc2VuZF9tc2dfc2xvdygiKytyZWFkIGVvaSIpOwovLwovLyAgICAgICAgICAgICAgICAgICAgYXV0byBjdXJyID0gcmV0cmlldmVfbXNnPGRvdWJsZT4ocG9ydCk7Ci8vCi8vICAgICAgICAgICAgICAgICAgICBzZW5kX21zZ19zbG93KCI6aW5pdCIpOwovLwovLyAgICAgICAgICAgICAgICAgICAgaWYgKCFjdXJyKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHt9OwovLyAgICAgICAgICAgICAgICAgICAgfQovLwovLyAgICAgICAgICAgICAgICAgICAgU2lQTVZvbHRhZ2VNZWFzdXJlIG91dDsKLy8gICAgICAgICAgICAgICAgICAgIG91dC5UaW1lID0gdGltZTsKLy8gICAgICAgICAgICAgICAgICAgIG91dC5Wb2x0ID0gdm9sdC52YWx1ZSgpOwovLyAgICAgICAgICAgICAgICAgICAgb3V0LkN1cnJlbnQgPSBjdXJyLnZhbHVlKCk7Ci8vCi8vICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3RkOjptYWtlX29wdGlvbmFsKG91dCk7Ci8vICAgICAgICAgICAgfSk7Ci8vCi8vICAgICAgICAgICAgYXV0byBsYXRlc3RfdmFsdWVzID0gX3NpcG1fdm9sdF9zeXMuYXN5bmNfZ2V0X3ZhbHVlcygpOwovLyAgICAgICAgICAgIGZvciAoYXV0byByIDogbGF0ZXN0X3ZhbHVlcykgewovLyAgICAgICAgICAgICAgICBkb3VibGUgdGltZSA9IHIuVGltZTsKLy8gICAgICAgICAgICAgICAgZG91YmxlIHZvbHQgPSByLlZvbHQ7Ci8vICAgICAgICAgICAgICAgIGRvdWJsZSBjdXJyID0gci5DdXJyZW50OwovLwovLyAgICAgICAgICAgICAgICB2b2x0ID0gY2FsY3VsYXRlX3NpcG1fdm9sdGFnZSh2b2x0LCBjdXJyKTsKLy8KLy8gICAgICAgICAgICAgICAgLy8gVGhpcyBtZWFzdXJlIGlzIGEgTmFOL092ZXJmbG93IGZyb20gdGhlIHBpY29hbW1ldGVyCi8vICAgICAgICAgICAgICAgIGlmIChjdXJyIDwgOS45ZTM3KXsKLy8gICAgICAgICAgICAgICAgICAgIF9kb2UuTGF0ZXN0TWVhc3VyZS5Wb2x0ID0gdm9sdDsKLy8gICAgICAgICAgICAgICAgICAgIF9kb2UuTGF0ZXN0TWVhc3VyZS5UaW1lID0gdGltZTsKLy8gICAgICAgICAgICAgICAgICAgIF9kb2UuTGF0ZXN0TWVhc3VyZS5DdXJyZW50ID0gY3VycjsKLy8gICAgICAgICAgICAgICAgICAgIF92b2x0YWdlc19maWxlLT5BZGQoX2RvZS5MYXRlc3RNZWFzdXJlKTsKLy8gICAgICAgICAgICAgICAgICAgIC8vIF9pbmRpY2F0b3Jfc2VuZGVyKEluZGljYXRvck5hbWVzOjpETU1fVk9MVEFHRSwgdGltZSwgdm9sdCk7Ci8vICAgICAgICAgICAgICAgICAgICAvLyBfaW5kaWNhdG9yX3NlbmRlcihJbmRpY2F0b3JOYW1lczo6TEFURVNUX0RNTV9WT0xUQUdFLCB2b2x0KTsKLy8gICAgICAgICAgICAgICAgICAgIC8vIF9pbmRpY2F0b3Jfc2VuZGVyKEluZGljYXRvck5hbWVzOjpQSUNPX0NVUlJFTlQsIHRpbWUsIGN1cnIpOwovLyAgICAgICAgICAgICAgICAgICAgLy8gX2luZGljYXRvcl9zZW5kZXIoSW5kaWNhdG9yTmFtZXM6OkxBVEVTVF9QSUNPX0NVUlJFTlQsIGN1cnIpOwovLyAgICAgICAgICAgICAgICB9Ci8vICAgICAgICAgICAgfQovLwovLyAgICAgICAgfSk7Ci8vCi8vICAgICAgICBzdGF0aWMgYXV0byBzYXZlX3ZvbHRhZ2VzID0gbWFrZV90b3RhbF90aW1lZF9ldmVudCgKLy8gICAgICAgICAgICBzdGQ6OmNocm9ubzo6c2Vjb25kcygzMCksCi8vICAgICAgICAgICAgWyZdKCkgewovLyAgICAgICAgICAgICAgICBzcGRsb2c6OmluZm8oIlNhdmluZyB2b2x0YWdlIChLZWl0aGxleSAyMDAwKSB2b2x0YWdlcy4iKTsKLy8gICAgICAgICAgICAgICAgYXN5bmNfc2F2ZShfdm9sdGFnZXNfZmlsZSwKLy8gICAgICAgICAgICAgICAgW10oY29uc3QgU2lQTVZvbHRhZ2VNZWFzdXJlJiBtZXMpIHsKLy8gICAgICAgICAgICAgICAgICAgIHN0ZDo6b3N0cmluZ3N0cmVhbSBvdXQ7Ci8vICAgICAgICAgICAgICAgICAgICBvdXQucHJlY2lzaW9uKDcpOwovLyAgICAgICAgICAgICAgICAgICAgb3V0IDw8ICIsIiA8PCBtZXMuVm9sdCA8PAovLyAgICAgICAgICAgICAgICAgICAgICAgICIsIiA8PCBtZXMuQ3VycmVudCA8PCAiXG4iIDw8IHN0ZDo6c2NpZW50aWZpYzs7Ci8vCi8vICAgICAgICAgICAgICAgICAgICByZXR1cm4gIHN0ZDo6dG9fc3RyaW5nKG1lcy5UaW1lKSArIG91dC5zdHIoKTsKLy8gICAgICAgICAgICB9KTsKLy8gICAgICAgIH0pOwovLwovLyAgICAgICAgc3dpdGNoIChfZG9lLkN1cnJlbnRTdGF0ZSkgewovLyAgICAgICAgICAgIGNhc2UgU2lQTUFjcXVpc2l0aW9uU3RhdGVzOjpPc2NpbGxvc2NvcGVNb2RlOgovLyAgICAgICAgICAgIGNhc2UgU2lQTUFjcXVpc2l0aW9uU3RhdGVzOjpNZWFzdXJlbWVudFJvdXRpbmVNb2RlOgovLyAgICAgICAgICAgICAgICBpZiAoX2RvZS5TaVBNVm9sdGFnZVN5c0NoYW5nZSkgewovLyAgICAgICAgICAgICAgICAgICAgX3NpcG1fdm9sdF9zeXMuZ2V0KFsmXShzZXJpYWxfcHRyJiBwb3J0KQovLyAgICAgICAgICAgICAgICAgICAgLT4gc3RkOjpvcHRpb25hbDxTaVBNVm9sdGFnZU1lYXN1cmU+IHsKLy8gICAgICAgICAgICAgICAgICAgICAgICBzZW5kX21zZyhwb3J0LCAiKythZGRyIDIyXG4iLCAiIik7Ci8vCi8vICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlIHdhaXQgdGltZSB0byBsZXQgdGhlIHVzZXIga25vdyB0aGUgdm9sdGFnZQovLyAgICAgICAgICAgICAgICAgICAgICAgIC8vIGhhcyBzdGFiaWxpemVkIGlzIDkwcyBvciAzIG1pbnMKLy8gICAgICAgICAgICAgICAgICAgICNpZmRlZiBOREVCVUcKLy8gICAgICAgICAgICAgICAgICAgICAgICBfd2FpdF90aW1lID0gOTAwMDAuMDsKLy8gICAgICAgICAgICAgICAgICAgICNlbHNlCi8vICAgICAgICAgICAgICAgICAgICAgICAgLy8gRGVidWcgbW9kZSByZWR1Y2VzIHRvIDMwc2Vjcy4gV2UgZG8gbm90IGhhdmUgdGltZSEKLy8gICAgICAgICAgICAgICAgICAgICAgICBfd2FpdF90aW1lID0gMzAwMDAuMDsKLy8gICAgICAgICAgICAgICAgICAgICNlbmRpZgovLyAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfZG9lLlNpUE1Wb2x0YWdlU3lzU3VwcGx5RU4pIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VuZF9tc2cocG9ydCwgIjpzb3VyOnZvbHQ6c3RhdCBPTlxuIiwgIiIpOwovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcGRsb2c6Ondhcm4oIlR1cm5pbmcgb24gdm9sdGFnZSBzdXBwbHkuIik7Ci8vCi8vICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VuZF9tc2cocG9ydCwgIjpzb3VyOnZvbHQ6c3RhdCBPRkZcbiIsICIiKTsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3BkbG9nOjp3YXJuKCJUdXJuaW5nIG9mZiB2b2x0YWdlIHN1cHBseS4iKTsKLy8gICAgICAgICAgICAgICAgICAgICAgICB9Ci8vCi8vICAgICAgICAgICAgICAgICAgICAgICAgYXV0byBkViA9IHN0ZDo6YWJzKF9kb2UuTGF0ZXN0TWVhc3VyZS5Wb2x0Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgIC0gX2RvZS5TaVBNVm9sdGFnZVN5c1ZvbHRhZ2UpOwovLyAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkViA+PSAxMC4wKSB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEhvd2V2ZXIsIHdoZW4gdGhlIHZvbHRhZ2Ugc3dpbmcgaXMgaGlnaGVyIHRoYW4KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gMTBWLCBpdCBzaG91bGQgYmUgbXVsdGlwbGllZCBpdCBieSAyLjUuCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgIF93YWl0X3RpbWUgKj0gMS4wOwovLyAgICAgICAgICAgICAgICAgICAgICAgIH0KLy8KLy8gICAgICAgICAgICAgICAgICAgICAgICBzZW5kX21zZyhwb3J0LCAiOnNvdXI6dm9sdCAiCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgc3RkOjp0b19zdHJpbmcoX2RvZS5TaVBNVm9sdGFnZVN5c1ZvbHRhZ2UpCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgIlxuIiwgIiIpOwovLwovLyAgICAgICAgICAgICAgICAgICAgICAgIHNwZGxvZzo6aW5mbygiQ2hhbmdpbmcgb3V0cHV0IHZvbHRhZ2UgdG8gezB9IiwKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2RvZS5TaVBNVm9sdGFnZVN5c1ZvbHRhZ2UpOwovLwovLyAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlc2V0dGluZyB0aGUgdGltZXIuCi8vICAgICAgICAgICAgICAgICAgICAgICAgX3Jlc2V0X3RpbWVyID0gZ2V0X2N1cnJlbnRfdGltZV9lcG9jaCgpOyAvLyBtcwovLwovLyAgICAgICAgICAgICAgICAgICAgICAgIC8vIExldCdzIGFsc28gcmVzZXQgdGhpcyBpbmRpY2F0b3Igd2hpY2ggaGVscHMKLy8gICAgICAgICAgICAgICAgICAgICAgICAvLyBtaW5pbWl6ZSBjb25mdXNpb24gaW4gdGhlIEdVSQovLyAgICAgICAgICAgICAgICAgICAgICAgIC8vIF9pbmRpY2F0b3Jfc2VuZGVyKEluZGljYXRvck5hbWVzOjpET05FX0RBVEFfVEFLSU5HLAovLyAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICBmYWxzZSk7Ci8vCi8vICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHt9OwovLyAgICAgICAgICAgICAgICAgICAgfSk7Ci8vCi8vICAgICAgICAgICAgICAgICAgICAvLyBSZXNldAovLyAgICAgICAgICAgICAgICAgICAgX2RvZS5TaVBNVm9sdGFnZVN5c0NoYW5nZSA9IGZhbHNlOwovLyAgICAgICAgICAgICAgICB9Ci8vCi8vICAgICAgICAgICAgICAgIC8vIFRoaXMgaXMgdG8gYWxsb3cgc29tZSB0aW1lIGJldHdlZW4gdm9sdGFnZSBjaGFuZ2VzIHNvIGl0Ci8vICAgICAgICAgICAgICAgIC8vIHNldHRsZXMgYmVmb3JlIGEgbWVhc3VyZW1lbnQgaXMgZG9uZS4KLy8gICAgICAgICAgICAgICAgaWYgKChnZXRfY3VycmVudF90aW1lX2Vwb2NoKCkgLSBfcmVzZXRfdGltZXIpIDwgX3dhaXRfdGltZSkgewovLyAgICAgICAgICAgICAgICAgICAgX2RvZS5pc1ZvbHRhZ2VTdGFiaWxpemVkID0gZmFsc2U7Ci8vICAgICAgICAgICAgICAgIH0gZWxzZSB7Ci8vICAgICAgICAgICAgICAgICAgICBfZG9lLmlzVm9sdGFnZVN0YWJpbGl6ZWQgPSB0cnVlOwovLyAgICAgICAgICAgICAgICB9Ci8vCi8vICAgICAgICAgICAgICAgIC8vIF9pbmRpY2F0b3Jfc2VuZGVyKEluZGljYXRvck5hbWVzOjpDVVJSRU5UX1NUQUJJTElaRUQsCi8vICAgICAgICAgICAgICAgIC8vICAgICAgICAgX2RvZS5pc1ZvbHRhZ2VTdGFiaWxpemVkKTsKLy8KLy8gICAgICAgICAgICAgICAgZ2V0X3ZvbHRhZ2UoKTsKLy8gICAgICAgICAgICAgICAgc2F2ZV92b2x0YWdlcygpOwovLyAgICAgICAgICAgIGJyZWFrOwovLwovLyAgICAgICAgICAgIGNhc2UgU2lQTUFjcXVpc2l0aW9uU3RhdGVzOjpTdGFuZGJ5OgovLyAgICAgICAgICAgIGNhc2UgU2lQTUFjcXVpc2l0aW9uU3RhdGVzOjpBdHRlbXB0Q29ubmVjdGlvbjoKLy8gICAgICAgICAgICBjYXNlIFNpUE1BY3F1aXNpdGlvblN0YXRlczo6RGlzY29ubmVjdGVkOgovLyAgICAgICAgICAgIGNhc2UgU2lQTUFjcXVpc2l0aW9uU3RhdGVzOjpDbG9zaW5nOgovLyAgICAgICAgICAgIGRlZmF1bHQ6Ci8vICAgICAgICAgICAgYnJlYWs7Ci8vICAgICAgICB9Ci8vICAgIH0KfTsKCnRlbXBsYXRlPHR5cGVuYW1lIFBpcGVzPgphdXRvIG1ha2Vfc2lwbWFjcXVpc2l0aW9uX21hbmFnZXIoY29uc3QgUGlwZXMmIHApIHsKICAgIHJldHVybiBzdGQ6Om1ha2VfdW5pcXVlPFNpUE1BY3F1aXNpdGlvbk1hbmFnZXI8UGlwZXM+PihwKTsKfQoKfSAgLy8gbmFtZXNwYWNlIFNCQ1F1ZWVucwojZW5kaWYKAAAAAAAAAABWdQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAZC8AAAAAAABkLwAAAAAAAAAAAAAAAPC/"
				]
			]
		},
		{
			"file": "include/sbcqueens-gui/sipm_helpers/SBCBinaryFormat.hpp",
			"settings":
			{
				"buffer_size": 17905,
				"line_ending": "Unix"
			},
			"undo_stack":
			[
				[
					3553,
					1,
					"insert_snippet",
					{
						"contents": "($0)"
					},
					"AQAAALkyAAAAAAAAuzIAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAuTIAAAAAAAC5MgAAAAAAAAAAAAAAAPC/"
				],
				[
					3565,
					1,
					"insert",
					{
						"characters": "const"
					},
					"BQAAALoyAAAAAAAAuzIAAAAAAAAAAAAAuzIAAAAAAAC8MgAAAAAAAAAAAAC8MgAAAAAAAL0yAAAAAAAAAAAAAL0yAAAAAAAAvjIAAAAAAAAAAAAAvjIAAAAAAAC/MgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAujIAAAAAAAC6MgAAAAAAAAAAAAAAAPC/"
				],
				[
					3566,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAL8yAAAAAAAAwDIAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAvzIAAAAAAAC/MgAAAAAAAAAAAAAAAPC/"
				],
				[
					3567,
					1,
					"paste",
					null,
					"AQAAAMAyAAAAAAAAzzIAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAwDIAAAAAAADAMgAAAAAAAAAAAAAAAPC/"
				],
				[
					3568,
					1,
					"insert",
					{
						"characters": "&"
					},
					"AQAAAM8yAAAAAAAA0DIAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAzzIAAAAAAADPMgAAAAAAAAAAAAAAAPC/"
				],
				[
					3569,
					1,
					"insert",
					{
						"characters": " config"
					},
					"BwAAANAyAAAAAAAA0TIAAAAAAAAAAAAA0TIAAAAAAADSMgAAAAAAAAAAAADSMgAAAAAAANMyAAAAAAAAAAAAANMyAAAAAAAA1DIAAAAAAAAAAAAA1DIAAAAAAADVMgAAAAAAAAAAAADVMgAAAAAAANYyAAAAAAAAAAAAANYyAAAAAAAA1zIAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA0DIAAAAAAADQMgAAAAAAAAAAAAAAAPC/"
				],
				[
					3571,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAANgyAAAAAAAA2TIAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA2DIAAAAAAADYMgAAAAAAAAAAAAAAAPC/"
				],
				[
					3572,
					1,
					"insert_snippet",
					{
						"contents": "{$0}"
					},
					"AQAAANkyAAAAAAAA2zIAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA2TIAAAAAAADZMgAAAAAAAAAAAAAAAPC/"
				],
				[
					3573,
					1,
					"run_macro_file",
					{
						"file": "res://Packages/Default/Add Line in Braces.sublime-macro"
					},
					"BgAAANoyAAAAAAAA2zIAAAAAAAAAAAAA2zIAAAAAAADjMgAAAAAAAAAAAADjMgAAAAAAAOQyAAAAAAAAAAAAAOQyAAAAAAAA7DIAAAAAAAAAAAAA2zIAAAAAAADbMgAAAAAAAAgAAAAgICAgICAgINsyAAAAAAAA5zIAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA2jIAAAAAAADaMgAAAAAAAAAAAAAAAPC/"
				],
				[
					3576,
					1,
					"insert",
					{
						"characters": "\n\t\t"
					},
					"BwAAALcyAAAAAAAAuDIAAAAAAAAAAAAAuDIAAAAAAADAMgAAAAAAAAAAAADkMgAAAAAAAOQyAAAAAAAADAAAACAgICAgICAgICAgILgyAAAAAAAAuDIAAAAAAAAIAAAAICAgICAgICC4MgAAAAAAAMQyAAAAAAAAAAAAAMQyAAAAAAAAyDIAAAAAAAAAAAAAyDIAAAAAAADMMgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAtzIAAAAAAAC3MgAAAAAAAAAAAAAAAPC/"
				],
				[
					3577,
					1,
					"insert",
					{
						"characters": "  "
					},
					"AgAAAMwyAAAAAAAAzTIAAAAAAAAAAAAAzTIAAAAAAADOMgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAzDIAAAAAAADMMgAAAAAAAAAAAAAAAPC/"
				],
				[
					3581,
					1,
					"insert",
					{
						"characters": "\n\t\t"
					},
					"BgAAAKgyAAAAAAAAqTIAAAAAAAAAAAAAqTIAAAAAAACxMgAAAAAAAAAAAACpMgAAAAAAAKkyAAAAAAAACAAAACAgICAgICAgqTIAAAAAAAC1MgAAAAAAAAAAAAC1MgAAAAAAALkyAAAAAAAAAAAAALkyAAAAAAAAvTIAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAqDIAAAAAAACoMgAAAAAAAAAAAAAAAPC/"
				],
				[
					3582,
					1,
					"insert",
					{
						"characters": "  "
					},
					"AgAAAL0yAAAAAAAAvjIAAAAAAAAAAAAAvjIAAAAAAAC/MgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAvTIAAAAAAAC9MgAAAAAAAAAAAAAAAPC/"
				],
				[
					3584,
					1,
					"trim_trailing_white_space",
					null,
					"AgAAAM0yAAAAAAAAzTIAAAAAAAABAAAAIKcyAAAAAAAApzIAAAAAAAABAAAAIA",
					"AQAAAAAAAAABAAAAvzIAAAAAAAC/MgAAAAAAAAAAAAAAAPC/"
				],
				[
					3587,
					1,
					"insert",
					{
						"characters": ";"
					},
					"AQAAABIzAAAAAAAAEzMAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAEjMAAAAAAAASMwAAAAAAAAAAAAAAAPC/"
				],
				[
					3590,
					1,
					"reindent",
					null,
					"AQAAAAczAAAAAAAAHzMAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAABzMAAAAAAAAHMwAAAAAAAAAAAAAAAPC/"
				],
				[
					3591,
					1,
					"insert",
					{
						"characters": "return"
					},
					"BgAAAB8zAAAAAAAAIDMAAAAAAAAAAAAAIDMAAAAAAAAhMwAAAAAAAAAAAAAhMwAAAAAAACIzAAAAAAAAAAAAACIzAAAAAAAAIzMAAAAAAAAAAAAAIzMAAAAAAAAkMwAAAAAAAAAAAAAkMwAAAAAAACUzAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAHzMAAAAAAAAfMwAAAAAAAAAAAAAAAPC/"
				],
				[
					3592,
					1,
					"insert",
					{
						"characters": " config.E"
					},
					"CQAAACUzAAAAAAAAJjMAAAAAAAAAAAAAJjMAAAAAAAAnMwAAAAAAAAAAAAAnMwAAAAAAACgzAAAAAAAAAAAAACgzAAAAAAAAKTMAAAAAAAAAAAAAKTMAAAAAAAAqMwAAAAAAAAAAAAAqMwAAAAAAACszAAAAAAAAAAAAACszAAAAAAAALDMAAAAAAAAAAAAALDMAAAAAAAAtMwAAAAAAAAAAAAAtMwAAAAAAAC4zAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAJTMAAAAAAAAlMwAAAAAAAAAAAAAAAPC/"
				],
				[
					3593,
					1,
					"insert",
					{
						"characters": "nabled;"
					},
					"BwAAAC4zAAAAAAAALzMAAAAAAAAAAAAALzMAAAAAAAAwMwAAAAAAAAAAAAAwMwAAAAAAADEzAAAAAAAAAAAAADEzAAAAAAAAMjMAAAAAAAAAAAAAMjMAAAAAAAAzMwAAAAAAAAAAAAAzMwAAAAAAADQzAAAAAAAAAAAAADQzAAAAAAAANTMAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAALjMAAAAAAAAuMwAAAAAAAAAAAAAAAPC/"
				],
				[
					3598,
					1,
					"left_delete",
					null,
					"AQAAAEIzAAAAAAAAQjMAAAAAAAB3AAAAICAgICAgICBmb3IoYXV0byBjb25maWcgOiBjb25maWdzKSB7CiAgICAgICAgICAgIGlmKGNvbmZpZy5FbmFibGVkKSB7CiAgICAgICAgICAgICAgICBlbl9jaHMrKzsKICAgICAgICAgICAgfQogICAgICAgIH0",
					"AQAAAAAAAAABAAAAuTMAAAAAAABCMwAAAAAAAAAAAAAAAPC/"
				],
				[
					3601,
					1,
					"cut",
					null,
					"AQAAAGwyAAAAAAAAbDIAAAAAAAAQAAAAdWludDMyX3QgZW5fY2hzIA",
					"AQAAAAAAAAABAAAAfDIAAAAAAABsMgAAAAAAAAAAAAAAAPC/"
				],
				[
					3604,
					1,
					"paste",
					null,
					"AQAAAHkyAAAAAAAAiTIAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAeTIAAAAAAAB5MgAAAAAAAAAAAAAAAPC/"
				],
				[
					3605,
					1,
					"insert",
					{
						"characters": "="
					},
					"AQAAAIkyAAAAAAAAijIAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAiTIAAAAAAACJMgAAAAAAAAAAAAAAAPC/"
				],
				[
					3606,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAIoyAAAAAAAAizIAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAijIAAAAAAACKMgAAAAAAAAAAAAAAAPC/"
				],
				[
					3612,
					2,
					"left_delete",
					null,
					"AgAAAGQyAAAAAAAAZDIAAAAAAAAMAAAAICAgICAgICA9IDA7YzIAAAAAAABjMgAAAAAAAAEAAAAK",
					"AQAAAAAAAAABAAAAcDIAAAAAAABkMgAAAAAAAAAAAAAAAPC/"
				],
				[
					3618,
					1,
					"insert",
					{
						"characters": "\n#include"
					},
					"CQAAAGoBAAAAAAAAawEAAAAAAAAAAAAAawEAAAAAAABsAQAAAAAAAAAAAABsAQAAAAAAAG0BAAAAAAAAAAAAAG0BAAAAAAAAbgEAAAAAAAAAAAAAbgEAAAAAAABvAQAAAAAAAAAAAABvAQAAAAAAAHABAAAAAAAAAAAAAHABAAAAAAAAcQEAAAAAAAAAAAAAcQEAAAAAAAByAQAAAAAAAAAAAAByAQAAAAAAAHMBAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAagEAAAAAAABqAQAAAAAAAAAAAAAAAPC/"
				],
				[
					3619,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAHMBAAAAAAAAdAEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAcwEAAAAAAABzAQAAAAAAAAAAAAAAAPC/"
				],
				[
					3620,
					1,
					"insert_snippet",
					{
						"contents": "<$0>"
					},
					"AQAAAHQBAAAAAAAAdgEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAdAEAAAAAAAB0AQAAAAAAAAAAAAAAAPC/"
				],
				[
					3621,
					1,
					"insert",
					{
						"characters": "algor"
					},
					"BQAAAHUBAAAAAAAAdgEAAAAAAAAAAAAAdgEAAAAAAAB3AQAAAAAAAAAAAAB3AQAAAAAAAHgBAAAAAAAAAAAAAHgBAAAAAAAAeQEAAAAAAAAAAAAAeQEAAAAAAAB6AQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAdQEAAAAAAAB1AQAAAAAAAAAAAAAAAPC/"
				],
				[
					3622,
					1,
					"insert_completion",
					{
						"completion": "algorithm",
						"format": "snippet",
						"keep_prefix": false,
						"must_insert": false,
						"trigger": "algorithm"
					},
					"AgAAAHUBAAAAAAAAdQEAAAAAAAAFAAAAYWxnb3J1AQAAAAAAAH4BAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAegEAAAAAAAB6AQAAAAAAAAAAAAAAAPC/"
				],
				[
					3627,
					1,
					"insert",
					{
						"characters": "\t\t\t\t\t"
					},
					"BQAAAMgyAAAAAAAAyjIAAAAAAAAAAAAAyjIAAAAAAADOMgAAAAAAAAAAAADOMgAAAAAAANIyAAAAAAAAAAAAANIyAAAAAAAA1jIAAAAAAAAAAAAA1jIAAAAAAADaMgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAyDIAAAAAAADIMgAAAAAAAAAAAAAAAPC/"
				],
				[
					3635,
					1,
					"insert",
					{
						"characters": "\t\t\t\t\t"
					},
					"BQAAAP8yAAAAAAAAATMAAAAAAAAAAAAAATMAAAAAAAAFMwAAAAAAAAAAAAAFMwAAAAAAAAkzAAAAAAAAAAAAAAkzAAAAAAAADTMAAAAAAAAAAAAADTMAAAAAAAARMwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA/zIAAAAAAAD/MgAAAAAAAAAAAAAAAPC/"
				],
				[
					3640,
					1,
					"insert",
					{
						"characters": "\t\t\t\t\t"
					},
					"BQAAAE0zAAAAAAAAUTMAAAAAAAAAAAAAUTMAAAAAAABVMwAAAAAAAAAAAABVMwAAAAAAAFkzAAAAAAAAAAAAAFkzAAAAAAAAXTMAAAAAAAAAAAAAXTMAAAAAAABhMwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAATTMAAAAAAABNMwAAAAAAAAAAAAAAAPC/"
				],
				[
					3643,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AgAAAIEzAAAAAAAAgjMAAAAAAAAAAAAAgjMAAAAAAACKMwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAgTMAAAAAAACBMwAAAAAAAAAAAAAAAPC/"
				],
				[
					3646,
					1,
					"insert",
					{
						"characters": "\t\t\t\t\t\t\t\t"
					},
					"CAAAAIAzAAAAAAAAhDMAAAAAAAAAAAAAhDMAAAAAAACIMwAAAAAAAAAAAACIMwAAAAAAAIwzAAAAAAAAAAAAAIwzAAAAAAAAkDMAAAAAAAAAAAAAkDMAAAAAAACUMwAAAAAAAAAAAACUMwAAAAAAAJgzAAAAAAAAAAAAAJgzAAAAAAAAnDMAAAAAAAAAAAAAnDMAAAAAAACgMwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAgDMAAAAAAACAMwAAAAAAAAAAAAAAAPC/"
				],
				[
					3657,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AQAAAEQsAAAAAAAARSwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAARCwAAAAAAABELAAAAAAAAAAAAAAAAPC/"
				],
				[
					3658,
					1,
					"reindent",
					null,
					"AQAAAEUsAAAAAAAAZSwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAARSwAAAAAAABFLAAAAAAAAAAAAAAAAPC/"
				],
				[
					3659,
					7,
					"left_delete",
					null,
					"BwAAAGEsAAAAAAAAYSwAAAAAAAAEAAAAICAgIF0sAAAAAAAAXSwAAAAAAAAEAAAAICAgIFksAAAAAAAAWSwAAAAAAAAEAAAAICAgIFUsAAAAAAAAVSwAAAAAAAAEAAAAICAgIFEsAAAAAAAAUSwAAAAAAAAEAAAAICAgIE0sAAAAAAAATSwAAAAAAAAEAAAAICAgIEksAAAAAAAASSwAAAAAAAAEAAAAICAgIA",
					"AQAAAAAAAAABAAAAZSwAAAAAAABlLAAAAAAAAAAAAAAAAPC/"
				],
				[
					3660,
					1,
					"insert",
					{
						"characters": "uint"
					},
					"BAAAAEksAAAAAAAASiwAAAAAAAAAAAAASiwAAAAAAABLLAAAAAAAAAAAAABLLAAAAAAAAEwsAAAAAAAAAAAAAEwsAAAAAAAATSwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAASSwAAAAAAABJLAAAAAAAAAAAAAAAAPC/"
				],
				[
					3661,
					4,
					"left_delete",
					null,
					"BAAAAEwsAAAAAAAATCwAAAAAAAABAAAAdEssAAAAAAAASywAAAAAAAABAAAAbkosAAAAAAAASiwAAAAAAAABAAAAaUksAAAAAAAASSwAAAAAAAABAAAAdQ",
					"AQAAAAAAAAABAAAATSwAAAAAAABNLAAAAAAAAAAAAAAAAPC/"
				],
				[
					3662,
					1,
					"insert",
					{
						"characters": "std::size_t"
					},
					"CwAAAEksAAAAAAAASiwAAAAAAAAAAAAASiwAAAAAAABLLAAAAAAAAAAAAABLLAAAAAAAAEwsAAAAAAAAAAAAAEwsAAAAAAAATSwAAAAAAAAAAAAATSwAAAAAAABOLAAAAAAAAAAAAABOLAAAAAAAAE8sAAAAAAAAAAAAAE8sAAAAAAAAUCwAAAAAAAAAAAAAUCwAAAAAAABRLAAAAAAAAAAAAABRLAAAAAAAAFIsAAAAAAAAAAAAAFIsAAAAAAAAUywAAAAAAAAAAAAAUywAAAAAAABULAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAASSwAAAAAAABJLAAAAAAAAAAAAAAAAPC/"
				],
				[
					3663,
					1,
					"insert",
					{
						"characters": " en"
					},
					"AwAAAFQsAAAAAAAAVSwAAAAAAAAAAAAAVSwAAAAAAABWLAAAAAAAAAAAAABWLAAAAAAAAFcsAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAVCwAAAAAAABULAAAAAAAAAAAAAAAAPC/"
				],
				[
					3664,
					2,
					"left_delete",
					null,
					"AgAAAFYsAAAAAAAAViwAAAAAAAABAAAAblUsAAAAAAAAVSwAAAAAAAABAAAAZQ",
					"AQAAAAAAAAABAAAAVywAAAAAAABXLAAAAAAAAAAAAAAAAPC/"
				],
				[
					3665,
					1,
					"insert",
					{
						"characters": "num_en"
					},
					"BgAAAFUsAAAAAAAAViwAAAAAAAAAAAAAViwAAAAAAABXLAAAAAAAAAAAAABXLAAAAAAAAFgsAAAAAAAAAAAAAFgsAAAAAAAAWSwAAAAAAAAAAAAAWSwAAAAAAABaLAAAAAAAAAAAAABaLAAAAAAAAFssAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAVSwAAAAAAABVLAAAAAAAAAAAAAAAAPC/"
				],
				[
					3666,
					1,
					"insert",
					{
						"characters": "_chs;"
					},
					"BQAAAFssAAAAAAAAXCwAAAAAAAAAAAAAXCwAAAAAAABdLAAAAAAAAAAAAABdLAAAAAAAAF4sAAAAAAAAAAAAAF4sAAAAAAAAXywAAAAAAAAAAAAAXywAAAAAAABgLAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAWywAAAAAAABbLAAAAAAAAAAAAAAAAPC/"
				],
				[
					3680,
					1,
					"insert",
					{
						"characters": "std:;siz"
					},
					"CQAAAEUyAAAAAAAARjIAAAAAAAAAAAAARjIAAAAAAABGMgAAAAAAAAgAAAB1aW50MzJfdEYyAAAAAAAARzIAAAAAAAAAAAAARzIAAAAAAABIMgAAAAAAAAAAAABIMgAAAAAAAEkyAAAAAAAAAAAAAEkyAAAAAAAASjIAAAAAAAAAAAAASjIAAAAAAABLMgAAAAAAAAAAAABLMgAAAAAAAEwyAAAAAAAAAAAAAEwyAAAAAAAATTIAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAARTIAAAAAAABNMgAAAAAAAAAAAAAAAPC/"
				],
				[
					3681,
					4,
					"left_delete",
					null,
					"BAAAAEwyAAAAAAAATDIAAAAAAAABAAAAeksyAAAAAAAASzIAAAAAAAABAAAAaUoyAAAAAAAASjIAAAAAAAABAAAAc0kyAAAAAAAASTIAAAAAAAABAAAAOw",
					"AQAAAAAAAAABAAAATTIAAAAAAABNMgAAAAAAAAAAAAAAAPC/"
				],
				[
					3682,
					1,
					"insert",
					{
						"characters": ":size_t"
					},
					"BwAAAEkyAAAAAAAASjIAAAAAAAAAAAAASjIAAAAAAABLMgAAAAAAAAAAAABLMgAAAAAAAEwyAAAAAAAAAAAAAEwyAAAAAAAATTIAAAAAAAAAAAAATTIAAAAAAABOMgAAAAAAAAAAAABOMgAAAAAAAE8yAAAAAAAAAAAAAE8yAAAAAAAAUDIAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAASTIAAAAAAABJMgAAAAAAAAAAAAAAAPC/"
				],
				[
					3699,
					1,
					"paste",
					null,
					"AgAAAKAyAAAAAAAAqzIAAAAAAAAAAAAAqzIAAAAAAACrMgAAAAAAAAgAAAB1aW50MzJfdA",
					"AQAAAAAAAAABAAAAoDIAAAAAAACoMgAAAAAAAAAAAAAAAPC/"
				],
				[
					3707,
					1,
					"insert",
					{
						"characters": "\t"
					},
					"AQAAAPwyAAAAAAAAADMAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA/DIAAAAAAAD8MgAAAAAAAAAAAAAAAPC/"
				],
				[
					3708,
					1,
					"left_delete",
					null,
					"AQAAAPwyAAAAAAAA/DIAAAAAAAAEAAAAICAgIA",
					"AQAAAAAAAAABAAAAADMAAAAAAAAAMwAAAAAAAAAAAAAAAPC/"
				],
				[
					3709,
					1,
					"insert",
					{
						"characters": "   "
					},
					"AwAAAPwyAAAAAAAA/TIAAAAAAAAAAAAA/TIAAAAAAAD+MgAAAAAAAAAAAAD+MgAAAAAAAP8yAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA/DIAAAAAAAD8MgAAAAAAAAAAAAAAAPC/"
				],
				[
					3712,
					1,
					"insert",
					{
						"characters": "   "
					},
					"AwAAADYzAAAAAAAANzMAAAAAAAAAAAAANzMAAAAAAAA4MwAAAAAAAAAAAAA4MwAAAAAAADkzAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAANjMAAAAAAAA2MwAAAAAAAAAAAAAAAPC/"
				],
				[
					3715,
					1,
					"insert",
					{
						"characters": "\t"
					},
					"AQAAAIkzAAAAAAAAjTMAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAiTMAAAAAAACJMwAAAAAAAAAAAAAAAPC/"
				],
				[
					3718,
					1,
					"insert",
					{
						"characters": "    "
					},
					"BAAAAMwzAAAAAAAAzTMAAAAAAAAAAAAAzTMAAAAAAADOMwAAAAAAAAAAAADOMwAAAAAAAM8zAAAAAAAAAAAAAM8zAAAAAAAA0DMAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAzDMAAAAAAADMMwAAAAAAAAAAAAAAAPC/"
				],
				[
					3729,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AgAAAO4xAAAAAAAA7zEAAAAAAAAAAAAA7zEAAAAAAAD3MQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA7jEAAAAAAADuMQAAAAAAAAAAAAAAAPC/"
				],
				[
					3740,
					1,
					"paste",
					null,
					"AQAAAO4xAAAAAAAA+DEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA7jEAAAAAAADuMQAAAAAAAAAAAAAAAPC/"
				],
				[
					3741,
					1,
					"insert_snippet",
					{
						"contents": "{$0}"
					},
					"AQAAAPgxAAAAAAAA+jEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA+DEAAAAAAAD4MQAAAAAAAAAAAAAAAPC/"
				],
				[
					3744,
					1,
					"insert",
					{
						"characters": "_"
					},
					"AQAAAFUsAAAAAAAAViwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAVSwAAAAAAABVLAAAAAAAAAAAAAAAAPC/"
				],
				[
					3747,
					1,
					"insert",
					{
						"characters": "_"
					},
					"AQAAAO8xAAAAAAAA8DEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA7zEAAAAAAADvMQAAAAAAAAAAAAAAAPC/"
				],
				[
					3758,
					1,
					"paste",
					null,
					"AQAAAPsxAAAAAAAADzIAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA+zEAAAAAAAD7MQAAAAAAAAAAAAAAAPC/"
				],
				[
					3759,
					1,
					"insert_snippet",
					{
						"contents": "($0)"
					},
					"AQAAAA8yAAAAAAAAETIAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAADzIAAAAAAAAPMgAAAAAAAAAAAAAAAPC/"
				],
				[
					3769,
					1,
					"paste",
					null,
					"AQAAABAyAAAAAAAAIjIAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAEDIAAAAAAAAQMgAAAAAAAAAAAAAAAPC/"
				],
				[
					3772,
					1,
					"insert",
					{
						"characters": ","
					},
					"AQAAACQyAAAAAAAAJTIAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAJDIAAAAAAAAkMgAAAAAAAAAAAAAAAPC/"
				],
				[
					3786,
					1,
					"insert",
					{
						"characters": "\n\n"
					},
					"BQAAADo0AAAAAAAAOzQAAAAAAAAAAAAAOzQAAAAAAAA/NAAAAAAAAAAAAAA/NAAAAAAAAEA0AAAAAAAAAAAAAEA0AAAAAAAARDQAAAAAAAAAAAAAOzQAAAAAAAA7NAAAAAAAAAQAAAAgICAg",
					"AQAAAAAAAAABAAAAOjQAAAAAAAA6NAAAAAAAAAAAAAAAAPC/"
				],
				[
					3802,
					1,
					"insert",
					{
						"characters": "\n\nuint32_ty"
					},
					"DwAAAEYtAAAAAAAARy0AAAAAAAAAAAAARy0AAAAAAABLLQAAAAAAAAAAAABBNAAAAAAAAEE0AAAAAAAABAAAACAgICBLLQAAAAAAAEwtAAAAAAAAAAAAAEwtAAAAAAAAUC0AAAAAAAAAAAAARy0AAAAAAABHLQAAAAAAAAQAAAAgICAgTC0AAAAAAABNLQAAAAAAAAAAAABNLQAAAAAAAE4tAAAAAAAAAAAAAE4tAAAAAAAATy0AAAAAAAAAAAAATy0AAAAAAABQLQAAAAAAAAAAAABQLQAAAAAAAFEtAAAAAAAAAAAAAFEtAAAAAAAAUi0AAAAAAAAAAAAAUi0AAAAAAABTLQAAAAAAAAAAAABTLQAAAAAAAFQtAAAAAAAAAAAAAFQtAAAAAAAAVS0AAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAARi0AAAAAAABGLQAAAAAAAAAAAAAAAPC/"
				],
				[
					3803,
					2,
					"left_delete",
					null,
					"AgAAAFQtAAAAAAAAVC0AAAAAAAABAAAAeVMtAAAAAAAAUy0AAAAAAAABAAAAdA",
					"AQAAAAAAAAABAAAAVS0AAAAAAABVLQAAAAAAAAAAAAAAAPC/"
				],
				[
					3804,
					1,
					"insert",
					{
						"characters": "t"
					},
					"AQAAAFMtAAAAAAAAVC0AAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAUy0AAAAAAABTLQAAAAAAAAAAAAAAAPC/"
				],
				[
					3805,
					1,
					"insert",
					{
						"characters": " rec"
					},
					"BAAAAFQtAAAAAAAAVS0AAAAAAAAAAAAAVS0AAAAAAABWLQAAAAAAAAAAAABWLQAAAAAAAFctAAAAAAAAAAAAAFctAAAAAAAAWC0AAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAVC0AAAAAAABULQAAAAAAAAAAAAAAAPC/"
				],
				[
					3806,
					4,
					"left_delete",
					null,
					"BAAAAFctAAAAAAAAVy0AAAAAAAABAAAAY1YtAAAAAAAAVi0AAAAAAAABAAAAZVUtAAAAAAAAVS0AAAAAAAABAAAAclQtAAAAAAAAVC0AAAAAAAABAAAAIA",
					"AQAAAAAAAAABAAAAWC0AAAAAAABYLQAAAAAAAAAAAAAAAPC/"
				],
				[
					3807,
					1,
					"insert",
					{
						"characters": " _record_le"
					},
					"CwAAAFQtAAAAAAAAVS0AAAAAAAAAAAAAVS0AAAAAAABWLQAAAAAAAAAAAABWLQAAAAAAAFctAAAAAAAAAAAAAFctAAAAAAAAWC0AAAAAAAAAAAAAWC0AAAAAAABZLQAAAAAAAAAAAABZLQAAAAAAAFotAAAAAAAAAAAAAFotAAAAAAAAWy0AAAAAAAAAAAAAWy0AAAAAAABcLQAAAAAAAAAAAABcLQAAAAAAAF0tAAAAAAAAAAAAAF0tAAAAAAAAXi0AAAAAAAAAAAAAXi0AAAAAAABfLQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAVC0AAAAAAABULQAAAAAAAAAAAAAAAPC/"
				],
				[
					3808,
					1,
					"insert",
					{
						"characters": "g"
					},
					"AQAAAF8tAAAAAAAAYC0AAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAXy0AAAAAAABfLQAAAAAAAAAAAAAAAPC/"
				],
				[
					3809,
					1,
					"left_delete",
					null,
					"AQAAAF8tAAAAAAAAXy0AAAAAAAABAAAAZw",
					"AQAAAAAAAAABAAAAYC0AAAAAAABgLQAAAAAAAAAAAAAAAPC/"
				],
				[
					3810,
					1,
					"insert",
					{
						"characters": "ngth;"
					},
					"BQAAAF8tAAAAAAAAYC0AAAAAAAAAAAAAYC0AAAAAAABhLQAAAAAAAAAAAABhLQAAAAAAAGItAAAAAAAAAAAAAGItAAAAAAAAYy0AAAAAAAAAAAAAYy0AAAAAAABkLQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAXy0AAAAAAABfLQAAAAAAAAAAAAAAAPC/"
				],
				[
					3821,
					1,
					"insert",
					{
						"characters": ","
					},
					"AQAAAGIyAAAAAAAAYzIAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAYjIAAAAAAABiMgAAAAAAAAAAAAAAAPC/"
				],
				[
					3822,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AgAAAGMyAAAAAAAAZDIAAAAAAAAAAAAAZDIAAAAAAABsMgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAYzIAAAAAAABjMgAAAAAAAAAAAAAAAPC/"
				],
				[
					3823,
					1,
					"paste",
					null,
					"AQAAAGwyAAAAAAAAejIAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAbDIAAAAAAABsMgAAAAAAAAAAAAAAAPC/"
				],
				[
					3824,
					1,
					"insert_snippet",
					{
						"contents": "{$0}"
					},
					"AQAAAHoyAAAAAAAAfDIAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAejIAAAAAAAB6MgAAAAAAAAAAAAAAAPC/"
				],
				[
					3825,
					1,
					"insert",
					{
						"characters": "caen"
					},
					"BAAAAHsyAAAAAAAAfDIAAAAAAAAAAAAAfDIAAAAAAAB9MgAAAAAAAAAAAAB9MgAAAAAAAH4yAAAAAAAAAAAAAH4yAAAAAAAAfzIAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAezIAAAAAAAB7MgAAAAAAAAAAAAAAAPC/"
				],
				[
					3826,
					1,
					"insert_completion",
					{
						"completion": "lsp_select_completion_item {\"item\":{\"detail\":\"const CAENGlobalConfig &\",\"label\":\" caen_global_config\",\"sortText\":\"3f7304cbcaen_global_config\",\"kind\":6,\"textEdit\":{\"newText\":\"caen_global_config\",\"range\":{\"end\":{\"character\":27,\"line\":360},\"start\":{\"character\":23,\"line\":360}}},\"insertTextFormat\":1,\"filterText\":\"caen_global_config\",\"insertText\":\"caen_global_config\",\"score\":4.405664920806885},\"session_name\":\"clangd\"}",
						"format": "command",
						"keep_prefix": true,
						"must_insert": false,
						"query_change_id":
						[
							2728,
							3825,
							4
						],
						"trigger": "caen_global_config"
					},
					"AgAAAHsyAAAAAAAAezIAAAAAAAAEAAAAY2FlbnsyAAAAAAAAjTIAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAfzIAAAAAAAB/MgAAAAAAAAAAAAAAAPC/"
				],
				[
					3827,
					1,
					"insert",
					{
						"characters": "."
					},
					"AQAAAI0yAAAAAAAAjjIAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAjTIAAAAAAACNMgAAAAAAAAAAAAAAAPC/"
				],
				[
					3828,
					1,
					"insert_completion",
					{
						"completion": "lsp_select_completion_item {\"item\":{\"detail\":\"uint32_t\",\"label\":\" RecordLength\",\"sortText\":\"404ff44eRecordLength\",\"kind\":5,\"textEdit\":{\"newText\":\"RecordLength\",\"range\":{\"end\":{\"character\":42,\"line\":360},\"start\":{\"character\":42,\"line\":360}}},\"insertTextFormat\":1,\"filterText\":\"RecordLength\",\"insertText\":\"RecordLength\",\"score\":1.375356912612915},\"session_name\":\"clangd\"}",
						"format": "command",
						"keep_prefix": true,
						"must_insert": true,
						"query_change_id":
						[
							2730,
							3827,
							1
						],
						"trigger": "RecordLength"
					},
					"AQAAAI4yAAAAAAAAmjIAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAjjIAAAAAAACOMgAAAAAAAAAAAAAAAPC/"
				],
				[
					3833,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AgAAAGMyAAAAAAAAZDIAAAAAAAAAAAAAZDIAAAAAAABsMgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAYzIAAAAAAABjMgAAAAAAAAAAAAAAAPC/"
				],
				[
					3835,
					1,
					"trim_trailing_white_space",
					null,
					"AQAAAGQyAAAAAAAAZDIAAAAAAAAIAAAAICAgICAgICA",
					"AQAAAAAAAAABAAAAbDIAAAAAAABsMgAAAAAAAAAAAAAAAPC/"
				],
				[
					3838,
					1,
					"insert",
					{
						"characters": "l"
					},
					"AQAAAPwyAAAAAAAA/TIAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA/DIAAAAAAAD8MgAAAAAAAAAAAAAAAPC/"
				],
				[
					3848,
					1,
					"paste",
					null,
					"AgAAABkyAAAAAAAALjIAAAAAAAAAAAAALjIAAAAAAAAuMgAAAAAAABQAAABfZ2V0X2VuYWJsZWRfY2hhbm5lcw",
					"AQAAAAAAAAABAAAAGTIAAAAAAAAtMgAAAAAAAAAAAAAAAPC/"
				],
				[
					3855,
					1,
					"insert",
					{
						"characters": "\n\n"
					},
					"BQAAAJQ0AAAAAAAAlTQAAAAAAAAAAAAAlTQAAAAAAACZNAAAAAAAAAAAAACZNAAAAAAAAJo0AAAAAAAAAAAAAJo0AAAAAAAAnjQAAAAAAAAAAAAAlTQAAAAAAACVNAAAAAAAAAQAAAAgICAg",
					"AQAAAAAAAAABAAAAlDQAAAAAAACUNAAAAAAAAAAAAAAAAPC/"
				],
				[
					3856,
					1,
					"insert",
					{
						"characters": "std::ar"
					},
					"BwAAAJo0AAAAAAAAmzQAAAAAAAAAAAAAmzQAAAAAAACcNAAAAAAAAAAAAACcNAAAAAAAAJ00AAAAAAAAAAAAAJ00AAAAAAAAnjQAAAAAAAAAAAAAnjQAAAAAAACfNAAAAAAAAAAAAACfNAAAAAAAAKA0AAAAAAAAAAAAAKA0AAAAAAAAoTQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAmjQAAAAAAACaNAAAAAAAAAAAAAAAAPC/"
				],
				[
					3857,
					1,
					"insert",
					{
						"characters": "ray<>"
					},
					"BQAAAKE0AAAAAAAAojQAAAAAAAAAAAAAojQAAAAAAACjNAAAAAAAAAAAAACjNAAAAAAAAKQ0AAAAAAAAAAAAAKQ0AAAAAAAApTQAAAAAAAAAAAAApTQAAAAAAACmNAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAoTQAAAAAAAChNAAAAAAAAAAAAAAAAPC/"
				],
				[
					3861,
					1,
					"left_delete",
					null,
					"AQAAAJo0AAAAAAAAmjQAAAAAAAAMAAAAc3RkOjphcnJheTw+",
					"AQAAAAAAAAABAAAApjQAAAAAAACaNAAAAAAAAAAAAAAAAPC/"
				],
				[
					3862,
					1,
					"insert",
					{
						"characters": "auto"
					},
					"BAAAAJo0AAAAAAAAmzQAAAAAAAAAAAAAmzQAAAAAAACcNAAAAAAAAAAAAACcNAAAAAAAAJ00AAAAAAAAAAAAAJ00AAAAAAAAnjQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAmjQAAAAAAACaNAAAAAAAAAAAAAAAAPC/"
				],
				[
					3863,
					1,
					"insert",
					{
						"characters": " _d"
					},
					"AwAAAJ40AAAAAAAAnzQAAAAAAAAAAAAAnzQAAAAAAACgNAAAAAAAAAAAAACgNAAAAAAAAKE0AAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAnjQAAAAAAACeNAAAAAAAAAAAAAAAAPC/"
				],
				[
					3864,
					1,
					"insert",
					{
						"characters": "f"
					},
					"AQAAAKE0AAAAAAAAojQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAoTQAAAAAAAChNAAAAAAAAAAAAAAAAPC/"
				],
				[
					3865,
					2,
					"left_delete",
					null,
					"AgAAAKE0AAAAAAAAoTQAAAAAAAABAAAAZqA0AAAAAAAAoDQAAAAAAAABAAAAZA",
					"AQAAAAAAAAABAAAAojQAAAAAAACiNAAAAAAAAAAAAAAAAPC/"
				],
				[
					3866,
					1,
					"insert",
					{
						"characters": "form_ranks"
					},
					"CgAAAKA0AAAAAAAAoTQAAAAAAAAAAAAAoTQAAAAAAACiNAAAAAAAAAAAAACiNAAAAAAAAKM0AAAAAAAAAAAAAKM0AAAAAAAApDQAAAAAAAAAAAAApDQAAAAAAAClNAAAAAAAAAAAAAClNAAAAAAAAKY0AAAAAAAAAAAAAKY0AAAAAAAApzQAAAAAAAAAAAAApzQAAAAAAACoNAAAAAAAAAAAAACoNAAAAAAAAKk0AAAAAAAAAAAAAKk0AAAAAAAAqjQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAoDQAAAAAAACgNAAAAAAAAAAAAAAAAPC/"
				],
				[
					3867,
					1,
					"insert_snippet",
					{
						"contents": "($0)"
					},
					"AQAAAKo0AAAAAAAArDQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAqjQAAAAAAACqNAAAAAAAAAAAAAAAAPC/"
				],
				[
					3874,
					1,
					"paste",
					null,
					"AQAAAKs0AAAAAAAAJjUAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAqzQAAAAAAACrNAAAAAAAAAAAAAAAAPC/"
				],
				[
					3877,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAACc1AAAAAAAAKDUAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAJzUAAAAAAAAnNQAAAAAAAAAAAAAAAPC/"
				],
				[
					3878,
					1,
					"insert_snippet",
					{
						"contents": "{$0}"
					},
					"AQAAACg1AAAAAAAAKjUAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAKDUAAAAAAAAoNQAAAAAAAAAAAAAAAPC/"
				],
				[
					3879,
					1,
					"run_macro_file",
					{
						"file": "res://Packages/Default/Add Line in Braces.sublime-macro"
					},
					"CAAAACk1AAAAAAAAKjUAAAAAAAAAAAAAKjUAAAAAAABANQAAAAAAAAAAAABANQAAAAAAAEE1AAAAAAAAAAAAAEE1AAAAAAAAVzUAAAAAAAAAAAAAKjUAAAAAAAAqNQAAAAAAABYAAAAgICAgICAgICAgICAgICAgICAgICAgKzUAAAAAAAArNQAAAAAAABYAAAAgICAgICAgICAgICAgICAgICAgICAgKzUAAAAAAAAvNQAAAAAAAAAAAAAqNQAAAAAAADI1AAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAKTUAAAAAAAApNQAAAAAAAAAAAAAAAPC/"
				],
				[
					3882,
					1,
					"left_delete",
					null,
					"AgAAAOs0AAAAAAAA6zQAAAAAAAACAAAAICAoNQAAAAAAACg1AAAAAAAACAAAACAgICAgICAg",
					"AQAAAAAAAAABAAAA7TQAAAAAAADtNAAAAAAAAAAAAAAAAPC/"
				],
				[
					3883,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAOs0AAAAAAAA7DQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA6zQAAAAAAADrNAAAAAAAAAAAAAAAAPC/"
				],
				[
					3888,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AQAAACk1AAAAAAAAKjUAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAKTUAAAAAAAApNQAAAAAAAAAAAAAAAPC/"
				],
				[
					3891,
					1,
					"reindent",
					null,
					"AQAAACo1AAAAAAAAMjUAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAKjUAAAAAAAAqNQAAAAAAAAAAAAAAAAAA"
				],
				[
					3892,
					1,
					"insert",
					{
						"characters": "return"
					},
					"BgAAADI1AAAAAAAAMzUAAAAAAAAAAAAAMzUAAAAAAAA0NQAAAAAAAAAAAAA0NQAAAAAAADU1AAAAAAAAAAAAADU1AAAAAAAANjUAAAAAAAAAAAAANjUAAAAAAAA3NQAAAAAAAAAAAAA3NQAAAAAAADg1AAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAMjUAAAAAAAAyNQAAAAAAAAAAAAAAAPC/"
				],
				[
					3893,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAADg1AAAAAAAAOTUAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAODUAAAAAAAA4NQAAAAAAAAAAAAAAAPC/"
				],
				[
					3894,
					1,
					"insert_snippet",
					{
						"contents": "{$0}"
					},
					"AQAAADk1AAAAAAAAOzUAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAOTUAAAAAAAA5NQAAAAAAAAAAAAAAAPC/"
				],
				[
					3895,
					1,
					"insert",
					{
						"characters": "1,"
					},
					"AgAAADo1AAAAAAAAOzUAAAAAAAAAAAAAOzUAAAAAAAA8NQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAOjUAAAAAAAA6NQAAAAAAAAAAAAAAAPC/"
				],
				[
					3896,
					1,
					"insert",
					{
						"characters": " 1,"
					},
					"AwAAADw1AAAAAAAAPTUAAAAAAAAAAAAAPTUAAAAAAAA+NQAAAAAAAAAAAAA+NQAAAAAAAD81AAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAPDUAAAAAAAA8NQAAAAAAAAAAAAAAAPC/"
				],
				[
					3897,
					1,
					"insert",
					{
						"characters": " 1,"
					},
					"AwAAAD81AAAAAAAAQDUAAAAAAAAAAAAAQDUAAAAAAABBNQAAAAAAAAAAAABBNQAAAAAAAEI1AAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAPzUAAAAAAAA/NQAAAAAAAAAAAAAAAPC/"
				],
				[
					3898,
					1,
					"insert",
					{
						"characters": " ,1"
					},
					"AwAAAEI1AAAAAAAAQzUAAAAAAAAAAAAAQzUAAAAAAABENQAAAAAAAAAAAABENQAAAAAAAEU1AAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAQjUAAAAAAABCNQAAAAAAAAAAAAAAAPC/"
				],
				[
					3899,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAEU1AAAAAAAARjUAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAARTUAAAAAAABFNQAAAAAAAAAAAAAAAPC/"
				],
				[
					3900,
					3,
					"left_delete",
					null,
					"AwAAAEU1AAAAAAAARTUAAAAAAAABAAAAIEQ1AAAAAAAARDUAAAAAAAABAAAAMUM1AAAAAAAAQzUAAAAAAAABAAAALA",
					"AQAAAAAAAAABAAAARjUAAAAAAABGNQAAAAAAAAAAAAAAAPC/"
				],
				[
					3901,
					1,
					"insert",
					{
						"characters": "1,"
					},
					"AgAAAEM1AAAAAAAARDUAAAAAAAAAAAAARDUAAAAAAABFNQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAQzUAAAAAAABDNQAAAAAAAAAAAAAAAPC/"
				],
				[
					3902,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAEU1AAAAAAAARjUAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAARTUAAAAAAABFNQAAAAAAAAAAAAAAAPC/"
				],
				[
					3903,
					1,
					"insert",
					{
						"characters": "1,"
					},
					"AgAAAEY1AAAAAAAARzUAAAAAAAAAAAAARzUAAAAAAABINQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAARjUAAAAAAABGNQAAAAAAAAAAAAAAAPC/"
				],
				[
					3904,
					1,
					"insert",
					{
						"characters": " 1,"
					},
					"AwAAAEg1AAAAAAAASTUAAAAAAAAAAAAASTUAAAAAAABKNQAAAAAAAAAAAABKNQAAAAAAAEs1AAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAASDUAAAAAAABINQAAAAAAAAAAAAAAAPC/"
				],
				[
					3905,
					1,
					"insert",
					{
						"characters": " 1,"
					},
					"AwAAAEs1AAAAAAAATDUAAAAAAAAAAAAATDUAAAAAAABNNQAAAAAAAAAAAABNNQAAAAAAAE41AAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAASzUAAAAAAABLNQAAAAAAAAAAAAAAAPC/"
				],
				[
					3906,
					1,
					"insert",
					{
						"characters": " 1"
					},
					"AgAAAE41AAAAAAAATzUAAAAAAAAAAAAATzUAAAAAAABQNQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAATjUAAAAAAABONQAAAAAAAAAAAAAAAPC/"
				],
				[
					3907,
					1,
					"insert",
					{
						"characters": ","
					},
					"AQAAAFA1AAAAAAAAUTUAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAUDUAAAAAAABQNQAAAAAAAAAAAAAAAPC/"
				],
				[
					3908,
					1,
					"insert",
					{
						"characters": " 1,"
					},
					"AwAAAFE1AAAAAAAAUjUAAAAAAAAAAAAAUjUAAAAAAABTNQAAAAAAAAAAAABTNQAAAAAAAFQ1AAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAUTUAAAAAAABRNQAAAAAAAAAAAAAAAPC/"
				],
				[
					3909,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAFQ1AAAAAAAAVTUAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAVDUAAAAAAABUNQAAAAAAAAAAAAAAAPC/"
				],
				[
					3911,
					1,
					"insert",
					{
						"characters": "23"
					},
					"AgAAAFU1AAAAAAAAVjUAAAAAAAAAAAAAVjUAAAAAAABXNQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAVTUAAAAAAABVNQAAAAAAAAAAAAAAAPC/"
				],
				[
					3914,
					1,
					"left_delete",
					null,
					"AQAAAFU1AAAAAAAAVTUAAAAAAAABAAAAMg",
					"AQAAAAAAAAABAAAAVjUAAAAAAABWNQAAAAAAAAAAAAAAAPC/"
				],
				[
					3916,
					1,
					"insert",
					{
						"characters": ";"
					},
					"AQAAAFc1AAAAAAAAWDUAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAVzUAAAAAAABXNQAAAAAAAAAAAAAAAPC/"
				],
				[
					3921,
					1,
					"cut",
					null,
					"AQAAADk1AAAAAAAAOTUAAAAAAAAfAAAAezEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDN9Ow",
					"AQAAAAAAAAABAAAAWDUAAAAAAAA5NQAAAAAAAAAAAAAAAPC/"
				],
				[
					3924,
					1,
					"insert",
					{
						"characters": "\n\n"
					},
					"BQAAAEMsAAAAAAAARCwAAAAAAAAAAAAARCwAAAAAAABkLAAAAAAAAAAAAABkLAAAAAAAAGUsAAAAAAAAAAAAAGUsAAAAAAAAhSwAAAAAAAAAAAAARCwAAAAAAABELAAAAAAAACAAAAAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIA",
					"AQAAAAAAAAABAAAAQywAAAAAAABDLAAAAAAAAAAAAAAAAPC/"
				],
				[
					3925,
					8,
					"left_delete",
					null,
					"CAAAAGEsAAAAAAAAYSwAAAAAAAAEAAAAICAgIF0sAAAAAAAAXSwAAAAAAAAEAAAAICAgIFksAAAAAAAAWSwAAAAAAAAEAAAAICAgIFUsAAAAAAAAVSwAAAAAAAAEAAAAICAgIFEsAAAAAAAAUSwAAAAAAAAEAAAAICAgIE0sAAAAAAAATSwAAAAAAAAEAAAAICAgIEksAAAAAAAASSwAAAAAAAAEAAAAICAgIEUsAAAAAAAARSwAAAAAAAAEAAAAICAgIA",
					"AQAAAAAAAAABAAAAZSwAAAAAAABlLAAAAAAAAAAAAAAAAPC/"
				],
				[
					3926,
					1,
					"reindent",
					null,
					"AQAAAEUsAAAAAAAAZSwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAARSwAAAAAAABFLAAAAAAAAAAAAAAAAPC/"
				],
				[
					3927,
					7,
					"left_delete",
					null,
					"BwAAAGEsAAAAAAAAYSwAAAAAAAAEAAAAICAgIF0sAAAAAAAAXSwAAAAAAAAEAAAAICAgIFksAAAAAAAAWSwAAAAAAAAEAAAAICAgIFUsAAAAAAAAVSwAAAAAAAAEAAAAICAgIFEsAAAAAAAAUSwAAAAAAAAEAAAAICAgIE0sAAAAAAAATSwAAAAAAAAEAAAAICAgIEksAAAAAAAASSwAAAAAAAAEAAAAICAgIA",
					"AQAAAAAAAAABAAAAZSwAAAAAAABlLAAAAAAAAAAAAAAAAPC/"
				],
				[
					3928,
					1,
					"insert",
					{
						"characters": "const"
					},
					"BQAAAEksAAAAAAAASiwAAAAAAAAAAAAASiwAAAAAAABLLAAAAAAAAAAAAABLLAAAAAAAAEwsAAAAAAAAAAAAAEwsAAAAAAAATSwAAAAAAAAAAAAATSwAAAAAAABOLAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAASSwAAAAAAABJLAAAAAAAAAAAAAAAAPC/"
				],
				[
					3929,
					1,
					"insert",
					{
						"characters": " sipmdw"
					},
					"BwAAAE4sAAAAAAAATywAAAAAAAAAAAAATywAAAAAAABQLAAAAAAAAAAAAABQLAAAAAAAAFEsAAAAAAAAAAAAAFEsAAAAAAAAUiwAAAAAAAAAAAAAUiwAAAAAAABTLAAAAAAAAAAAAABTLAAAAAAAAFQsAAAAAAAAAAAAAFQsAAAAAAAAVSwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAATiwAAAAAAABOLAAAAAAAAAAAAAAAAPC/"
				],
				[
					3930,
					1,
					"insert",
					{
						"characters": "_ranks"
					},
					"BgAAAFUsAAAAAAAAViwAAAAAAAAAAAAAViwAAAAAAABXLAAAAAAAAAAAAABXLAAAAAAAAFgsAAAAAAAAAAAAAFgsAAAAAAAAWSwAAAAAAAAAAAAAWSwAAAAAAABaLAAAAAAAAAAAAABaLAAAAAAAAFssAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAVSwAAAAAAABVLAAAAAAAAAAAAAAAAPC/"
				],
				[
					3931,
					1,
					"insert",
					{
						"characters": " ="
					},
					"AgAAAFssAAAAAAAAXCwAAAAAAAAAAAAAXCwAAAAAAABdLAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAWywAAAAAAABbLAAAAAAAAAAAAAAAAPC/"
				],
				[
					3932,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAF0sAAAAAAAAXiwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAXSwAAAAAAABdLAAAAAAAAAAAAAAAAPC/"
				],
				[
					3933,
					1,
					"paste",
					null,
					"AQAAAF4sAAAAAAAAfSwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAXiwAAAAAAABeLAAAAAAAAAAAAAAAAPC/"
				],
				[
					3937,
					1,
					"insert",
					{
						"characters": "auto"
					},
					"BAAAAE8sAAAAAAAAUCwAAAAAAAAAAAAAUCwAAAAAAABRLAAAAAAAAAAAAABRLAAAAAAAAFIsAAAAAAAAAAAAAFIsAAAAAAAAUywAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAATywAAAAAAABPLAAAAAAAAAAAAAAAAPC/"
				],
				[
					3938,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAFMsAAAAAAAAVCwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAUywAAAAAAABTLAAAAAAAAAAAAAAAAPC/"
				],
				[
					3941,
					1,
					"insert",
					{
						"characters": "std::to_"
					},
					"CAAAAGMsAAAAAAAAZCwAAAAAAAAAAAAAZCwAAAAAAABlLAAAAAAAAAAAAABlLAAAAAAAAGYsAAAAAAAAAAAAAGYsAAAAAAAAZywAAAAAAAAAAAAAZywAAAAAAABoLAAAAAAAAAAAAABoLAAAAAAAAGksAAAAAAAAAAAAAGksAAAAAAAAaiwAAAAAAAAAAAAAaiwAAAAAAABrLAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAYywAAAAAAABjLAAAAAAAAAAAAAAAAPC/"
				],
				[
					3944,
					1,
					"insert",
					{
						"characters": "array"
					},
					"BQAAAGssAAAAAAAAbCwAAAAAAAAAAAAAbCwAAAAAAABtLAAAAAAAAAAAAABtLAAAAAAAAG4sAAAAAAAAAAAAAG4sAAAAAAAAbywAAAAAAAAAAAAAbywAAAAAAABwLAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAaywAAAAAAABrLAAAAAAAAAAAAAAAAPC/"
				],
				[
					3945,
					1,
					"insert",
					{
						"characters": "*("
					},
					"AgAAAHAsAAAAAAAAcSwAAAAAAAAAAAAAcSwAAAAAAAByLAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAcCwAAAAAAABwLAAAAAAAAAAAAAAAAPC/"
				],
				[
					3946,
					2,
					"left_delete",
					null,
					"AgAAAHEsAAAAAAAAcSwAAAAAAAABAAAAKHAsAAAAAAAAcCwAAAAAAAABAAAAKg",
					"AQAAAAAAAAABAAAAciwAAAAAAAByLAAAAAAAAAAAAAAAAPC/"
				],
				[
					3947,
					1,
					"insert",
					{
						"characters": "("
					},
					"AQAAAHAsAAAAAAAAcSwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAcCwAAAAAAABwLAAAAAAAAAAAAAAAAPC/"
				],
				[
					3950,
					1,
					"insert",
					{
						"characters": ")"
					},
					"AQAAAI8sAAAAAAAAkCwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAjywAAAAAAACPLAAAAAAAAAAAAAAAAPC/"
				],
				[
					3952,
					1,
					"trim_trailing_white_space",
					null,
					"AQAAAIY1AAAAAAAAhjUAAAAAAAABAAAAIA",
					"AQAAAAAAAAABAAAAkCwAAAAAAACQLAAAAAAAAAAAAAAAAPC/"
				],
				[
					3957,
					1,
					"insert",
					{
						"characters": "static"
					},
					"BgAAAE8sAAAAAAAAUCwAAAAAAAAAAAAAUCwAAAAAAABRLAAAAAAAAAAAAABRLAAAAAAAAFIsAAAAAAAAAAAAAFIsAAAAAAAAUywAAAAAAAAAAAAAUywAAAAAAABULAAAAAAAAAAAAABULAAAAAAAAFUsAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAATywAAAAAAABPLAAAAAAAAAAAAAAAAPC/"
				],
				[
					3958,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAFUsAAAAAAAAViwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAVSwAAAAAAABVLAAAAAAAAAAAAAAAAPC/"
				],
				[
					3965,
					1,
					"left_delete",
					null,
					"AQAAAJQsAAAAAAAAlCwAAAAAAAABAAAAMw",
					"AQAAAAAAAAABAAAAlSwAAAAAAACVLAAAAAAAAAAAAAAAAPC/"
				],
				[
					3966,
					1,
					"insert",
					{
						"characters": "2"
					},
					"AQAAAJQsAAAAAAAAlSwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAlCwAAAAAAACULAAAAAAAAAAAAAAAAPC/"
				],
				[
					3977,
					1,
					"insert",
					{
						"characters": "\n#include"
					},
					"CQAAAH8BAAAAAAAAgAEAAAAAAAAAAAAAgAEAAAAAAACBAQAAAAAAAAAAAACBAQAAAAAAAIIBAAAAAAAAAAAAAIIBAAAAAAAAgwEAAAAAAAAAAAAAgwEAAAAAAACEAQAAAAAAAAAAAACEAQAAAAAAAIUBAAAAAAAAAAAAAIUBAAAAAAAAhgEAAAAAAAAAAAAAhgEAAAAAAACHAQAAAAAAAAAAAACHAQAAAAAAAIgBAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAfwEAAAAAAAB/AQAAAAAAAAAAAAAAAPC/"
				],
				[
					3978,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAIgBAAAAAAAAiQEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAiAEAAAAAAACIAQAAAAAAAAAAAAAAAPC/"
				],
				[
					3979,
					1,
					"insert_snippet",
					{
						"contents": "<$0>"
					},
					"AQAAAIkBAAAAAAAAiwEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAiQEAAAAAAACJAQAAAAAAAAAAAAAAAPC/"
				],
				[
					3980,
					1,
					"insert",
					{
						"characters": "array"
					},
					"BQAAAIoBAAAAAAAAiwEAAAAAAAAAAAAAiwEAAAAAAACMAQAAAAAAAAAAAACMAQAAAAAAAI0BAAAAAAAAAAAAAI0BAAAAAAAAjgEAAAAAAAAAAAAAjgEAAAAAAACPAQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAigEAAAAAAACKAQAAAAAAAAAAAAAAAPC/"
				],
				[
					3992,
					1,
					"insert",
					{
						"characters": "std::array"
					},
					"CwAAAGcsAAAAAAAAaCwAAAAAAAAAAAAAaCwAAAAAAABoLAAAAAAAAAQAAABhdXRvaCwAAAAAAABpLAAAAAAAAAAAAABpLAAAAAAAAGosAAAAAAAAAAAAAGosAAAAAAAAaywAAAAAAAAAAAAAaywAAAAAAABsLAAAAAAAAAAAAABsLAAAAAAAAG0sAAAAAAAAAAAAAG0sAAAAAAAAbiwAAAAAAAAAAAAAbiwAAAAAAABvLAAAAAAAAAAAAABvLAAAAAAAAHAsAAAAAAAAAAAAAHAsAAAAAAAAcSwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAZywAAAAAAABrLAAAAAAAAAAAAAAAAPC/"
				],
				[
					3993,
					1,
					"insert",
					{
						"characters": "<>"
					},
					"AgAAAHEsAAAAAAAAciwAAAAAAAAAAAAAciwAAAAAAABzLAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAcSwAAAAAAABxLAAAAAAAAAAAAAAAAPC/"
				],
				[
					3995,
					1,
					"insert",
					{
						"characters": "std::size_"
					},
					"CgAAAHIsAAAAAAAAcywAAAAAAAAAAAAAcywAAAAAAAB0LAAAAAAAAAAAAAB0LAAAAAAAAHUsAAAAAAAAAAAAAHUsAAAAAAAAdiwAAAAAAAAAAAAAdiwAAAAAAAB3LAAAAAAAAAAAAAB3LAAAAAAAAHgsAAAAAAAAAAAAAHgsAAAAAAAAeSwAAAAAAAAAAAAAeSwAAAAAAAB6LAAAAAAAAAAAAAB6LAAAAAAAAHssAAAAAAAAAAAAAHssAAAAAAAAfCwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAciwAAAAAAAByLAAAAAAAAAAAAAAAAPC/"
				],
				[
					3996,
					1,
					"insert",
					{
						"characters": "t,"
					},
					"AgAAAHwsAAAAAAAAfSwAAAAAAAAAAAAAfSwAAAAAAAB+LAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAfCwAAAAAAAB8LAAAAAAAAAAAAAAAAPC/"
				],
				[
					3997,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAH4sAAAAAAAAfywAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAfiwAAAAAAAB+LAAAAAAAAAAAAAAAAPC/"
				],
				[
					4003,
					1,
					"insert",
					{
						"characters": "10"
					},
					"AgAAAH8sAAAAAAAAgCwAAAAAAAAAAAAAgCwAAAAAAACBLAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAfywAAAAAAAB/LAAAAAAAAAAAAAAAAPC/"
				],
				[
					4007,
					1,
					"left_delete",
					null,
					"AQAAAJIsAAAAAAAAkiwAAAAAAAAOAAAAc3RkOjp0b19hcnJheSg",
					"AQAAAAAAAAABAAAAkiwAAAAAAACgLAAAAAAAAAAAAAAAAPC/"
				],
				[
					4008,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AgAAAJIsAAAAAAAAkywAAAAAAAAAAAAAkywAAAAAAACXLAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAkiwAAAAAAACSLAAAAAAAAAAAAAAAAPC/"
				],
				[
					4011,
					1,
					"left_delete",
					null,
					"AQAAALUsAAAAAAAAtSwAAAAAAAABAAAAKQ",
					"AQAAAAAAAAABAAAAtiwAAAAAAAC2LAAAAAAAAAAAAAAAAPC/"
				],
				[
					4014,
					1,
					"insert",
					{
						"characters": "\t\t\t\t\t\t\t\t"
					},
					"CAAAAJcsAAAAAAAAmywAAAAAAAAAAAAAmywAAAAAAACfLAAAAAAAAAAAAACfLAAAAAAAAKMsAAAAAAAAAAAAAKMsAAAAAAAApywAAAAAAAAAAAAApywAAAAAAACrLAAAAAAAAAAAAACrLAAAAAAAAK8sAAAAAAAAAAAAAK8sAAAAAAAAsywAAAAAAAAAAAAAsywAAAAAAAC3LAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAlywAAAAAAACXLAAAAAAAAAAAAAAAAPC/"
				],
				[
					4016,
					1,
					"trim_trailing_white_space",
					null,
					"AQAAAJEsAAAAAAAAkSwAAAAAAAABAAAAIA",
					"AQAAAAAAAAABAAAAtywAAAAAAAC3LAAAAAAAAAAAAAAAAPC/"
				],
				[
					4028,
					1,
					"paste",
					null,
					"AgAAAH8sAAAAAAAAhSwAAAAAAAAAAAAAhSwAAAAAAACFLAAAAAAAAAIAAAAxMA",
					"AQAAAAAAAAABAAAAfywAAAAAAACBLAAAAAAAAAAAAAAAAPC/"
				],
				[
					4029,
					1,
					"insert",
					{
						"characters": "::nu"
					},
					"BAAAAIUsAAAAAAAAhiwAAAAAAAAAAAAAhiwAAAAAAACHLAAAAAAAAAAAAACHLAAAAAAAAIgsAAAAAAAAAAAAAIgsAAAAAAAAiSwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAhSwAAAAAAACFLAAAAAAAAAAAAAAAAPC/"
				],
				[
					4030,
					1,
					"insert",
					{
						"characters": "m"
					},
					"AQAAAIksAAAAAAAAiiwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAiSwAAAAAAACJLAAAAAAAAAAAAAAAAPC/"
				],
				[
					4031,
					3,
					"left_delete",
					null,
					"AwAAAIksAAAAAAAAiSwAAAAAAAABAAAAbYgsAAAAAAAAiCwAAAAAAAABAAAAdYcsAAAAAAAAhywAAAAAAAABAAAAbg",
					"AQAAAAAAAAABAAAAiiwAAAAAAACKLAAAAAAAAAAAAAAAAPC/"
				],
				[
					4032,
					2,
					"left_delete",
					null,
					"AgAAAIYsAAAAAAAAhiwAAAAAAAABAAAAOoUsAAAAAAAAhSwAAAAAAAABAAAAOg",
					"AQAAAAAAAAABAAAAhywAAAAAAACHLAAAAAAAAAAAAAAAAPC/"
				],
				[
					4033,
					1,
					"insert",
					{
						"characters": ".num"
					},
					"BAAAAIUsAAAAAAAAhiwAAAAAAAAAAAAAhiwAAAAAAACHLAAAAAAAAAAAAACHLAAAAAAAAIgsAAAAAAAAAAAAAIgsAAAAAAAAiSwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAhSwAAAAAAACFLAAAAAAAAAAAAAAAAPC/"
				],
				[
					4034,
					1,
					"insert",
					{
						"characters": "_colos"
					},
					"BgAAAIksAAAAAAAAiiwAAAAAAAAAAAAAiiwAAAAAAACLLAAAAAAAAAAAAACLLAAAAAAAAIwsAAAAAAAAAAAAAIwsAAAAAAAAjSwAAAAAAAAAAAAAjSwAAAAAAACOLAAAAAAAAAAAAACOLAAAAAAAAI8sAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAiSwAAAAAAACJLAAAAAAAAAAAAAAAAPC/"
				],
				[
					4035,
					2,
					"left_delete",
					null,
					"AgAAAI4sAAAAAAAAjiwAAAAAAAABAAAAc40sAAAAAAAAjSwAAAAAAAABAAAAbw",
					"AQAAAAAAAAABAAAAjywAAAAAAACPLAAAAAAAAAAAAAAAAPC/"
				],
				[
					4036,
					1,
					"insert",
					{
						"characters": "s"
					},
					"AQAAAI0sAAAAAAAAjiwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAjSwAAAAAAACNLAAAAAAAAAAAAAAAAPC/"
				],
				[
					4052,
					1,
					"paste",
					null,
					"AQAAAAEzAAAAAAAADTMAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAATMAAAAAAAABMwAAAAAAAAAAAAAAAPC/"
				],
				[
					4053,
					1,
					"insert",
					{
						"characters": ","
					},
					"AQAAAA0zAAAAAAAADjMAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAADTMAAAAAAAANMwAAAAAAAAAAAAAAAPC/"
				],
				[
					4054,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAA4zAAAAAAAADzMAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAADjMAAAAAAAAOMwAAAAAAAAAAAAAAAPC/"
				],
				[
					4059,
					1,
					"cut",
					null,
					"AQAAAAEtAAAAAAAAAS0AAAAAAAAVAAAAICAgIFNpUE1EVyBfc3RyZWFtZXI7",
					"AQAAAAAAAAABAAAAFi0AAAAAAAABLQAAAAAAAAAAAAAAAPC/"
				],
				[
					4060,
					1,
					"left_delete",
					null,
					"AQAAAAAtAAAAAAAAAC0AAAAAAAABAAAACg",
					"AQAAAAAAAAABAAAAAS0AAAAAAAABLQAAAAAAAAAAAAAAAPC/"
				],
				[
					4069,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AgAAAO0tAAAAAAAA7i0AAAAAAAAAAAAA7i0AAAAAAADyLQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA7S0AAAAAAADtLQAAAAAAAAAAAAAAAPC/"
				],
				[
					4070,
					1,
					"paste",
					null,
					"AQAAAPItAAAAAAAABy4AAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA8i0AAAAAAADyLQAAAAAAAAAAAAAAAPC/"
				],
				[
					4077,
					1,
					"unindent",
					null,
					"AQAAAO4tAAAAAAAA7i0AAAAAAAAEAAAAICAgIA",
					"AQAAAAAAAAABAAAA9i0AAAAAAAD2LQAAAAAAAAAAAAAAAPC/"
				],
				[
					4091,
					1,
					"insert",
					{
						"characters": "sizes"
					},
					"BgAAAFI1AAAAAAAAUzUAAAAAAAAAAAAAUzUAAAAAAABTNQAAAAAAAAUAAAByYW5rc1M1AAAAAAAAVDUAAAAAAAAAAAAAVDUAAAAAAABVNQAAAAAAAAAAAABVNQAAAAAAAFY1AAAAAAAAAAAAAFY1AAAAAAAAVzUAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAVzUAAAAAAABSNQAAAAAAAAAAAAAAAPC/"
				],
				[
					4096,
					2,
					"left_delete",
					null,
					"AgAAANc1AAAAAAAA1zUAAAAAAAAOAAAAICAgICAgICByZXR1cm7WNQAAAAAAANY1AAAAAAAAAQAAAAo",
					"AQAAAAAAAAABAAAA5TUAAAAAAADXNQAAAAAAAAAAAAAAAPC/"
				],
				[
					4097,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AQAAANY1AAAAAAAA1zUAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA1jUAAAAAAADWNQAAAAAAAAAAAAAAAPC/"
				],
				[
					4099,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AQAAANY1AAAAAAAA1zUAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA1jUAAAAAAADWNQAAAAAAAAAAAAAAAAAA"
				],
				[
					4100,
					1,
					"reindent",
					null,
					"AQAAANc1AAAAAAAA3zUAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA1zUAAAAAAADXNQAAAAAAAAAAAAAAAPC/"
				],
				[
					4105,
					1,
					"insert",
					{
						"characters": "std::array<"
					},
					"DQAAAEc1AAAAAAAASDUAAAAAAAAAAAAASDUAAAAAAABINQAAAAAAAAQAAABhdXRv1DUAAAAAAADUNQAAAAAAAAgAAAAgICAgICAgIEg1AAAAAAAASTUAAAAAAAAAAAAASTUAAAAAAABKNQAAAAAAAAAAAABKNQAAAAAAAEs1AAAAAAAAAAAAAEs1AAAAAAAATDUAAAAAAAAAAAAATDUAAAAAAABNNQAAAAAAAAAAAABNNQAAAAAAAE41AAAAAAAAAAAAAE41AAAAAAAATzUAAAAAAAAAAAAATzUAAAAAAABQNQAAAAAAAAAAAABQNQAAAAAAAFE1AAAAAAAAAAAAAFE1AAAAAAAAUjUAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAARzUAAAAAAABLNQAAAAAAAAAAAAAAAPC/"
				],
				[
					4106,
					1,
					"insert",
					{
						"characters": ">"
					},
					"AQAAAFI1AAAAAAAAUzUAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAUjUAAAAAAABSNQAAAAAAAAAAAAAAAPC/"
				],
				[
					4108,
					1,
					"insert",
					{
						"characters": "std::size_t"
					},
					"CwAAAFI1AAAAAAAAUzUAAAAAAAAAAAAAUzUAAAAAAABUNQAAAAAAAAAAAABUNQAAAAAAAFU1AAAAAAAAAAAAAFU1AAAAAAAAVjUAAAAAAAAAAAAAVjUAAAAAAABXNQAAAAAAAAAAAABXNQAAAAAAAFg1AAAAAAAAAAAAAFg1AAAAAAAAWTUAAAAAAAAAAAAAWTUAAAAAAABaNQAAAAAAAAAAAABaNQAAAAAAAFs1AAAAAAAAAAAAAFs1AAAAAAAAXDUAAAAAAAAAAAAAXDUAAAAAAABdNQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAUjUAAAAAAABSNQAAAAAAAAAAAAAAAPC/"
				],
				[
					4109,
					1,
					"insert",
					{
						"characters": ","
					},
					"AQAAAF01AAAAAAAAXjUAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAXTUAAAAAAABdNQAAAAAAAAAAAAAAAPC/"
				],
				[
					4110,
					1,
					"insert",
					{
						"characters": " SiPM"
					},
					"BQAAAF41AAAAAAAAXzUAAAAAAAAAAAAAXzUAAAAAAABgNQAAAAAAAAAAAABgNQAAAAAAAGE1AAAAAAAAAAAAAGE1AAAAAAAAYjUAAAAAAAAAAAAAYjUAAAAAAABjNQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAXjUAAAAAAABeNQAAAAAAAAAAAAAAAPC/"
				],
				[
					4118,
					2,
					"left_delete",
					null,
					"AgAAAF81AAAAAAAAXzUAAAAAAAAEAAAAU2lQTV41AAAAAAAAXjUAAAAAAAABAAAAIA",
					"AQAAAAAAAAABAAAAXzUAAAAAAABjNQAAAAAAAAAAAAAAAPC/"
				],
				[
					4119,
					1,
					"paste",
					null,
					"AQAAAF41AAAAAAAAbjUAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAXjUAAAAAAABeNQAAAAAAAAAAAAAAAPC/"
				],
				[
					4122,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"BAAAAHw1AAAAAAAAfTUAAAAAAAAAAAAAfTUAAAAAAACBNQAAAAAAAAAAAAB9NQAAAAAAAH01AAAAAAAABAAAACAgICB9NQAAAAAAAIU1AAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAfDUAAAAAAAB8NQAAAAAAAAAAAAAAAPC/"
				],
				[
					4127,
					4,
					"unindent",
					null,
					"BAAAALE1AAAAAAAAsTUAAAAAAAAEAAAAICAgILE1AAAAAAAAsTUAAAAAAAAEAAAAICAgILE1AAAAAAAAsTUAAAAAAAAEAAAAICAgILE1AAAAAAAAsTUAAAAAAAAEAAAAICAgIA",
					"AQAAAAAAAAABAAAAxjUAAAAAAADGNQAAAAAAAAAAAAAAAPC/"
				],
				[
					4128,
					1,
					"insert",
					{
						"characters": "\t"
					},
					"AQAAALY1AAAAAAAAuTUAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAtjUAAAAAAAC2NQAAAAAAAAAAAAAAAPC/"
				],
				[
					4135,
					1,
					"reindent",
					null,
					"AQAAAPc1AAAAAAAA/zUAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA9zUAAAAAAAD3NQAAAAAAAAAAAAAAAPC/"
				],
				[
					4136,
					1,
					"insert",
					{
						"characters": "return"
					},
					"BgAAAP81AAAAAAAAADYAAAAAAAAAAAAAADYAAAAAAAABNgAAAAAAAAAAAAABNgAAAAAAAAI2AAAAAAAAAAAAAAI2AAAAAAAAAzYAAAAAAAAAAAAAAzYAAAAAAAAENgAAAAAAAAAAAAAENgAAAAAAAAU2AAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA/zUAAAAAAAD/NQAAAAAAAAAAAAAAAPC/"
				],
				[
					4137,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAAU2AAAAAAAABjYAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAABTYAAAAAAAAFNgAAAAAAAAAAAAAAAPC/"
				],
				[
					4138,
					1,
					"insert_snippet",
					{
						"contents": "{$0}"
					},
					"AQAAAAY2AAAAAAAACDYAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAABjYAAAAAAAAGNgAAAAAAAAAAAAAAAPC/"
				],
				[
					4139,
					1,
					"insert",
					{
						"characters": "1,"
					},
					"AgAAAAc2AAAAAAAACDYAAAAAAAAAAAAACDYAAAAAAAAJNgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAABzYAAAAAAAAHNgAAAAAAAAAAAAAAAPC/"
				],
				[
					4140,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAAk2AAAAAAAACjYAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAACTYAAAAAAAAJNgAAAAAAAAAAAAAAAPC/"
				],
				[
					4150,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AQAAAPY1AAAAAAAA9zUAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA9jUAAAAAAAD2NQAAAAAAAAAAAAAAAPC/"
				],
				[
					4151,
					1,
					"reindent",
					null,
					"AQAAAPc1AAAAAAAA/zUAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA9zUAAAAAAAD3NQAAAAAAAAAAAAAAAPC/"
				],
				[
					4152,
					1,
					"paste",
					null,
					"AQAAAP81AAAAAAAAFDYAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA/zUAAAAAAAD/NQAAAAAAAAAAAAAAAPC/"
				],
				[
					4153,
					1,
					"insert_snippet",
					{
						"contents": "($0)"
					},
					"AQAAABQ2AAAAAAAAFjYAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAFDYAAAAAAAAUNgAAAAAAAAAAAAAAAPC/"
				],
				[
					4161,
					1,
					"paste",
					null,
					"AQAAABU2AAAAAAAAJzYAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAFTYAAAAAAAAVNgAAAAAAAAAAAAAAAPC/"
				],
				[
					4163,
					1,
					"insert",
					{
						"characters": ";"
					},
					"AQAAACg2AAAAAAAAKTYAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAKDYAAAAAAAAoNgAAAAAAAAAAAAAAAPC/"
				],
				[
					4166,
					1,
					"insert",
					{
						"characters": "auto"
					},
					"BAAAAP81AAAAAAAAADYAAAAAAAAAAAAAADYAAAAAAAABNgAAAAAAAAAAAAABNgAAAAAAAAI2AAAAAAAAAAAAAAI2AAAAAAAAAzYAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA/zUAAAAAAAD/NQAAAAAAAAAAAAAAAPC/"
				],
				[
					4167,
					1,
					"insert",
					{
						"characters": " num_en"
					},
					"BwAAAAM2AAAAAAAABDYAAAAAAAAAAAAABDYAAAAAAAAFNgAAAAAAAAAAAAAFNgAAAAAAAAY2AAAAAAAAAAAAAAY2AAAAAAAABzYAAAAAAAAAAAAABzYAAAAAAAAINgAAAAAAAAAAAAAINgAAAAAAAAk2AAAAAAAAAAAAAAk2AAAAAAAACjYAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAAzYAAAAAAAADNgAAAAAAAAAAAAAAAPC/"
				],
				[
					4168,
					1,
					"insert",
					{
						"characters": "_chs"
					},
					"BAAAAAo2AAAAAAAACzYAAAAAAAAAAAAACzYAAAAAAAAMNgAAAAAAAAAAAAAMNgAAAAAAAA02AAAAAAAAAAAAAA02AAAAAAAADjYAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAACjYAAAAAAAAKNgAAAAAAAAAAAAAAAPC/"
				],
				[
					4169,
					1,
					"insert",
					{
						"characters": " ="
					},
					"AgAAAA42AAAAAAAADzYAAAAAAAAAAAAADzYAAAAAAAAQNgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAADjYAAAAAAAAONgAAAAAAAAAAAAAAAPC/"
				],
				[
					4170,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAABA2AAAAAAAAETYAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAEDYAAAAAAAAQNgAAAAAAAAAAAAAAAPC/"
				],
				[
					4182,
					1,
					"paste",
					null,
					"AQAAAE82AAAAAAAAWTYAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAATzYAAAAAAABPNgAAAAAAAAAAAAAAAPC/"
				],
				[
					4183,
					1,
					"insert",
					{
						"characters": ","
					},
					"AQAAAFk2AAAAAAAAWjYAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAWTYAAAAAAABZNgAAAAAAAAAAAAAAAPC/"
				],
				[
					4184,
					1,
					"insert",
					{
						"characters": " 1,"
					},
					"AwAAAFo2AAAAAAAAWzYAAAAAAAAAAAAAWzYAAAAAAABcNgAAAAAAAAAAAABcNgAAAAAAAF02AAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAWjYAAAAAAABaNgAAAAAAAAAAAAAAAPC/"
				],
				[
					4185,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAF02AAAAAAAAXjYAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAXTYAAAAAAABdNgAAAAAAAAAAAAAAAPC/"
				],
				[
					4186,
					1,
					"paste",
					null,
					"AQAAAF42AAAAAAAAaDYAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAXjYAAAAAAABeNgAAAAAAAAAAAAAAAPC/"
				],
				[
					4187,
					1,
					"insert",
					{
						"characters": ","
					},
					"AQAAAGg2AAAAAAAAaTYAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAaDYAAAAAAABoNgAAAAAAAAAAAAAAAPC/"
				],
				[
					4188,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAGk2AAAAAAAAajYAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAaTYAAAAAAABpNgAAAAAAAAAAAAAAAPC/"
				],
				[
					4189,
					1,
					"paste",
					null,
					"AQAAAGo2AAAAAAAAdDYAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAajYAAAAAAABqNgAAAAAAAAAAAAAAAPC/"
				],
				[
					4190,
					1,
					"insert",
					{
						"characters": ","
					},
					"AQAAAHQ2AAAAAAAAdTYAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAdDYAAAAAAAB0NgAAAAAAAAAAAAAAAPC/"
				],
				[
					4191,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAHU2AAAAAAAAdjYAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAdTYAAAAAAAB1NgAAAAAAAAAAAAAAAPC/"
				],
				[
					4192,
					1,
					"paste",
					null,
					"AQAAAHY2AAAAAAAAgDYAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAdjYAAAAAAAB2NgAAAAAAAAAAAAAAAPC/"
				],
				[
					4194,
					1,
					"insert",
					{
						"characters": ","
					},
					"AQAAAIA2AAAAAAAAgTYAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAgDYAAAAAAACANgAAAAAAAAAAAAAAAPC/"
				],
				[
					4195,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAIE2AAAAAAAAgjYAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAgTYAAAAAAACBNgAAAAAAAAAAAAAAAPC/"
				],
				[
					4196,
					1,
					"paste",
					null,
					"AQAAAII2AAAAAAAAjDYAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAgjYAAAAAAACCNgAAAAAAAAAAAAAAAPC/"
				],
				[
					4200,
					1,
					"insert",
					{
						"characters": ","
					},
					"AQAAAIw2AAAAAAAAjTYAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAjDYAAAAAAACMNgAAAAAAAAAAAAAAAPC/"
				],
				[
					4201,
					1,
					"insert",
					{
						"characters": "\n\t\t\t1,"
					},
					"CQAAAI02AAAAAAAAjjYAAAAAAAAAAAAAjjYAAAAAAACWNgAAAAAAAAAAAACONgAAAAAAAI42AAAAAAAACAAAACAgICAgICAgjjYAAAAAAACSNgAAAAAAAAAAAACSNgAAAAAAAJY2AAAAAAAAAAAAAJY2AAAAAAAAmjYAAAAAAAAAAAAAmjYAAAAAAACeNgAAAAAAAAAAAACeNgAAAAAAAJ82AAAAAAAAAAAAAJ82AAAAAAAAoDYAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAjTYAAAAAAACNNgAAAAAAAAAAAAAAAPC/"
				],
				[
					4202,
					1,
					"insert",
					{
						"characters": " 1,"
					},
					"AwAAAKA2AAAAAAAAoTYAAAAAAAAAAAAAoTYAAAAAAACiNgAAAAAAAAAAAACiNgAAAAAAAKM2AAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAoDYAAAAAAACgNgAAAAAAAAAAAAAAAPC/"
				],
				[
					4203,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAKM2AAAAAAAApDYAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAozYAAAAAAACjNgAAAAAAAAAAAAAAAPC/"
				],
				[
					4204,
					1,
					"paste",
					null,
					"AQAAAKQ2AAAAAAAArjYAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAApDYAAAAAAACkNgAAAAAAAAAAAAAAAPC/"
				],
				[
					4205,
					1,
					"insert",
					{
						"characters": ","
					},
					"AQAAAK42AAAAAAAArzYAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAArjYAAAAAAACuNgAAAAAAAAAAAAAAAPC/"
				],
				[
					4206,
					1,
					"insert",
					{
						"characters": " r"
					},
					"AgAAAK82AAAAAAAAsDYAAAAAAAAAAAAAsDYAAAAAAACxNgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAArzYAAAAAAACvNgAAAAAAAAAAAAAAAPC/"
				],
				[
					4207,
					1,
					"left_delete",
					null,
					"AQAAALA2AAAAAAAAsDYAAAAAAAABAAAAcg",
					"AQAAAAAAAAABAAAAsTYAAAAAAACxNgAAAAAAAAAAAAAAAPC/"
				],
				[
					4217,
					1,
					"paste",
					null,
					"AQAAALA2AAAAAAAAwjYAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAsDYAAAAAAACwNgAAAAAAAAAAAAAAAPC/"
				],
				[
					4219,
					1,
					"insert",
					{
						"characters": ".R"
					},
					"AgAAAMI2AAAAAAAAwzYAAAAAAAAAAAAAwzYAAAAAAADENgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAwjYAAAAAAADCNgAAAAAAAAAAAAAAAPC/"
				],
				[
					4220,
					1,
					"insert_completion",
					{
						"completion": "lsp_select_completion_item {\"item\":{\"detail\":\"uint32_t\",\"label\":\" RecordLength\",\"sortText\":\"40677879RecordLength\",\"kind\":5,\"textEdit\":{\"newText\":\"RecordLength\",\"range\":{\"end\":{\"character\":53,\"line\":393},\"start\":{\"character\":53,\"line\":393}}},\"insertTextFormat\":1,\"filterText\":\"RecordLength\",\"insertText\":\"RecordLength\",\"score\":1.1916359663009644},\"session_name\":\"clangd\"}",
						"format": "command",
						"keep_prefix": true,
						"must_insert": false,
						"query_change_id":
						[
							3019,
							4219,
							1
						],
						"trigger": "RecordLength"
					},
					"AgAAAMM2AAAAAAAAwzYAAAAAAAABAAAAUsM2AAAAAAAAzzYAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAxDYAAAAAAADENgAAAAAAAAAAAAAAAPC/"
				],
				[
					4222,
					1,
					"insert",
					{
						"characters": ";"
					},
					"AQAAANA2AAAAAAAA0TYAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA0DYAAAAAAADQNgAAAAAAAAAAAAAAAPC/"
				],
				[
					4232,
					1,
					"paste",
					null,
					"AQAAAA8zAAAAAAAAGjMAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAADzMAAAAAAAAPMwAAAAAAAAAAAAAAAPC/"
				],
				[
					4233,
					1,
					"insert_snippet",
					{
						"contents": "($0)"
					},
					"AQAAABozAAAAAAAAHDMAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAGjMAAAAAAAAaMwAAAAAAAAAAAAAAAPC/"
				],
				[
					4239,
					1,
					"insert",
					{
						"characters": "return"
					},
					"BwAAAPQzAAAAAAAA9TMAAAAAAAAAAAAA9TMAAAAAAAD1MwAAAAAAABQAAABzdGQ6OnNpemVfdCBlbl9jaHMgPfUzAAAAAAAA9jMAAAAAAAAAAAAA9jMAAAAAAAD3MwAAAAAAAAAAAAD3MwAAAAAAAPgzAAAAAAAAAAAAAPgzAAAAAAAA+TMAAAAAAAAAAAAA+TMAAAAAAAD6MwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAACDQAAAAAAAD0MwAAAAAAAAAAAAAAAPC/"
				],
				[
					4244,
					2,
					"left_delete",
					null,
					"AgAAACM1AAAAAAAAIzUAAAAAAAAXAAAACiAgICAgICAgcmV0dXJuIGVuX2NoczsiNQAAAAAAACI1AAAAAAAAAQAAAAo",
					"AQAAAAAAAAABAAAAOjUAAAAAAAAjNQAAAAAAAAAAAAAAAPC/"
				],
				[
					4249,
					4,
					"unindent",
					null,
					"EAAAABo0AAAAAAAAGjQAAAAAAAAEAAAAICAgIFA0AAAAAAAAUDQAAAAAAAAEAAAAICAgIJs0AAAAAAAAmzQAAAAAAAAEAAAAICAgIN40AAAAAAAA3jQAAAAAAAAEAAAAICAgIBo0AAAAAAAAGjQAAAAAAAAEAAAAICAgIEw0AAAAAAAATDQAAAAAAAAEAAAAICAgIJM0AAAAAAAAkzQAAAAAAAAEAAAAICAgINI0AAAAAAAA0jQAAAAAAAAEAAAAICAgIBo0AAAAAAAAGjQAAAAAAAAEAAAAICAgIEg0AAAAAAAASDQAAAAAAAAEAAAAICAgIIs0AAAAAAAAizQAAAAAAAAEAAAAICAgIMY0AAAAAAAAxjQAAAAAAAAEAAAAICAgIBo0AAAAAAAAGjQAAAAAAAAEAAAAICAgIEQ0AAAAAAAARDQAAAAAAAAEAAAAICAgIIM0AAAAAAAAgzQAAAAAAAAEAAAAICAgILo0AAAAAAAAujQAAAAAAAAEAAAAICAgIA",
					"AQAAAAAAAAABAAAAFzUAAAAAAAAaNAAAAAAAAAAAAAAAAPC/"
				],
				[
					4257,
					1,
					"insert",
					{
						"characters": "  "
					},
					"CAAAANU0AAAAAAAA1jQAAAAAAAAAAAAAnjQAAAAAAACfNAAAAAAAAAAAAABfNAAAAAAAAGA0AAAAAAAAAAAAADU0AAAAAAAANjQAAAAAAAAAAAAA2TQAAAAAAADaNAAAAAAAAAAAAAChNAAAAAAAAKI0AAAAAAAAAAAAAGE0AAAAAAAAYjQAAAAAAAAAAAAANjQAAAAAAAA3NAAAAAAAAAAAAAA",
					"AQAAAAAAAAAEAAAANTQAAAAAAAA1NAAAAAAAAAAAAAAAAPC/XzQAAAAAAABfNAAAAAAAAAAAAAAAAPC/njQAAAAAAACeNAAAAAAAAAAAAAAAAPC/1TQAAAAAAADVNAAAAAAAAAAAAAAAAPC/"
				],
				[
					4265,
					1,
					"left_delete",
					null,
					"AQAAANw0AAAAAAAA3DQAAAAAAAACAAAAICA",
					"AQAAAAAAAAABAAAA3jQAAAAAAADeNAAAAAAAAAAAAAAAAPC/"
				],
				[
					4266,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAANw0AAAAAAAA3TQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA3DQAAAAAAADcNAAAAAAAAAAAAAAAAPC/"
				],
				[
					4269,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAN00AAAAAAAA3jQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA3TQAAAAAAADdNAAAAAAAAAAAAAAAAPC/"
				],
				[
					4272,
					1,
					"left_delete",
					null,
					"AQAAANw0AAAAAAAA3DQAAAAAAAACAAAAICA",
					"AQAAAAAAAAABAAAA3jQAAAAAAADeNAAAAAAAAAAAAAAAAPC/"
				],
				[
					4290,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAADdNgAALy8KLy8gQ3JlYXRlZCBieSBIZWN0b3IgSGF3bGV5IEhlcnJlcmEgb24gMjAyMy0wMi0xOS4KLy8KCiNpZm5kZWYgU0JDQklOQVJZRk9STUFUX0gKI2RlZmluZSBTQkNCSU5BUllGT1JNQVRfSAojaW5jbHVkZSA8YWxnb3JpdGhtPgojaW5jbHVkZSA8Y3N0ZGludD4KI2luY2x1ZGUgPHR1cGxlPgojcHJhZ21hIG9uY2UKCi8vIEMgU1REIGluY2x1ZGVzCi8vIEMgM3JkIHBhcnR5IGluY2x1ZGVzCi8vIEMrKyBTVEQgaW5jbHVkZXMKI2luY2x1ZGUgPGJpdD4KI2luY2x1ZGUgPGludHR5cGVzLmg+CiNpbmNsdWRlIDxudW1lcmljPgojaW5jbHVkZSA8ZnN0cmVhbT4KI2luY2x1ZGUgPHR5cGVfdHJhaXRzPgojaW5jbHVkZSA8ZmlsZXN5c3RlbT4KI2luY2x1ZGUgPGFsZ29yaXRobT4KI2luY2x1ZGUgPGFycmF5PgoKLy8gQysrIDNyZCBwYXJ0eSBpbmNsdWRlcwojaW5jbHVkZSA8Y29uY3VycmVudHF1ZXVlLmg+CiNpbmNsdWRlIDxzcGRsb2cvc3BkbG9nLmg+CgovLyBteSBpbmNsdWRlcwojaW5jbHVkZSAic2JjcXVlZW5zLWd1aS9maWxlX2hlbHBlcnMuaHBwIgojaW5jbHVkZSAic2JjcXVlZW5zLWd1aS9jYWVuX2hlbHBlci5ocHAiCgpuYW1lc3BhY2UgU0JDUXVlZW5zIHsKbmFtZXNwYWNlIEJpbmFyeUZvcm1hdCB7Cm5hbWVzcGFjZSBUb29scyB7CgogICAgLy8gVGhlIEJpbmFyeUZvcm1hdCBvbmx5IGFjY2VwdHMgYXJpdGhtZXRoaWMgcG9pbnRlcnMuCiAgICAvLyBleDogY29uc3QgY2hhciogcmV0dXJucyB0cnVlCiAgICAvLyAgICAgIHN0ZDo6c3RyaW5nIHJldHVybiBmYWxzZQogICAgLy8gICAgICBkb3VibGUqIHJldHVybiB0cnVlOwogICAgdGVtcGxhdGU8dHlwZW5hbWUgVD4KICAgIGNvbmNlcHQgaXNfYXJpdGhtZXRoaWNfcHRyID0gc3RkOjppc19hcml0aG1ldGljX3Y8CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGQ6OnJlbW92ZV9jdnJlZl90PAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RkOjpyZW1vdmVfcG9pbnRlcl90PFQ+Pj4gYW5kIHN0ZDo6aXNfcG9pbnRlcl92PFQ+OwoKCiAgICB0ZW1wbGF0ZTx0eXBlbmFtZS4uLiBUPgogICAgY29uY2VwdCBpc19hcml0aG1ldGljX3B0cl91bnBhY2sgPSByZXF1aXJlcyhUIHgpIHsKICAgICAgICAgICAgKC4uLiBhbmQgaXNfYXJpdGhtZXRoaWNfcHRyPFQ+KTsgfTsKCiAgICB0ZW1wbGF0ZTx0eXBlbmFtZSBUPgogICAgcmVxdWlyZXMgaXNfYXJpdGhtZXRoaWNfcHRyPFQ+CiAgICBjb25zdGV4cHIgc3RhdGljIHN0ZDo6c3RyaW5nX3ZpZXcgdHlwZV90b19zdHJpbmcoKSB7CiAgICAgICAgLy8gV2UgZ2V0IHRoZSBtb3N0IHB1cmUgZXNzZW5jZSBvZiBUOiBubyBjb25zdHMsIG5vIHJlZmVyZW5jZXMsCiAgICAgICAgLy8gYW5kIG5vIFtdCiAgICAgICAgdXNpbmcgVF9ub19jb25zdCA9IHN0ZDo6cmVtb3ZlX3BvaW50ZXJfdDxzdGQ6OnJlbW92ZV9hbGxfZXh0ZW50c190PAogICAgICAgICAgICAgICAgc3RkOjpyZW1vdmVfcmVmZXJlbmNlX3Q8c3RkOjpyZW1vdmVfY29uc3RfdDxUPj4+PjsKICAgICAgICBpZiBjb25zdGV4cHIgKHN0ZDo6aXNfc2FtZV92PFRfbm9fY29uc3QsIGNoYXI+KSB7CiAgICAgICAgICAgIHJldHVybiAiY2hhciI7CiAgICAgICAgfSBlbHNlIGlmIGNvbnN0ZXhwciAoc3RkOjppc19zYW1lX3Y8VF9ub19jb25zdCwgdWludDhfdD4pIHsKICAgICAgICAgICAgcmV0dXJuICJ1aW50OCI7CiAgICAgICAgfSBlbHNlIGlmIGNvbnN0ZXhwciAoc3RkOjppc19zYW1lX3Y8VF9ub19jb25zdCwgdWludDE2X3Q+KSB7CiAgICAgICAgICAgIHJldHVybiAidWludDE2IjsKICAgICAgICB9IGVsc2UgaWYgY29uc3RleHByIChzdGQ6OmlzX3NhbWVfdjxUX25vX2NvbnN0LCB1aW50MzJfdD4pIHsKICAgICAgICAgICAgcmV0dXJuICJ1aW50MzIiOwogICAgICAgIH0gZWxzZSBpZiBjb25zdGV4cHIgKHN0ZDo6aXNfc2FtZV92PFRfbm9fY29uc3QsIGludDhfdD4pIHsKICAgICAgICAgICAgcmV0dXJuICJpbnQ4IjsKICAgICAgICB9IGVsc2UgaWYgY29uc3RleHByIChzdGQ6OmlzX3NhbWVfdjxUX25vX2NvbnN0LCBpbnQxNl90PikgewogICAgICAgICAgICByZXR1cm4gImludDE2IjsKICAgICAgICB9IGVsc2UgaWYgY29uc3RleHByIChzdGQ6OmlzX3NhbWVfdjxUX25vX2NvbnN0LCBpbnQzMl90PikgewogICAgICAgICAgICByZXR1cm4gImludDMyIjsKICAgICAgICB9IGVsc2UgaWYgY29uc3RleHByIChzdGQ6OmlzX3NhbWVfdjxUX25vX2NvbnN0LCBmbG9hdD4pIHsKICAgICAgICAgICAgcmV0dXJuICJzaW5nbGUiOwogICAgICAgIH0gZWxzZSBpZiBjb25zdGV4cHIgKHN0ZDo6aXNfc2FtZV92PFRfbm9fY29uc3QsIGRvdWJsZT4pIHsKICAgICAgICAgICAgcmV0dXJuICJkb3VibGUiOwogICAgICAgIH0gZWxzZSBpZiBjb25zdGV4cHIgKHN0ZDo6aXNfc2FtZV92PFRfbm9fY29uc3QsIGxvbmcgZG91YmxlPikgewogICAgICAgICAgICByZXR1cm4gImZsb2F0MTI4IjsKICAgICAgICB9CiAgICAgICAgLy8gVE9ETyhBbGwpOiBtYXliZSB0aGUgZGVmYXVsdCBzaG91bGQgYmUgdWludDMyPwogICAgfQoKfSAvLyBuYW1lc3BhY2UgVG9vbHMKCnRlbXBsYXRlPHR5cGVuYW1lLi4uIERhdGFUeXBlcz4KcmVxdWlyZXMgVG9vbHM6OmlzX2FyaXRobWV0aWNfcHRyX3VucGFjazxEYXRhVHlwZXMuLi4+CnN0cnVjdCBEeW5hbWljV3JpdGVyIHsKICAgIC8vIFRPRE8oQW55KTogdGhpcyB3cml0ZXIgaXMgdW5zYWZlLiBJdCB1c2VzIHJhdyBwb2ludGVycy4KICAgIC8vIG1heWJlIGNoYW5nZSBpdCB0byB0YWtlIG5vcm1hbCB0eXBlcyBhbmQgdGhlbiBpbnRlcm5hbGx5CiAgICAvLyB1c2Ugc3BhbnM/CiAgICB1c2luZyB0dXBsZV90eXBlID0gc3RkOjp0dXBsZTxEYXRhVHlwZXMuLi4+OwogICAgY29uc3RleHByIHN0YXRpYyBzdGQ6OnNpemVfdCBuX2NvbHMgPSBzaXplb2YuLi4oRGF0YVR5cGVzKTsKICAgIGNvbnN0ZXhwciBzdGF0aWMgc3RkOjphcnJheTxzdGQ6OnNpemVfdCwgbl9jb2xzPiBzaXplX29mX3R5cGVzID0geyBzaXplb2YoRGF0YVR5cGVzKS4uLiB9OwogICAgY29uc3RleHByIHN0YXRpYyBzdGQ6OmFycmF5PHN0ZDo6c3RyaW5nX3ZpZXcsIG5fY29scz4gcGFyYW1ldGVyc190eXBlc19zdHIgPSB7IFRvb2xzOjp0eXBlX3RvX3N0cmluZzxEYXRhVHlwZXM+KCkuLi4gfTsKCnByaXZhdGU6CiAgICBjb25zdCBzdGQ6OnN0cmluZyBfZmlsZV9uYW1lOwogICAgY29uc3Qgc3RkOjphcnJheTxzdGQ6OnN0cmluZywgbl9jb2xzPiBfbmFtZXM7CiAgICBjb25zdCBzdGQ6OmFycmF5PHN0ZDo6c2l6ZV90LCBuX2NvbHM+IF9yYW5rczsKICAgIGNvbnN0IHN0ZDo6dmVjdG9yPHN0ZDo6c2l6ZV90PiBfc2l6ZXM7CgogICAgc3RkOjpzaXplX3QgdG90YWxfcmFua3MgPSAwOwogICAgYm9vbCBfb3BlbiA9IGZhbHNlOwogICAgc3RkOjpvZnN0cmVhbSBfc3RyZWFtOwoKICAgIHN0ZDo6c2l6ZV90IF9saW5lX2J5dGVfc2l6ZSA9IDA7CiAgICBzdGQ6OnNpemVfdCBfbGluZV9wYXJhbV9vcmRlciA9IDA7CiAgICBzdGQ6OnNpemVfdCBfbGluZV9idWZmZXJfbG9jID0gMDsKICAgIHN0ZDo6c3RyaW5nIF9saW5lX2J1ZmZlcjsKCiAgICBtb29keWNhbWVsOjpDb25jdXJyZW50UXVldWU8dHVwbGVfdHlwZT4gX3F1ZXVlOwoKICAgIHRlbXBsYXRlPHR5cGVuYW1lIFQ+CiAgICB2b2lkIF9jb3B5X251bWJlcl90b19idWZmKGNvbnN0IFQmIG51bSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RkOjpzdHJpbmcmIGJ1ZmZlciwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RkOjpzaXplX3QmIGxvYywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RkOjpzaXplX3QmIHNpemUgPSBzaXplb2YoVCkpIHsKICAgICAgICBjb25zdCBjaGFyKiB0bXBzdHIgPSByZWludGVycHJldF9jYXN0PGNvbnN0IGNoYXIqPigmbnVtKTsKICAgICAgICBmb3Ioc3RkOjpzaXplX3QgaSA9IDA7IGkgPCBzaXplOyBpKyspIHsKICAgICAgICAgICAgYnVmZmVyW2kgKyBsb2NdID0gdG1wc3RyW2ldOwogICAgICAgIH0KCiAgICAgICAgbG9jICs9IHNpemU7CiAgICB9CgogICAgdm9pZCBfY29weV9zdHJfdG9fYnVmZihzdGQ6OnN0cmluZ192aWV3IHNvdXJjZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RkOjpzdHJpbmcmIGJ1ZmZlciwKICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RkOjpzaXplX3QmIGxvYykgewogICAgICAgIHNvdXJjZS5jb3B5KCZidWZmZXJbbG9jXSwgc291cmNlLmxlbmd0aCgpLCAwKTsKICAgICAgICBsb2MgKz0gc291cmNlLmxlbmd0aCgpOwogICAgfQoKICAgIHZvaWQgX2NyZWF0ZV9maWxlKCkgewoKICAgICAgICAvKiAgU0JDIEJpbmFyeSBIZWFkZXIgZGVzY3JpcHRpb246CiAgICAgICAgICogSGVhZGVyIG9mIGEgYmluYXJ5IGZvcm1hdCBpcyBkaXZpZGVkIGluIDQgcGFydHM6CiAgICAgICAgICogMS4tIEVkaWFuZXNzICAgICAgICAgICAgLSBhbHdheXMgNCBiaXRzIGxvbmcgKHVpbnQzMl90KQogICAgICAgICAqIDIuLSBEYXRhIEhlYWRlciBzaXplICAgIC0gYWx3YXlzIDIgYml0cyBsb25nICh1aW50MTZfdCkKICAgICAgICAgKiBhbmQgaXMgdGhlIGxlbmd0aCBvZiB0aGUgbmV4dCBiaXQgb2YgZGF0YQogICAgICAgICAqIDMuLSBIZWFkZXIgICAgICAgICAgICAgIC0gaXMgZGF0YSBoZWFkZXIgbG9uZy4KICAgICAgICAgKiBDb250YWlucyB0aGUgc3RydWN0dXJlIG9mIGVhY2ggbGluZS4gSXQgaXMgYWx3YXlzIGZvdW5kIGFzIGEgcmF3CiAgICAgICAgICogc3RyaW5nIGluIHRoZSBmb3JtICJ7bmFtZV9jb2x9O3t0eXBlX2NvbH07e3NpemUxfSx7c2l6ZTJ9Li4uOy4uLjsKICAgICAgICAgKiBDYW5ub3QgYmUgbG9uZ2VyIHRoYW4gNjU1MzYgYnl0ZXMuCiAgICAgICAgICogNC4tIE51bWJlciBvZiBsaW5lcyAgICAgLSBhbHdheXMgNCBiaXRzIGxvbmcgKGludDMyX3QpCiAgICAgICAgICogTnVtYmVyIG9mIGxpbmVzIGluIHRoZSBmaWxlLiBJZiAwLCBpdCBpcyBpbmRlZmluaXRlbHkgbG9uZy4KICAgICAgICAqLwogICAgICAgIC8vIEVkaWFuZXNzIGZpcnN0CiAgICAgICAgdWludDMyX3QgZW5kaWFuZXNzID0gMHgwMTAyMDMwNDsKICAgICAgICBpZiBjb25zdGV4cHIgKHN0ZDo6ZW5kaWFuOjpuYXRpdmUgPT0gc3RkOjplbmRpYW46OmJpZykgewogICAgICAgICAgICBlbmRpYW5lc3MgPSAweDA0MDMwMjAxOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGVuZGlhbmVzcyA9IDB4MDEwMjAzMDQ7CiAgICAgICAgfQoKICAgICAgICBzdGQ6OnNpemVfdCB0b3RhbF9oZWFkZXJfc2l6ZSA9IDA7CiAgICAgICAgLy8gaGFzIHRvIGJlIHVpbnQxNl90IGJlY2F1c2Ugd2UgYXJlIHNhdmluZyBpdCB0byB0aGUgZmlsZSBsYXRlcgogICAgICAgIHVpbnQxNl90IGJpbmFyeV9oZWFkZXJfc2l6ZSA9IDA7CiAgICAgICAgc3RkOjpzaXplX3QgdG90YWxfcmFua3Nfc29fZmFyID0gMDsKICAgICAgICBmb3IgKHN0ZDo6c2l6ZV90IGkgPSAwOyBpIDwgbl9jb2xzOyBpKyspIHsKICAgICAgICAgICAgYXV0byBjb2x1bW5fcmFuayA9IF9yYW5rc1tpXTsKICAgICAgICAgICAgLy8gKyAxIGZvciB0aGUgOyBjaGFyYWN0ZXIKICAgICAgICAgICAgYmluYXJ5X2hlYWRlcl9zaXplICs9IF9uYW1lc1tpXS5sZW5ndGgoKSArIDE7CiAgICAgICAgICAgIC8vICsgMSBmb3IgdGhlIDsgY2hhcmFjdGVyCiAgICAgICAgICAgIGJpbmFyeV9oZWFkZXJfc2l6ZSArPSBwYXJhbWV0ZXJzX3R5cGVzX3N0cltpXS5sZW5ndGgoKSArIDE7CgogICAgICAgICAgICBzdGQ6OnNpemVfdCB0b3RhbF9yYW5rX3NpemUgPSAwOwogICAgICAgICAgICBmb3Ioc3RkOjpzaXplX3QgaiA9IDA7IGogPCBjb2x1bW5fcmFuazsgaiArKykgewogICAgICAgICAgICAgICAgYXV0byBzaXplID0gX3NpemVzW3RvdGFsX3JhbmtzX3NvX2ZhciArIGpdOwogICAgICAgICAgICAgICAgdG90YWxfcmFua19zaXplICs9IHNpemU7CiAgICAgICAgICAgICAgICAvLyBJdCBpcyBhbHdheXMgKyAxIGJlY2F1c2UgdGhlcmUgaXMgZWl0aGVyIGEgJywnIG9yIGEgJzsnCiAgICAgICAgICAgICAgICBiaW5hcnlfaGVhZGVyX3NpemUgKz0gc3RkOjp0b19zdHJpbmcoc2l6ZSkubGVuZ3RoKCkgKyAxOwogICAgICAgICAgICB9CgogICAgICAgICAgICB0b3RhbF9yYW5rc19zb19mYXIgKz0gY29sdW1uX3Jhbms7CiAgICAgICAgICAgIF9saW5lX2J5dGVfc2l6ZSArPSBzaXplX29mX3R5cGVzW2ldKnRvdGFsX3Jhbmtfc2l6ZTsKICAgICAgICB9CiAgICAgICAgLy8gV2UgYWxzbyBjYWxjdWxhdGUgdGhlIGxpbmUgc2l6ZSB2ZXJ5IHVzZWZ1bCB3aGVuIHdlIHN0YXJ0IGRhdGEgc2F2aW5nCgogICAgICAgIHRvdGFsX2hlYWRlcl9zaXplICs9IHNpemVvZih1aW50MzJfdCk7IC8vIDEuCiAgICAgICAgdG90YWxfaGVhZGVyX3NpemUgKz0gc2l6ZW9mKHVpbnQxNl90KTsgLy8gMi4KICAgICAgICB0b3RhbF9oZWFkZXJfc2l6ZSArPSBiaW5hcnlfaGVhZGVyX3NpemU7IC8vIDMuCiAgICAgICAgdG90YWxfaGVhZGVyX3NpemUgKz0gc2l6ZW9mKGludDMyX3QpOyAvLyA0LgoKICAgICAgICAvLyBOb3cgd2UgYWxsb2NhdGUgdGhlIG1lbW9yeSEKICAgICAgICBzdGQ6OnNpemVfdCBidWZmZXJfbG9jID0gMDsKICAgICAgICBhdXRvIGJ1ZmZlciA9IHN0ZDo6c3RyaW5nKHRvdGFsX2hlYWRlcl9zaXplLCAnQScpOwogICAgICAgIF9saW5lX2J1ZmZlciA9IHN0ZDo6c3RyaW5nKF9saW5lX2J5dGVfc2l6ZSwgJ0EnKTsKCiAgICAgICAgLy8gTm93IHdlIGZpbGwgYnVmZmVyLgogICAgICAgIHRvdGFsX3JhbmtzX3NvX2ZhciA9IDA7CiAgICAgICAgX2NvcHlfbnVtYmVyX3RvX2J1ZmYoZW5kaWFuZXNzLCBidWZmZXIsIGJ1ZmZlcl9sb2MpOyAvLyAxLgogICAgICAgIF9jb3B5X251bWJlcl90b19idWZmKGJpbmFyeV9oZWFkZXJfc2l6ZSwgYnVmZmVyLCBidWZmZXJfbG9jKTsgLy8gMi4KICAgICAgICBmb3IgKHN0ZDo6c2l6ZV90IGkgPSAwOyBpIDwgbl9jb2xzOyBpKyspIHsgLy8gMy4KICAgICAgICAgICAgYXV0byBjb2x1bW5fbmFtZSA9IF9uYW1lc1tpXTsKICAgICAgICAgICAgYXV0byBjb2x1bW5fdHlwZSA9IHBhcmFtZXRlcnNfdHlwZXNfc3RyW2ldOwogICAgICAgICAgICBhdXRvIGNvbHVtbl9yYW5rID0gX3JhbmtzW2ldOwoKICAgICAgICAgICAgX2NvcHlfc3RyX3RvX2J1ZmYoY29sdW1uX25hbWUsIGJ1ZmZlciwgYnVmZmVyX2xvYyk7CiAgICAgICAgICAgIF9jb3B5X3N0cl90b19idWZmKCI7IiwgYnVmZmVyLCBidWZmZXJfbG9jKTsKICAgICAgICAgICAgX2NvcHlfc3RyX3RvX2J1ZmYoY29sdW1uX3R5cGUsIGJ1ZmZlciwgYnVmZmVyX2xvYyk7CiAgICAgICAgICAgIF9jb3B5X3N0cl90b19idWZmKCI7IiwgYnVmZmVyLCBidWZmZXJfbG9jKTsKICAgICAgICAgICAgZm9yKHN0ZDo6c2l6ZV90IHNpemVfaiA9IDA7IHNpemVfaiA8IGNvbHVtbl9yYW5rOyBzaXplX2orKykgewogICAgICAgICAgICAgICAgX2NvcHlfc3RyX3RvX2J1ZmYoc3RkOjp0b19zdHJpbmcoX3NpemVzW3RvdGFsX3JhbmtzX3NvX2ZhciArIHNpemVfal0pLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnVmZmVyLCBidWZmZXJfbG9jKTsKCiAgICAgICAgICAgICAgICBpZihzaXplX2ogIT0gY29sdW1uX3JhbmsgLSAxKSB7CiAgICAgICAgICAgICAgICAgICAgX2NvcHlfc3RyX3RvX2J1ZmYoIiwiLCBidWZmZXIsIGJ1ZmZlcl9sb2MpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICBfY29weV9zdHJfdG9fYnVmZigiOyIsIGJ1ZmZlciwgYnVmZmVyX2xvYyk7CiAgICAgICAgICAgIHRvdGFsX3JhbmtzX3NvX2ZhciArPSBjb2x1bW5fcmFuazsKICAgICAgICB9CgogICAgICAgIGludDMyX3QgaiA9IDB4MDAwMDAwMDA7CiAgICAgICAgX2NvcHlfbnVtYmVyX3RvX2J1ZmYoaiwgYnVmZmVyLCBidWZmZXJfbG9jKTsgLy8gNC4KCiAgICAgICAgLy8gc2F2ZSB0byBmaWxlLgogICAgICAgIF9zdHJlYW0gPDwgYnVmZmVyOwogICAgfQoKICAgIC8vIFNhdmUgaXRlbSBmcm9tIHR1cGxlIGluIHBvc2l0aW9uIGkKICAgIHRlbXBsYXRlPHN0ZDo6c2l6ZV90IGk+CiAgICB2b2lkIF9zYXZlX2l0ZW0oY29uc3QgdHVwbGVfdHlwZSYgaXRlbXMsIHN0ZDo6c2l6ZV90JiBsb2MpIHsKICAgICAgICBjb25zdCBhdXRvJiBpdGVtID0gc3RkOjpnZXQ8aT4oaXRlbXMpOwogICAgICAgIHVzaW5nIFQgPSBkZWNsdHlwZShpdGVtKTsKCiAgICAgICAgYXV0byByYW5rID0gX3JhbmtzW2ldOwogICAgICAgIGF1dG8gdG90YWxfcmFua191cF90b19pID0gc3RkOjphY2N1bXVsYXRlKF9yYW5rcy5iZWdpbigpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICZfcmFua3NbaV0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMCk7CgogICAgICAgIGNvbnN0IGF1dG8mIHNpemVfaW5kZXhfc3RhcnQgPSB0b3RhbF9yYW5rX3VwX3RvX2k7CiAgICAgICAgY29uc3QgYXV0byYgdG90YWxfc2l6ZSA9IHN0ZDo6YWNjdW11bGF0ZSgmX3NpemVzW3NpemVfaW5kZXhfc3RhcnRdLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJl9zaXplc1tzaXplX2luZGV4X3N0YXJ0ICsgcmFua10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAwKTsKCiAgICAgICAgc3RkOjptZW1jcHkoJl9saW5lX2J1ZmZlcltsb2NdLCBpdGVtLCB0b3RhbF9zaXplKnNpemVvZihUKSk7CiAgICAgICAgbG9jICs9IHRvdGFsX3NpemUqc2l6ZW9mKFQpOwogICAgfQoKICAgIC8vIFRoaW5rIG9mIHQgaGlzIGZ1bmN0aW9uIGFzIGEgd3JhcHBlciBiZXR3ZWVuIF9zYXZlX2l0ZW0KICAgIC8vIGFuZCBfc2F2ZV9kYXRhCiAgICB0ZW1wbGF0ZTxzdGQ6OnNpemVfdC4uLiBJPgogICAgdm9pZCBfc2F2ZV9pdGVtX2hlbHBlcihjb25zdCB0dXBsZV90eXBlJiBkYXRhLCBzdGQ6OmluZGV4X3NlcXVlbmNlPEkuLi4+KSB7CiAgICAgICAgKF9zYXZlX2l0ZW08ST4oZGF0YSwgX2xpbmVfYnVmZmVyX2xvYyksLi4uKTsKICAgIH0KCiAgICB2b2lkIF9zYXZlX2V2ZW50KGNvbnN0IHR1cGxlX3R5cGUmIGRhdGEpIHsKICAgICAgICBfbGluZV9idWZmZXJfbG9jID0gMDsKICAgICAgICBfc2F2ZV9pdGVtX2hlbHBlcihkYXRhLCBzdGQ6Om1ha2VfaW5kZXhfc2VxdWVuY2U8bl9jb2xzPnt9KTsKICAgICAgICBfc3RyZWFtIDw8IF9saW5lX2J1ZmZlcjsKICAgIH0KCiBwdWJsaWM6CiAgICBEeW5hbWljV3JpdGVyKHN0ZDo6c3RyaW5nX3ZpZXcgZmlsZV9uYW1lLAogICAgICAgICAgICAgICAgICBjb25zdCBzdGQ6OmFycmF5PHN0ZDo6c3RyaW5nLCBuX2NvbHM+JiBjb2x1bW5zX25hbWVzLAogICAgICAgICAgICAgICAgICBjb25zdCBzdGQ6OmFycmF5PHN0ZDo6c2l6ZV90LCBuX2NvbHM+JiBjb2x1bW5zX3JhbmtzLAogICAgICAgICAgICAgICAgICBjb25zdCBzdGQ6OnZlY3RvcjxzdGQ6OnNpemVfdD4mIGNvbHVtbnNfc2l6ZXMpIDoKICAgICAgICBfZmlsZV9uYW1le2ZpbGVfbmFtZX0sCiAgICAgICAgX25hbWVze2NvbHVtbnNfbmFtZXN9LAogICAgICAgIF9yYW5rc3tjb2x1bW5zX3JhbmtzfSwKICAgICAgICBfc2l6ZXN7Y29sdW1uc19zaXplc30KICAgIHsKICAgICAgICB0b3RhbF9yYW5rcyA9IHN0ZDo6YWNjdW11bGF0ZShjb2x1bW5zX3JhbmtzLmJlZ2luKCksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sdW1uc19yYW5rcy5lbmQoKSwgMCk7CgogICAgICAgIF9zdHJlYW0ub3BlbihfZmlsZV9uYW1lLAogICAgICAgICAgICAgICAgICAgICBzdGQ6Om9mc3RyZWFtOjphcHAgfCBzdGQ6Om9mc3RyZWFtOjpiaW5hcnkpOwoKICAgICAgICBpZiAoX3N0cmVhbS5pc19vcGVuKCkpIHsKICAgICAgICAgICAgX29wZW4gPSB0cnVlOwogICAgICAgICAgICBpZiAoc3RkOjpmaWxlc3lzdGVtOjppc19lbXB0eShmaWxlX25hbWUpKSB7CiAgICAgICAgICAgICAgICBfY3JlYXRlX2ZpbGUoKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCiAgICB+RHluYW1pY1dyaXRlcigpIHsKICAgICAgICBfb3BlbiA9IGZhbHNlOwogICAgICAgIF9zdHJlYW0uY2xvc2UoKTsKICAgIH0KCiAgICB2b2lkIGFkZChjb25zdCBEYXRhVHlwZXMmLi4uIGRhdGEpIG5vZXhjZXB0IHsKICAgICAgICBfcXVldWUuZW5xdWV1ZShzdGQ6Om1ha2VfdHVwbGUoZGF0YS4uLikpOwogICAgfQoKICAgIGJvb2wgc2F2ZSgpIG5vZXhjZXB0IHsKICAgICAgICBhdXRvIGFwcHJveF9sZW5ndGggPSBfcXVldWUuc2l6ZV9hcHByb3goKTsKICAgICAgICBhdXRvIGRhdGEgPSBzdGQ6OnZlY3Rvcjx0dXBsZV90eXBlPihhcHByb3hfbGVuZ3RoKTsKICAgICAgICBpZiAobm90IF9xdWV1ZS50cnlfZGVxdWV1ZV9idWxrKGRhdGEuZGF0YSgpLCBhcHByb3hfbGVuZ3RoKSkgewogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQoKICAgICAgICBmb3IoY29uc3QgYXV0byYgZXZlbnQgOiBkYXRhKSB7CiAgICAgICAgICAgIF9zYXZlX2V2ZW50KGV2ZW50KTsKICAgICAgICB9CgogICAgICAgIHJldHVybiB0cnVlOwogICAgfQp9OwoKLy8gVE9ETyhIZWN0b3IpOiB3ZSBuZWVkIHRoaXMhCnRlbXBsYXRlPHR5cGVuYW1lLi4uIERhdGFUeXBlcz4Kc3RydWN0IFJlYWRlciB7CgoKCiBwcml2YXRlOgp9OwoKY2xhc3MgU2lQTUR5bmFtaWNXcml0ZXIgewogICAgdXNpbmcgU2lQTURXID0gRHluYW1pY1dyaXRlcjwgICBkb3VibGUqLCAgICAvLyBzYW1wbGUgcmF0ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVpbnQ4X3QqLCAgIC8vIEVuYWJsZWQgQ2hhbm5lbHMKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1aW50MzJfdCosICAvLyBUcmlnZ2VyIE1hc2sKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1aW50MTZfdCosICAvLyBUaHJlc2hvbGRzCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdWludDE2X3QqLCAgLy8gREMgT2Zmc2V0cwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVpbnQ4X3QqLCAgIC8vIERDIENvcnJlY3Rpb25zCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmxvYXQqLCAgICAgLy8gREMgUmFuZ2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1aW50MzJfdCosICAvLyBUaW1lIHN0YW1wCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdWludDMyX3QqLCAgLy8gVHJpZ2dlciBzb3VyY2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1aW50MTZfdCo+OyAvLyBXYXZlZm9ybXMKCiAgICBjb25zdCBzdGF0aWMgc3RkOjphcnJheTxzdGQ6OnNpemVfdCwgU2lQTURXLm51bV9jb2xzPiBzaXBtZHdfcmFua3MgPQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7MSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMn07CgogICAgc3RkOjpzaXplX3QgX251bV9lbl9jaHM7CiAgICBkb3VibGUgX3NhbXBsZV9yYXRlOwogICAgdWludDhfdCBfZW5hYmxlZF9jaGFubmVsc1s2NF07CiAgICB1aW50MzJfdCBfdHJpZ2dlcl9tYXNrOwogICAgdWludDE2X3QgX3RocmVzaG9sZHNbNjRdOwogICAgdWludDE2X3QgX2RjX29mZnNldHNbNjRdOwogICAgdWludDhfdCBfZGNfY29ycmVjdGlvbnNbNjRdOwogICAgZG91YmxlIGRjX3Jhbmdlc1s2NF07CgogICAgdWludDMyX3QgX3JlY29yZF9sZW5ndGg7CiAgICBTaVBNRFcgX3N0cmVhbWVyOwogcHVibGljOgoKCiAgICAvKiBEZXRhaWxzIG9mIGVhY2ggcGFyYW1ldGVyczoKICAgIE5hbWUgICAgICAgICAgfCB0eXBlICAgICAgfCBsZW5ndGggKGluIEJ5dGVzKSB8IGlzIGEgY29uc3RhbnQ/fAogICAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICBzYW1wbGVfcmF0ZSAgIHwgZG91YmxlICAgIHwgOCAgICAgICAgICAgICAgICAgfCBZCiAgICBlbl9jaHMgICAgICAgIHwgdWludDggICAgIHwgMSpjaF9zaXplICAgICAgICAgfCBZCiAgICB0cmdfbWFzayAgICAgIHwgdWludDMyICAgIHwgNCAgICAgICAgICAgICAgICAgfCBZCiAgICB0aHJlc2hvbGRzICAgIHwgdWludDE2ICAgIHwgMipjaF9zaXplICAgICAgICAgfCBZCiAgICBkY19vZmZzZXRzICAgIHwgdWludDE2ICAgIHwgMipjaF9zaXplICAgICAgICAgfCBZCiAgICBkY19jb3JyZWN0aW9uc3wgdWludDggICAgIHwgMSpjaF9zaXplICAgICAgICAgfCBZCiAgICBkY19yYW5nZSAgICAgIHwgc2luZ2xlICAgIHwgNCpjaF9zaXplICAgICAgICAgfCBZCiAgICB0aW1lX3N0YW1wICAgIHwgdWludDMyICAgIHwgNCAgICAgICAgICAgICAgICAgfCBOCiAgICB0cmdfc291cmNlICAgIHwgdWludDMyICAgIHwgNCAgICAgICAgICAgICAgICAgfCBOCiAgICBkYXRhICAgICAgICAgIHwgdWludDE2ICAgIHwgMipybCpjaF9zaXplICAgICAgfCBOCiAgICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIHJsIC0+IHJlY29yZCBsZW5ndGggb2YgdGhlIHdhdmVmb3JtcwogICAgY2hfc2l6ZSAtPiBudW1iZXIgb2YgZW5hYmxlZCBjaGFubmVscwogICAgZW5fY2hzICAtPiB0aGUgY2hhbm5lbHMgIyB0aGF0IHdlcmUgZW5hYmxlZAoKICAgIFRvdGFsIGxlbmd0aCA9IDIwICsgY2hfc2l6ZSooMTAgKyAyKnJlY29yZF9sZW5ndGgpCiAgICAqLwoKICAgIFNpUE1EeW5hbWljV3JpdGVyKHN0ZDo6c3RyaW5nX3ZpZXcgZmlsZV9uYW1lLAogICAgICAgICAgICAgICAgICAgICAgY29uc3QgQ0FFTkdsb2JhbENvbmZpZyYgY2Flbl9nbG9iYWxfY29uZmlnLAogICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RkOjphcnJheTxDQUVOR3JvdXBDb25maWcsIDY0PiYgY2Flbl9ncm91cF9jb25maWdzKSA6CiAgICAgICAgX251bV9lbl9jaHN7X2dldF9lbmFibGVkX2NoYW5uZWxzKGNhZW5fZ3JvdXBfY29uZmlncyl9LAogICAgICAgIF9zdHJlYW1lcntmaWxlX25hbWUsIHNpcG1kd19yYW5rcywgX2Zvcm1fc2l6ZXMoKX0sCgogICAgICAgIF9yZWNvcmRfbGVuZ3Roe2NhZW5fZ2xvYmFsX2NvbmZpZy5SZWNvcmRMZW5ndGh9CiAgICB7CgogICAgfQoKICAgIH5TaVBNRHluYW1pY1dyaXRlcigpIHsKCiAgICB9CgogcHJpdmF0ZToKCiAgICBzdGQ6OnNpemVfdCBfZ2V0X2VuYWJsZWRfY2hhbm5lbHMoY29uc3Qgc3RkOjphcnJheTxDQUVOR3JvdXBDb25maWcsIDY0PiYgY29uZmlncykgewogICAgICAgIHJldHVybiBzdGQ6OmNvdW50X2lmKGNvbmZpZ3MuYmVnaW4oKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25maWdzLmVuZCgpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtdKGNvbnN0IENBRU5Hcm91cENvbmZpZyYgY29uZmlnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29uZmlnLkVuYWJsZWQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgKTsKICAgIH0KCiAgICBzdGQ6OmFycmF5PHN0ZDo6c2l6ZV90LCBTaVBNRFcubnVtX2NvbHM+IF9mb3JtX3NpemVzKAogICAgICAgIGNvbnN0IENBRU5HbG9iYWxDb25maWcmIGNhZW5fZ2xvYmFsX2NvbmZpZywKICAgICAgICBjb25zdCBzdGQ6OmFycmF5PENBRU5Hcm91cENvbmZpZywgNjQ+JiBjYWVuX2dyb3VwX2NvbmZpZ3MpIHsKCiAgICAgICAgYXV0byBudW1fZW5fY2hzID0gX2dldF9lbmFibGVkX2NoYW5uZWxzKGNhZW5fZ3JvdXBfY29uZmlncyk7CiAgICAgICAgcmV0dXJuIHsxLCBudW1fZW5fY2hzLCAxLCBudW1fZW5fY2hzLCBudW1fZW5fY2hzLCBudW1fZW5fY2hzLCBudW1fZW5fY2hzLAogICAgICAgICAgICAgICAgMSwgMSwgbnVtX2VuX2NocywgY2Flbl9nbG9iYWxfY29uZmlnLlJlY29yZExlbmd0aH07CgogICAgfQoKCn07Cgp9IC8vIG5hbWVzcGFjZSBCaW5hcnlGb3JtYXQKfSAvLyBuYW1lc3BhY2UgU0JDUXVlZW5zCgojZW5kaWYgLy9TQkNCSU5BUllGT1JNQVRfSAoAAAAAAAAAAGZAAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAygoAAAAAAADKCgAAAAAAAAAAAAAAAPC/"
				],
				[
					4301,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAABmQAAALy8KLy8gQ3JlYXRlZCBieSBIZWN0b3IgSGF3bGV5IEhlcnJlcmEgb24gMjAyMy0wMi0xOS4KLy8KCiNpZm5kZWYgU0JDQklOQVJZRk9STUFUX0gKI2RlZmluZSBTQkNCSU5BUllGT1JNQVRfSAojaW5jbHVkZSA8YWxnb3JpdGhtPgojaW5jbHVkZSA8Y3N0ZGludD4KI2luY2x1ZGUgPHR1cGxlPgojcHJhZ21hIG9uY2UKCi8vIEMgU1REIGluY2x1ZGVzCi8vIEMgM3JkIHBhcnR5IGluY2x1ZGVzCi8vIEMrKyBTVEQgaW5jbHVkZXMKI2luY2x1ZGUgPGJpdD4KI2luY2x1ZGUgPGludHR5cGVzLmg+CiNpbmNsdWRlIDxudW1lcmljPgojaW5jbHVkZSA8ZnN0cmVhbT4KI2luY2x1ZGUgPHR5cGVfdHJhaXRzPgojaW5jbHVkZSA8ZmlsZXN5c3RlbT4KI2luY2x1ZGUgPGFsZ29yaXRobT4KI2luY2x1ZGUgPGFycmF5PgoKLy8gQysrIDNyZCBwYXJ0eSBpbmNsdWRlcwojaW5jbHVkZSA8Y29uY3VycmVudHF1ZXVlLmg+CiNpbmNsdWRlIDxzcGRsb2cvc3BkbG9nLmg+CgovLyBteSBpbmNsdWRlcwojaW5jbHVkZSAic2JjcXVlZW5zLWd1aS9maWxlX2hlbHBlcnMuaHBwIgojaW5jbHVkZSAic2JjcXVlZW5zLWd1aS9jYWVuX2hlbHBlci5ocHAiCgpuYW1lc3BhY2UgU0JDUXVlZW5zIHsKbmFtZXNwYWNlIEJpbmFyeUZvcm1hdCB7Cm5hbWVzcGFjZSBUb29scyB7CgogICAgLy8gVGhlIEJpbmFyeUZvcm1hdCBvbmx5IGFjY2VwdHMgYXJpdGhtZXRoaWMgcG9pbnRlcnMuCiAgICAvLyBleDogY29uc3QgY2hhciogcmV0dXJucyB0cnVlCiAgICAvLyAgICAgIHN0ZDo6c3RyaW5nIHJldHVybiBmYWxzZQogICAgLy8gICAgICBkb3VibGUqIHJldHVybiB0cnVlOwogICAgdGVtcGxhdGU8dHlwZW5hbWUgVD4KICAgIGNvbmNlcHQgaXNfYXJpdGhtZXRoaWNfcHRyID0gc3RkOjppc19hcml0aG1ldGljX3Y8CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGQ6OnJlbW92ZV9jdnJlZl90PAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RkOjpyZW1vdmVfcG9pbnRlcl90PFQ+Pj4gYW5kIG5vdCBzdGQ6OmlzX3BvaW50ZXJfdjxUPjsKCgogICAgdGVtcGxhdGU8dHlwZW5hbWUuLi4gVD4KICAgIGNvbmNlcHQgaXNfYXJpdGhtZXRpY19wdHJfdW5wYWNrID0gcmVxdWlyZXMoVCB4KSB7CiAgICAgICAgICAgICguLi4gYW5kIGlzX2FyaXRobWV0aGljX3B0cjxUPik7IH07CgogICAgdGVtcGxhdGU8dHlwZW5hbWUgVD4KICAgIHJlcXVpcmVzIGlzX2FyaXRobWV0aGljX3B0cjxUPgogICAgY29uc3RleHByIHN0YXRpYyBzdGQ6OnN0cmluZ192aWV3IHR5cGVfdG9fc3RyaW5nKCkgewogICAgICAgIC8vIFdlIGdldCB0aGUgbW9zdCBwdXJlIGVzc2VuY2Ugb2YgVDogbm8gY29uc3RzLCBubyByZWZlcmVuY2VzLAogICAgICAgIC8vIGFuZCBubyBbXQogICAgICAgIHVzaW5nIFRfbm9fY29uc3QgPSBzdGQ6OnJlbW92ZV9wb2ludGVyX3Q8c3RkOjpyZW1vdmVfYWxsX2V4dGVudHNfdDwKICAgICAgICAgICAgICAgIHN0ZDo6cmVtb3ZlX3JlZmVyZW5jZV90PHN0ZDo6cmVtb3ZlX2NvbnN0X3Q8VD4+Pj47CiAgICAgICAgaWYgY29uc3RleHByIChzdGQ6OmlzX3NhbWVfdjxUX25vX2NvbnN0LCBjaGFyPikgewogICAgICAgICAgICByZXR1cm4gImNoYXIiOwogICAgICAgIH0gZWxzZSBpZiBjb25zdGV4cHIgKHN0ZDo6aXNfc2FtZV92PFRfbm9fY29uc3QsIHVpbnQ4X3Q+KSB7CiAgICAgICAgICAgIHJldHVybiAidWludDgiOwogICAgICAgIH0gZWxzZSBpZiBjb25zdGV4cHIgKHN0ZDo6aXNfc2FtZV92PFRfbm9fY29uc3QsIHVpbnQxNl90PikgewogICAgICAgICAgICByZXR1cm4gInVpbnQxNiI7CiAgICAgICAgfSBlbHNlIGlmIGNvbnN0ZXhwciAoc3RkOjppc19zYW1lX3Y8VF9ub19jb25zdCwgdWludDMyX3Q+KSB7CiAgICAgICAgICAgIHJldHVybiAidWludDMyIjsKICAgICAgICB9IGVsc2UgaWYgY29uc3RleHByIChzdGQ6OmlzX3NhbWVfdjxUX25vX2NvbnN0LCB1aW50NjRfdD4pIHsKICAgICAgICAgICAgcmV0dXJuICJ1aW50NjQiOwogICAgICAgIH0gZWxzZSBpZiBjb25zdGV4cHIgKHN0ZDo6aXNfc2FtZV92PFRfbm9fY29uc3QsIGludDhfdD4pIHsKICAgICAgICAgICAgcmV0dXJuICJpbnQ4IjsKICAgICAgICB9IGVsc2UgaWYgY29uc3RleHByIChzdGQ6OmlzX3NhbWVfdjxUX25vX2NvbnN0LCBpbnQxNl90PikgewogICAgICAgICAgICByZXR1cm4gImludDE2IjsKICAgICAgICB9IGVsc2UgaWYgY29uc3RleHByIChzdGQ6OmlzX3NhbWVfdjxUX25vX2NvbnN0LCBpbnQzMl90PikgewogICAgICAgICAgICByZXR1cm4gImludDMyIjsKICAgICAgICB9IGVsc2UgaWYgY29uc3RleHByIChzdGQ6OmlzX3NhbWVfdjxUX25vX2NvbnN0LCBpbnQ2NF90PikgewogICAgICAgICAgICByZXR1cm4gImludDY0IjsKICAgICAgICB9IGVsc2UgaWYgY29uc3RleHByIChzdGQ6OmlzX3NhbWVfdjxUX25vX2NvbnN0LCBmbG9hdD4pIHsKICAgICAgICAgICAgcmV0dXJuICJzaW5nbGUiOwogICAgICAgIH0gZWxzZSBpZiBjb25zdGV4cHIgKHN0ZDo6aXNfc2FtZV92PFRfbm9fY29uc3QsIGRvdWJsZT4pIHsKICAgICAgICAgICAgcmV0dXJuICJkb3VibGUiOwogICAgICAgIH0gZWxzZSBpZiBjb25zdGV4cHIgKHN0ZDo6aXNfc2FtZV92PFRfbm9fY29uc3QsIGxvbmcgZG91YmxlPikgewogICAgICAgICAgICByZXR1cm4gImZsb2F0MTI4IjsKICAgICAgICB9CiAgICAgICAgLy8gVE9ETyhBbGwpOiBtYXliZSB0aGUgZGVmYXVsdCBzaG91bGQgYmUgdWludDMyPyBvciBubyBkZWZhdWx0PwogICAgfQoKfSAvLyBuYW1lc3BhY2UgVG9vbHMKCnRlbXBsYXRlPHR5cGVuYW1lLi4uIERhdGFUeXBlcz4KcmVxdWlyZXMgVG9vbHM6OmlzX2FyaXRobWV0aWNfcHRyX3VucGFjazxEYXRhVHlwZXMuLi4+CnN0cnVjdCBEeW5hbWljV3JpdGVyIHsKICAgIC8qIFRPRE8oQW55KTogdGhpcyB3cml0ZXIgaXMgdW5zYWZlLiBJdCB1c2VzIHJhdyBwb2ludGVycy4KICAgICAqIG1heWJlIGNoYW5nZSBpdCB0byB0YWtlIG5vcm1hbCB0eXBlcyBhbmQgdGhlbiBpbnRlcm5hbGx5CiAgICAgKiB1c2Ugc3BhbnM/ICovCiAgICB1c2luZyB0dXBsZV90eXBlID0gc3RkOjp0dXBsZTxjb25zdCBEYXRhVHlwZXMqLi4uPjsKICAgIGNvbnN0ZXhwciBzdGF0aWMgc3RkOjpzaXplX3Qgbl9jb2xzID0gc2l6ZW9mLi4uKERhdGFUeXBlcyk7CiAgICBjb25zdGV4cHIgc3RhdGljIHN0ZDo6YXJyYXk8c3RkOjpzaXplX3QsIG5fY29scz4gc2l6ZV9vZl90eXBlcyA9IHsgc2l6ZW9mKERhdGFUeXBlcykuLi4gfTsKICAgIGNvbnN0ZXhwciBzdGF0aWMgc3RkOjphcnJheTxzdGQ6OnN0cmluZ192aWV3LCBuX2NvbHM+IHBhcmFtZXRlcnNfdHlwZXNfc3RyID0geyBUb29sczo6dHlwZV90b19zdHJpbmc8RGF0YVR5cGVzPigpLi4uIH07Cgpwcml2YXRlOgogICAgY29uc3Qgc3RkOjpzdHJpbmcgX2ZpbGVfbmFtZTsKICAgIGNvbnN0IHN0ZDo6YXJyYXk8c3RkOjpzdHJpbmcsIG5fY29scz4gX25hbWVzOwogICAgY29uc3Qgc3RkOjphcnJheTxzdGQ6OnNpemVfdCwgbl9jb2xzPiBfcmFua3M7CiAgICBjb25zdCBzdGQ6OnZlY3RvcjxzdGQ6OnNpemVfdD4gX3NpemVzOwoKICAgIHN0ZDo6c2l6ZV90IHRvdGFsX3JhbmtzID0gMDsKICAgIGJvb2wgX29wZW4gPSBmYWxzZTsKICAgIHN0ZDo6b2ZzdHJlYW0gX3N0cmVhbTsKCiAgICBzdGQ6OnNpemVfdCBfbGluZV9ieXRlX3NpemUgPSAwOwogICAgc3RkOjpzaXplX3QgX2xpbmVfcGFyYW1fb3JkZXIgPSAwOwogICAgc3RkOjpzaXplX3QgX2xpbmVfYnVmZmVyX2xvYyA9IDA7CiAgICBzdGQ6OnN0cmluZyBfbGluZV9idWZmZXI7CgogICAgbW9vZHljYW1lbDo6Q29uY3VycmVudFF1ZXVlPHR1cGxlX3R5cGU+IF9xdWV1ZTsKCiAgICB0ZW1wbGF0ZTx0eXBlbmFtZSBUPgogICAgdm9pZCBfY29weV9udW1iZXJfdG9fYnVmZihjb25zdCBUJiBudW0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0ZDo6c3RyaW5nJiBidWZmZXIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0ZDo6c2l6ZV90JiBsb2MsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0ZDo6c2l6ZV90JiBzaXplID0gc2l6ZW9mKFQpKSB7CiAgICAgICAgY29uc3QgY2hhciogdG1wc3RyID0gcmVpbnRlcnByZXRfY2FzdDxjb25zdCBjaGFyKj4oJm51bSk7CiAgICAgICAgZm9yKHN0ZDo6c2l6ZV90IGkgPSAwOyBpIDwgc2l6ZTsgaSsrKSB7CiAgICAgICAgICAgIGJ1ZmZlcltpICsgbG9jXSA9IHRtcHN0cltpXTsKICAgICAgICB9CgogICAgICAgIGxvYyArPSBzaXplOwogICAgfQoKICAgIHZvaWQgX2NvcHlfc3RyX3RvX2J1ZmYoc3RkOjpzdHJpbmdfdmlldyBzb3VyY2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0ZDo6c3RyaW5nJiBidWZmZXIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0ZDo6c2l6ZV90JiBsb2MpIHsKICAgICAgICBzb3VyY2UuY29weSgmYnVmZmVyW2xvY10sIHNvdXJjZS5sZW5ndGgoKSwgMCk7CiAgICAgICAgbG9jICs9IHNvdXJjZS5sZW5ndGgoKTsKICAgIH0KCiAgICB2b2lkIF9jcmVhdGVfZmlsZSgpIHsKCiAgICAgICAgLyogIFNCQyBCaW5hcnkgSGVhZGVyIGRlc2NyaXB0aW9uOgogICAgICAgICAqIEhlYWRlciBvZiBhIGJpbmFyeSBmb3JtYXQgaXMgZGl2aWRlZCBpbiA0IHBhcnRzOgogICAgICAgICAqIDEuLSBFZGlhbmVzcyAgICAgICAgICAgIC0gYWx3YXlzIDQgYml0cyBsb25nICh1aW50MzJfdCkKICAgICAgICAgKiAyLi0gRGF0YSBIZWFkZXIgc2l6ZSAgICAtIGFsd2F5cyAyIGJpdHMgbG9uZyAodWludDE2X3QpCiAgICAgICAgICogYW5kIGlzIHRoZSBsZW5ndGggb2YgdGhlIG5leHQgYml0IG9mIGRhdGEKICAgICAgICAgKiAzLi0gSGVhZGVyICAgICAgICAgICAgICAtIGlzIGRhdGEgaGVhZGVyIGxvbmcuCiAgICAgICAgICogQ29udGFpbnMgdGhlIHN0cnVjdHVyZSBvZiBlYWNoIGxpbmUuIEl0IGlzIGFsd2F5cyBmb3VuZCBhcyBhIHJhdwogICAgICAgICAqIHN0cmluZyBpbiB0aGUgZm9ybSAie25hbWVfY29sfTt7dHlwZV9jb2x9O3tzaXplMX0se3NpemUyfS4uLjsuLi47CiAgICAgICAgICogQ2Fubm90IGJlIGxvbmdlciB0aGFuIDY1NTM2IGJ5dGVzLgogICAgICAgICAqIDQuLSBOdW1iZXIgb2YgbGluZXMgICAgIC0gYWx3YXlzIDQgYml0cyBsb25nIChpbnQzMl90KQogICAgICAgICAqIE51bWJlciBvZiBsaW5lcyBpbiB0aGUgZmlsZS4gSWYgMCwgaXQgaXMgaW5kZWZpbml0ZWx5IGxvbmcuCiAgICAgICAgKi8KICAgICAgICAvLyBFZGlhbmVzcyBmaXJzdAogICAgICAgIHVpbnQzMl90IGVuZGlhbmVzcyA9IDB4MDEwMjAzMDQ7CiAgICAgICAgaWYgY29uc3RleHByIChzdGQ6OmVuZGlhbjo6bmF0aXZlID09IHN0ZDo6ZW5kaWFuOjpiaWcpIHsKICAgICAgICAgICAgZW5kaWFuZXNzID0gMHgwNDAzMDIwMTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBlbmRpYW5lc3MgPSAweDAxMDIwMzA0OwogICAgICAgIH0KCiAgICAgICAgc3RkOjpzaXplX3QgdG90YWxfaGVhZGVyX3NpemUgPSAwOwogICAgICAgIC8vIGhhcyB0byBiZSB1aW50MTZfdCBiZWNhdXNlIHdlIGFyZSBzYXZpbmcgaXQgdG8gdGhlIGZpbGUgbGF0ZXIKICAgICAgICB1aW50MTZfdCBiaW5hcnlfaGVhZGVyX3NpemUgPSAwOwogICAgICAgIHN0ZDo6c2l6ZV90IHRvdGFsX3JhbmtzX3NvX2ZhciA9IDA7CiAgICAgICAgZm9yIChzdGQ6OnNpemVfdCBpID0gMDsgaSA8IG5fY29sczsgaSsrKSB7CiAgICAgICAgICAgIGF1dG8gY29sdW1uX3JhbmsgPSBfcmFua3NbaV07CiAgICAgICAgICAgIC8vICsgMSBmb3IgdGhlIDsgY2hhcmFjdGVyCiAgICAgICAgICAgIGJpbmFyeV9oZWFkZXJfc2l6ZSArPSBfbmFtZXNbaV0ubGVuZ3RoKCkgKyAxOwogICAgICAgICAgICAvLyArIDEgZm9yIHRoZSA7IGNoYXJhY3RlcgogICAgICAgICAgICBiaW5hcnlfaGVhZGVyX3NpemUgKz0gcGFyYW1ldGVyc190eXBlc19zdHJbaV0ubGVuZ3RoKCkgKyAxOwoKICAgICAgICAgICAgc3RkOjpzaXplX3QgdG90YWxfcmFua19zaXplID0gMDsKICAgICAgICAgICAgZm9yKHN0ZDo6c2l6ZV90IGogPSAwOyBqIDwgY29sdW1uX3Jhbms7IGogKyspIHsKICAgICAgICAgICAgICAgIGF1dG8gc2l6ZSA9IF9zaXplc1t0b3RhbF9yYW5rc19zb19mYXIgKyBqXTsKICAgICAgICAgICAgICAgIHRvdGFsX3Jhbmtfc2l6ZSArPSBzaXplOwogICAgICAgICAgICAgICAgLy8gSXQgaXMgYWx3YXlzICsgMSBiZWNhdXNlIHRoZXJlIGlzIGVpdGhlciBhICcsJyBvciBhICc7JwogICAgICAgICAgICAgICAgYmluYXJ5X2hlYWRlcl9zaXplICs9IHN0ZDo6dG9fc3RyaW5nKHNpemUpLmxlbmd0aCgpICsgMTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgdG90YWxfcmFua3Nfc29fZmFyICs9IGNvbHVtbl9yYW5rOwogICAgICAgICAgICBfbGluZV9ieXRlX3NpemUgKz0gc2l6ZV9vZl90eXBlc1tpXSp0b3RhbF9yYW5rX3NpemU7CiAgICAgICAgfQogICAgICAgIC8vIFdlIGFsc28gY2FsY3VsYXRlIHRoZSBsaW5lIHNpemUgdmVyeSB1c2VmdWwgd2hlbiB3ZSBzdGFydCBkYXRhIHNhdmluZwoKICAgICAgICB0b3RhbF9oZWFkZXJfc2l6ZSArPSBzaXplb2YodWludDMyX3QpOyAvLyAxLgogICAgICAgIHRvdGFsX2hlYWRlcl9zaXplICs9IHNpemVvZih1aW50MTZfdCk7IC8vIDIuCiAgICAgICAgdG90YWxfaGVhZGVyX3NpemUgKz0gYmluYXJ5X2hlYWRlcl9zaXplOyAvLyAzLgogICAgICAgIHRvdGFsX2hlYWRlcl9zaXplICs9IHNpemVvZihpbnQzMl90KTsgLy8gNC4KCiAgICAgICAgLy8gTm93IHdlIGFsbG9jYXRlIHRoZSBtZW1vcnkhCiAgICAgICAgc3RkOjpzaXplX3QgYnVmZmVyX2xvYyA9IDA7CiAgICAgICAgYXV0byBidWZmZXIgPSBzdGQ6OnN0cmluZyh0b3RhbF9oZWFkZXJfc2l6ZSwgJ0EnKTsKICAgICAgICBfbGluZV9idWZmZXIgPSBzdGQ6OnN0cmluZyhfbGluZV9ieXRlX3NpemUsICdBJyk7CgogICAgICAgIC8vIE5vdyB3ZSBmaWxsIGJ1ZmZlci4KICAgICAgICB0b3RhbF9yYW5rc19zb19mYXIgPSAwOwogICAgICAgIF9jb3B5X251bWJlcl90b19idWZmKGVuZGlhbmVzcywgYnVmZmVyLCBidWZmZXJfbG9jKTsgLy8gMS4KICAgICAgICBfY29weV9udW1iZXJfdG9fYnVmZihiaW5hcnlfaGVhZGVyX3NpemUsIGJ1ZmZlciwgYnVmZmVyX2xvYyk7IC8vIDIuCiAgICAgICAgZm9yIChzdGQ6OnNpemVfdCBpID0gMDsgaSA8IG5fY29sczsgaSsrKSB7IC8vIDMuCiAgICAgICAgICAgIGF1dG8gY29sdW1uX25hbWUgPSBfbmFtZXNbaV07CiAgICAgICAgICAgIGF1dG8gY29sdW1uX3R5cGUgPSBwYXJhbWV0ZXJzX3R5cGVzX3N0cltpXTsKICAgICAgICAgICAgYXV0byBjb2x1bW5fcmFuayA9IF9yYW5rc1tpXTsKCiAgICAgICAgICAgIF9jb3B5X3N0cl90b19idWZmKGNvbHVtbl9uYW1lLCBidWZmZXIsIGJ1ZmZlcl9sb2MpOwogICAgICAgICAgICBfY29weV9zdHJfdG9fYnVmZigiOyIsIGJ1ZmZlciwgYnVmZmVyX2xvYyk7CiAgICAgICAgICAgIF9jb3B5X3N0cl90b19idWZmKGNvbHVtbl90eXBlLCBidWZmZXIsIGJ1ZmZlcl9sb2MpOwogICAgICAgICAgICBfY29weV9zdHJfdG9fYnVmZigiOyIsIGJ1ZmZlciwgYnVmZmVyX2xvYyk7CiAgICAgICAgICAgIGZvcihzdGQ6OnNpemVfdCBzaXplX2ogPSAwOyBzaXplX2ogPCBjb2x1bW5fcmFuazsgc2l6ZV9qKyspIHsKICAgICAgICAgICAgICAgIF9jb3B5X3N0cl90b19idWZmKHN0ZDo6dG9fc3RyaW5nKF9zaXplc1t0b3RhbF9yYW5rc19zb19mYXIgKyBzaXplX2pdKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1ZmZlciwgYnVmZmVyX2xvYyk7CgogICAgICAgICAgICAgICAgaWYoc2l6ZV9qICE9IGNvbHVtbl9yYW5rIC0gMSkgewogICAgICAgICAgICAgICAgICAgIF9jb3B5X3N0cl90b19idWZmKCIsIiwgYnVmZmVyLCBidWZmZXJfbG9jKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgX2NvcHlfc3RyX3RvX2J1ZmYoIjsiLCBidWZmZXIsIGJ1ZmZlcl9sb2MpOwogICAgICAgICAgICB0b3RhbF9yYW5rc19zb19mYXIgKz0gY29sdW1uX3Jhbms7CiAgICAgICAgfQoKICAgICAgICBpbnQzMl90IGogPSAweDAwMDAwMDAwOwogICAgICAgIF9jb3B5X251bWJlcl90b19idWZmKGosIGJ1ZmZlciwgYnVmZmVyX2xvYyk7IC8vIDQuCgogICAgICAgIC8vIHNhdmUgdG8gZmlsZS4KICAgICAgICBfc3RyZWFtIDw8IGJ1ZmZlcjsKICAgIH0KCiAgICAvLyBTYXZlIGl0ZW0gZnJvbSB0dXBsZSBpbiBwb3NpdGlvbiBpCiAgICB0ZW1wbGF0ZTxzdGQ6OnNpemVfdCBpPgogICAgdm9pZCBfc2F2ZV9pdGVtKGNvbnN0IHR1cGxlX3R5cGUmIGl0ZW1zLCBzdGQ6OnNpemVfdCYgbG9jKSB7CiAgICAgICAgYXV0byBpdGVtID0gc3RkOjpnZXQ8aT4oaXRlbXMpOwogICAgICAgIHVzaW5nIFQgPSBkZWNsdHlwZShpdGVtKTsKCiAgICAgICAgYXV0byByYW5rID0gX3JhbmtzW2ldOwogICAgICAgIGF1dG8gdG90YWxfcmFua191cF90b19pID0gc3RkOjphY2N1bXVsYXRlKF9yYW5rcy5iZWdpbigpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICZfcmFua3NbaV0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMCk7CgogICAgICAgIGNvbnN0IGF1dG8mIHNpemVfaW5kZXhfc3RhcnQgPSB0b3RhbF9yYW5rX3VwX3RvX2k7CiAgICAgICAgY29uc3QgYXV0byYgdG90YWxfc2l6ZSA9IHN0ZDo6YWNjdW11bGF0ZSgmX3NpemVzW3NpemVfaW5kZXhfc3RhcnRdLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJl9zaXplc1tzaXplX2luZGV4X3N0YXJ0ICsgcmFua10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAwKTsKCiAgICAgICAgc3RkOjptZW1jcHkoJl9saW5lX2J1ZmZlcltsb2NdLCBpdGVtLCB0b3RhbF9zaXplKnNpemVvZihUKSk7CiAgICAgICAgbG9jICs9IHRvdGFsX3NpemUqc2l6ZW9mKFQpOwogICAgfQoKICAgIC8vIFRoaW5rIG9mIHQgaGlzIGZ1bmN0aW9uIGFzIGEgd3JhcHBlciBiZXR3ZWVuIF9zYXZlX2l0ZW0KICAgIC8vIGFuZCBfc2F2ZV9kYXRhCiAgICB0ZW1wbGF0ZTxzdGQ6OnNpemVfdC4uLiBJPgogICAgdm9pZCBfc2F2ZV9pdGVtX2hlbHBlcihjb25zdCB0dXBsZV90eXBlJiBkYXRhLCBzdGQ6OmluZGV4X3NlcXVlbmNlPEkuLi4+KSB7CiAgICAgICAgKF9zYXZlX2l0ZW08ST4oZGF0YSwgX2xpbmVfYnVmZmVyX2xvYyksLi4uKTsKICAgIH0KCiAgICB2b2lkIF9zYXZlX2V2ZW50KGNvbnN0IHR1cGxlX3R5cGUmIGRhdGEpIHsKICAgICAgICBfbGluZV9idWZmZXJfbG9jID0gMDsKICAgICAgICBfc2F2ZV9pdGVtX2hlbHBlcihkYXRhLCBzdGQ6Om1ha2VfaW5kZXhfc2VxdWVuY2U8bl9jb2xzPnt9KTsKICAgICAgICBfc3RyZWFtIDw8IF9saW5lX2J1ZmZlcjsKICAgIH0KCiBwdWJsaWM6CiAgICBEeW5hbWljV3JpdGVyKHN0ZDo6c3RyaW5nX3ZpZXcgZmlsZV9uYW1lLAogICAgICAgICAgICAgICAgICBjb25zdCBzdGQ6OmFycmF5PHN0ZDo6c3RyaW5nLCBuX2NvbHM+JiBjb2x1bW5zX25hbWVzLAogICAgICAgICAgICAgICAgICBjb25zdCBzdGQ6OmFycmF5PHN0ZDo6c2l6ZV90LCBuX2NvbHM+JiBjb2x1bW5zX3JhbmtzLAogICAgICAgICAgICAgICAgICBjb25zdCBzdGQ6OnZlY3RvcjxzdGQ6OnNpemVfdD4mIGNvbHVtbnNfc2l6ZXMpIDoKICAgICAgICBfZmlsZV9uYW1le2ZpbGVfbmFtZX0sCiAgICAgICAgX25hbWVze2NvbHVtbnNfbmFtZXN9LAogICAgICAgIF9yYW5rc3tjb2x1bW5zX3JhbmtzfSwKICAgICAgICBfc2l6ZXN7Y29sdW1uc19zaXplc30KICAgIHsKICAgICAgICB0b3RhbF9yYW5rcyA9IHN0ZDo6YWNjdW11bGF0ZShjb2x1bW5zX3JhbmtzLmJlZ2luKCksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sdW1uc19yYW5rcy5lbmQoKSwgMCk7CgogICAgICAgIF9zdHJlYW0ub3BlbihfZmlsZV9uYW1lLAogICAgICAgICAgICAgICAgICAgICBzdGQ6Om9mc3RyZWFtOjphcHAgfCBzdGQ6Om9mc3RyZWFtOjpiaW5hcnkpOwoKICAgICAgICBpZiAoX3N0cmVhbS5pc19vcGVuKCkpIHsKICAgICAgICAgICAgX29wZW4gPSB0cnVlOwogICAgICAgICAgICBpZiAoc3RkOjpmaWxlc3lzdGVtOjppc19lbXB0eShmaWxlX25hbWUpKSB7CiAgICAgICAgICAgICAgICBfY3JlYXRlX2ZpbGUoKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCiAgICB+RHluYW1pY1dyaXRlcigpIHsKICAgICAgICBfb3BlbiA9IGZhbHNlOwogICAgICAgIF9zdHJlYW0uY2xvc2UoKTsKICAgIH0KCiAgICB2b2lkIGFkZChjb25zdCBEYXRhVHlwZXMqIGNvbnN0Li4uIGRhdGEpIG5vZXhjZXB0IHsKICAgICAgICBfcXVldWUuZW5xdWV1ZShzdGQ6Om1ha2VfdHVwbGUoZGF0YS4uLikpOwogICAgfQoKICAgIGJvb2wgc2F2ZSgpIG5vZXhjZXB0IHsKICAgICAgICBhdXRvIGFwcHJveF9sZW5ndGggPSBfcXVldWUuc2l6ZV9hcHByb3goKTsKICAgICAgICBhdXRvIGRhdGEgPSBzdGQ6OnZlY3Rvcjx0dXBsZV90eXBlPihhcHByb3hfbGVuZ3RoKTsKICAgICAgICBpZiAobm90IF9xdWV1ZS50cnlfZGVxdWV1ZV9idWxrKGRhdGEuZGF0YSgpLCBhcHByb3hfbGVuZ3RoKSkgewogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQoKICAgICAgICBmb3IoY29uc3QgYXV0byYgZXZlbnQgOiBkYXRhKSB7CiAgICAgICAgICAgIF9zYXZlX2V2ZW50KGV2ZW50KTsKICAgICAgICB9CgogICAgICAgIHJldHVybiB0cnVlOwogICAgfQp9OwoKLy8gVE9ETyhIZWN0b3IpOiB3ZSBuZWVkIHRoaXMhCnRlbXBsYXRlPHR5cGVuYW1lLi4uIERhdGFUeXBlcz4Kc3RydWN0IFJlYWRlciB7CgoKCiBwcml2YXRlOgp9OwoKY2xhc3MgU2lQTUR5bmFtaWNXcml0ZXIgewogICAgdXNpbmcgU2lQTURXID0gRHluYW1pY1dyaXRlcjwgICBkb3VibGUsICAgIC8vIHNhbXBsZSByYXRlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVpbnQ4X3QsICAgLy8gRW5hYmxlZCBDaGFubmVscwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1aW50NjRfdCwgIC8vIFRyaWdnZXIgTWFzawogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1aW50MTZfdCwgIC8vIFRocmVzaG9sZHMKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdWludDE2X3QsICAvLyBEQyBPZmZzZXRzCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVpbnQ4X3QsICAgLy8gREMgQ29ycmVjdGlvbnMKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmxvYXQsICAgICAvLyBEQyBSYW5nZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1aW50MzJfdCwgIC8vIFRpbWUgc3RhbXAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdWludDMyX3QsICAvLyBUcmlnZ2VyIHNvdXJjZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1aW50MTZfdD47IC8vIFdhdmVmb3JtcwoKICAgIGNvbnN0ZXhwciBzdGF0aWMgc3RkOjpzaXplX3QgbnVtX2NvbHMgPSAxMDsKICAgIGNvbnN0ZXhwciBzdGF0aWMgc3RkOjphcnJheTxzdGQ6OnNpemVfdCwgbnVtX2NvbHM+IHNpcG1fcmFua3MgPQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7MSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMn07CiAgICBjb25zdCBpbmxpbmUgc3RhdGljIHN0ZDo6YXJyYXk8c3RkOjpzdHJpbmcsIG51bV9jb2xzPiBzaXBtX25hbWVzID0KICAgICAgICAgICAgeyJzYW1wbGVfcmF0ZSIsICJlbl9jaHMiLCAidHJnX21hc2siLCAidGhyZXNob2xkcyIsICJkY19vZmZzZXRzIiwKICAgICAgICAgICAgICJkY19jb3JyZWN0aW9ucyIsICJkY19yYW5nZSIsICJ0aW1lX3N0YW1wIiwgInRyZ19zb3VyY2UiLCAiZGF0YSJ9OwoKCiAgICBkb3VibGUgX3NhbXBsZV9yYXRlID0gMC4wOwogICAgY29uc3Qgc3RkOjp2ZWN0b3I8c3RkOjp1aW50OF90PiBfZW5fY2hzOwogICAgdWludDY0X3QgX3RyaWdnZXJfbWFzayA9IDA7CiAgICBzdGQ6OnZlY3Rvcjx1aW50MTZfdD4gX3RocmVzaG9sZHM7CiAgICBzdGQ6OnZlY3Rvcjx1aW50MTZfdD4gX2RjX29mZnNldHM7CiAgICBzdGQ6OnZlY3Rvcjx1aW50OF90PiBfZGNfY29ycmVjdGlvbnM7CiAgICBzdGQ6OnZlY3RvcjxmbG9hdD4gX2RjX3JhbmdlczsKCiAgICB1aW50MzJfdCBfcmVjb3JkX2xlbmd0aDsKICAgIFNpUE1EVyBfc3RyZWFtZXI7CiBwdWJsaWM6CiAgICAvKiBEZXRhaWxzIG9mIGVhY2ggcGFyYW1ldGVyczoKICAgIE5hbWUgICAgICAgICAgfCB0eXBlICAgICAgfCBsZW5ndGggKGluIEJ5dGVzKSB8IGlzIGEgY29uc3RhbnQ/fAogICAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICBzYW1wbGVfcmF0ZSAgIHwgZG91YmxlICAgIHwgOCAgICAgICAgICAgICAgICAgfCBZCiAgICBlbl9jaHMgICAgICAgIHwgdWludDggICAgIHwgMSpjaF9zaXplICAgICAgICAgfCBZCiAgICB0cmdfbWFzayAgICAgIHwgdWludDY0ICAgIHwgOCAgICAgICAgICAgICAgICAgfCBZCiAgICB0aHJlc2hvbGRzICAgIHwgdWludDE2ICAgIHwgMipjaF9zaXplICAgICAgICAgfCBZCiAgICBkY19vZmZzZXRzICAgIHwgdWludDE2ICAgIHwgMipjaF9zaXplICAgICAgICAgfCBZCiAgICBkY19jb3JyZWN0aW9uc3wgdWludDggICAgIHwgMSpjaF9zaXplICAgICAgICAgfCBZCiAgICBkY19yYW5nZSAgICAgIHwgc2luZ2xlICAgIHwgNCpjaF9zaXplICAgICAgICAgfCBZCiAgICB0aW1lX3N0YW1wICAgIHwgdWludDMyICAgIHwgNCAgICAgICAgICAgICAgICAgfCBOCiAgICB0cmdfc291cmNlICAgIHwgdWludDMyICAgIHwgNCAgICAgICAgICAgICAgICAgfCBOCiAgICBkYXRhICAgICAgICAgIHwgdWludDE2ICAgIHwgMipybCpjaF9zaXplICAgICAgfCBOCiAgICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIHJsIC0+IHJlY29yZCBsZW5ndGggb2YgdGhlIHdhdmVmb3JtcwogICAgY2hfc2l6ZSAtPiBudW1iZXIgb2YgZW5hYmxlZCBjaGFubmVscwogICAgZW5fY2hzICAtPiB0aGUgY2hhbm5lbHMgIyB0aGF0IHdlcmUgZW5hYmxlZAoKICAgIFRvdGFsIGxlbmd0aCA9IDI0ICsgY2hfc2l6ZSooMTAgKyAyKnJlY29yZF9sZW5ndGgpCiAgICAqLwoKICAgIFNpUE1EeW5hbWljV3JpdGVyKHN0ZDo6c3RyaW5nX3ZpZXcgZmlsZV9uYW1lLAogICAgICAgICAgICAgICAgICAgICAgY29uc3QgQ0FFTkRpZ2l0aXplck1vZGVsQ29uc3RhbnRzJiBtb2RlbF9jb25zdHMsCiAgICAgICAgICAgICAgICAgICAgICBjb25zdCBDQUVOR2xvYmFsQ29uZmlnJiBnbG9iYWxfY29uZmlnLAogICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RkOjphcnJheTxDQUVOR3JvdXBDb25maWcsIDg+JiBncm91cF9jb25maWdzKSA6CiAgICAgICAgX3NhbXBsZV9yYXRle21vZGVsX2NvbnN0cy5BY3F1aXNpdGlvblJhdGV9LAogICAgICAgIF9lbl9jaHN7X2dldF9lbl9jaHMobW9kZWxfY29uc3RzLCBncm91cF9jb25maWdzKX0sCiAgICAgICAgX3JlY29yZF9sZW5ndGh7Z2xvYmFsX2NvbmZpZy5SZWNvcmRMZW5ndGh9LAogICAgICAgIF9zdHJlYW1lcntmaWxlX25hbWUsIHNpcG1fbmFtZXMsICBzaXBtX3JhbmtzLCBfZm9ybV9zaXplcyhnbG9iYWxfY29uZmlnKX0KICAgIHsKICAgICAgICBmb3IoYXV0byBjaCA6IF9lbl9jaHMpIHsKICAgICAgICAgICAgQ0FFTkdyb3VwQ29uZmlnIGdyb3VwOwogICAgICAgICAgICBpZiAobW9kZWxfY29uc3RzLk51bWJlck9mR3JvdXBzID09IDApIHsKICAgICAgICAgICAgICAgIGdyb3VwID0gZ3JvdXBfY29uZmlnc1tjaF07CiAgICAgICAgICAgICAgICBfZGNfY29ycmVjdGlvbnMucHVzaF9iYWNrKGdyb3VwLkRDQ29ycmVjdGlvbnNbMF0pOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgZ3JvdXAgPSAgZ3JvdXBfY29uZmlnc1tjaCAlIDhdOwogICAgICAgICAgICAgICAgX2RjX2NvcnJlY3Rpb25zLnB1c2hfYmFjayhncm91cC5EQ0NvcnJlY3Rpb25zW2NoICUgOF0pOwogICAgICAgICAgICB9CgogICAgICAgICAgICBfdHJpZ2dlcl9tYXNrIHw9ICgxIDw8IGNoKTsgIC8vIGZsaXAgdGhlIGJpdCBhdCBwb3NpdGlvbiBjaAogICAgICAgICAgICBfdGhyZXNob2xkcy5wdXNoX2JhY2soZ3JvdXAuVHJpZ2dlclRocmVzaG9sZCk7CiAgICAgICAgICAgIF9kY19vZmZzZXRzLnB1c2hfYmFjayhncm91cC5EQ09mZnNldCk7CiAgICAgICAgICAgIF9kY19jb3JyZWN0aW9ucy5wdXNoX2JhY2soZ3JvdXAuRENDb3JyZWN0aW9uc1tjaCAlIDhdKTsKICAgICAgICAgICAgX2RjX3Jhbmdlcy5wdXNoX2JhY2sobW9kZWxfY29uc3RzLlZvbHRhZ2VSYW5nZXMuYXQoZ3JvdXAuRENSYW5nZSkpOwogICAgICAgIH0KICAgIH0KCiAgICB+U2lQTUR5bmFtaWNXcml0ZXIoKSA9IGRlZmF1bHQ7CgogICAgdm9pZCBzYXZlX3dhdmVmb3JtKGNvbnN0IENBRU5XYXZlZm9ybXM8dWludDE2X3Q+JiB3YXZlZm9ybSkgewogICAgICAgIF9zdHJlYW1lci5hZGQoJl9zYW1wbGVfcmF0ZSwKICAgICAgICAgICAgICAgICAgICAgICZfZW5fY2hzWzBdLAogICAgICAgICAgICAgICAgICAgICAgJl90cmlnZ2VyX21hc2ssCiAgICAgICAgICAgICAgICAgICAgICAmX3RocmVzaG9sZHNbMF0sCiAgICAgICAgICAgICAgICAgICAgICAmX2RjX29mZnNldHNbMF0sCiAgICAgICAgICAgICAgICAgICAgICAmX2RjX2NvcnJlY3Rpb25zWzBdLAogICAgICAgICAgICAgICAgICAgICAgJl9kY19yYW5nZXNbMF0sCiAgICAgICAgICAgICAgICAgICAgICAmd2F2ZWZvcm0uZ2V0SW5mbygpLlRyaWdnZXJUaW1lVGFnLAogICAgICAgICAgICAgICAgICAgICAgJndhdmVmb3JtLmdldEluZm8oKS5QYXR0ZXJuLAogICAgICAgICAgICAgICAgICAgICAgd2F2ZWZvcm0uZ2V0RGF0YSgpKTsKCiAgICAgICAgX3N0cmVhbWVyLnNhdmUoKTsKICAgIH0KCiBwcml2YXRlOgoKICAgIHN0ZDo6dmVjdG9yPHN0ZDo6c2l6ZV90PiBfZm9ybV9zaXplcygKICAgICAgICBjb25zdCBDQUVOR2xvYmFsQ29uZmlnJiBjYWVuX2dsb2JhbF9jb25maWcpIHsKCiAgICAgICAgYXV0byBudW1fZW5fY2hzID0gX2VuX2Nocy5zaXplKCk7CiAgICAgICAgcmV0dXJuIHsxLCBudW1fZW5fY2hzLCAxLCBudW1fZW5fY2hzLCBudW1fZW5fY2hzLCBudW1fZW5fY2hzLCBudW1fZW5fY2hzLAogICAgICAgICAgICAgICAgMSwgMSwgbnVtX2VuX2NocywgY2Flbl9nbG9iYWxfY29uZmlnLlJlY29yZExlbmd0aH07CiAgICB9CgogICAgc3RkOjp2ZWN0b3I8c3RkOjp1aW50OF90PiBfZ2V0X2VuX2NocygKICAgICAgICAgICAgY29uc3QgQ0FFTkRpZ2l0aXplck1vZGVsQ29uc3RhbnRzJiBtb2RlbF9jb25zdGFudHMsCiAgICAgICAgICAgIGNvbnN0IHN0ZDo6YXJyYXk8Q0FFTkdyb3VwQ29uZmlnLCA4PiYgZ3JvdXBzKSB7CiAgICAgICAgc3RkOjp2ZWN0b3I8c3RkOjp1aW50OF90PiBvdXQ7CiAgICAgICAgZm9yKHN0ZDo6c2l6ZV90IGdyb3VwX251bSA9IDA7IGdyb3VwX251bSA8IGdyb3Vwcy5zaXplKCk7IGdyb3VwX251bSsrKSB7CiAgICAgICAgICAgIGNvbnN0IGF1dG8mIGdyb3VwID0gZ3JvdXBzW2dyb3VwX251bV07CiAgICAgICAgICAgIGlmIChub3QgZ3JvdXAuRW5hYmxlZCkgewogICAgICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIElmIHRoZSBkaWdpdGl6ZXIgZG9lcyBub3Qgc3VwcG9ydCBncm91cHMsIGdyb3VwX251bSA9IGNoCiAgICAgICAgICAgIGlmKG1vZGVsX2NvbnN0YW50cy5OdW1iZXJPZkdyb3VwcyA9PSAwKSB7CiAgICAgICAgICAgICAgICBvdXQucHVzaF9iYWNrKGdyb3VwX251bSk7CiAgICAgICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8gT3RoZXdpc2UsIGNhbGN1bGF0ZSB1c2luZyB0aGUgQWNxdWlzaXRpb25NYXNrCiAgICAgICAgICAgIGZvcihzdGQ6OnNpemVfdCBjaCA9IDA7IGNoIDwgbW9kZWxfY29uc3RhbnRzLk51bUNoYW5uZWxzUGVyR3JvdXA7IGNoKyspIHsKICAgICAgICAgICAgICAgIGlmKGdyb3VwLkFjcXVpc2l0aW9uTWFzay5hdChjaCkpIHsKICAgICAgICAgICAgICAgICAgICBvdXQucHVzaF9iYWNrKGNoICsgbW9kZWxfY29uc3RhbnRzLk51bUNoYW5uZWxzUGVyR3JvdXAgKiBncm91cF9udW0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHJldHVybiBvdXQ7CiAgICB9CgoKfTsKCn0gLy8gbmFtZXNwYWNlIEJpbmFyeUZvcm1hdAp9IC8vIG5hbWVzcGFjZSBTQkNRdWVlbnMKCiNlbmRpZiAvL1NCQ0JJTkFSWUZPUk1BVF9ICgAAAAAAAAAA7D8AAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAYAsAAAAAAABgCwAAAAAAAAAAAAAAAPC/"
				],
				[
					4302,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAADsPwAALy8KLy8gQ3JlYXRlZCBieSBIZWN0b3IgSGF3bGV5IEhlcnJlcmEgb24gMjAyMy0wMi0xOS4KLy8KCiNpZm5kZWYgU0JDQklOQVJZRk9STUFUX0gKI2RlZmluZSBTQkNCSU5BUllGT1JNQVRfSAojaW5jbHVkZSA8YWxnb3JpdGhtPgojaW5jbHVkZSA8Y3N0ZGludD4KI2luY2x1ZGUgPHR1cGxlPgojcHJhZ21hIG9uY2UKCi8vIEMgU1REIGluY2x1ZGVzCi8vIEMgM3JkIHBhcnR5IGluY2x1ZGVzCi8vIEMrKyBTVEQgaW5jbHVkZXMKI2luY2x1ZGUgPGJpdD4KI2luY2x1ZGUgPGludHR5cGVzLmg+CiNpbmNsdWRlIDxudW1lcmljPgojaW5jbHVkZSA8ZnN0cmVhbT4KI2luY2x1ZGUgPHR5cGVfdHJhaXRzPgojaW5jbHVkZSA8ZmlsZXN5c3RlbT4KI2luY2x1ZGUgPGFsZ29yaXRobT4KI2luY2x1ZGUgPGFycmF5PgoKLy8gQysrIDNyZCBwYXJ0eSBpbmNsdWRlcwojaW5jbHVkZSA8Y29uY3VycmVudHF1ZXVlLmg+CiNpbmNsdWRlIDxzcGRsb2cvc3BkbG9nLmg+CgovLyBteSBpbmNsdWRlcwojaW5jbHVkZSAic2JjcXVlZW5zLWd1aS9maWxlX2hlbHBlcnMuaHBwIgojaW5jbHVkZSAic2JjcXVlZW5zLWd1aS9jYWVuX2hlbHBlci5ocHAiCgpuYW1lc3BhY2UgU0JDUXVlZW5zIHsKbmFtZXNwYWNlIEJpbmFyeUZvcm1hdCB7Cm5hbWVzcGFjZSBUb29scyB7CgogICAgLy8gVGhlIEJpbmFyeUZvcm1hdCBvbmx5IGFjY2VwdHMgYXJpdGhtZXRoaWMgcG9pbnRlcnMuCiAgICAvLyBleDogY29uc3QgY2hhciogcmV0dXJucyB0cnVlCiAgICAvLyAgICAgIHN0ZDo6c3RyaW5nIHJldHVybiBmYWxzZQogICAgLy8gICAgICBkb3VibGUqIHJldHVybiB0cnVlOwogICAgdGVtcGxhdGU8dHlwZW5hbWUgVD4KICAgIGNvbmNlcHQgaXNfYXJpdGhtZXRoaWNfcHRyID0gc3RkOjppc19hcml0aG1ldGljX3Y8CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGQ6OnJlbW92ZV9jdnJlZl90PAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RkOjpyZW1vdmVfcG9pbnRlcl90PFQ+Pj4gYW5kIG5vdCBzdGQ6OmlzX3BvaW50ZXJfdjxUPjsKCgogICAgdGVtcGxhdGU8dHlwZW5hbWUuLi4gVD4KICAgIGNvbmNlcHQgaXNfYXJpdGhtZXRpY19wdHJfdW5wYWNrID0gcmVxdWlyZXMoVCB4KSB7CiAgICAgICAgICAgICguLi4gYW5kIGlzX2FyaXRobWV0aGljX3B0cjxUPik7IH07CgogICAgdGVtcGxhdGU8dHlwZW5hbWUgVD4KICAgIHJlcXVpcmVzIGlzX2FyaXRobWV0aGljX3B0cjxUPgogICAgY29uc3RleHByIHN0YXRpYyBzdGQ6OnN0cmluZ192aWV3IHR5cGVfdG9fc3RyaW5nKCkgewogICAgICAgIC8vIFdlIGdldCB0aGUgbW9zdCBwdXJlIGVzc2VuY2Ugb2YgVDogbm8gY29uc3RzLCBubyByZWZlcmVuY2VzLAogICAgICAgIC8vIGFuZCBubyBbXQogICAgICAgIHVzaW5nIFRfbm9fY29uc3QgPSBzdGQ6OnJlbW92ZV9wb2ludGVyX3Q8c3RkOjpyZW1vdmVfYWxsX2V4dGVudHNfdDwKICAgICAgICAgICAgICAgIHN0ZDo6cmVtb3ZlX3JlZmVyZW5jZV90PHN0ZDo6cmVtb3ZlX2NvbnN0X3Q8VD4+Pj47CiAgICAgICAgaWYgY29uc3RleHByIChzdGQ6OmlzX3NhbWVfdjxUX25vX2NvbnN0LCBjaGFyPikgewogICAgICAgICAgICByZXR1cm4gImNoYXIiOwogICAgICAgIH0gZWxzZSBpZiBjb25zdGV4cHIgKHN0ZDo6aXNfc2FtZV92PFRfbm9fY29uc3QsIHVpbnQ4X3Q+KSB7CiAgICAgICAgICAgIHJldHVybiAidWludDgiOwogICAgICAgIH0gZWxzZSBpZiBjb25zdGV4cHIgKHN0ZDo6aXNfc2FtZV92PFRfbm9fY29uc3QsIHVpbnQxNl90PikgewogICAgICAgICAgICByZXR1cm4gInVpbnQxNiI7CiAgICAgICAgfSBlbHNlIGlmIGNvbnN0ZXhwciAoc3RkOjppc19zYW1lX3Y8VF9ub19jb25zdCwgdWludDMyX3Q+KSB7CiAgICAgICAgICAgIHJldHVybiAidWludDMyIjsKICAgICAgICB9IGVsc2UgaWYgY29uc3RleHByIChzdGQ6OmlzX3NhbWVfdjxUX25vX2NvbnN0LCB1aW50NjRfdD4pIHsKICAgICAgICAgICAgcmV0dXJuICJ1aW50NjQiOwogICAgICAgIH0gZWxzZSBpZiBjb25zdGV4cHIgKHN0ZDo6aXNfc2FtZV92PFRfbm9fY29uc3QsIGludDhfdD4pIHsKICAgICAgICAgICAgcmV0dXJuICJpbnQ4IjsKICAgICAgICB9IGVsc2UgaWYgY29uc3RleHByIChzdGQ6OmlzX3NhbWVfdjxUX25vX2NvbnN0LCBpbnQxNl90PikgewogICAgICAgICAgICByZXR1cm4gImludDE2IjsKICAgICAgICB9IGVsc2UgaWYgY29uc3RleHByIChzdGQ6OmlzX3NhbWVfdjxUX25vX2NvbnN0LCBpbnQzMl90PikgewogICAgICAgICAgICByZXR1cm4gImludDMyIjsKICAgICAgICB9IGVsc2UgaWYgY29uc3RleHByIChzdGQ6OmlzX3NhbWVfdjxUX25vX2NvbnN0LCBpbnQ2NF90PikgewogICAgICAgICAgICByZXR1cm4gImludDY0IjsKICAgICAgICB9IGVsc2UgaWYgY29uc3RleHByIChzdGQ6OmlzX3NhbWVfdjxUX25vX2NvbnN0LCBmbG9hdD4pIHsKICAgICAgICAgICAgcmV0dXJuICJzaW5nbGUiOwogICAgICAgIH0gZWxzZSBpZiBjb25zdGV4cHIgKHN0ZDo6aXNfc2FtZV92PFRfbm9fY29uc3QsIGRvdWJsZT4pIHsKICAgICAgICAgICAgcmV0dXJuICJkb3VibGUiOwogICAgICAgIH0gZWxzZSBpZiBjb25zdGV4cHIgKHN0ZDo6aXNfc2FtZV92PFRfbm9fY29uc3QsIGxvbmcgZG91YmxlPikgewogICAgICAgICAgICByZXR1cm4gImZsb2F0MTI4IjsKICAgICAgICB9CiAgICAgICAgLy8gVE9ETyhBbGwpOiBtYXliZSB0aGUgZGVmYXVsdCBzaG91bGQgYmUgdWludDMyPyBvciBubyBkZWZhdWx0PwogICAgfQoKfSAvLyBuYW1lc3BhY2UgVG9vbHMKCnRlbXBsYXRlPHR5cGVuYW1lLi4uIERhdGFUeXBlcz4KcmVxdWlyZXMgVG9vbHM6OmlzX2FyaXRobWV0aWNfcHRyX3VucGFjazxEYXRhVHlwZXMuLi4+CnN0cnVjdCBEeW5hbWljV3JpdGVyIHsKICAgIC8qIFRPRE8oQW55KTogdGhpcyB3cml0ZXIgaXMgdW5zYWZlLiBJdCB1c2VzIHJhdyBwb2ludGVycy4KICAgICAqIG1heWJlIGNoYW5nZSBpdCB0byB0YWtlIG5vcm1hbCB0eXBlcyBhbmQgdGhlbiBpbnRlcm5hbGx5CiAgICAgKiB1c2Ugc3BhbnM/ICovCiAgICB1c2luZyB0dXBsZV90eXBlID0gc3RkOjp0dXBsZTxzdGQ6OnNwYW48RGF0YVR5cGVzPi4uLj47CiAgICBjb25zdGV4cHIgc3RhdGljIHN0ZDo6c2l6ZV90IG5fY29scyA9IHNpemVvZi4uLihEYXRhVHlwZXMpOwogICAgY29uc3RleHByIHN0YXRpYyBzdGQ6OmFycmF5PHN0ZDo6c2l6ZV90LCBuX2NvbHM+IHNpemVfb2ZfdHlwZXMgPSB7IHNpemVvZihEYXRhVHlwZXMpLi4uIH07CiAgICBjb25zdGV4cHIgc3RhdGljIHN0ZDo6YXJyYXk8c3RkOjpzdHJpbmdfdmlldywgbl9jb2xzPiBwYXJhbWV0ZXJzX3R5cGVzX3N0ciA9IHsgVG9vbHM6OnR5cGVfdG9fc3RyaW5nPERhdGFUeXBlcz4oKS4uLiB9OwoKcHJpdmF0ZToKICAgIGNvbnN0IHN0ZDo6c3RyaW5nIF9maWxlX25hbWU7CiAgICBjb25zdCBzdGQ6OmFycmF5PHN0ZDo6c3RyaW5nLCBuX2NvbHM+IF9uYW1lczsKICAgIGNvbnN0IHN0ZDo6YXJyYXk8c3RkOjpzaXplX3QsIG5fY29scz4gX3JhbmtzOwogICAgY29uc3Qgc3RkOjp2ZWN0b3I8c3RkOjpzaXplX3Q+IF9zaXplczsKCiAgICBzdGQ6OnNpemVfdCB0b3RhbF9yYW5rcyA9IDA7CiAgICBib29sIF9vcGVuID0gZmFsc2U7CiAgICBzdGQ6Om9mc3RyZWFtIF9zdHJlYW07CgogICAgc3RkOjpzaXplX3QgX2xpbmVfYnl0ZV9zaXplID0gMDsKICAgIHN0ZDo6c2l6ZV90IF9saW5lX3BhcmFtX29yZGVyID0gMDsKICAgIHN0ZDo6c2l6ZV90IF9saW5lX2J1ZmZlcl9sb2MgPSAwOwogICAgc3RkOjpzdHJpbmcgX2xpbmVfYnVmZmVyOwoKICAgIHRlbXBsYXRlPHR5cGVuYW1lIFQ+CiAgICB2b2lkIF9jb3B5X251bWJlcl90b19idWZmKGNvbnN0IFQmIG51bSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RkOjpzdHJpbmcmIGJ1ZmZlciwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RkOjpzaXplX3QmIGxvYywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RkOjpzaXplX3QmIHNpemUgPSBzaXplb2YoVCkpIHsKICAgICAgICBjb25zdCBjaGFyKiB0bXBzdHIgPSByZWludGVycHJldF9jYXN0PGNvbnN0IGNoYXIqPigmbnVtKTsKICAgICAgICBmb3Ioc3RkOjpzaXplX3QgaSA9IDA7IGkgPCBzaXplOyBpKyspIHsKICAgICAgICAgICAgYnVmZmVyW2kgKyBsb2NdID0gdG1wc3RyW2ldOwogICAgICAgIH0KCiAgICAgICAgbG9jICs9IHNpemU7CiAgICB9CgogICAgdm9pZCBfY29weV9zdHJfdG9fYnVmZihzdGQ6OnN0cmluZ192aWV3IHNvdXJjZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RkOjpzdHJpbmcmIGJ1ZmZlciwKICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RkOjpzaXplX3QmIGxvYykgewogICAgICAgIHNvdXJjZS5jb3B5KCZidWZmZXJbbG9jXSwgc291cmNlLmxlbmd0aCgpLCAwKTsKICAgICAgICBsb2MgKz0gc291cmNlLmxlbmd0aCgpOwogICAgfQoKICAgIHZvaWQgX2NyZWF0ZV9maWxlKCkgewoKICAgICAgICAvKiAgU0JDIEJpbmFyeSBIZWFkZXIgZGVzY3JpcHRpb246CiAgICAgICAgICogSGVhZGVyIG9mIGEgYmluYXJ5IGZvcm1hdCBpcyBkaXZpZGVkIGluIDQgcGFydHM6CiAgICAgICAgICogMS4tIEVkaWFuZXNzICAgICAgICAgICAgLSBhbHdheXMgNCBiaXRzIGxvbmcgKHVpbnQzMl90KQogICAgICAgICAqIDIuLSBEYXRhIEhlYWRlciBzaXplICAgIC0gYWx3YXlzIDIgYml0cyBsb25nICh1aW50MTZfdCkKICAgICAgICAgKiBhbmQgaXMgdGhlIGxlbmd0aCBvZiB0aGUgbmV4dCBiaXQgb2YgZGF0YQogICAgICAgICAqIDMuLSBIZWFkZXIgICAgICAgICAgICAgIC0gaXMgZGF0YSBoZWFkZXIgbG9uZy4KICAgICAgICAgKiBDb250YWlucyB0aGUgc3RydWN0dXJlIG9mIGVhY2ggbGluZS4gSXQgaXMgYWx3YXlzIGZvdW5kIGFzIGEgcmF3CiAgICAgICAgICogc3RyaW5nIGluIHRoZSBmb3JtICJ7bmFtZV9jb2x9O3t0eXBlX2NvbH07e3NpemUxfSx7c2l6ZTJ9Li4uOy4uLjsKICAgICAgICAgKiBDYW5ub3QgYmUgbG9uZ2VyIHRoYW4gNjU1MzYgYnl0ZXMuCiAgICAgICAgICogNC4tIE51bWJlciBvZiBsaW5lcyAgICAgLSBhbHdheXMgNCBiaXRzIGxvbmcgKGludDMyX3QpCiAgICAgICAgICogTnVtYmVyIG9mIGxpbmVzIGluIHRoZSBmaWxlLiBJZiAwLCBpdCBpcyBpbmRlZmluaXRlbHkgbG9uZy4KICAgICAgICAqLwogICAgICAgIC8vIEVkaWFuZXNzIGZpcnN0CiAgICAgICAgdWludDMyX3QgZW5kaWFuZXNzID0gMHgwMTAyMDMwNDsKICAgICAgICBpZiBjb25zdGV4cHIgKHN0ZDo6ZW5kaWFuOjpuYXRpdmUgPT0gc3RkOjplbmRpYW46OmJpZykgewogICAgICAgICAgICBlbmRpYW5lc3MgPSAweDA0MDMwMjAxOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGVuZGlhbmVzcyA9IDB4MDEwMjAzMDQ7CiAgICAgICAgfQoKICAgICAgICBzdGQ6OnNpemVfdCB0b3RhbF9oZWFkZXJfc2l6ZSA9IDA7CiAgICAgICAgLy8gaGFzIHRvIGJlIHVpbnQxNl90IGJlY2F1c2Ugd2UgYXJlIHNhdmluZyBpdCB0byB0aGUgZmlsZSBsYXRlcgogICAgICAgIHVpbnQxNl90IGJpbmFyeV9oZWFkZXJfc2l6ZSA9IDA7CiAgICAgICAgc3RkOjpzaXplX3QgdG90YWxfcmFua3Nfc29fZmFyID0gMDsKICAgICAgICBmb3IgKHN0ZDo6c2l6ZV90IGkgPSAwOyBpIDwgbl9jb2xzOyBpKyspIHsKICAgICAgICAgICAgYXV0byBjb2x1bW5fcmFuayA9IF9yYW5rc1tpXTsKICAgICAgICAgICAgLy8gKyAxIGZvciB0aGUgOyBjaGFyYWN0ZXIKICAgICAgICAgICAgYmluYXJ5X2hlYWRlcl9zaXplICs9IF9uYW1lc1tpXS5sZW5ndGgoKSArIDE7CiAgICAgICAgICAgIC8vICsgMSBmb3IgdGhlIDsgY2hhcmFjdGVyCiAgICAgICAgICAgIGJpbmFyeV9oZWFkZXJfc2l6ZSArPSBwYXJhbWV0ZXJzX3R5cGVzX3N0cltpXS5sZW5ndGgoKSArIDE7CgogICAgICAgICAgICBzdGQ6OnNpemVfdCB0b3RhbF9yYW5rX3NpemUgPSAwOwogICAgICAgICAgICBmb3Ioc3RkOjpzaXplX3QgaiA9IDA7IGogPCBjb2x1bW5fcmFuazsgaiArKykgewogICAgICAgICAgICAgICAgYXV0byBzaXplID0gX3NpemVzW3RvdGFsX3JhbmtzX3NvX2ZhciArIGpdOwogICAgICAgICAgICAgICAgdG90YWxfcmFua19zaXplICs9IHNpemU7CiAgICAgICAgICAgICAgICAvLyBJdCBpcyBhbHdheXMgKyAxIGJlY2F1c2UgdGhlcmUgaXMgZWl0aGVyIGEgJywnIG9yIGEgJzsnCiAgICAgICAgICAgICAgICBiaW5hcnlfaGVhZGVyX3NpemUgKz0gc3RkOjp0b19zdHJpbmcoc2l6ZSkubGVuZ3RoKCkgKyAxOwogICAgICAgICAgICB9CgogICAgICAgICAgICB0b3RhbF9yYW5rc19zb19mYXIgKz0gY29sdW1uX3Jhbms7CiAgICAgICAgICAgIF9saW5lX2J5dGVfc2l6ZSArPSBzaXplX29mX3R5cGVzW2ldKnRvdGFsX3Jhbmtfc2l6ZTsKICAgICAgICB9CiAgICAgICAgLy8gV2UgYWxzbyBjYWxjdWxhdGUgdGhlIGxpbmUgc2l6ZSB2ZXJ5IHVzZWZ1bCB3aGVuIHdlIHN0YXJ0IGRhdGEgc2F2aW5nCgogICAgICAgIHRvdGFsX2hlYWRlcl9zaXplICs9IHNpemVvZih1aW50MzJfdCk7IC8vIDEuCiAgICAgICAgdG90YWxfaGVhZGVyX3NpemUgKz0gc2l6ZW9mKHVpbnQxNl90KTsgLy8gMi4KICAgICAgICB0b3RhbF9oZWFkZXJfc2l6ZSArPSBiaW5hcnlfaGVhZGVyX3NpemU7IC8vIDMuCiAgICAgICAgdG90YWxfaGVhZGVyX3NpemUgKz0gc2l6ZW9mKGludDMyX3QpOyAvLyA0LgoKICAgICAgICAvLyBOb3cgd2UgYWxsb2NhdGUgdGhlIG1lbW9yeSEKICAgICAgICBzdGQ6OnNpemVfdCBidWZmZXJfbG9jID0gMDsKICAgICAgICBhdXRvIGJ1ZmZlciA9IHN0ZDo6c3RyaW5nKHRvdGFsX2hlYWRlcl9zaXplLCAnQScpOwogICAgICAgIF9saW5lX2J1ZmZlciA9IHN0ZDo6c3RyaW5nKF9saW5lX2J5dGVfc2l6ZSwgJ0EnKTsKCiAgICAgICAgLy8gTm93IHdlIGZpbGwgYnVmZmVyLgogICAgICAgIHRvdGFsX3JhbmtzX3NvX2ZhciA9IDA7CiAgICAgICAgX2NvcHlfbnVtYmVyX3RvX2J1ZmYoZW5kaWFuZXNzLCBidWZmZXIsIGJ1ZmZlcl9sb2MpOyAvLyAxLgogICAgICAgIF9jb3B5X251bWJlcl90b19idWZmKGJpbmFyeV9oZWFkZXJfc2l6ZSwgYnVmZmVyLCBidWZmZXJfbG9jKTsgLy8gMi4KICAgICAgICBmb3IgKHN0ZDo6c2l6ZV90IGkgPSAwOyBpIDwgbl9jb2xzOyBpKyspIHsgLy8gMy4KICAgICAgICAgICAgYXV0byBjb2x1bW5fbmFtZSA9IF9uYW1lc1tpXTsKICAgICAgICAgICAgYXV0byBjb2x1bW5fdHlwZSA9IHBhcmFtZXRlcnNfdHlwZXNfc3RyW2ldOwogICAgICAgICAgICBhdXRvIGNvbHVtbl9yYW5rID0gX3JhbmtzW2ldOwoKICAgICAgICAgICAgX2NvcHlfc3RyX3RvX2J1ZmYoY29sdW1uX25hbWUsIGJ1ZmZlciwgYnVmZmVyX2xvYyk7CiAgICAgICAgICAgIF9jb3B5X3N0cl90b19idWZmKCI7IiwgYnVmZmVyLCBidWZmZXJfbG9jKTsKICAgICAgICAgICAgX2NvcHlfc3RyX3RvX2J1ZmYoY29sdW1uX3R5cGUsIGJ1ZmZlciwgYnVmZmVyX2xvYyk7CiAgICAgICAgICAgIF9jb3B5X3N0cl90b19idWZmKCI7IiwgYnVmZmVyLCBidWZmZXJfbG9jKTsKICAgICAgICAgICAgZm9yKHN0ZDo6c2l6ZV90IHNpemVfaiA9IDA7IHNpemVfaiA8IGNvbHVtbl9yYW5rOyBzaXplX2orKykgewogICAgICAgICAgICAgICAgX2NvcHlfc3RyX3RvX2J1ZmYoc3RkOjp0b19zdHJpbmcoX3NpemVzW3RvdGFsX3JhbmtzX3NvX2ZhciArIHNpemVfal0pLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnVmZmVyLCBidWZmZXJfbG9jKTsKCiAgICAgICAgICAgICAgICBpZihzaXplX2ogIT0gY29sdW1uX3JhbmsgLSAxKSB7CiAgICAgICAgICAgICAgICAgICAgX2NvcHlfc3RyX3RvX2J1ZmYoIiwiLCBidWZmZXIsIGJ1ZmZlcl9sb2MpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICBfY29weV9zdHJfdG9fYnVmZigiOyIsIGJ1ZmZlciwgYnVmZmVyX2xvYyk7CiAgICAgICAgICAgIHRvdGFsX3JhbmtzX3NvX2ZhciArPSBjb2x1bW5fcmFuazsKICAgICAgICB9CgogICAgICAgIGludDMyX3QgaiA9IDB4MDAwMDAwMDA7CiAgICAgICAgX2NvcHlfbnVtYmVyX3RvX2J1ZmYoaiwgYnVmZmVyLCBidWZmZXJfbG9jKTsgLy8gNC4KCiAgICAgICAgLy8gc2F2ZSB0byBmaWxlLgogICAgICAgIF9zdHJlYW0gPDwgYnVmZmVyOwogICAgfQoKICAgIC8vIFNhdmUgaXRlbSBmcm9tIHR1cGxlIGluIHBvc2l0aW9uIGkKICAgIHRlbXBsYXRlPHN0ZDo6c2l6ZV90IGk+CiAgICB2b2lkIF9zYXZlX2l0ZW0oY29uc3QgdHVwbGVfdHlwZSYgaXRlbXMsIHN0ZDo6c2l6ZV90JiBsb2MpIHsKICAgICAgICBhdXRvIGl0ZW0gPSBzdGQ6OmdldDxpPihpdGVtcyk7CiAgICAgICAgdXNpbmcgVCA9IGRlY2x0eXBlKGl0ZW0pOwoKICAgICAgICBhdXRvIHJhbmsgPSBfcmFua3NbaV07CiAgICAgICAgYXV0byB0b3RhbF9yYW5rX3VwX3RvX2kgPSBzdGQ6OmFjY3VtdWxhdGUoX3JhbmtzLmJlZ2luKCksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJl9yYW5rc1tpXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAwKTsKCiAgICAgICAgY29uc3QgYXV0byYgc2l6ZV9pbmRleF9zdGFydCA9IHRvdGFsX3JhbmtfdXBfdG9faTsKICAgICAgICBjb25zdCBhdXRvJiBleHBlY3RlZF9zaXplID0gc3RkOjphY2N1bXVsYXRlKCZfc2l6ZXNbc2l6ZV9pbmRleF9zdGFydF0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmX3NpemVzW3NpemVfaW5kZXhfc3RhcnQgKyByYW5rXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDEsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0ZDo6bXVsdGlwbGllczxzdGQ6OnNpemVfdD4oKSk7CgogICAgICAgIGlmIChleHBlY3RlZF9zaXplICE9IGl0ZW0uc2l6ZSgpKSB7CiAgICAgICAgICAgIHRocm93IHN0ZDo6b3V0X29mX3JhbmdlKCJtZW1vcnkgaXMgb3V0IG9mIHJhbmdlIik7CiAgICAgICAgfQoKICAgICAgICBzdGQ6Om1lbWNweSgmX2xpbmVfYnVmZmVyW2xvY10sIGl0ZW0uZGF0YSgpLCBpdGVtLnNpemVfYnl0ZXMoKSk7CiAgICAgICAgbG9jICs9IGl0ZW0uc2l6ZV9ieXRlcygpOwogICAgfQoKICAgIC8vIFRoaW5rIG9mIHQgaGlzIGZ1bmN0aW9uIGFzIGEgd3JhcHBlciBiZXR3ZWVuIF9zYXZlX2l0ZW0KICAgIC8vIGFuZCBfc2F2ZV9kYXRhCiAgICB0ZW1wbGF0ZTxzdGQ6OnNpemVfdC4uLiBJPgogICAgdm9pZCBfc2F2ZV9pdGVtX2hlbHBlcihjb25zdCB0dXBsZV90eXBlJiBkYXRhLCBzdGQ6OmluZGV4X3NlcXVlbmNlPEkuLi4+KSB7CiAgICAgICAgKF9zYXZlX2l0ZW08ST4oZGF0YSwgX2xpbmVfYnVmZmVyX2xvYyksLi4uKTsKICAgIH0KCiAgICB2b2lkIF9zYXZlX2V2ZW50KGNvbnN0IHR1cGxlX3R5cGUmIGRhdGEpIHsKICAgICAgICBfbGluZV9idWZmZXJfbG9jID0gMDsKICAgICAgICBfc2F2ZV9pdGVtX2hlbHBlcihkYXRhLCBzdGQ6Om1ha2VfaW5kZXhfc2VxdWVuY2U8bl9jb2xzPnt9KTsKICAgICAgICBfc3RyZWFtIDw8IF9saW5lX2J1ZmZlcjsKICAgIH0KCiBwdWJsaWM6CiAgICBEeW5hbWljV3JpdGVyKHN0ZDo6c3RyaW5nX3ZpZXcgZmlsZV9uYW1lLAogICAgICAgICAgICAgICAgICBjb25zdCBzdGQ6OmFycmF5PHN0ZDo6c3RyaW5nLCBuX2NvbHM+JiBjb2x1bW5zX25hbWVzLAogICAgICAgICAgICAgICAgICBjb25zdCBzdGQ6OmFycmF5PHN0ZDo6c2l6ZV90LCBuX2NvbHM+JiBjb2x1bW5zX3JhbmtzLAogICAgICAgICAgICAgICAgICBjb25zdCBzdGQ6OnZlY3RvcjxzdGQ6OnNpemVfdD4mIGNvbHVtbnNfc2l6ZXMpIDoKICAgICAgICBfZmlsZV9uYW1le2ZpbGVfbmFtZX0sCiAgICAgICAgX25hbWVze2NvbHVtbnNfbmFtZXN9LAogICAgICAgIF9yYW5rc3tjb2x1bW5zX3JhbmtzfSwKICAgICAgICBfc2l6ZXN7Y29sdW1uc19zaXplc30KICAgIHsKICAgICAgICB0b3RhbF9yYW5rcyA9IHN0ZDo6YWNjdW11bGF0ZShjb2x1bW5zX3JhbmtzLmJlZ2luKCksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sdW1uc19yYW5rcy5lbmQoKSwgMCk7CgogICAgICAgIF9zdHJlYW0ub3BlbihfZmlsZV9uYW1lLAogICAgICAgICAgICAgICAgICAgICBzdGQ6Om9mc3RyZWFtOjphcHAgfCBzdGQ6Om9mc3RyZWFtOjpiaW5hcnkpOwoKICAgICAgICBpZiAoX3N0cmVhbS5pc19vcGVuKCkpIHsKICAgICAgICAgICAgX29wZW4gPSB0cnVlOwogICAgICAgICAgICBpZiAoc3RkOjpmaWxlc3lzdGVtOjppc19lbXB0eShmaWxlX25hbWUpKSB7CiAgICAgICAgICAgICAgICBfY3JlYXRlX2ZpbGUoKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCiAgICB+RHluYW1pY1dyaXRlcigpIHsKICAgICAgICBfb3BlbiA9IGZhbHNlOwogICAgICAgIF9zdHJlYW0uY2xvc2UoKTsKICAgIH0KCiAgICBib29sIHNhdmUoc3RkOjpzcGFuPERhdGFUeXBlcz4uLi4gZGF0YSkgbm9leGNlcHQgewogICAgICAgIF9zYXZlX2V2ZW50KHN0ZDo6bWFrZV90dXBsZShkYXRhLi4uKSk7CgogICAgICAgIHJldHVybiB0cnVlOwogICAgfQp9OwoKLy8gVE9ETyhIZWN0b3IpOiB3ZSBuZWVkIHRoaXMhCnRlbXBsYXRlPHR5cGVuYW1lLi4uIERhdGFUeXBlcz4Kc3RydWN0IFJlYWRlciB7CgoKCiBwcml2YXRlOgp9OwoKY2xhc3MgU2lQTUR5bmFtaWNXcml0ZXIgewogICAgdXNpbmcgU2lQTURXID0gRHluYW1pY1dyaXRlcjwgICBkb3VibGUsICAgIC8vIHNhbXBsZSByYXRlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVpbnQ4X3QsICAgLy8gRW5hYmxlZCBDaGFubmVscwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1aW50NjRfdCwgIC8vIFRyaWdnZXIgTWFzawogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1aW50MTZfdCwgIC8vIFRocmVzaG9sZHMKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdWludDE2X3QsICAvLyBEQyBPZmZzZXRzCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVpbnQ4X3QsICAgLy8gREMgQ29ycmVjdGlvbnMKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmxvYXQsICAgICAvLyBEQyBSYW5nZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1aW50MzJfdCwgIC8vIFRpbWUgc3RhbXAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdWludDMyX3QsICAvLyBUcmlnZ2VyIHNvdXJjZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1aW50MTZfdD47IC8vIFdhdmVmb3JtcwoKICAgIGNvbnN0ZXhwciBzdGF0aWMgc3RkOjpzaXplX3QgbnVtX2NvbHMgPSAxMDsKICAgIGNvbnN0ZXhwciBzdGF0aWMgc3RkOjphcnJheTxzdGQ6OnNpemVfdCwgbnVtX2NvbHM+IHNpcG1fcmFua3MgPQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7MSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMn07CiAgICBjb25zdCBpbmxpbmUgc3RhdGljIHN0ZDo6YXJyYXk8c3RkOjpzdHJpbmcsIG51bV9jb2xzPiBzaXBtX25hbWVzID0KICAgICAgICAgICAgeyJzYW1wbGVfcmF0ZSIsICJlbl9jaHMiLCAidHJnX21hc2siLCAidGhyZXNob2xkcyIsICJkY19vZmZzZXRzIiwKICAgICAgICAgICAgICJkY19jb3JyZWN0aW9ucyIsICJkY19yYW5nZSIsICJ0aW1lX3N0YW1wIiwgInRyZ19zb3VyY2UiLCAiZGF0YSJ9OwoKCiAgICBkb3VibGUgX3NhbXBsZV9yYXRlWzFdID0gezAuMH07CiAgICBzdGQ6OnZlY3RvcjxzdGQ6OnVpbnQ4X3Q+IF9lbl9jaHM7CiAgICB1aW50NjRfdCBfdHJpZ2dlcl9tYXNrWzFdID0gezB9OwogICAgc3RkOjp2ZWN0b3I8dWludDE2X3Q+IF90aHJlc2hvbGRzOwogICAgc3RkOjp2ZWN0b3I8dWludDE2X3Q+IF9kY19vZmZzZXRzOwogICAgc3RkOjp2ZWN0b3I8dWludDhfdD4gX2RjX2NvcnJlY3Rpb25zOwogICAgc3RkOjp2ZWN0b3I8ZmxvYXQ+IF9kY19yYW5nZXM7CgogICAgdWludDMyX3QgX3RyaWdnZXJfdGFnWzFdID0gezB9OwogICAgdWludDMyX3QgX3RyaWdnZXJfc291cmNlWzFdID0gezB9OwoKICAgIHVpbnQzMl90IF9yZWNvcmRfbGVuZ3RoOwogICAgU2lQTURXIF9zdHJlYW1lcjsKIHB1YmxpYzoKICAgIC8qIERldGFpbHMgb2YgZWFjaCBwYXJhbWV0ZXJzOgogICAgTmFtZSAgICAgICAgICB8IHR5cGUgICAgICB8IGxlbmd0aCAoaW4gQnl0ZXMpIHwgaXMgYSBjb25zdGFudD98CiAgICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIHNhbXBsZV9yYXRlICAgfCBkb3VibGUgICAgfCA4ICAgICAgICAgICAgICAgICB8IFkKICAgIGVuX2NocyAgICAgICAgfCB1aW50OCAgICAgfCAxKmNoX3NpemUgICAgICAgICB8IFkKICAgIHRyZ19tYXNrICAgICAgfCB1aW50NjQgICAgfCA4ICAgICAgICAgICAgICAgICB8IFkKICAgIHRocmVzaG9sZHMgICAgfCB1aW50MTYgICAgfCAyKmNoX3NpemUgICAgICAgICB8IFkKICAgIGRjX29mZnNldHMgICAgfCB1aW50MTYgICAgfCAyKmNoX3NpemUgICAgICAgICB8IFkKICAgIGRjX2NvcnJlY3Rpb25zfCB1aW50OCAgICAgfCAxKmNoX3NpemUgICAgICAgICB8IFkKICAgIGRjX3JhbmdlICAgICAgfCBzaW5nbGUgICAgfCA0KmNoX3NpemUgICAgICAgICB8IFkKICAgIHRpbWVfc3RhbXAgICAgfCB1aW50MzIgICAgfCA0ICAgICAgICAgICAgICAgICB8IE4KICAgIHRyZ19zb3VyY2UgICAgfCB1aW50MzIgICAgfCA0ICAgICAgICAgICAgICAgICB8IE4KICAgIGRhdGEgICAgICAgICAgfCB1aW50MTYgICAgfCAyKnJsKmNoX3NpemUgICAgICB8IE4KICAgIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgcmwgLT4gcmVjb3JkIGxlbmd0aCBvZiB0aGUgd2F2ZWZvcm1zCiAgICBjaF9zaXplIC0+IG51bWJlciBvZiBlbmFibGVkIGNoYW5uZWxzCiAgICBlbl9jaHMgIC0+IHRoZSBjaGFubmVscyAjIHRoYXQgd2VyZSBlbmFibGVkCgogICAgVG90YWwgbGVuZ3RoID0gMjQgKyBjaF9zaXplKigxMCArIDIqcmVjb3JkX2xlbmd0aCkKICAgICovCgogICAgU2lQTUR5bmFtaWNXcml0ZXIoc3RkOjpzdHJpbmdfdmlldyBmaWxlX25hbWUsCiAgICAgICAgICAgICAgICAgICAgICBjb25zdCBDQUVORGlnaXRpemVyTW9kZWxDb25zdGFudHMmIG1vZGVsX2NvbnN0cywKICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IENBRU5HbG9iYWxDb25maWcmIGdsb2JhbF9jb25maWcsCiAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzdGQ6OmFycmF5PENBRU5Hcm91cENvbmZpZywgOD4mIGdyb3VwX2NvbmZpZ3MpIDoKICAgICAgICBfc2FtcGxlX3JhdGV7bW9kZWxfY29uc3RzLkFjcXVpc2l0aW9uUmF0ZX0sCiAgICAgICAgX2VuX2Noc3tfZ2V0X2VuX2Nocyhtb2RlbF9jb25zdHMsIGdyb3VwX2NvbmZpZ3MpfSwKICAgICAgICBfcmVjb3JkX2xlbmd0aHtnbG9iYWxfY29uZmlnLlJlY29yZExlbmd0aH0sCiAgICAgICAgX3N0cmVhbWVye2ZpbGVfbmFtZSwgc2lwbV9uYW1lcywgIHNpcG1fcmFua3MsIF9mb3JtX3NpemVzKGdsb2JhbF9jb25maWcpfQogICAgewogICAgICAgIGZvcihhdXRvIGNoIDogX2VuX2NocykgewogICAgICAgICAgICBDQUVOR3JvdXBDb25maWcgZ3JvdXA7CiAgICAgICAgICAgIGlmIChtb2RlbF9jb25zdHMuTnVtYmVyT2ZHcm91cHMgPT0gMCkgewogICAgICAgICAgICAgICAgZ3JvdXAgPSBncm91cF9jb25maWdzW2NoXTsKICAgICAgICAgICAgICAgIF9kY19jb3JyZWN0aW9ucy5wdXNoX2JhY2soZ3JvdXAuRENDb3JyZWN0aW9uc1swXSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBncm91cCA9ICBncm91cF9jb25maWdzW2NoICUgOF07CiAgICAgICAgICAgICAgICBfZGNfY29ycmVjdGlvbnMucHVzaF9iYWNrKGdyb3VwLkRDQ29ycmVjdGlvbnNbY2ggJSA4XSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIF90cmlnZ2VyX21hc2tbMF0gfD0gKDEgPDwgY2gpOyAgLy8gZmxpcCB0aGUgYml0IGF0IHBvc2l0aW9uIGNoCiAgICAgICAgICAgIF90aHJlc2hvbGRzLnB1c2hfYmFjayhncm91cC5UcmlnZ2VyVGhyZXNob2xkKTsKICAgICAgICAgICAgX2RjX29mZnNldHMucHVzaF9iYWNrKGdyb3VwLkRDT2Zmc2V0KTsKICAgICAgICAgICAgX2RjX3Jhbmdlcy5wdXNoX2JhY2sobW9kZWxfY29uc3RzLlZvbHRhZ2VSYW5nZXMuYXQoZ3JvdXAuRENSYW5nZSkpOwogICAgICAgIH0KICAgIH0KCiAgICB+U2lQTUR5bmFtaWNXcml0ZXIoKSA9IGRlZmF1bHQ7CgogICAgdm9pZCBzYXZlX3dhdmVmb3JtKHN0ZDo6c2hhcmVkX3B0cjxDQUVOV2F2ZWZvcm1zPHVpbnQxNl90Pj4gd2F2ZWZvcm0pIHsKICAgICAgICBfdHJpZ2dlcl90YWdbMF0gPSB3YXZlZm9ybS0+Z2V0SW5mbygpLlRyaWdnZXJUaW1lVGFnOwogICAgICAgIF90cmlnZ2VyX3NvdXJjZVswXSA9IHdhdmVmb3JtLT5nZXRJbmZvKCkuUGF0dGVybjsKICAgICAgICBfc3RyZWFtZXIuc2F2ZShfc2FtcGxlX3JhdGUsCiAgICAgICAgICAgICAgICAgICAgICBfZW5fY2hzLAogICAgICAgICAgICAgICAgICAgICAgX3RyaWdnZXJfbWFzaywKICAgICAgICAgICAgICAgICAgICAgIF90aHJlc2hvbGRzLAogICAgICAgICAgICAgICAgICAgICAgX2RjX29mZnNldHMsCiAgICAgICAgICAgICAgICAgICAgICBfZGNfY29ycmVjdGlvbnMsCiAgICAgICAgICAgICAgICAgICAgICBfZGNfcmFuZ2VzLAogICAgICAgICAgICAgICAgICAgICAgX3RyaWdnZXJfdGFnLAogICAgICAgICAgICAgICAgICAgICAgX3RyaWdnZXJfc291cmNlLAogICAgICAgICAgICAgICAgICAgICAgd2F2ZWZvcm0tPmdldERhdGEoKSk7CiAgICB9CgogcHJpdmF0ZToKCiAgICBzdGQ6OnZlY3RvcjxzdGQ6OnNpemVfdD4gX2Zvcm1fc2l6ZXMoCiAgICAgICAgY29uc3QgQ0FFTkdsb2JhbENvbmZpZyYgY2Flbl9nbG9iYWxfY29uZmlnKSB7CgogICAgICAgIGF1dG8gbnVtX2VuX2NocyA9IF9lbl9jaHMuc2l6ZSgpOwogICAgICAgIHJldHVybiB7MSwgbnVtX2VuX2NocywgMSwgbnVtX2VuX2NocywgbnVtX2VuX2NocywgbnVtX2VuX2NocywgbnVtX2VuX2NocywKICAgICAgICAgICAgICAgIDEsIDEsIG51bV9lbl9jaHMsIGNhZW5fZ2xvYmFsX2NvbmZpZy5SZWNvcmRMZW5ndGh9OwogICAgfQoKICAgIHN0ZDo6dmVjdG9yPHN0ZDo6dWludDhfdD4gX2dldF9lbl9jaHMoCiAgICAgICAgICAgIGNvbnN0IENBRU5EaWdpdGl6ZXJNb2RlbENvbnN0YW50cyYgbW9kZWxfY29uc3RhbnRzLAogICAgICAgICAgICBjb25zdCBzdGQ6OmFycmF5PENBRU5Hcm91cENvbmZpZywgOD4mIGdyb3VwcykgewogICAgICAgIHN0ZDo6dmVjdG9yPHN0ZDo6dWludDhfdD4gb3V0OwogICAgICAgIGZvcihzdGQ6OnNpemVfdCBncm91cF9udW0gPSAwOyBncm91cF9udW0gPCBncm91cHMuc2l6ZSgpOyBncm91cF9udW0rKykgewogICAgICAgICAgICBjb25zdCBhdXRvJiBncm91cCA9IGdyb3Vwc1tncm91cF9udW1dOwogICAgICAgICAgICBpZiAobm90IGdyb3VwLkVuYWJsZWQpIHsKICAgICAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyBJZiB0aGUgZGlnaXRpemVyIGRvZXMgbm90IHN1cHBvcnQgZ3JvdXBzLCBncm91cF9udW0gPSBjaAogICAgICAgICAgICBpZihtb2RlbF9jb25zdGFudHMuTnVtYmVyT2ZHcm91cHMgPT0gMCkgewogICAgICAgICAgICAgICAgb3V0LnB1c2hfYmFjayhncm91cF9udW0pOwogICAgICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIE90aGV3aXNlLCBjYWxjdWxhdGUgdXNpbmcgdGhlIEFjcXVpc2l0aW9uTWFzawogICAgICAgICAgICBmb3Ioc3RkOjpzaXplX3QgY2ggPSAwOyBjaCA8IG1vZGVsX2NvbnN0YW50cy5OdW1DaGFubmVsc1Blckdyb3VwOyBjaCsrKSB7CiAgICAgICAgICAgICAgICBpZihncm91cC5BY3F1aXNpdGlvbk1hc2suYXQoY2gpKSB7CiAgICAgICAgICAgICAgICAgICAgb3V0LnB1c2hfYmFjayhjaCArIG1vZGVsX2NvbnN0YW50cy5OdW1DaGFubmVsc1Blckdyb3VwICogZ3JvdXBfbnVtKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICByZXR1cm4gb3V0OwogICAgfQoKCn07Cgp9IC8vIG5hbWVzcGFjZSBCaW5hcnlGb3JtYXQKfSAvLyBuYW1lc3BhY2UgU0JDUXVlZW5zCgojZW5kaWYgLy9TQkNCSU5BUllGT1JNQVRfSAoAAAAAAAAAAJ5AAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAYAsAAAAAAABgCwAAAAAAAAAAAAAAAPC/"
				],
				[
					4304,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAACeQAAALy8KLy8gQ3JlYXRlZCBieSBIZWN0b3IgSGF3bGV5IEhlcnJlcmEgb24gMjAyMy0wMi0xOS4KLy8KCiNpZm5kZWYgU0JDQklOQVJZRk9STUFUX0gKI2RlZmluZSBTQkNCSU5BUllGT1JNQVRfSAojaW5jbHVkZSA8YWxnb3JpdGhtPgojaW5jbHVkZSA8Y3N0ZGludD4KI2luY2x1ZGUgPHR1cGxlPgojcHJhZ21hIG9uY2UKCi8vIEMgU1REIGluY2x1ZGVzCi8vIEMgM3JkIHBhcnR5IGluY2x1ZGVzCi8vIEMrKyBTVEQgaW5jbHVkZXMKI2luY2x1ZGUgPGJpdD4KI2luY2x1ZGUgPGludHR5cGVzLmg+CiNpbmNsdWRlIDxudW1lcmljPgojaW5jbHVkZSA8ZnN0cmVhbT4KI2luY2x1ZGUgPHR5cGVfdHJhaXRzPgojaW5jbHVkZSA8ZmlsZXN5c3RlbT4KI2luY2x1ZGUgPGFsZ29yaXRobT4KI2luY2x1ZGUgPGFycmF5PgoKLy8gQysrIDNyZCBwYXJ0eSBpbmNsdWRlcwojaW5jbHVkZSA8Y29uY3VycmVudHF1ZXVlLmg+CiNpbmNsdWRlIDxzcGRsb2cvc3BkbG9nLmg+CgovLyBteSBpbmNsdWRlcwojaW5jbHVkZSAic2JjcXVlZW5zLWd1aS9maWxlX2hlbHBlcnMuaHBwIgojaW5jbHVkZSAic2JjcXVlZW5zLWd1aS9jYWVuX2hlbHBlci5ocHAiCgpuYW1lc3BhY2UgU0JDUXVlZW5zIHsKbmFtZXNwYWNlIEJpbmFyeUZvcm1hdCB7Cm5hbWVzcGFjZSBUb29scyB7CgogICAgLy8gVGhlIEJpbmFyeUZvcm1hdCBvbmx5IGFjY2VwdHMgYXJpdGhtZXRoaWMgcG9pbnRlcnMuCiAgICAvLyBleDogY29uc3QgY2hhciogcmV0dXJucyB0cnVlCiAgICAvLyAgICAgIHN0ZDo6c3RyaW5nIHJldHVybiBmYWxzZQogICAgLy8gICAgICBkb3VibGUqIHJldHVybiB0cnVlOwogICAgdGVtcGxhdGU8dHlwZW5hbWUgVD4KICAgIGNvbmNlcHQgaXNfYXJpdGhtZXRoaWNfcHRyID0gc3RkOjppc19hcml0aG1ldGljX3Y8CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGQ6OnJlbW92ZV9jdnJlZl90PAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RkOjpyZW1vdmVfcG9pbnRlcl90PFQ+Pj4gYW5kIG5vdCBzdGQ6OmlzX3BvaW50ZXJfdjxUPjsKCgogICAgdGVtcGxhdGU8dHlwZW5hbWUuLi4gVD4KICAgIGNvbmNlcHQgaXNfYXJpdGhtZXRpY19wdHJfdW5wYWNrID0gcmVxdWlyZXMoVCB4KSB7CiAgICAgICAgICAgICguLi4gYW5kIGlzX2FyaXRobWV0aGljX3B0cjxUPik7IH07CgogICAgdGVtcGxhdGU8dHlwZW5hbWUgVD4KICAgIHJlcXVpcmVzIGlzX2FyaXRobWV0aGljX3B0cjxUPgogICAgY29uc3RleHByIHN0YXRpYyBzdGQ6OnN0cmluZ192aWV3IHR5cGVfdG9fc3RyaW5nKCkgewogICAgICAgIC8vIFdlIGdldCB0aGUgbW9zdCBwdXJlIGVzc2VuY2Ugb2YgVDogbm8gY29uc3RzLCBubyByZWZlcmVuY2VzLAogICAgICAgIC8vIGFuZCBubyBbXQogICAgICAgIHVzaW5nIFRfbm9fY29uc3QgPSBzdGQ6OnJlbW92ZV9wb2ludGVyX3Q8c3RkOjpyZW1vdmVfYWxsX2V4dGVudHNfdDwKICAgICAgICAgICAgICAgIHN0ZDo6cmVtb3ZlX3JlZmVyZW5jZV90PHN0ZDo6cmVtb3ZlX2NvbnN0X3Q8VD4+Pj47CiAgICAgICAgaWYgY29uc3RleHByIChzdGQ6OmlzX3NhbWVfdjxUX25vX2NvbnN0LCBjaGFyPikgewogICAgICAgICAgICByZXR1cm4gImNoYXIiOwogICAgICAgIH0gZWxzZSBpZiBjb25zdGV4cHIgKHN0ZDo6aXNfc2FtZV92PFRfbm9fY29uc3QsIHVpbnQ4X3Q+KSB7CiAgICAgICAgICAgIHJldHVybiAidWludDgiOwogICAgICAgIH0gZWxzZSBpZiBjb25zdGV4cHIgKHN0ZDo6aXNfc2FtZV92PFRfbm9fY29uc3QsIHVpbnQxNl90PikgewogICAgICAgICAgICByZXR1cm4gInVpbnQxNiI7CiAgICAgICAgfSBlbHNlIGlmIGNvbnN0ZXhwciAoc3RkOjppc19zYW1lX3Y8VF9ub19jb25zdCwgdWludDMyX3Q+KSB7CiAgICAgICAgICAgIHJldHVybiAidWludDMyIjsKICAgICAgICB9IGVsc2UgaWYgY29uc3RleHByIChzdGQ6OmlzX3NhbWVfdjxUX25vX2NvbnN0LCB1aW50NjRfdD4pIHsKICAgICAgICAgICAgcmV0dXJuICJ1aW50NjQiOwogICAgICAgIH0gZWxzZSBpZiBjb25zdGV4cHIgKHN0ZDo6aXNfc2FtZV92PFRfbm9fY29uc3QsIGludDhfdD4pIHsKICAgICAgICAgICAgcmV0dXJuICJpbnQ4IjsKICAgICAgICB9IGVsc2UgaWYgY29uc3RleHByIChzdGQ6OmlzX3NhbWVfdjxUX25vX2NvbnN0LCBpbnQxNl90PikgewogICAgICAgICAgICByZXR1cm4gImludDE2IjsKICAgICAgICB9IGVsc2UgaWYgY29uc3RleHByIChzdGQ6OmlzX3NhbWVfdjxUX25vX2NvbnN0LCBpbnQzMl90PikgewogICAgICAgICAgICByZXR1cm4gImludDMyIjsKICAgICAgICB9IGVsc2UgaWYgY29uc3RleHByIChzdGQ6OmlzX3NhbWVfdjxUX25vX2NvbnN0LCBpbnQ2NF90PikgewogICAgICAgICAgICByZXR1cm4gImludDY0IjsKICAgICAgICB9IGVsc2UgaWYgY29uc3RleHByIChzdGQ6OmlzX3NhbWVfdjxUX25vX2NvbnN0LCBmbG9hdD4pIHsKICAgICAgICAgICAgcmV0dXJuICJzaW5nbGUiOwogICAgICAgIH0gZWxzZSBpZiBjb25zdGV4cHIgKHN0ZDo6aXNfc2FtZV92PFRfbm9fY29uc3QsIGRvdWJsZT4pIHsKICAgICAgICAgICAgcmV0dXJuICJkb3VibGUiOwogICAgICAgIH0gZWxzZSBpZiBjb25zdGV4cHIgKHN0ZDo6aXNfc2FtZV92PFRfbm9fY29uc3QsIGxvbmcgZG91YmxlPikgewogICAgICAgICAgICByZXR1cm4gImZsb2F0MTI4IjsKICAgICAgICB9CiAgICAgICAgLy8gVE9ETyhBbGwpOiBtYXliZSB0aGUgZGVmYXVsdCBzaG91bGQgYmUgdWludDMyPyBvciBubyBkZWZhdWx0PwogICAgfQoKfSAvLyBuYW1lc3BhY2UgVG9vbHMKCnRlbXBsYXRlPHR5cGVuYW1lLi4uIERhdGFUeXBlcz4KcmVxdWlyZXMgVG9vbHM6OmlzX2FyaXRobWV0aWNfcHRyX3VucGFjazxEYXRhVHlwZXMuLi4+CnN0cnVjdCBEeW5hbWljV3JpdGVyIHsKICAgIC8qIFRPRE8oQW55KTogdGhpcyB3cml0ZXIgaXMgdW5zYWZlLiBJdCB1c2VzIHJhdyBwb2ludGVycy4KICAgICAqIG1heWJlIGNoYW5nZSBpdCB0byB0YWtlIG5vcm1hbCB0eXBlcyBhbmQgdGhlbiBpbnRlcm5hbGx5CiAgICAgKiB1c2Ugc3BhbnM/ICovCiAgICB1c2luZyB0dXBsZV90eXBlID0gc3RkOjp0dXBsZTxzdGQ6OnNwYW48RGF0YVR5cGVzPi4uLj47CiAgICBjb25zdGV4cHIgc3RhdGljIHN0ZDo6c2l6ZV90IG5fY29scyA9IHNpemVvZi4uLihEYXRhVHlwZXMpOwogICAgY29uc3RleHByIHN0YXRpYyBzdGQ6OmFycmF5PHN0ZDo6c2l6ZV90LCBuX2NvbHM+IHNpemVfb2ZfdHlwZXMgPSB7IHNpemVvZihEYXRhVHlwZXMpLi4uIH07CiAgICBjb25zdGV4cHIgc3RhdGljIHN0ZDo6YXJyYXk8c3RkOjpzdHJpbmdfdmlldywgbl9jb2xzPiBwYXJhbWV0ZXJzX3R5cGVzX3N0ciA9IHsgVG9vbHM6OnR5cGVfdG9fc3RyaW5nPERhdGFUeXBlcz4oKS4uLiB9OwoKcHJpdmF0ZToKICAgIGNvbnN0IHN0ZDo6c3RyaW5nIF9maWxlX25hbWU7CiAgICBjb25zdCBzdGQ6OmFycmF5PHN0ZDo6c3RyaW5nLCBuX2NvbHM+IF9uYW1lczsKICAgIGNvbnN0IHN0ZDo6YXJyYXk8c3RkOjpzaXplX3QsIG5fY29scz4gX3JhbmtzOwogICAgY29uc3Qgc3RkOjp2ZWN0b3I8c3RkOjpzaXplX3Q+IF9zaXplczsKCiAgICBzdGQ6OnNpemVfdCB0b3RhbF9yYW5rcyA9IDA7CiAgICBib29sIF9vcGVuID0gZmFsc2U7CiAgICBzdGQ6Om9mc3RyZWFtIF9zdHJlYW07CgogICAgc3RkOjpzaXplX3QgX2xpbmVfYnl0ZV9zaXplID0gMDsKICAgIHN0ZDo6c2l6ZV90IF9saW5lX3BhcmFtX29yZGVyID0gMDsKICAgIHN0ZDo6c2l6ZV90IF9saW5lX2J1ZmZlcl9sb2MgPSAwOwogICAgc3RkOjpzdHJpbmcgX2xpbmVfYnVmZmVyOwoKICAgIHRlbXBsYXRlPHR5cGVuYW1lIFQ+CiAgICB2b2lkIF9jb3B5X251bWJlcl90b19idWZmKGNvbnN0IFQmIG51bSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RkOjpzdHJpbmcmIGJ1ZmZlciwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RkOjpzaXplX3QmIGxvYywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RkOjpzaXplX3QmIHNpemUgPSBzaXplb2YoVCkpIHsKICAgICAgICBjb25zdCBjaGFyKiB0bXBzdHIgPSByZWludGVycHJldF9jYXN0PGNvbnN0IGNoYXIqPigmbnVtKTsKICAgICAgICBmb3Ioc3RkOjpzaXplX3QgaSA9IDA7IGkgPCBzaXplOyBpKyspIHsKICAgICAgICAgICAgYnVmZmVyW2kgKyBsb2NdID0gdG1wc3RyW2ldOwogICAgICAgIH0KCiAgICAgICAgbG9jICs9IHNpemU7CiAgICB9CgogICAgdm9pZCBfY29weV9zdHJfdG9fYnVmZihzdGQ6OnN0cmluZ192aWV3IHNvdXJjZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RkOjpzdHJpbmcmIGJ1ZmZlciwKICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RkOjpzaXplX3QmIGxvYykgewogICAgICAgIHNvdXJjZS5jb3B5KCZidWZmZXJbbG9jXSwgc291cmNlLmxlbmd0aCgpLCAwKTsKICAgICAgICBsb2MgKz0gc291cmNlLmxlbmd0aCgpOwogICAgfQoKICAgIHZvaWQgX2NyZWF0ZV9maWxlKCkgewoKICAgICAgICAvKiAgU0JDIEJpbmFyeSBIZWFkZXIgZGVzY3JpcHRpb246CiAgICAgICAgICogSGVhZGVyIG9mIGEgYmluYXJ5IGZvcm1hdCBpcyBkaXZpZGVkIGluIDQgcGFydHM6CiAgICAgICAgICogMS4tIEVkaWFuZXNzICAgICAgICAgICAgLSBhbHdheXMgNCBiaXRzIGxvbmcgKHVpbnQzMl90KQogICAgICAgICAqIDIuLSBEYXRhIEhlYWRlciBzaXplICAgIC0gYWx3YXlzIDIgYml0cyBsb25nICh1aW50MTZfdCkKICAgICAgICAgKiBhbmQgaXMgdGhlIGxlbmd0aCBvZiB0aGUgbmV4dCBiaXQgb2YgZGF0YQogICAgICAgICAqIDMuLSBIZWFkZXIgICAgICAgICAgICAgIC0gaXMgZGF0YSBoZWFkZXIgbG9uZy4KICAgICAgICAgKiBDb250YWlucyB0aGUgc3RydWN0dXJlIG9mIGVhY2ggbGluZS4gSXQgaXMgYWx3YXlzIGZvdW5kIGFzIGEgcmF3CiAgICAgICAgICogc3RyaW5nIGluIHRoZSBmb3JtICJ7bmFtZV9jb2x9O3t0eXBlX2NvbH07e3NpemUxfSx7c2l6ZTJ9Li4uOy4uLjsKICAgICAgICAgKiBDYW5ub3QgYmUgbG9uZ2VyIHRoYW4gNjU1MzYgYnl0ZXMuCiAgICAgICAgICogNC4tIE51bWJlciBvZiBsaW5lcyAgICAgLSBhbHdheXMgNCBiaXRzIGxvbmcgKGludDMyX3QpCiAgICAgICAgICogTnVtYmVyIG9mIGxpbmVzIGluIHRoZSBmaWxlLiBJZiAwLCBpdCBpcyBpbmRlZmluaXRlbHkgbG9uZy4KICAgICAgICAqLwogICAgICAgIC8vIEVkaWFuZXNzIGZpcnN0CiAgICAgICAgdWludDMyX3QgZW5kaWFuZXNzID0gMHgwMTAyMDMwNDsKICAgICAgICBpZiBjb25zdGV4cHIgKHN0ZDo6ZW5kaWFuOjpuYXRpdmUgPT0gc3RkOjplbmRpYW46OmJpZykgewogICAgICAgICAgICBlbmRpYW5lc3MgPSAweDA0MDMwMjAxOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGVuZGlhbmVzcyA9IDB4MDEwMjAzMDQ7CiAgICAgICAgfQoKICAgICAgICBzdGQ6OnNpemVfdCB0b3RhbF9oZWFkZXJfc2l6ZSA9IDA7CiAgICAgICAgLy8gaGFzIHRvIGJlIHVpbnQxNl90IGJlY2F1c2Ugd2UgYXJlIHNhdmluZyBpdCB0byB0aGUgZmlsZSBsYXRlcgogICAgICAgIHVpbnQxNl90IGJpbmFyeV9oZWFkZXJfc2l6ZSA9IDA7CiAgICAgICAgc3RkOjpzaXplX3QgdG90YWxfcmFua3Nfc29fZmFyID0gMDsKICAgICAgICBmb3IgKHN0ZDo6c2l6ZV90IGkgPSAwOyBpIDwgbl9jb2xzOyBpKyspIHsKICAgICAgICAgICAgYXV0byBjb2x1bW5fcmFuayA9IF9yYW5rc1tpXTsKICAgICAgICAgICAgLy8gKyAxIGZvciB0aGUgOyBjaGFyYWN0ZXIKICAgICAgICAgICAgYmluYXJ5X2hlYWRlcl9zaXplICs9IF9uYW1lc1tpXS5sZW5ndGgoKSArIDE7CiAgICAgICAgICAgIC8vICsgMSBmb3IgdGhlIDsgY2hhcmFjdGVyCiAgICAgICAgICAgIGJpbmFyeV9oZWFkZXJfc2l6ZSArPSBwYXJhbWV0ZXJzX3R5cGVzX3N0cltpXS5sZW5ndGgoKSArIDE7CgogICAgICAgICAgICBzdGQ6OnNpemVfdCB0b3RhbF9yYW5rX3NpemUgPSAxOwogICAgICAgICAgICBmb3Ioc3RkOjpzaXplX3QgaiA9IDA7IGogPCBjb2x1bW5fcmFuazsgaiArKykgewogICAgICAgICAgICAgICAgYXV0byBzaXplID0gX3NpemVzW3RvdGFsX3JhbmtzX3NvX2ZhciArIGpdOwogICAgICAgICAgICAgICAgdG90YWxfcmFua19zaXplICo9IHNpemU7CiAgICAgICAgICAgICAgICAvLyBJdCBpcyBhbHdheXMgKyAxIGJlY2F1c2UgdGhlcmUgaXMgZWl0aGVyIGEgJywnIG9yIGEgJzsnCiAgICAgICAgICAgICAgICBiaW5hcnlfaGVhZGVyX3NpemUgKz0gc3RkOjp0b19zdHJpbmcoc2l6ZSkubGVuZ3RoKCkgKyAxOwogICAgICAgICAgICB9CgogICAgICAgICAgICB0b3RhbF9yYW5rc19zb19mYXIgKz0gY29sdW1uX3Jhbms7CiAgICAgICAgICAgIF9saW5lX2J5dGVfc2l6ZSArPSBzaXplX29mX3R5cGVzW2ldKnRvdGFsX3Jhbmtfc2l6ZTsKICAgICAgICB9CiAgICAgICAgLy8gV2UgYWxzbyBjYWxjdWxhdGUgdGhlIGxpbmUgc2l6ZSB2ZXJ5IHVzZWZ1bCB3aGVuIHdlIHN0YXJ0IGRhdGEgc2F2aW5nCgogICAgICAgIHRvdGFsX2hlYWRlcl9zaXplICs9IHNpemVvZih1aW50MzJfdCk7IC8vIDEuCiAgICAgICAgdG90YWxfaGVhZGVyX3NpemUgKz0gc2l6ZW9mKHVpbnQxNl90KTsgLy8gMi4KICAgICAgICB0b3RhbF9oZWFkZXJfc2l6ZSArPSBiaW5hcnlfaGVhZGVyX3NpemU7IC8vIDMuCiAgICAgICAgdG90YWxfaGVhZGVyX3NpemUgKz0gc2l6ZW9mKGludDMyX3QpOyAvLyA0LgoKICAgICAgICAvLyBOb3cgd2UgYWxsb2NhdGUgdGhlIG1lbW9yeSEKICAgICAgICBzdGQ6OnNpemVfdCBidWZmZXJfbG9jID0gMDsKICAgICAgICBhdXRvIGJ1ZmZlciA9IHN0ZDo6c3RyaW5nKHRvdGFsX2hlYWRlcl9zaXplLCAnQScpOwogICAgICAgIF9saW5lX2J1ZmZlciA9IHN0ZDo6c3RyaW5nKF9saW5lX2J5dGVfc2l6ZSwgJ0EnKTsKCiAgICAgICAgLy8gTm93IHdlIGZpbGwgYnVmZmVyLgogICAgICAgIHRvdGFsX3JhbmtzX3NvX2ZhciA9IDA7CiAgICAgICAgX2NvcHlfbnVtYmVyX3RvX2J1ZmYoZW5kaWFuZXNzLCBidWZmZXIsIGJ1ZmZlcl9sb2MpOyAvLyAxLgogICAgICAgIF9jb3B5X251bWJlcl90b19idWZmKGJpbmFyeV9oZWFkZXJfc2l6ZSwgYnVmZmVyLCBidWZmZXJfbG9jKTsgLy8gMi4KICAgICAgICBmb3IgKHN0ZDo6c2l6ZV90IGkgPSAwOyBpIDwgbl9jb2xzOyBpKyspIHsgLy8gMy4KICAgICAgICAgICAgYXV0byBjb2x1bW5fbmFtZSA9IF9uYW1lc1tpXTsKICAgICAgICAgICAgYXV0byBjb2x1bW5fdHlwZSA9IHBhcmFtZXRlcnNfdHlwZXNfc3RyW2ldOwogICAgICAgICAgICBhdXRvIGNvbHVtbl9yYW5rID0gX3JhbmtzW2ldOwoKICAgICAgICAgICAgX2NvcHlfc3RyX3RvX2J1ZmYoY29sdW1uX25hbWUsIGJ1ZmZlciwgYnVmZmVyX2xvYyk7CiAgICAgICAgICAgIF9jb3B5X3N0cl90b19idWZmKCI7IiwgYnVmZmVyLCBidWZmZXJfbG9jKTsKICAgICAgICAgICAgX2NvcHlfc3RyX3RvX2J1ZmYoY29sdW1uX3R5cGUsIGJ1ZmZlciwgYnVmZmVyX2xvYyk7CiAgICAgICAgICAgIF9jb3B5X3N0cl90b19idWZmKCI7IiwgYnVmZmVyLCBidWZmZXJfbG9jKTsKICAgICAgICAgICAgZm9yKHN0ZDo6c2l6ZV90IHNpemVfaiA9IDA7IHNpemVfaiA8IGNvbHVtbl9yYW5rOyBzaXplX2orKykgewogICAgICAgICAgICAgICAgX2NvcHlfc3RyX3RvX2J1ZmYoc3RkOjp0b19zdHJpbmcoX3NpemVzW3RvdGFsX3JhbmtzX3NvX2ZhciArIHNpemVfal0pLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnVmZmVyLCBidWZmZXJfbG9jKTsKCiAgICAgICAgICAgICAgICBpZihzaXplX2ogIT0gY29sdW1uX3JhbmsgLSAxKSB7CiAgICAgICAgICAgICAgICAgICAgX2NvcHlfc3RyX3RvX2J1ZmYoIiwiLCBidWZmZXIsIGJ1ZmZlcl9sb2MpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICBfY29weV9zdHJfdG9fYnVmZigiOyIsIGJ1ZmZlciwgYnVmZmVyX2xvYyk7CiAgICAgICAgICAgIHRvdGFsX3JhbmtzX3NvX2ZhciArPSBjb2x1bW5fcmFuazsKICAgICAgICB9CgogICAgICAgIGludDMyX3QgaiA9IDB4MDAwMDAwMDA7CiAgICAgICAgX2NvcHlfbnVtYmVyX3RvX2J1ZmYoaiwgYnVmZmVyLCBidWZmZXJfbG9jKTsgLy8gNC4KCiAgICAgICAgLy8gc2F2ZSB0byBmaWxlLgogICAgICAgIF9zdHJlYW0gPDwgYnVmZmVyOwogICAgfQoKICAgIC8vIFNhdmUgaXRlbSBmcm9tIHR1cGxlIGluIHBvc2l0aW9uIGkKICAgIHRlbXBsYXRlPHN0ZDo6c2l6ZV90IGk+CiAgICB2b2lkIF9zYXZlX2l0ZW0oY29uc3QgdHVwbGVfdHlwZSYgaXRlbXMsIHN0ZDo6c2l6ZV90JiBsb2MpIHsKICAgICAgICBhdXRvIGl0ZW0gPSBzdGQ6OmdldDxpPihpdGVtcyk7CiAgICAgICAgdXNpbmcgVCA9IGRlY2x0eXBlKGl0ZW0pOwoKICAgICAgICBhdXRvIHJhbmsgPSBfcmFua3NbaV07CiAgICAgICAgYXV0byB0b3RhbF9yYW5rX3VwX3RvX2kgPSBzdGQ6OmFjY3VtdWxhdGUoX3JhbmtzLmJlZ2luKCksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJl9yYW5rc1tpXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAwKTsKCiAgICAgICAgY29uc3QgYXV0byYgc2l6ZV9pbmRleF9zdGFydCA9IHRvdGFsX3JhbmtfdXBfdG9faTsKICAgICAgICBjb25zdCBhdXRvJiBleHBlY3RlZF9zaXplID0gc3RkOjphY2N1bXVsYXRlKCZfc2l6ZXNbc2l6ZV9pbmRleF9zdGFydF0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmX3NpemVzW3NpemVfaW5kZXhfc3RhcnQgKyByYW5rXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDEsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0ZDo6bXVsdGlwbGllczxzdGQ6OnNpemVfdD4oKSk7CgogICAgICAgIGlmIChleHBlY3RlZF9zaXplICE9IGl0ZW0uc2l6ZSgpKSB7CiAgICAgICAgICAgIHRocm93IHN0ZDo6b3V0X29mX3JhbmdlKCJtZW1vcnkgaXMgb3V0IG9mIHJhbmdlIik7CiAgICAgICAgfQoKLy8gICAgICAgIHN0ZDo6bWVtY3B5KCZfbGluZV9idWZmZXJbbG9jXSwgaXRlbS5kYXRhKCksIGl0ZW0uc2l6ZV9ieXRlcygpKTsKICAgICAgICBhdXRvIGl0ZW1fYnl0ZXMgPSAgc3RkOjphc19ieXRlcyhpdGVtKTsKICAgICAgICBmb3Ioc3RkOjpzaXplX3QgYnl0ZSA9IDA7IGJ5dGUgPCBpdGVtLnNpemVfYnl0ZXMoKTsgYnl0ZSsrKSB7CiAgICAgICAgICAgIF9saW5lX2J1ZmZlci5hdChsb2MgKyBieXRlKSA9IHN0YXRpY19jYXN0PGNoYXI+KGl0ZW1fYnl0ZXNbYnl0ZV0pOwogICAgICAgIH0KICAgICAgICBsb2MgKz0gaXRlbS5zaXplX2J5dGVzKCk7CiAgICB9CgogICAgLy8gVGhpbmsgb2YgdCBoaXMgZnVuY3Rpb24gYXMgYSB3cmFwcGVyIGJldHdlZW4gX3NhdmVfaXRlbQogICAgLy8gYW5kIF9zYXZlX2RhdGEKICAgIHRlbXBsYXRlPHN0ZDo6c2l6ZV90Li4uIEk+CiAgICB2b2lkIF9zYXZlX2l0ZW1faGVscGVyKGNvbnN0IHR1cGxlX3R5cGUmIGRhdGEsIHN0ZDo6aW5kZXhfc2VxdWVuY2U8SS4uLj4pIHsKICAgICAgICAoX3NhdmVfaXRlbTxJPihkYXRhLCBfbGluZV9idWZmZXJfbG9jKSwuLi4pOwogICAgfQoKICAgIHZvaWQgX3NhdmVfZXZlbnQoY29uc3QgdHVwbGVfdHlwZSYgZGF0YSkgewogICAgICAgIF9saW5lX2J1ZmZlcl9sb2MgPSAwOwogICAgICAgIF9zYXZlX2l0ZW1faGVscGVyKGRhdGEsIHN0ZDo6bWFrZV9pbmRleF9zZXF1ZW5jZTxuX2NvbHM+e30pOwogICAgICAgIF9zdHJlYW0gPDwgX2xpbmVfYnVmZmVyOwogICAgfQoKIHB1YmxpYzoKICAgIER5bmFtaWNXcml0ZXIoc3RkOjpzdHJpbmdfdmlldyBmaWxlX25hbWUsCiAgICAgICAgICAgICAgICAgIGNvbnN0IHN0ZDo6YXJyYXk8c3RkOjpzdHJpbmcsIG5fY29scz4mIGNvbHVtbnNfbmFtZXMsCiAgICAgICAgICAgICAgICAgIGNvbnN0IHN0ZDo6YXJyYXk8c3RkOjpzaXplX3QsIG5fY29scz4mIGNvbHVtbnNfcmFua3MsCiAgICAgICAgICAgICAgICAgIGNvbnN0IHN0ZDo6dmVjdG9yPHN0ZDo6c2l6ZV90PiYgY29sdW1uc19zaXplcykgOgogICAgICAgIF9maWxlX25hbWV7ZmlsZV9uYW1lfSwKICAgICAgICBfbmFtZXN7Y29sdW1uc19uYW1lc30sCiAgICAgICAgX3Jhbmtze2NvbHVtbnNfcmFua3N9LAogICAgICAgIF9zaXplc3tjb2x1bW5zX3NpemVzfQogICAgewogICAgICAgIHRvdGFsX3JhbmtzID0gc3RkOjphY2N1bXVsYXRlKGNvbHVtbnNfcmFua3MuYmVnaW4oKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2x1bW5zX3JhbmtzLmVuZCgpLCAwKTsKCiAgICAgICAgX3N0cmVhbS5vcGVuKF9maWxlX25hbWUsCiAgICAgICAgICAgICAgICAgICAgIHN0ZDo6b2ZzdHJlYW06OmFwcCB8IHN0ZDo6b2ZzdHJlYW06OmJpbmFyeSk7CgogICAgICAgIGlmIChfc3RyZWFtLmlzX29wZW4oKSkgewogICAgICAgICAgICBfb3BlbiA9IHRydWU7CiAgICAgICAgICAgIGlmIChzdGQ6OmZpbGVzeXN0ZW06OmlzX2VtcHR5KGZpbGVfbmFtZSkpIHsKICAgICAgICAgICAgICAgIF9jcmVhdGVfZmlsZSgpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQoKICAgIH5EeW5hbWljV3JpdGVyKCkgewogICAgICAgIF9vcGVuID0gZmFsc2U7CiAgICAgICAgX3N0cmVhbS5jbG9zZSgpOwogICAgfQoKICAgIHZvaWQgc2F2ZShzdGQ6OnNwYW48RGF0YVR5cGVzPi4uLiBkYXRhKSB7CiAgICAgICAgX3NhdmVfZXZlbnQoc3RkOjptYWtlX3R1cGxlKGRhdGEuLi4pKTsKICAgIH0KfTsKCi8vIFRPRE8oSGVjdG9yKTogd2UgbmVlZCB0aGlzIQp0ZW1wbGF0ZTx0eXBlbmFtZS4uLiBEYXRhVHlwZXM+CnN0cnVjdCBSZWFkZXIgewoKCgogcHJpdmF0ZToKfTsKCmNsYXNzIFNpUE1EeW5hbWljV3JpdGVyIHsKICAgIHVzaW5nIFNpUE1EVyA9IER5bmFtaWNXcml0ZXI8ICAgZG91YmxlLCAgICAvLyBzYW1wbGUgcmF0ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1aW50OF90LCAgIC8vIEVuYWJsZWQgQ2hhbm5lbHMKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdWludDY0X3QsICAvLyBUcmlnZ2VyIE1hc2sKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdWludDE2X3QsICAvLyBUaHJlc2hvbGRzCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVpbnQxNl90LCAgLy8gREMgT2Zmc2V0cwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1aW50OF90LCAgIC8vIERDIENvcnJlY3Rpb25zCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZsb2F0LCAgICAgLy8gREMgUmFuZ2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdWludDMyX3QsICAvLyBUaW1lIHN0YW1wCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVpbnQzMl90LCAgLy8gVHJpZ2dlciBzb3VyY2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdWludDE2X3Q+OyAvLyBXYXZlZm9ybXMKCiAgICBjb25zdGV4cHIgc3RhdGljIHN0ZDo6c2l6ZV90IG51bV9jb2xzID0gMTA7CiAgICBjb25zdGV4cHIgc3RhdGljIHN0ZDo6YXJyYXk8c3RkOjpzaXplX3QsIG51bV9jb2xzPiBzaXBtX3JhbmtzID0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgezEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDJ9OwogICAgY29uc3QgaW5saW5lIHN0YXRpYyBzdGQ6OmFycmF5PHN0ZDo6c3RyaW5nLCBudW1fY29scz4gc2lwbV9uYW1lcyA9CiAgICAgICAgICAgIHsic2FtcGxlX3JhdGUiLCAiZW5fY2hzIiwgInRyZ19tYXNrIiwgInRocmVzaG9sZHMiLCAiZGNfb2Zmc2V0cyIsCiAgICAgICAgICAgICAiZGNfY29ycmVjdGlvbnMiLCAiZGNfcmFuZ2UiLCAidGltZV9zdGFtcCIsICJ0cmdfc291cmNlIiwgImRhdGEifTsKCgogICAgZG91YmxlIF9zYW1wbGVfcmF0ZVsxXSA9IHswLjB9OwogICAgc3RkOjp2ZWN0b3I8c3RkOjp1aW50OF90PiBfZW5fY2hzOwogICAgdWludDY0X3QgX3RyaWdnZXJfbWFza1sxXSA9IHswfTsKICAgIHN0ZDo6dmVjdG9yPHVpbnQxNl90PiBfdGhyZXNob2xkczsKICAgIHN0ZDo6dmVjdG9yPHVpbnQxNl90PiBfZGNfb2Zmc2V0czsKICAgIHN0ZDo6dmVjdG9yPHVpbnQ4X3Q+IF9kY19jb3JyZWN0aW9uczsKICAgIHN0ZDo6dmVjdG9yPGZsb2F0PiBfZGNfcmFuZ2VzOwoKICAgIHVpbnQzMl90IF90cmlnZ2VyX3RhZ1sxXSA9IHswfTsKICAgIHVpbnQzMl90IF90cmlnZ2VyX3NvdXJjZVsxXSA9IHswfTsKCiAgICB1aW50MzJfdCBfcmVjb3JkX2xlbmd0aDsKICAgIFNpUE1EVyBfc3RyZWFtZXI7CiBwdWJsaWM6CiAgICAvKiBEZXRhaWxzIG9mIGVhY2ggcGFyYW1ldGVyczoKICAgIE5hbWUgICAgICAgICAgfCB0eXBlICAgICAgfCBsZW5ndGggKGluIEJ5dGVzKSB8IGlzIGEgY29uc3RhbnQ/fAogICAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICBzYW1wbGVfcmF0ZSAgIHwgZG91YmxlICAgIHwgOCAgICAgICAgICAgICAgICAgfCBZCiAgICBlbl9jaHMgICAgICAgIHwgdWludDggICAgIHwgMSpjaF9zaXplICAgICAgICAgfCBZCiAgICB0cmdfbWFzayAgICAgIHwgdWludDY0ICAgIHwgOCAgICAgICAgICAgICAgICAgfCBZCiAgICB0aHJlc2hvbGRzICAgIHwgdWludDE2ICAgIHwgMipjaF9zaXplICAgICAgICAgfCBZCiAgICBkY19vZmZzZXRzICAgIHwgdWludDE2ICAgIHwgMipjaF9zaXplICAgICAgICAgfCBZCiAgICBkY19jb3JyZWN0aW9uc3wgdWludDggICAgIHwgMSpjaF9zaXplICAgICAgICAgfCBZCiAgICBkY19yYW5nZSAgICAgIHwgc2luZ2xlICAgIHwgNCpjaF9zaXplICAgICAgICAgfCBZCiAgICB0aW1lX3N0YW1wICAgIHwgdWludDMyICAgIHwgNCAgICAgICAgICAgICAgICAgfCBOCiAgICB0cmdfc291cmNlICAgIHwgdWludDMyICAgIHwgNCAgICAgICAgICAgICAgICAgfCBOCiAgICBkYXRhICAgICAgICAgIHwgdWludDE2ICAgIHwgMipybCpjaF9zaXplICAgICAgfCBOCiAgICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIHJsIC0+IHJlY29yZCBsZW5ndGggb2YgdGhlIHdhdmVmb3JtcwogICAgY2hfc2l6ZSAtPiBudW1iZXIgb2YgZW5hYmxlZCBjaGFubmVscwogICAgZW5fY2hzICAtPiB0aGUgY2hhbm5lbHMgIyB0aGF0IHdlcmUgZW5hYmxlZAoKICAgIFRvdGFsIGxlbmd0aCA9IDI0ICsgY2hfc2l6ZSooMTAgKyAyKnJlY29yZF9sZW5ndGgpCiAgICAqLwoKICAgIFNpUE1EeW5hbWljV3JpdGVyKHN0ZDo6c3RyaW5nX3ZpZXcgZmlsZV9uYW1lLAogICAgICAgICAgICAgICAgICAgICAgY29uc3QgQ0FFTkRpZ2l0aXplck1vZGVsQ29uc3RhbnRzJiBtb2RlbF9jb25zdHMsCiAgICAgICAgICAgICAgICAgICAgICBjb25zdCBDQUVOR2xvYmFsQ29uZmlnJiBnbG9iYWxfY29uZmlnLAogICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RkOjphcnJheTxDQUVOR3JvdXBDb25maWcsIDg+JiBncm91cF9jb25maWdzKSA6CiAgICAgICAgX3NhbXBsZV9yYXRle21vZGVsX2NvbnN0cy5BY3F1aXNpdGlvblJhdGV9LAogICAgICAgIF9lbl9jaHN7X2dldF9lbl9jaHMobW9kZWxfY29uc3RzLCBncm91cF9jb25maWdzKX0sCiAgICAgICAgX3JlY29yZF9sZW5ndGh7Z2xvYmFsX2NvbmZpZy5SZWNvcmRMZW5ndGh9LAogICAgICAgIF9zdHJlYW1lcntmaWxlX25hbWUsIHNpcG1fbmFtZXMsICBzaXBtX3JhbmtzLCBfZm9ybV9zaXplcyhnbG9iYWxfY29uZmlnKX0KICAgIHsKICAgICAgICBmb3IoYXV0byBjaCA6IF9lbl9jaHMpIHsKICAgICAgICAgICAgQ0FFTkdyb3VwQ29uZmlnIGdyb3VwOwogICAgICAgICAgICBpZiAobW9kZWxfY29uc3RzLk51bWJlck9mR3JvdXBzID09IDApIHsKICAgICAgICAgICAgICAgIGdyb3VwID0gZ3JvdXBfY29uZmlnc1tjaF07CiAgICAgICAgICAgICAgICBfZGNfY29ycmVjdGlvbnMucHVzaF9iYWNrKGdyb3VwLkRDQ29ycmVjdGlvbnNbMF0pOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgZ3JvdXAgPSAgZ3JvdXBfY29uZmlnc1tjaCAlIDhdOwogICAgICAgICAgICAgICAgX2RjX2NvcnJlY3Rpb25zLnB1c2hfYmFjayhncm91cC5EQ0NvcnJlY3Rpb25zW2NoICUgOF0pOwogICAgICAgICAgICB9CgogICAgICAgICAgICBfdHJpZ2dlcl9tYXNrWzBdIHw9ICgxIDw8IGNoKTsgIC8vIGZsaXAgdGhlIGJpdCBhdCBwb3NpdGlvbiBjaAogICAgICAgICAgICBfdGhyZXNob2xkcy5wdXNoX2JhY2soZ3JvdXAuVHJpZ2dlclRocmVzaG9sZCk7CiAgICAgICAgICAgIF9kY19vZmZzZXRzLnB1c2hfYmFjayhncm91cC5EQ09mZnNldCk7CiAgICAgICAgICAgIF9kY19yYW5nZXMucHVzaF9iYWNrKG1vZGVsX2NvbnN0cy5Wb2x0YWdlUmFuZ2VzLmF0KGdyb3VwLkRDUmFuZ2UpKTsKICAgICAgICB9CiAgICB9CgogICAgflNpUE1EeW5hbWljV3JpdGVyKCkgPSBkZWZhdWx0OwoKICAgIHZvaWQgc2F2ZV93YXZlZm9ybShzdGQ6OnNoYXJlZF9wdHI8Q0FFTldhdmVmb3Jtczx1aW50MTZfdD4+IHdhdmVmb3JtKSB7CiAgICAgICAgX3RyaWdnZXJfdGFnWzBdID0gd2F2ZWZvcm0tPmdldEluZm8oKS5UcmlnZ2VyVGltZVRhZzsKICAgICAgICBfdHJpZ2dlcl9zb3VyY2VbMF0gPSB3YXZlZm9ybS0+Z2V0SW5mbygpLlBhdHRlcm47CiAgICAgICAgX3N0cmVhbWVyLnNhdmUoX3NhbXBsZV9yYXRlLAogICAgICAgICAgICAgICAgICAgICAgX2VuX2NocywKICAgICAgICAgICAgICAgICAgICAgIF90cmlnZ2VyX21hc2ssCiAgICAgICAgICAgICAgICAgICAgICBfdGhyZXNob2xkcywKICAgICAgICAgICAgICAgICAgICAgIF9kY19vZmZzZXRzLAogICAgICAgICAgICAgICAgICAgICAgX2RjX2NvcnJlY3Rpb25zLAogICAgICAgICAgICAgICAgICAgICAgX2RjX3JhbmdlcywKICAgICAgICAgICAgICAgICAgICAgIF90cmlnZ2VyX3RhZywKICAgICAgICAgICAgICAgICAgICAgIF90cmlnZ2VyX3NvdXJjZSwKICAgICAgICAgICAgICAgICAgICAgIHdhdmVmb3JtLT5nZXREYXRhKCkpOwogICAgfQoKIHByaXZhdGU6CgogICAgc3RkOjp2ZWN0b3I8c3RkOjpzaXplX3Q+IF9mb3JtX3NpemVzKAogICAgICAgIGNvbnN0IENBRU5HbG9iYWxDb25maWcmIGNhZW5fZ2xvYmFsX2NvbmZpZykgewoKICAgICAgICBhdXRvIG51bV9lbl9jaHMgPSBfZW5fY2hzLnNpemUoKTsKICAgICAgICByZXR1cm4gezEsIG51bV9lbl9jaHMsIDEsIG51bV9lbl9jaHMsIG51bV9lbl9jaHMsIG51bV9lbl9jaHMsIG51bV9lbl9jaHMsCiAgICAgICAgICAgICAgICAxLCAxLCBudW1fZW5fY2hzLCBjYWVuX2dsb2JhbF9jb25maWcuUmVjb3JkTGVuZ3RofTsKICAgIH0KCiAgICBzdGQ6OnZlY3RvcjxzdGQ6OnVpbnQ4X3Q+IF9nZXRfZW5fY2hzKAogICAgICAgICAgICBjb25zdCBDQUVORGlnaXRpemVyTW9kZWxDb25zdGFudHMmIG1vZGVsX2NvbnN0YW50cywKICAgICAgICAgICAgY29uc3Qgc3RkOjphcnJheTxDQUVOR3JvdXBDb25maWcsIDg+JiBncm91cHMpIHsKICAgICAgICBzdGQ6OnZlY3RvcjxzdGQ6OnVpbnQ4X3Q+IG91dDsKICAgICAgICBmb3Ioc3RkOjpzaXplX3QgZ3JvdXBfbnVtID0gMDsgZ3JvdXBfbnVtIDwgZ3JvdXBzLnNpemUoKTsgZ3JvdXBfbnVtKyspIHsKICAgICAgICAgICAgY29uc3QgYXV0byYgZ3JvdXAgPSBncm91cHNbZ3JvdXBfbnVtXTsKICAgICAgICAgICAgaWYgKG5vdCBncm91cC5FbmFibGVkKSB7CiAgICAgICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8gSWYgdGhlIGRpZ2l0aXplciBkb2VzIG5vdCBzdXBwb3J0IGdyb3VwcywgZ3JvdXBfbnVtID0gY2gKICAgICAgICAgICAgaWYobW9kZWxfY29uc3RhbnRzLk51bWJlck9mR3JvdXBzID09IDApIHsKICAgICAgICAgICAgICAgIG91dC5wdXNoX2JhY2soZ3JvdXBfbnVtKTsKICAgICAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyBPdGhld2lzZSwgY2FsY3VsYXRlIHVzaW5nIHRoZSBBY3F1aXNpdGlvbk1hc2sKICAgICAgICAgICAgZm9yKHN0ZDo6c2l6ZV90IGNoID0gMDsgY2ggPCBtb2RlbF9jb25zdGFudHMuTnVtQ2hhbm5lbHNQZXJHcm91cDsgY2grKykgewogICAgICAgICAgICAgICAgaWYoZ3JvdXAuQWNxdWlzaXRpb25NYXNrLmF0KGNoKSkgewogICAgICAgICAgICAgICAgICAgIG91dC5wdXNoX2JhY2soY2ggKyBtb2RlbF9jb25zdGFudHMuTnVtQ2hhbm5lbHNQZXJHcm91cCAqIGdyb3VwX251bSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmV0dXJuIG91dDsKICAgIH0KCgp9OwoKfSAvLyBuYW1lc3BhY2UgQmluYXJ5Rm9ybWF0Cn0gLy8gbmFtZXNwYWNlIFNCQ1F1ZWVucwoKI2VuZGlmIC8vU0JDQklOQVJZRk9STUFUX0gKAAAAAAAAAADxRQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAYAsAAAAAAABgCwAAAAAAAAAAAAAAAPC/"
				]
			]
		},
		{
			"file": "include/sbcqueens-gui/file_helpers.hpp",
			"settings":
			{
				"buffer_size": 7258,
				"line_ending": "Unix"
			},
			"undo_stack":
			[
				[
					21,
					1,
					"paste",
					null,
					"AgAAAL4IAAAAAAAAdgkAAAAAAAAAAAAAdgkAAAAAAAB2CQAAAAAAALgAAAAgICAgICAgIGF1dG8gYXBwcm94X2xlbmd0aCA9IF9xdWV1ZS5zaXplX2FwcHJveCgpOwogICAgICAgIGF1dG8gZGF0YSA9IHN0ZDo6dmVjdG9yPFQ+KGFwcHJveF9sZW5ndGgpOwogICAgICAgIF9xdWV1ZS50cnlfZGVxdWV1ZV9idWxrKGRhdGEuZGF0YSgpLCBhcHByb3hfbGVuZ3RoKTsKCiAgICAgICAgcmV0dXJuIGRhdGE7",
					"AQAAAAAAAAABAAAAdgkAAAAAAAC+CAAAAAAAAAAAAAAAAPC/"
				],
				[
					26,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAB7GgAAI2lmbmRlZiBGSUxFSEVMUEVSU19ICiNkZWZpbmUgRklMRUhFTFBFUlNfSAojcHJhZ21hIG9uY2UKCgovLyBDIFNURCBpbmNsdWRlcwovLyBDIDNyZCBwYXJ0eSBpbmNsdWRlcwovLyBDKysgU1REIGluY2x1ZGVzCiNpbmNsdWRlIDx2ZWN0b3I+CiNpbmNsdWRlIDxleGNlcHRpb24+CiNpbmNsdWRlIDxmc3RyZWFtPgojaW5jbHVkZSA8ZnV0dXJlPgojaW5jbHVkZSA8aW9zPgojaW5jbHVkZSA8bWVtb3J5PgojaW5jbHVkZSA8c3RyaW5nPgojaW5jbHVkZSA8dHlwZV90cmFpdHM+CiNpbmNsdWRlIDxmaWxlc3lzdGVtPgojaW5jbHVkZSA8dXRpbGl0eT4KCi8vIEMrKyAzcmQgcGFydHkgaW5jbHVkZXMKI2luY2x1ZGUgPGNvbmN1cnJlbnRxdWV1ZS5oPgojaW5jbHVkZSA8c3BkbG9nL3NwZGxvZy5oPgoKbmFtZXNwYWNlIFNCQ1F1ZWVucyB7Cgp0ZW1wbGF0ZTx0eXBlbmFtZSBUPgpjb25jZXB0IEhhc091dHN0cmVhbU9wID0gcmVxdWlyZXMgKFQgeCkgeyB4Lm9wZXJhdG9yPDw7IH07CgovLyBNYW5hZ2VzIHRoZSBvZnN0cmVhbSB0byB3b3JrIGluIGNvbmN1cnJlbnQgb3Igbm9uLWNvbmN1cnJlbnQgbW9kZXMuCi8vIENsb3NlcyB0aGUgZmlsZSB3aGVuIHRoaXMgY2xhc3MgZ29lcyBvdXQgb2Ygc2NvcGUuIEl0IGlzIHBvc3NpYmxlCi8vIHRvIGNsb3NlIHRoZSBmaWxlIHdpdGhvdXQgZGVzdHJveWluZyB0aGlzIGNsYXNzLCBidXQgaXQgaXMgbm90Ci8vIHJlY29tbWVuZGVkLgp0ZW1wbGF0ZSA8dHlwZW5hbWUgVD4KcmVxdWlyZXMgc3RkOjpjb3B5YWJsZTxUPiBvciBzdGQ6Om1vdmFibGU8VD4KY2xhc3MgRGF0YUZpbGUgewogICAgYm9vbCBfb3BlbiA9IGZhbHNlOwogICAgc3RkOjpzdHJpbmcgX2Fic19kaXI7CiAgICBzdGQ6Om9mc3RyZWFtIF9zdHJlYW07CgogICAgbW9vZHljYW1lbDo6Q29uY3VycmVudFF1ZXVlPFQ+IF9xdWV1ZTsKCiBwdWJsaWM6CiAgICB1c2luZyB0eXBlID0gVDsKCiAgICBEYXRhRmlsZSgpID0gZGVmYXVsdDsKCiAgICAvLyBPcGVucyBmaWxlIGluIGFwcGVuZCBtb2RlLiBJZiBpdCBkb2VzIG5vdCBleGlzdCwgaXQgY3JlYXRlcyBpdC4KICAgIC8vIEl0IG9wZW5zIHRoZSBmaWxlIHdpdGggbm8gaGVhZGVyLgogICAgZXhwbGljaXQgRGF0YUZpbGUoc3RkOjpzdHJpbmdfdmlldyBmaWxlX25hbWUpIDogX2Fic19kaXIoZmlsZV9uYW1lKSB7CiAgICAgICAgX3N0cmVhbS5vcGVuKF9hYnNfZGlyLAogICAgICAgICAgICBzdGQ6Om9mc3RyZWFtOjphcHAgfCBzdGQ6Om9mc3RyZWFtOjpiaW5hcnkpOwoKICAgICAgICBpZiAoX3N0cmVhbS5pc19vcGVuKCkpIHsKICAgICAgICAgICAgX29wZW4gPSB0cnVlOwogICAgICAgIH0KICAgIH0KCiAgICAvLyBPcGVucyBmaWxlIGluIGFwcGVuZCBtb2RlLiBJZiBpdCBkb2VzIG5vdCBleGlzdCwgaXQgY3JlYXRlcyBpdC4KICAgIC8vIEl0IHdyaXRlcyB0aGUgcmV0dXJuIGNvbnRlbnRzIG9mIEluaXRXcml0ZUZ1bmMgYXMgdGhlIGhlYWRlcgogICAgLy8gd2l0aCBhcmdzLi4uCiAgICB0ZW1wbGF0ZTx0eXBlbmFtZSBIZWFkZXJGdW5jLCB0eXBlbmFtZS4uLiBIZWFkZXJGdW5jQXJncz4KICAgIHJlcXVpcmVzIEhhc091dHN0cmVhbU9wPHN0ZDo6aW52b2tlX3Jlc3VsdDxIZWFkZXJGdW5jKEhlYWRlckZ1bmNBcmdzLi4uKT4+CiAgICBEYXRhRmlsZShzdGQ6OnN0cmluZ192aWV3IGZpbGVfbmFtZSwgSGVhZGVyRnVuYyYmIGYsIEhlYWRlckZ1bmNBcmdzJiYuLi4gYXJncykgOgogICAgICAgIERhdGFGaWxlKGZpbGVfbmFtZSkKICAgIHsKICAgICAgICBpZiAoX29wZW4pIHsKICAgICAgICAgICAgaWYgKHN0ZDo6ZmlsZXN5c3RlbTo6aXNfZW1wdHkoZmlsZV9uYW1lKSkgewogICAgICAgICAgICAgICAgX3N0cmVhbSA8PCBmKHN0ZDo6Zm9yd2FyZDxIZWFkZXJGdW5jQXJncz4oYXJncykuLi4pOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQoKICAgIHZpcnR1YWwgfkRhdGFGaWxlKCkgewogICAgICAgIC8vIEl0IGlzIHZlcnkgbGlrZWx5IHRoYXQgdGhlIHN0cmVhbSBpcyBjbG9zZWQgYW5kIGZyZWVkIHdoZW4gdGhpcwogICAgICAgIC8vIGdvZXMgb3V0IG9mIHNjb3BlLCBidXQgd2UgYXJlIG5ldmVyIHRvbyBzdXJlLgogICAgICAgIF9zdHJlYW0uY2xvc2UoKTsKICAgICAgICBfb3BlbiA9IGZhbHNlOwogICAgfQoKICAgIGNvbnN0IGJvb2wmIGlzT3BlbigpIG5vZXhjZXB0IHsgcmV0dXJuIF9vcGVuOyB9CgogICAgc3RkOjp2ZWN0b3I8VD4gZ2V0RGF0YSgpIG5vZXhjZXB0IHsKICAgICAgICBhdXRvIGFwcHJveF9sZW5ndGggPSBfcXVldWUuc2l6ZV9hcHByb3goKTsKICAgICAgICBhdXRvIGRhdGEgPSBzdGQ6OnZlY3RvcjxUPihhcHByb3hfbGVuZ3RoKTsKICAgICAgICBfcXVldWUudHJ5X2RlcXVldWVfYnVsayhkYXRhLmRhdGEoKSwgYXBwcm94X2xlbmd0aCk7CgogICAgICAgIHJldHVybiBkYXRhOwogICAgfQoKICAgIC8vIEFkZHMgZWxlbWVudCBhcyBhIGNvcHkgdG8gY3VycmVudCBidWZmZXIKICAgIHZvaWQgYWRkKGNvbnN0IFQmIGVsZW1lbnQpIG5vZXhjZXB0IHsKICAgICAgICBfcXVldWUuZW5xdWV1ZShlbGVtZW50KTsKICAgIH0KCiAgICAvLyBBZGRzIGxpc3QgYXMgYSBjb3B5IHRvIGN1cnJlbnQgYnVmZmVyCiAgICB2b2lkIGFkZChjb25zdCBzdGQ6OmluaXRpYWxpemVyX2xpc3Q8VD4mIGxpc3QpIG5vZXhjZXB0IHsKICAgICAgICBfcXVldWUuZW5xdWV1ZV9idWxrKGxpc3QuYmVnaW4oKSwgbGlzdC5zaXplKCkpOwogICAgfQoKICAgIC8vIEFkZHMgZWxlbWVudCBhcyBhIGNvcHkgdG8gY3VycmVudCBidWZmZXIKICAgIHZvaWQgb3BlcmF0b3IoKShjb25zdCBUJiBlbGVtZW50KSBub2V4Y2VwdCB7CiAgICAgICAgYWRkKGVsZW1lbnQpOwogICAgfQoKICAgIC8vIEFkZHMgbGlzdCBhcyBhIGNvcHkgdG8gY3VycmVudCBidWZmZXIKICAgIHZvaWQgb3BlcmF0b3IoKShjb25zdCBzdGQ6OmluaXRpYWxpemVyX2xpc3Q8VD4mIGxpc3QpIG5vZXhjZXB0IHsKICAgICAgICBhZGQobGlzdCk7CiAgICB9CgogICAgLy8gU2F2ZXMgc3RyaW5nIHRvIHRoZSBmaWxlCiAgICB0ZW1wbGF0ZSA8dHlwZW5hbWUgREFUQT4KICAgIHZvaWQgb3BlcmF0b3I8PChjb25zdCBEQVRBJiBmbXQpIG5vZXhjZXB0IHsKICAgICAgICBfc3RyZWFtIDw8IGZtdDsKICAgIH0KCiAgICAvLyBGbHVzaCB0aGUgYnVmZmVyIHRvIGZpbGUKICAgIHZvaWQgZmx1c2goKSBub2V4Y2VwdCB7CiAgICAgICAgX3N0cmVhbS5mbHVzaCgpOwogICAgfQoKICAgIC8vIENsb3NlcyB0aGUgZmlsZQogICAgdm9pZCBjbG9zZSgpIG5vZXhjZXB0IHsKICAgICAgICBfc3RyZWFtLmNsb3NlKCk7CiAgICB9CgogICAgLy8gU2F2ZXMgdGhlIGNvbnRlbnRzIG9mIERhdGFGaWxlIHVzaW5nIHRocmVlIGRpZmZlcmVudCBtZXRob2RzIGRlcGVuZGluZyBvbiBmOgogICAgLy8KICAgIC8vIElmIGYgdGFrZXMgVCAoVCYgb3IgY29uc3QgVCkgYXMgYW4gYXJndW1lbnQsIGl0IHdpbGwgd3JpdGUgdGhlIHJldHVybiBvZgogICAgLy8gICAgICBmIGZvciBlYWNoIGRhdGEgbWVtYmVyIGluIHRoZSB2ZWN0b3IuCiAgICAvLyBFbHNlIGlmIGYgdGFrZXMgc3RkOjp2ZWN0b3I8VD4mIGFzIGFyZ3VtZW50LCBpdCB3aWxsIHRoZW4gdXNlIGFsbCB0aGUKICAgIC8vICAgICAgaW5mb3JtYXRpb24gY29udGFpbmVkIGluc2lkZSB0aGUgdmVjdG9yIGJlZm9yZSB3cml0aW5nIGYuCiAgICAvLyBFbHNlLCB3cml0ZSB3aGF0IGYgcmV0dXJucy4KICAgIC8vIE5vdGU6IGFzIGxvbmcgYXMgdGhlIHJldHVybiB0eXBlIGlzIGNvbXBhdGlibGUgd2l0aCB0aGUgPDwgb3BlcmF0b3IKICAgIC8vIGZvciBhbGwgb2YgdGhlc2UgY2FzZXMuCiAgICB0ZW1wbGF0ZTx0eXBlbmFtZSBGb3JtYXRGdW5jLCB0eXBlbmFtZS4uLiBBcmdzPgogICAgcmVxdWlyZXMgSGFzT3V0c3RyZWFtT3A8c3RkOjppbnZva2VfcmVzdWx0PEZvcm1hdEZ1bmMoVCwgQXJncy4uLik+PiBvcgogICAgICAgICAgICAgSGFzT3V0c3RyZWFtT3A8c3RkOjppbnZva2VfcmVzdWx0PEZvcm1hdEZ1bmMoc3RkOjp2ZWN0b3I8VD4sIEFyZ3MuLi4pPj4gb3IKICAgICAgICAgICAgIEhhc091dHN0cmVhbU9wPHN0ZDo6aW52b2tlX3Jlc3VsdDxGb3JtYXRGdW5jKEFyZ3MuLi4pPj4KICAgIHZvaWQgc2F2ZShGb3JtYXRGdW5jJiYgZiwgIEFyZ3MmJi4uLiBhcmdzKSBub2V4Y2VwdCB7CiAgICAgICAgaWYobm90IF9vcGVuKSB7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIC8vIEdldERhdGEgYmVjb21lcyBhIHRocmVhZC1zYWZlIG9wZXJhdGlvbgogICAgICAgIC8vIGJlY2F1c2Ugb2YgdGhlIGNvbmN1cnJlbnQgcXVldWUKICAgICAgICAvLyBmb3IgdGhlIGFzeW5jIHZlcnNpb24gdGhpcyBkYXRhIGlzIGxvY2tlZCBpbnRvIHRoZQogICAgICAgIC8vIHRocmVhZCB0aGF0IGlzIHNhdmluZyBhbmQgaXMgY2xlYXJlZCBieSB0aGUgZW5kCiAgICAgICAgYXV0byBkYXRhID0gZ2V0RGF0YSgpOwogICAgICAgIC8vIElmIEZvcm1hdEZ1bmMgdGFrZXMgdGhlIHNpbmdsZSBpdGVtIGFzIGFuIGFyZ3VtZW50CiAgICAgICAgLy8gV2Ugd2lsbCBjYWxsIGYgZm9yIGV2ZXJ5IGl0ZW0gaW4gVGVtcERhdGEKICAgICAgICBpZiBjb25zdGV4cHIgKAogICAgICAgICAgICAgICAgc3RkOjppc19pbnZvY2FibGVfdjxGb3JtYXRGdW5jLCBULCBBcmdzLi4uPiAgICAgICAgIG9yCiAgICAgICAgICAgICAgICBzdGQ6OmlzX2ludm9jYWJsZV92PEZvcm1hdEZ1bmMsIGNvbnN0IFQmLCBBcmdzLi4uPiAgb3IKICAgICAgICAgICAgICAgIHN0ZDo6aXNfaW52b2NhYmxlX3Y8Rm9ybWF0RnVuYywgVCYsIEFyZ3MuLi4+KSB7CiAgICAgICAgICAgIGZvciAoYXV0byBpdGVtIDogZGF0YSkgewogICAgICAgICAgICAgICAgX3N0cmVhbSA8PCBmKGl0ZW0sIHN0ZDo6Zm9yd2FyZDxBcmdzPihhcmdzKS4uLik7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIElmIGl0IHRha2VzIHRoZSBlbnRpcmUgZm9ybWF0LCB0aGVuIGFwcGx5IGl0IHRvIGFsbC4KICAgICAgICB9IGVsc2UgaWYgY29uc3RleHByIChzdGQ6OmlzX2ludm9jYWJsZV92PEZvcm1hdEZ1bmMsCiAgICAgICAgICAgICAgICBzdGQ6OnZlY3RvcjxUPiYsIEFyZ3MuLi4+KSB7CiAgICAgICAgICAgIF9zdHJlYW0gPDwgZihkYXRhLCBzdGQ6OmZvcndhcmQ8QXJncz4oYXJncykuLi4pOwoKICAgICAgICAgICAgLy8gaWYgbm90LCBqdXN0IHNhdmUgd2hhdCBmIHJldHVybnMKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBfc3RyZWFtIDw8IGYoc3RkOjpmb3J3YXJkPEFyZ3M+KGFyZ3MpLi4uKTsKICAgICAgICB9CgogICAgICAgIF9zdHJlYW0uZmx1c2goKTsKICAgIH0KfTsKCi8vIE9wZW5zIHRoZSBmaWxlIHdpdGggbmFtZSBmaWxlX25hbWUuCi8vIEVzc2VudGlhbGx5IHRoZSBzYW1lIGFzIGNhbGxpbmcgRGF0YUZpbGU8VD4oZmlsZV9uYW1lKQp0ZW1wbGF0ZSA8dHlwZW5hbWUgVD4KYXV0byBvcGVuX2ZpbGUoc3RkOjpzdHJpbmdfdmlldyBmaWxlX25hbWUpIG5vZXhjZXB0IHsKICAgIHJldHVybiBzdGQ6Om1ha2Vfc2hhcmVkPERhdGFGaWxlPFQ+PihmaWxlX25hbWUpOwp9CgovLyBPcGVucyB0aGUgZmlsZSB3aXRoIG5hbWUgZmlsZU5hbWUuCi8vIEVzc2VudGlhbGx5IHRoZSBzYW1lIGFzIGNhbGxpbmcgRGF0YUZpbGU8VD4oZmlsZV9uYW1lLCBmLCBhcmdzKQp0ZW1wbGF0ZSA8dHlwZW5hbWUgVCwgdHlwZW5hbWUgSW5pdFdyaXRlRnVuYywgdHlwZW5hbWUuLi4gQXJncz4KYXV0byBvcGVuX2ZpbGUoc3RkOjpzdHJpbmdfdmlldyBmaWxlX25hbWUsCiAgICAgICAgICAgICAgIEluaXRXcml0ZUZ1bmMmJiBmLAogICAgICAgICAgICAgICBBcmdzJiYuLi4gYXJncykgbm9leGNlcHQgewogICAgcmV0dXJuIHN0ZDo6bWFrZV9zaGFyZWQ8RGF0YUZpbGU8VD4+KGZpbGVfbmFtZSwKICAgICAgICAgICAgICAgICAgICAgICBzdGQ6OmZvcndhcmQ8SW5pdFdyaXRlRnVuYz4oZiksCiAgICAgICAgICAgICAgICAgICAgICAgc3RkOjpmb3J3YXJkPEFyZ3M+KGFyZ3MpLi4uKTsKfQoKCgovLyBTYXZlcyB0aGUgY29udGVudHMgb2YgdGhlIERhdGFGaWxlIGFzeW5jaHJvbm91c2x5IHVzaW5nIHRoZSBzYXZlIGZ1bmN0aW9uCi8vIC8vIGRlc2NyaWJlZCBoZXJlLiBTZWUgc2F2ZSBmb3IgbW9yZSBpbmZvcm1hdGlvbi4KLy8gdGVtcGxhdGU8dHlwZW5hbWUgVCwgdHlwZW5hbWUgRm9ybWF0RnVuYywgdHlwZW5hbWUuLi4gQXJncz4KLy8gdm9pZCBhc3luY19zYXZlKERhdGFGaWxlPFQ+JiBmaWxlLCBGb3JtYXRGdW5jJiYgZiwgQXJncyYmLi4uIGFyZ3MpIG5vZXhjZXB0IHsKLy8gICAgIHN0ZDo6cGFja2FnZWRfdGFzazx2b2lkKERhdGFGaWxlPFQ+JiwgRm9ybWF0RnVuYyYmKT4KLy8gICAgICAgICBfcHQoc2F2ZTxULCBGb3JtYXRGdW5jPik7CgovLyAgICAgX3B0KGZpbGUsIHN0ZDo6Zm9yd2FyZDxGb3JtYXRGdW5jPihmKSwgc3RkOjpmb3J3YXJkPEFyZ3M+KGFyZ3MpLi4uKTsKLy8gfQoKc3RydWN0IFNhdmVGaWxlSW5mbyB7CiAgICBkb3VibGUgVGltZTsKICAgIHN0ZDo6c3RyaW5nIEZpbGVOYW1lOwoKICAgIFNhdmVGaWxlSW5mbygpID0gZGVmYXVsdDsKICAgIFNhdmVGaWxlSW5mbyhjb25zdCBkb3VibGUmIHRpbWUsIGNvbnN0IHN0ZDo6c3RyaW5nJiBmbikgOgogICAgICAgIFRpbWUodGltZSksIEZpbGVOYW1lKGZuKSB7fQp9OwoKLy8gQSBzaW1wbGlmaWNhdGlvbiBvZiBEYXRhRmlsZSBmb3IgbG9nZ2luZy4KdXNpbmcgTG9nRmlsZSA9IERhdGFGaWxlPFNhdmVGaWxlSW5mbz47Cgp9ICAvLyBuYW1lc3BhY2UgU0JDUXVlZW5zCiNlbmRpZgoAAAAAAAAAAFocAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAdgkAAAAAAAC+CAAAAAAAAAAAAAAAAPC/"
				]
			]
		},
		{
			"file": "include/sbcqueens-gui/hardware_helpers/GUIManager.hpp",
			"settings":
			{
				"buffer_size": 21169,
				"line_ending": "Unix"
			},
			"undo_stack":
			[
				[
					3,
					1,
					"unindent",
					null,
					"AQAAAKIKAAAAAAAAogoAAAAAAAAEAAAAICAgIA",
					"AQAAAAAAAAABAAAAqgoAAAAAAACqCgAAAAAAAAAAAAAAAPC/"
				],
				[
					13,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AgAAAD4TAAAAAAAAPxMAAAAAAAAAAAAAPxMAAAAAAABHEwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAPhMAAAAAAAA+EwAAAAAAAAAAAAAAAPC/"
				],
				[
					14,
					1,
					"paste",
					null,
					"AQAAAEcTAAAAAAAAYxMAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAARxMAAAAAAABHEwAAAAAAAAAAAAAAAPC/"
				],
				[
					22,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AgAAAGwSAAAAAAAAbRIAAAAAAAAAAAAAbRIAAAAAAAB1EgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAbBIAAAAAAABsEgAAAAAAAAAAAAAAAPC/"
				],
				[
					23,
					1,
					"paste",
					null,
					"AQAAAHUSAAAAAAAAjhIAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAdRIAAAAAAAB1EgAAAAAAAAAAAAAAAPC/"
				],
				[
					31,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AwAAAKMRAAAAAAAApBEAAAAAAAAAAAAApBEAAAAAAACoEQAAAAAAAAAAAACoEQAAAAAAAKwRAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAoxEAAAAAAACjEQAAAAAAAAAAAAAAAPC/"
				],
				[
					32,
					1,
					"paste",
					null,
					"AQAAAKwRAAAAAAAAxxEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAArBEAAAAAAACsEQAAAAAAAAAAAAAAAPC/"
				],
				[
					41,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAADkTgAAI2lmbmRlZiBHVUlNQU5BR0VSX0gKI2RlZmluZSBHVUlNQU5BR0VSX0gKI3ByYWdtYSBvbmNlCgovLyBDIFNURCBpbmNsdWRlcwojaW5jbHVkZSA8bWF0aC5oPgoKLy8gQyAzcmQgcGFydHkgaW5jbHVkZXMKI2luY2x1ZGUgPGltZ3VpLmg+CiNpbmNsdWRlIDxpbXBsb3QuaD4KCi8vIEMrKyBTVEQgaW5jbHVkZXMKI2luY2x1ZGUgPGNzdGRpbnQ+CiNpbmNsdWRlIDxtZW1vcnk+CiNpbmNsdWRlIDxzdHJpbmc+CiNpbmNsdWRlIDx1bm9yZGVyZWRfbWFwPgojaW5jbHVkZSA8dXRpbGl0eT4KI2luY2x1ZGUgPHZlY3Rvcj4KI2luY2x1ZGUgPGZ1bmN0aW9uYWw+CgovLyBDKysgM3JkIHBhcnR5IGluY2x1ZGVzCiNpbmNsdWRlIDxzcGRsb2cvc3BkbG9nLmg+CiNpbmNsdWRlIDx0b21sLmhwcD4KCi8vIE15IGluY2x1ZGVzCiNpbmNsdWRlICJzYmNxdWVlbnMtZ3VpL211bHRpdGhyZWFkaW5nX2hlbHBlcnMvVGhyZWFkTWFuYWdlci5ocHAiCgojaW5jbHVkZSAic2JjcXVlZW5zLWd1aS9oYXJkd2FyZV9oZWxwZXJzL1RlZW5zeUNvbnRyb2xsZXJEYXRhLmhwcCIKI2luY2x1ZGUgInNiY3F1ZWVucy1ndWkvaGFyZHdhcmVfaGVscGVycy9TaVBNQWNxdWlzaXRpb25EYXRhLmhwcCIKI2luY2x1ZGUgInNiY3F1ZWVucy1ndWkvaGFyZHdhcmVfaGVscGVycy9TbG93REFRRGF0YS5ocHAiCgojaW5jbHVkZSAic2JjcXVlZW5zLWd1aS9jYWVuX2hlbHBlci5ocHAiCiNpbmNsdWRlICJzYmNxdWVlbnMtZ3VpL2ltZ3VpX2hlbHBlcnMuaHBwIgojaW5jbHVkZSAic2JjcXVlZW5zLWd1aS9pbXBsb3RfaGVscGVycy5ocHAiCgojaW5jbHVkZSAic2JjcXVlZW5zLWd1aS9ndWlfd2luZG93cy9XaW5kb3cuaHBwIgojaW5jbHVkZSAic2JjcXVlZW5zLWd1aS9ndWlfd2luZG93cy9Db250cm9sTGlzdC5ocHAiCiNpbmNsdWRlICJzYmNxdWVlbnMtZ3VpL2d1aV93aW5kb3dzL0luZGljYXRvckxpc3QuaHBwIgojaW5jbHVkZSAic2JjcXVlZW5zLWd1aS9ndWlfd2luZG93cy9JbmRpY2F0b3JXaW5kb3cuaHBwIgojaW5jbHVkZSAic2JjcXVlZW5zLWd1aS9ndWlfd2luZG93cy9Db250cm9sV2luZG93LmhwcCIKI2luY2x1ZGUgInNiY3F1ZWVucy1ndWkvZ3VpX3dpbmRvd3MvU2lQTUNvbnRyb2xXaW5kb3cuaHBwIgoKbmFtZXNwYWNlIFNCQ1F1ZWVucyB7Cgp0ZW1wbGF0ZTx0eXBlbmFtZSBQaXBlcywgdHlwZW5hbWUgRHJhd0Z1bmM+CmNsYXNzIEdVSU1hbmFnZXIgOiBwdWJsaWMgVGhyZWFkTWFuYWdlcjxQaXBlcz4gewogICAgLy8gVG8gZ2V0IHRoZSBwaXBlIGludGVyZmFjZSB1c2VkIGluIHRoZSBwaXBlcy4KICAgIERyYXdGdW5jIF9kcmF3X2Z1bmM7CgogICAgLy8gSW5kaWNhdG9yUmVjZWl2ZXI8SW5kaWNhdG9yTmFtZXM+IEdlbmVyYWxJbmRpY2F0b3JSZWNlaXZlcjsKICAgIC8vIEluZGljYXRvclJlY2VpdmVyPHVpbnQxNl90PiBNdWx0aVBsb3RSZWNlaXZlcjsKICAgIC8vIEluZGljYXRvclJlY2VpdmVyPHVpbnQ4X3Q+IFNpUE1QbG90UmVjZWl2ZXI7CgogICAgLy8gQ0FFTiBQaXBlCiAgICB1c2luZyBTaVBNUGlwZV90eXBlID0gdHlwZW5hbWUgUGlwZXM6OlNpUE1QaXBlX3R5cGU7CiAgICBTaVBNQWNxdWlzaXRpb25QaXBlRW5kPFNpUE1QaXBlX3R5cGUsIFBpcGVFbmRUeXBlOjpHVUk+IF9zaXBtX3BpcGVfZW5kOwogICAgU2lQTUFjcXVpc2l0aW9uRGF0YSYgX3NpcG1fZG9lOwoKICAgIC8vIFRlZW5zeSBQaXBlCiAgICB1c2luZyBUZWVuc3lQaXBlX3R5cGUgPSB0eXBlbmFtZSBQaXBlczo6VGVlbnN5UGlwZV90eXBlOwogICAgVGVlbnN5Q29udHJvbGxlclBpcGVFbmQ8VGVlbnN5UGlwZV90eXBlLCBQaXBlRW5kVHlwZTo6R1VJPiBfdGVlbnN5X3BpcGVfZW5kOwogICAgVGVlbnN5Q29udHJvbGxlckRhdGEmIF90ZWVuc3lfZG9lOwoKICAgIC8vIFNsb3cgREFRIHBpcGUKICAgIHVzaW5nIFNsb3dEQVFfdHlwZSA9IHR5cGVuYW1lIFBpcGVzOjpTbG93REFRX3R5cGU7CiAgICBTbG93REFRUGlwZUVuZDxTbG93REFRX3R5cGUsIFBpcGVFbmRUeXBlOjpHVUk+IF9zbG93ZGFxX3BpcGVfZW5kOwogICAgU2xvd0RBUURhdGEmIF9zbG93ZGFxX2RvZTsKCiAgICBzdGQ6OnZlY3RvcjxzdGQ6OnVuaXF1ZV9wdHI8V2luZG93SW50ZXJmYWNlPj4gX3dpbmRvd3M7CgogICAgc3RkOjpzdHJpbmcgaV9ydW5fZGlyOwogICAgc3RkOjpzdHJpbmcgaV9ydW5fbmFtZTsKCiAgICBzdGQ6OnZlY3RvcjxzdGQ6OnN0cmluZz4gcnRkX25hbWVzOwogICAgc3RkOjp2ZWN0b3I8c3RkOjpzdHJpbmc+IHNpcG1fbmFtZXM7CgogcHVibGljOgogICAgR1VJTWFuYWdlcihjb25zdCBQaXBlcyYgcCwgRHJhd0Z1bmMmJiBkcmF3X2Z1bmMpIDoKICAgICAgICBUaHJlYWRNYW5hZ2VyPFBpcGVzPihwKSwgX2RyYXdfZnVuY3tkcmF3X2Z1bmN9LAogICAgICAgIC8vIEFsbCBvZiB0aGVzZSBhcmUgdG8gaGF2ZSBhIGxvY2FsIGFuZCBmYXN0ZXIgYWNjZXNzIHRvIHRoZW0KICAgICAgICAvLyBpbnNpZGUgdGhpcyBjbGFzcy4KICAgICAgICBfc2lwbV9waXBlX2VuZChwLlNpUE1QaXBlKSwKICAgICAgICBfc2lwbV9kb2UoX3NpcG1fcGlwZV9lbmQuRGF0YSksCiAgICAgICAgX3RlZW5zeV9waXBlX2VuZChwLlRlZW5zeVBpcGUpLAogICAgICAgIF90ZWVuc3lfZG9lKF90ZWVuc3lfcGlwZV9lbmQuRGF0YSksCiAgICAgICAgX3Nsb3dkYXFfcGlwZV9lbmQocC5TbG93REFRUGlwZSksCiAgICAgICAgX3Nsb3dkYXFfZG9lKF9zbG93ZGFxX3BpcGVfZW5kLkRhdGEpCiAgICB7CiAgICAgICAgX3dpbmRvd3MucHVzaF9iYWNrKAogICAgICAgICAgICBtYWtlX2luZGljYXRvcl93aW5kb3coX3NpcG1fZG9lLCBfdGVlbnN5X2RvZSwgX3Nsb3dkYXFfZG9lKSk7CiAgICAgICAgX3dpbmRvd3MucHVzaF9iYWNrKAogICAgICAgICAgICBtYWtlX3NpcG1fY29udHJvbF93aW5kb3coX3NpcG1fZG9lLCBfdGVlbnN5X2RvZSkpOwogICAgICAgIF93aW5kb3dzLnB1c2hfYmFjaygKICAgICAgICAgICAgbWFrZV9jb250cm9sX3dpbmRvdyhfc2lwbV9kb2UsIF90ZWVuc3lfZG9lLCBfc2xvd2RhcV9kb2UpKTsKCiAgICAgICAgLy8gV2hlbiBjb25maWdfZmlsZSBnb2VzIG91dCBvZiBzY29wZSwgZXZlcnl0aGluZwogICAgICAgIC8vIGluY2x1ZGluZyB0aGUgZGF1Z2h0ZXJzIGdldCBjbGVhcmVkCiAgICAgICAgYXV0byBjb25maWdfZmlsZSA9IHRvbWw6OnBhcnNlX2ZpbGUoImd1aV9zZXR1cC50b21sIik7CiAgICAgICAgZm9yKGF1dG8mIHdpbmRvdzogX3dpbmRvd3MpIHsKICAgICAgICAgICAgd2luZG93LT5pbml0KGNvbmZpZ19maWxlKTsKICAgICAgICB9CgogICAgICAgIGF1dG8gdF9jb25mID0gY29uZmlnX2ZpbGVbIlRlZW5zeSJdOwogICAgICAgIGlmICh0b21sOjphcnJheSogYXJyID0gdF9jb25mWyJSVEROYW1lcyJdLmFzX2FycmF5KCkpIHsKICAgICAgICAgICAgZm9yICh0b21sOjpub2RlJiBlbGVtIDogKmFycikgewogICAgICAgICAgICAgICAgcnRkX25hbWVzLmVtcGxhY2VfYmFjayhlbGVtLnZhbHVlX29yKCIiKSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGlmICh0b21sOjphcnJheSogYXJyID0gdF9jb25mWyJTaVBNTmFtZXMiXS5hc19hcnJheSgpKSB7CiAgICAgICAgICAgIGZvciAodG9tbDo6bm9kZSYgZWxlbSA6ICphcnIpIHsKICAgICAgICAgICAgICAgIHNpcG1fbmFtZXMuZW1wbGFjZV9iYWNrKGVsZW0udmFsdWVfb3IoIiIpKTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgLy8gSWYgdGhleSBjaGFuZ2VkIG9uIHRoaXMgR1VJLCB1cGRhdGUgdGhlIHRocmVhZHMgc28gdGhleSBjYW4KICAgICAgICAvLyBtb2RpZnkgd2hhdGV2ZXIgdGhleSB3YW50IGJhc2VkIG9uIHRoZSBkYXRhIHdlIHNlbnQKICAgICAgICAvLyBXZSBkbyBpdCBpbiB0aGUgaW5pdCBzbyB3ZSBjYW4gbGV0IHRoZW0ga25vdyB3aGF0IGlzIHRoZWlyIGluaXRpYWwKICAgICAgICAvLyBzdGF0ZQogICAgICAgIF90ZWVuc3lfZG9lLkNoYW5nZWQgPSB0cnVlOwogICAgICAgIF90ZWVuc3lfZG9lLkNhbGxiYWNrID0gWyZdKFRlZW5zeUNvbnRyb2xsZXJEYXRhJiB0d2luKSB7CiAgICAgICAgICAgIHR3aW4gPSBfdGVlbnN5X2RvZTsKICAgICAgICB9OwogICAgICAgIF90ZWVuc3lfcGlwZV9lbmQuc2VuZF9pZl9jaGFuZ2VkKCk7CgogICAgICAgIF9zaXBtX2RvZS5DaGFuZ2VkID0gdHJ1ZTsKICAgICAgICBfc2lwbV9kb2UuQ2FsbGJhY2sgPSBbJl0oU2lQTUFjcXVpc2l0aW9uRGF0YSYgdHdpbikgewogICAgICAgICAgICB0d2luID0gX3NpcG1fZG9lOwogICAgICAgIH07CiAgICAgICAgX3NpcG1fcGlwZV9lbmQuc2VuZF9pZl9jaGFuZ2VkKCk7CgogICAgICAgIF9zbG93ZGFxX2RvZS5DaGFuZ2VkID0gdHJ1ZTsKICAgICAgICBfc2xvd2RhcV9kb2UuQ2FsbGJhY2sgPSBbJl0oU2xvd0RBUURhdGEmIHR3aW4pewogICAgICAgICAgICB0d2luID0gX3Nsb3dkYXFfZG9lOwogICAgICAgIH07CiAgICAgICAgX3Nsb3dkYXFfcGlwZV9lbmQuc2VuZF9pZl9jaGFuZ2VkKCk7CiAgICB9CgogICAgfkdVSU1hbmFnZXIoKSB7CiAgICAgICAgX3RlZW5zeV9kb2UuQ2hhbmdlZCA9IHRydWU7CiAgICAgICAgX3RlZW5zeV9kb2UuQ2FsbGJhY2sgPSBbXShUZWVuc3lDb250cm9sbGVyRGF0YSYgc3RhdGUpIHsKICAgICAgICAgICAgc3RhdGUuQ3VycmVudFN0YXRlID0gVGVlbnN5Q29udHJvbGxlclN0YXRlczo6Q2xvc2luZzsKICAgICAgICB9OwoKICAgICAgICAvLyBDQUVOUXVldWUmIGNxID0gc3RkOjpnZXQ8Q0FFTlF1ZXVlJj4oX3F1ZXVlcyk7CiAgICAgICAgX3NpcG1fZG9lLkNoYW5nZWQgPSB0cnVlOwogICAgICAgIF9zaXBtX2RvZS5DYWxsYmFjayA9IFtdKFNpUE1BY3F1aXNpdGlvbkRhdGEmIHN0YXRlKSB7CiAgICAgICAgICAgIHN0YXRlLkN1cnJlbnRTdGF0ZSA9IFNpUE1BY3F1aXNpdGlvbk1hbmFnZXJTdGF0ZXM6OkNsb3Npbmc7CiAgICAgICAgfTsKCiAgICAgICAgLy8gU2xvd0RBUVF1ZXVlJiBvcSA9IHN0ZDo6Z2V0PFNsb3dEQVFRdWV1ZSY+KF9xdWV1ZXMpOwogICAgICAgIF9zbG93ZGFxX2RvZS5DaGFuZ2VkID0gdHJ1ZTsKICAgICAgICBfc2xvd2RhcV9kb2UuQ2FsbGJhY2sgPSBbXShTbG93REFRRGF0YSYgc3RhdGUpIHsKICAgICAgICAgICAgc3RhdGUuUEZFSUZGRVJTdGF0ZSA9IFBGRUlGRkVSU1NHU3RhdGU6OkNsb3Npbmc7CiAgICAgICAgfTsKCiAgICAgICAgLy8gTWFrZSBzdXJlIHRvIHNlbmQgYW55dGhpbmcgYmVmb3JlIGNsb3NpbmcgdGhlIGd1aS4KICAgICAgICBfdGVlbnN5X3BpcGVfZW5kLnNlbmRfaWZfY2hhbmdlZCgpOwogICAgICAgIF9zaXBtX3BpcGVfZW5kLnNlbmRfaWZfY2hhbmdlZCgpOwogICAgICAgIF9zbG93ZGFxX3BpcGVfZW5kLnNlbmRfaWZfY2hhbmdlZCgpOwogICAgfQoKICAgIHZvaWQgb3BlcmF0b3IoKSgpIHsKICAgICAgICAvLyBfZHJhd19mdW5jIG11c3QgaGF2ZSBhIHJlY3VycmluZyBkcmF3IGZ1bmN0aW9uCiAgICAgICAgLy8gYW5kIGEgY2xvc2UgZnVuY3Rpb24uCiAgICAgICAgX2RyYXdfZnVuYyhbJl0oKXsgX2RyYXcoKTsgfSk7CiAgICB9CgogcHJpdmF0ZToKICAgIHZvaWQgX2RyYXcoKSB7CiAgICAgICAgc3RhdGljIGJvb2wgdHJnX29uY2UgPSB0cnVlOwogICAgICAgIGlmICh0cmdfb25jZSkgewogICAgICAgICAgICBJbVBsb3Q6OlN0eWxlQ29sb3JzRGFyaygpOwogICAgICAgICAgICBJbVBsb3Q6OkdldFN0eWxlKCkuVXNlTG9jYWxUaW1lID0gdHJ1ZTsKICAgICAgICAgICAgdHJnX29uY2UgPSBmYWxzZTsKICAgICAgICB9CgogICAgICAgIGZvcihhdXRvJiB3aW5kb3cgOiBfd2luZG93cykgewogICAgICAgICAgICAoKndpbmRvdykoKTsKICAgICAgICB9CgogICAgICAgIC8vLy8gUGxvdHMKICAgICAgICAvLyBJbUd1aTo6QmVnaW4oIk90aGVyIFBsb3RzIik7CgogICAgICAgIC8vIC8vIFRoaXMgZnVuY3RvciB1cGRhdGVzIHRoZSBwbG90cyB2YWx1ZXMgZnJvbSB0aGUgcXVldWUuCiAgICAgICAgLy8gR2VuZXJhbEluZGljYXRvclJlY2VpdmVyKCk7CiAgICAgICAgLy8gTXVsdGlQbG90UmVjZWl2ZXIoKTsKICAgICAgICAvLyBTaVBNUGxvdFJlY2VpdmVyKCk7CgogICAgICAgIC8vIGNvbnN0IGF1dG8gZ19heGlzX2ZsYWdzID0gSW1QbG90QXhpc0ZsYWdzX0F1dG9GaXQ7CiAgICAgICAgLy8gLy8gLy8vIFRlZW5zeS1CTUUyODAgUGxvdHMKICAgICAgICAvLyBpZiAoSW1HdWk6OkJ1dHRvbigiQ2xlYXIiKSkgewogICAgICAgIC8vICAgICBHZW5lcmFsSW5kaWNhdG9yUmVjZWl2ZXIuQ2xlYXJQbG90KAogICAgICAgIC8vICAgICAgICAgSW5kaWNhdG9yTmFtZXM6OkxPQ0FMX0JNRV9IVU1EKTsKICAgICAgICAvLyAgICAgR2VuZXJhbEluZGljYXRvclJlY2VpdmVyLkNsZWFyUGxvdCgKICAgICAgICAvLyAgICAgICAgIEluZGljYXRvck5hbWVzOjpMT0NBTF9CTUVfVEVNUFMpOwogICAgICAgIC8vICAgICBHZW5lcmFsSW5kaWNhdG9yUmVjZWl2ZXIuQ2xlYXJQbG90KAogICAgICAgIC8vICAgICAgICAgSW5kaWNhdG9yTmFtZXM6OkxPQ0FMX0JNRV9QUkVTUyk7CgogICAgICAgIC8vICAgICBHZW5lcmFsSW5kaWNhdG9yUmVjZWl2ZXIuQ2xlYXJQbG90KAogICAgICAgIC8vICAgICAgICAgSW5kaWNhdG9yTmFtZXM6OlBGRUlGRkVSX1BSRVNTKTsKICAgICAgICAvLyAgICAgR2VuZXJhbEluZGljYXRvclJlY2VpdmVyLkNsZWFyUGxvdCgKICAgICAgICAvLyAgICAgICAgIEluZGljYXRvck5hbWVzOjpWQUNVVU1fUFJFU1MpOwogICAgICAgIC8vIH0KCiAgICAgICAgSW1HdWk6OkJlZ2luKCJUZXN0Iik7CiAgICAgICAgaWYgKEltR3VpOjpCZWdpblRhYkJhcigiT3RoZXIgUGxvdHMiKSkgewogICAgICAgICAgICBjb25zdGV4cHIgYXV0byB0ZXN0X3Bsb3QgPSBnZXRfcGxvdDwiSS1WIiwgMiwgMj4oR1VJUGxvdHMpOwogICAgICAgICAgICBQbG90KHRlc3RfcGxvdCwgX3NpcG1fZG9lLklWRGF0YSk7CgogICAgICAgICAgICBJbUd1aTo6RW5kVGFiQmFyKCk7CiAgICAgICAgfQogICAgICAgIEltR3VpOjpFbmQoKTsKCiAgICAgICAgSW1HdWk6OkJlZ2luKCJQbG90IEdyYXBocyIpOwogICAgICAgIGlmIChJbUd1aTo6QmVnaW5UYWJCYXIoIk90aGVyIFBsb3RzIikpIHsKICAgICAgICAgICAgY29uc3RleHByIGF1dG8gZ3JvdXBfemVyb19wbG90ID0gZ2V0X3Bsb3Q8Ikdyb3VwIDAiLCA4LCAxPihHVUlQbG90cyk7CiAgICAgICAgICAgIFBsb3QoZ3JvdXBfemVyb19wbG90LCBfc2lwbV9kb2UuR3JvdXBEYXRhWzBdKTsKCiAgICAgICAgICAgIGNvbnN0ZXhwciBhdXRvIGdyb3VwX29uZV9wbG90ID0gZ2V0X3Bsb3Q8Ikdyb3VwIDEiLCA4LCAxPihHVUlQbG90cyk7CiAgICAgICAgICAgIFBsb3QoZ3JvdXBfb25lX3Bsb3QsIF9zaXBtX2RvZS5Hcm91cERhdGFbMV0pOwoKICAgICAgICAgICAgSW1HdWk6OkVuZFRhYkJhcigpOwogICAgICAgIH0KICAgICAgICBJbUd1aTo6RW5kKCk7CiAgICAgICAgLy8gICAgIC8vIGlmICghX3RlZW5zeV9kb2UuU3lzdGVtUGFyYW1ldGVycy5JblJURE9ubHlNb2RlKSB7CiAgICAgICAgLy8gICAgIC8vICAgICBpZiAoSW1HdWk6OkJlZ2luVGFiSXRlbSgiTG9jYWwgQk1FIikpIHsKICAgICAgICAvLyAgICAgLy8gICAgICAgICBpZiAoSW1QbG90OjpCZWdpblBsb3QoIkxvY2FsIEJNRSIsIEltVmVjMigtMSwgMCkpKSB7CiAgICAgICAgLy8gICAgIC8vICAgICAgICAgICAgIC8vIFdlIHNldHVwIHRoZSBheGlzCiAgICAgICAgLy8gICAgIC8vICAgICAgICAgICAgIEltUGxvdDo6U2V0dXBBeGlzU2NhbGUoSW1BeGlzX1gxLCBJbVBsb3RTY2FsZV9UaW1lKTsKICAgICAgICAvLyAgICAgLy8gICAgICAgICAgICAgSW1QbG90OjpTZXR1cEF4ZXMoInRpbWUgW3NdIiwgIkh1bWlkaXR5IFslXSIsCiAgICAgICAgLy8gICAgIC8vICAgICAgICAgICAgICAgICBnX2F4aXNfZmxhZ3MsIGdfYXhpc19mbGFncyk7CiAgICAgICAgLy8gICAgIC8vICAgICAgICAgICAgIEltUGxvdDo6U2V0dXBBeGlzKEltQXhpc19ZMywgIlByZXNzdXJlIFtQYV0iLAogICAgICAgIC8vICAgICAvLyAgICAgICAgICAgICAgICAgZ19heGlzX2ZsYWdzIHwgSW1QbG90QXhpc0ZsYWdzX09wcG9zaXRlKTsKICAgICAgICAvLyAgICAgLy8gICAgICAgICAgICAgSW1QbG90OjpTZXR1cEF4aXMoSW1BeGlzX1kyLCAiVGVtcGVyYXR1cmUgW2RlZ0NdIiwKICAgICAgICAvLyAgICAgLy8gICAgICAgICAgICAgICAgIGdfYXhpc19mbGFncyB8IEltUGxvdEF4aXNGbGFnc19PcHBvc2l0ZSk7CgogICAgICAgIC8vICAgICAvLyAgICAgICAgICAgICAvLyBUaGlzIG9uZSBkb2VzIG5vdCBuZWVkIGFuIFNldEF4ZXMgYXMgaXQgdGFrZXMgdGhlCiAgICAgICAgLy8gICAgIC8vICAgICAgICAgICAgIC8vIGRlZmF1bHQuCiAgICAgICAgLy8gICAgIC8vICAgICAgICAgICAgIC8vIFRoaXMgZnVuY3RvciBpcyBhbG1vc3QgdGhlIHNhbWUgYXMgY2FsbGluZyBJbVBsb3QKICAgICAgICAvLyAgICAgLy8gICAgICAgICAgICAgR2VuZXJhbEluZGljYXRvclJlY2VpdmVyLnBsb3QoCiAgICAgICAgLy8gICAgIC8vICAgICAgICAgICAgICAgICBJbmRpY2F0b3JOYW1lczo6TE9DQUxfQk1FX0hVTUQsICJIdW1pZGl0eSIpOwoKICAgICAgICAvLyAgICAgLy8gICAgICAgICAgICAgLy8gV2UgbmVlZCB0byBjYWxsIFNldEF4ZXMgYmVmb3JlIEltUGxvdDo6UGxvdExpbmVzCiAgICAgICAgLy8gICAgIC8vICAgICAgICAgICAgIC8vIHRvIGxldCB0aGUgQVBJIGtub3cgdGhlIGF4aXMgb2Ygb3VyIGRhdGEKICAgICAgICAvLyAgICAgLy8gICAgICAgICAgICAgSW1QbG90OjpTZXRBeGVzKEltQXhpc19YMSwgSW1BeGlzX1kyKTsKICAgICAgICAvLyAgICAgLy8gICAgICAgICAgICAgR2VuZXJhbEluZGljYXRvclJlY2VpdmVyLnBsb3QoCiAgICAgICAgLy8gICAgIC8vICAgICAgICAgICAgICAgICBJbmRpY2F0b3JOYW1lczo6TE9DQUxfQk1FX1RFTVBTLCAiVGVtcGVyYXR1cmUiKTsKCiAgICAgICAgLy8gICAgIC8vICAgICAgICAgICAgIEltUGxvdDo6U2V0QXhlcyhJbUF4aXNfWDEsIEltQXhpc19ZMyk7CiAgICAgICAgLy8gICAgIC8vICAgICAgICAgICAgIEdlbmVyYWxJbmRpY2F0b3JSZWNlaXZlci5wbG90KAogICAgICAgIC8vICAgICAvLyAgICAgICAgICAgICAgICAgSW5kaWNhdG9yTmFtZXM6OkxPQ0FMX0JNRV9QUkVTUywgIlByZXNzdXJlIik7CgogICAgICAgIC8vICAgICAvLyAgICAgICAgICAgICBJbVBsb3Q6OkVuZFBsb3QoKTsKICAgICAgICAvLyAgICAgLy8gICAgICAgICB9CgogICAgICAgIC8vICAgICAvLyAgICAgICAgIEltR3VpOjpFbmRUYWJJdGVtKCk7CiAgICAgICAgLy8gICAgIC8vICAgICB9CiAgICAgICAgLy8gICAgIC8vIH0KCiAgICAgICAgLy8gICAgIGlmIChJbUd1aTo6QmVnaW5UYWJJdGVtKCJQcmVzc3VyZXMiKSkgewogICAgICAgIC8vICAgICAgICAgc3RhdGljIEltUGxvdFNjYWxlIHByZXNzX3NjYWxlX2F4aXMgPSBJbVBsb3RTY2FsZV9MaW5lYXI7CiAgICAgICAgLy8gICAgICAgICBJbUd1aTo6Q2hlY2tib3hGbGFncygiTG9nIEF4aXMiLAogICAgICAgIC8vICAgICAgICAgICAgICh1bnNpZ25lZCBpbnQqKSZwcmVzc19zY2FsZV9heGlzLCBJbVBsb3RTY2FsZV9Mb2cxMCk7CiAgICAgICAgLy8gICAgICAgICBpZiAoSW1QbG90OjpCZWdpblBsb3QoIlByZXNzdXJlcyIsIEltVmVjMigtMSwgLTEpKSkgewogICAgICAgIC8vICAgICAgICAgICAgIEltUGxvdDo6U2V0dXBBeGlzU2NhbGUoSW1BeGlzX1kxLCBwcmVzc19zY2FsZV9heGlzKTsKICAgICAgICAvLyAgICAgICAgICAgICBJbVBsb3Q6OlNldHVwQXhpc1NjYWxlKEltQXhpc19YMSwgSW1QbG90U2NhbGVfVGltZSk7CiAgICAgICAgLy8gICAgICAgICAgICAgSW1QbG90OjpTZXR1cEF4ZXMoInRpbWUgW3NdIiwgIlAgW0Jhcl0iLAogICAgICAgIC8vICAgICAgICAgICAgICAgICBnX2F4aXNfZmxhZ3MsIGdfYXhpc19mbGFncyk7CgogICAgICAgIC8vICAgICAgICAgICAgIEdlbmVyYWxJbmRpY2F0b3JSZWNlaXZlci5wbG90KAogICAgICAgIC8vICAgICAgICAgICAgICAgICBJbmRpY2F0b3JOYW1lczo6UEZFSUZGRVJfUFJFU1MsICJQRkVJRkZFUiIpOwogICAgICAgIC8vICAgICAgICAgICAgIEdlbmVyYWxJbmRpY2F0b3JSZWNlaXZlci5wbG90KAogICAgICAgIC8vICAgICAgICAgICAgICAgICBJbmRpY2F0b3JOYW1lczo6VkFDVVVNX1BSRVNTLCAiVmFjdXVtIGxpbmUiKTsKCiAgICAgICAgLy8gICAgICAgICAgICAgSW1QbG90OjpFbmRQbG90KCk7CiAgICAgICAgLy8gICAgICAgICB9CgogICAgICAgIC8vICAgICAgICAgSW1HdWk6OkVuZFRhYkl0ZW0oKTsKICAgICAgICAvLyAgICAgfQoKICAgICAgICAvLyAgICAgSW1HdWk6OkVuZFRhYkJhcigpOwogICAgICAgIC8vIH0KCiAgICAgICAgLy8gSW1HdWk6OkVuZCgpOwogICAgICAgIC8vIC8vIC8vLyAhVGVlbnN5LUJNRTI4MCBQbG90cwogICAgICAgIC8vIC8vIC8vLy8KICAgICAgICAvLyAvLyAvLy8gVGVlbnN5LVBJRCBQbG90cwogICAgICAgIC8vIEltR3VpOjpCZWdpbigiVGVlbnN5LVBJRCBQbG90cyIpOwoKICAgICAgICAvLyBpZiAoSW1HdWk6OkJ1dHRvbigiQ2xlYXIiKSkgewogICAgICAgIC8vICAgICBmb3IgKHVpbnQxNl90IGkgPSAwOyBpIDwgX3RlZW5zeV9kb2UuU3lzdGVtUGFyYW1ldGVycy5OdW1SdGRCb2FyZHM7IGkrKykgewogICAgICAgIC8vICAgICAgICAgZm9yICh1aW50MTZfdCBqID0gMDsgaiA8IF90ZWVuc3lfZG9lLlN5c3RlbVBhcmFtZXRlcnMuTnVtUnRkc1BlckJvYXJkOyBqKyspIHsKICAgICAgICAvLyAgICAgICAgICAgICB1aW50MTZfdCBrID0gc3RhdGljX2Nhc3Q8dWludDE2X3Q+KAogICAgICAgIC8vICAgICAgICAgICAgICAgICBpKl90ZWVuc3lfZG9lLlN5c3RlbVBhcmFtZXRlcnMuTnVtUnRkc1BlckJvYXJkICtqKTsKCiAgICAgICAgLy8gICAgICAgICAgICAgTXVsdGlQbG90UmVjZWl2ZXIuQ2xlYXJQbG90KGspOwogICAgICAgIC8vICAgICAgICAgfQogICAgICAgIC8vICAgICB9CiAgICAgICAgLy8gfQoKICAgICAgICAvLyBpZiAoIV90ZWVuc3lfZG9lLlN5c3RlbVBhcmFtZXRlcnMuSW5SVERPbmx5TW9kZSkgewogICAgICAgIC8vICAgICBpZiAoSW1QbG90OjpCZWdpblBsb3QoIlBJRHMiLCBJbVZlYzIoLTEsIDApKSkgewogICAgICAgIC8vICAgICAgICAgSW1QbG90OjpTZXR1cEF4ZXMoInRpbWUgW3NdIiwgIkN1cnJlbnQgW0FdIiwKICAgICAgICAvLyAgICAgICAgICAgICBnX2F4aXNfZmxhZ3MsIGdfYXhpc19mbGFncyk7CiAgICAgICAgLy8gICAgICAgICBJbVBsb3Q6OlNldHVwQXhpc1NjYWxlKEltQXhpc19YMSwgSW1QbG90U2NhbGVfVGltZSk7CgogICAgICAgIC8vICAgICAgICAgR2VuZXJhbEluZGljYXRvclJlY2VpdmVyLnBsb3QoSW5kaWNhdG9yTmFtZXM6OlBFTFRJRVJfQ1VSUiwgIkN1cnJlbnQiKTsKCiAgICAgICAgLy8gICAgICAgICBJbVBsb3Q6OkVuZFBsb3QoKTsKICAgICAgICAvLyAgICAgfQogICAgICAgIC8vIH0KCiAgICAgICAgLy8gc3RhdGljIEltUGxvdFJlY3QgcmVjdCgwLCAxLCAwLCAzMjApOwogICAgICAgIC8vIHN0YXRpYyBJbVBsb3RTY2FsZSBydGRfc2NhbGVfYXhpcyA9IEltUGxvdFNjYWxlX0xpbmVhcjsKICAgICAgICAvLyBJbUd1aTo6Q2hlY2tib3hGbGFncygiTG9nIEF4aXMiLAogICAgICAgIC8vICAgICAmcnRkX3NjYWxlX2F4aXMsIEltUGxvdFNjYWxlX0xvZzEwKTsKCiAgICAgICAgLy8gaWYgKEltUGxvdDo6QmVnaW5QbG90KCJSVERzIiwgSW1WZWMyKC0xLCAwKSkpIHsKICAgICAgICAvLyAgICAgSW1QbG90OjpTZXR1cEF4aXNTY2FsZShJbUF4aXNfWTEsIHJ0ZF9zY2FsZV9heGlzKTsKICAgICAgICAvLyAgICAgSW1QbG90OjpTZXR1cEF4aXNTY2FsZShJbUF4aXNfWDEsIEltUGxvdFNjYWxlX1RpbWUpOwogICAgICAgIC8vICAgICBJbVBsb3Q6OlNldHVwQXhlcygidGltZSBbc10iLCAiVGVtcGVyYXR1cmUgW0tdIiwKICAgICAgICAvLyAgICAgICAgIGdfYXhpc19mbGFncywgZ19heGlzX2ZsYWdzKTsKCiAgICAgICAgLy8gICAgIGZvciAodWludDE2X3QgaSA9IDA7IGkgPCBfdGVlbnN5X2RvZS5TeXN0ZW1QYXJhbWV0ZXJzLk51bVJ0ZEJvYXJkczsgaSsrKSB7CiAgICAgICAgLy8gICAgICAgICBmb3IgKHVpbnQxNl90IGogPSAwOyBqIDwgX3RlZW5zeV9kb2UuU3lzdGVtUGFyYW1ldGVycy5OdW1SdGRzUGVyQm9hcmQ7IGorKykgewogICAgICAgIC8vICAgICAgICAgICAgIHVpbnQxNl90IGsgPSBzdGF0aWNfY2FzdDx1aW50MTZfdD4oCiAgICAgICAgLy8gICAgICAgICAgICAgICAgIGkqX3RlZW5zeV9kb2UuU3lzdGVtUGFyYW1ldGVycy5OdW1SdGRzUGVyQm9hcmQgK2opOwoKICAgICAgICAvLyAgICAgICAgICAgICBpZiAoayA8IHJ0ZF9uYW1lcy5zaXplKCkpIHsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgTXVsdGlQbG90UmVjZWl2ZXIucGxvdChrLCBydGRfbmFtZXNba10pOwogICAgICAgIC8vICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgIE11bHRpUGxvdFJlY2VpdmVyLnBsb3Qoaywgc3RkOjp0b19zdHJpbmcoaykpOwogICAgICAgIC8vICAgICAgICAgICAgIH0KICAgICAgICAvLyAgICAgICAgIH0KICAgICAgICAvLyAgICAgfQoKICAgICAgICAvLyAgICAgcmVjdCA9IEltUGxvdDo6R2V0UGxvdExpbWl0cygpOwoKICAgICAgICAvLyAgICAgSW1QbG90OjpFbmRQbG90KCk7CiAgICAgICAgLy8gfQoKICAgICAgICAvLyBzdGF0aWMgZmxvYXQgcnRkX3pvb21fbXVsdGlwbGllclsyXSA9IHswLjB9OwogICAgICAgIC8vIEltR3VpOjpTbGlkZXJGbG9hdDIoIlpvb20gJSIsIHJ0ZF96b29tX211bHRpcGxpZXIsIDAuMGYsIDEuMGYpOwogICAgICAgIC8vIC8vIEltR3VpOjpWU2xpZGVyRmxvYXQoIlpvb20gWSUiLCBJbVZlYzIoMTgsIDE2MCksJnlfcnRkX3pvb21fbXVsdGlwbGllciwgMC4wZiwgMS4wZik7CiAgICAgICAgLy8gLy8gSW1HdWk6OlNhbWVMaW5lKCk7CgogICAgICAgIC8vIGlmIChJbVBsb3Q6OkJlZ2luUGxvdCgiUlREIFpvb20iLCBJbVZlYzIoLTEsIDApKSkgewogICAgICAgIC8vICAgICBJbVBsb3Q6OlNldHVwQXhpc1NjYWxlKEltQXhpc19ZMSwgcnRkX3NjYWxlX2F4aXMpOwogICAgICAgIC8vICAgICBJbVBsb3Q6OlNldHVwQXhpc1NjYWxlKEltQXhpc19YMSwgSW1QbG90U2NhbGVfVGltZSk7CiAgICAgICAgLy8gICAgIEltUGxvdDo6U2V0dXBBeGVzKCJ0aW1lIFtzXSIsICJUZW1wZXJhdHVyZSBbS10iLAogICAgICAgIC8vICAgICAgICAgZ19heGlzX2ZsYWdzLCBnX2F4aXNfZmxhZ3MpOwogICAgICAgIC8vICAgICBJbVBsb3Q6OlNldHVwQXhlc0xpbWl0cygKICAgICAgICAvLyAgICAgICAgIHN0YXRpY19jYXN0PGRvdWJsZT4ocnRkX3pvb21fbXVsdGlwbGllclswXSkqKHJlY3QuWC5NaW4KICAgICAgICAvLyAgICAgICAgICAgICArIHJlY3QuWC5NYXgpICsgcmVjdC5YLk1pbiwKICAgICAgICAvLyAgICAgICAgIHJlY3QuWC5NYXgsCiAgICAgICAgLy8gICAgICAgICBzdGF0aWNfY2FzdDxkb3VibGU+KHJ0ZF96b29tX211bHRpcGxpZXJbMV0pKihyZWN0LlkuTWluCiAgICAgICAgLy8gICAgICAgICAgICAgKyByZWN0LlkuTWF4KSArIHJlY3QuWS5NaW4sCiAgICAgICAgLy8gICAgICAgICByZWN0LlkuTWF4LCBJbUd1aUNvbmRfQWx3YXlzKTsKCiAgICAgICAgLy8gICAgIGZvciAodWludDE2X3QgaSA9IDA7IGkgPCBfdGVlbnN5X2RvZS5TeXN0ZW1QYXJhbWV0ZXJzLk51bVJ0ZEJvYXJkczsgaSsrKSB7CiAgICAgICAgLy8gICAgICAgICBmb3IgKHVpbnQxNl90IGogPSAwOyBqIDwgX3RlZW5zeV9kb2UuU3lzdGVtUGFyYW1ldGVycy5OdW1SdGRzUGVyQm9hcmQ7IGorKykgewogICAgICAgIC8vICAgICAgICAgICAgIHVpbnQxNl90IGsgPSBzdGF0aWNfY2FzdDx1aW50MTZfdD4oCiAgICAgICAgLy8gICAgICAgICAgICAgICAgIGkqX3RlZW5zeV9kb2UuU3lzdGVtUGFyYW1ldGVycy5OdW1SdGRzUGVyQm9hcmQgK2opOwoKICAgICAgICAvLyAgICAgICAgICAgICBpZiAoayA8IHJ0ZF9uYW1lcy5zaXplKCkpIHsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgTXVsdGlQbG90UmVjZWl2ZXIucGxvdChrLCBydGRfbmFtZXNba10pOwogICAgICAgIC8vICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgIE11bHRpUGxvdFJlY2VpdmVyLnBsb3Qoaywgc3RkOjp0b19zdHJpbmcoaykpOwogICAgICAgIC8vICAgICAgICAgICAgIH0KICAgICAgICAvLyAgICAgICAgIH0KICAgICAgICAvLyAgICAgfQoKICAgICAgICAvLyAgICAgSW1QbG90OjpFbmRQbG90KCk7CiAgICAgICAgLy8gfQoKICAgICAgICAvLyBJbUd1aTo6RW5kKCk7CiAgICAgICAgLy8gLy8vICFUZWVuc3ktUElEIFBsb3RzCiAgICAgICAgLy8gLy8vLwogICAgICAgIC8vIC8vLyBTaVBNIFBsb3RzCgoKICAgICAgICAvLyBJbUd1aTo6QmVnaW4oIlNpUE1zIFBsb3RzIik7CgogICAgICAgIC8vIGlmIChJbUd1aTo6QmVnaW5UYWJCYXIoIlNpUE1zIFBsb3RzIikpIHsKICAgICAgICAvLyAgICAgaWYgKEltR3VpOjpCZWdpblRhYkl0ZW0oIlNpUE0gV2F2ZWZvcm1zIikpIHsKICAgICAgICAvLyAgICAgICAgIGNvbnN0IHNpemVfdCBrQ0hwZXJHcm91cCA9IDg7CiAgICAgICAgLy8gICAgICAgICBjb25zdCBhdXRvJiBtb2RlbF9jb25zdGFudHMKICAgICAgICAvLyAgICAgICAgICAgICA9IENBRU5EaWdpdGl6ZXJNb2RlbHNDb25zdGFudHNNYXAuYXQoX3NpcG1fZG9lLk1vZGVsKTsKICAgICAgICAvLyAgICAgICAgIC8vIGNvbnN0IGF1dG8gbnVtZ3JvdXBzID0gbW9kZWxfY29uc3RhbnRzLk51bWJlck9mR3JvdXBzID4gMCA/CiAgICAgICAgLy8gICAgICAgICAvLyAgICAgbW9kZWxfY29uc3RhbnRzLk51bWJlck9mR3JvdXBzIDogMTsKICAgICAgICAvLyAgICAgICAgIC8vIGNvbnN0IGludCBudW1jaHBlcmdyb3VwID0gbW9kZWxfY29uc3RhbnRzLk51bUNoYW5uZWxzIC8gbnVtZ3JvdXBzOwogICAgICAgIC8vICAgICAgICAgLy8gTGV0J3Mgd29yayBvbiBjb25zdCBhdXRvJiBiZWNhdXNlIHdlIHJlYWxseSBkbyBub3Qgd2FudCB0byBjaGFuZ2UKICAgICAgICAvLyAgICAgICAgIC8vIGFueXRoaW5nIGluIHRoZXNlIG5leHQgbGluZXMKICAgICAgICAvLyAgICAgICAgIGlmIChJbVBsb3Q6OkJlZ2luUGxvdCgiIyNTaVBNV2F2ZWZvcm1zIiwgSW1WZWMyKC0xLCAtMSksCiAgICAgICAgLy8gICAgICAgICAgICAgSW1QbG90RmxhZ3NfTm9UaXRsZSkpIHsKICAgICAgICAvLyAgICAgICAgICAgICBJbVBsb3Q6OlNldHVwQXhlcygidGltZSBbbnNdIiwgIkNvdW50cyIsIGdfYXhpc19mbGFncywKICAgICAgICAvLyAgICAgICAgICAgICAgICAgZ19heGlzX2ZsYWdzKTsKICAgICAgICAvLyAgICAgICAgICAgICBmb3IgKGNvbnN0IGF1dG8mIGdwIDogX3NpcG1fZG9lLkdyb3VwQ29uZmlncykgewogICAgICAgIC8vICAgICAgICAgICAgICAgICAvLyBXZSBuZWVkIHRoZSBudW1iZXIgb2YgZ3JvdXBzIGVhY2ggbW9kZWwgaGFzCgogICAgICAgIC8vICAgICAgICAgICAgICAgICAvLyBJZiBncm91cHMgaXMgaGlnaGVyIHRoYW4gMCwgdGhlbiBpdCBoYXMgZ3JvdXBzCiAgICAgICAgLy8gICAgICAgICAgICAgICAgIC8vIG90aGVyd2lzZSBlYWNoIGdyb3VwIGlzIGEgY2hhbm5lbAogICAgICAgIC8vICAgICAgICAgICAgICAgICBpZiAobW9kZWxfY29uc3RhbnRzLk51bWJlck9mR3JvdXBzID4gMCkgewogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgLy8gRWFjaCBtYXNrIGNvbnRhaW5zIGlmIHRoZSBjaGFubmVsIGlzIGVuYWJsZWQKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGF1dG8mIG1hc2sgPSBncC5BY3F1aXNpdGlvbk1hc2s7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAvLyBUaGVyZSBpcyBhbHdheXMgYXQgbWF4IDggY2hhbm5lbHMuCiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBmb3IgKHN0ZDo6c2l6ZV90IGkgPSAwOyBpIDwga0NIcGVyR3JvdXA7IGkrKykgewogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtYXNrICYgKDEgPDwgaSkpIHsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU2lQTVBsb3RSZWNlaXZlci5wbG90KAogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0aWNfY2FzdDx1aW50OF90PihrQ0hwZXJHcm91cCpncC5OdW1iZXIgKyBpKSwKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIkdQICIgKyAgc3RkOjp0b19zdHJpbmcoZ3AuTnVtYmVyKQogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICArICJDSCAiICsgc3RkOjp0b19zdHJpbmcoaSksCiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBsb3RTdHlsZTo6TGluZSwKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ1ZSk7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIEltUGxvdDo6RW5kUGxvdCgpOwogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAvLyAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIFNpUE1QbG90UmVjZWl2ZXIucGxvdChncC5OdW1iZXIsCiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgIkNIICIgKyBzdGQ6OnRvX3N0cmluZyhncC5OdW1iZXIpLAogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgIFBsb3RTdHlsZTo6TGluZSwKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICB0cnVlKTsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgfQogICAgICAgIC8vICAgICAgICAgICAgIH0KICAgICAgICAvLyAgICAgICAgICAgICBJbVBsb3Q6OkVuZFBsb3QoKTsKICAgICAgICAvLyAgICAgICAgIH0KICAgICAgICAvLyAgICAgICAgIEltR3VpOjpFbmRUYWJJdGVtKCk7CiAgICAgICAgLy8gICAgIH0KCiAgICAgICAgLy8gICAgIGlmIChJbUd1aTo6QmVnaW5UYWJJdGVtKCJJLVYiKSkgewogICAgICAgIC8vICAgICAgICAgc3RhdGljIEltUGxvdFNjYWxlIGN1cnJfc2NhbGVfYXhpcyA9IEltUGxvdFNjYWxlX0xpbmVhcjsKICAgICAgICAvLyAgICAgICAgIEltR3VpOjpDaGVja2JveEZsYWdzKCJDdXJyZW50IExvZyBBeGlzIiwKICAgICAgICAvLyAgICAgICAgICAgICAmY3Vycl9zY2FsZV9heGlzLCBJbVBsb3RTY2FsZV9Mb2cxMCk7CgogICAgICAgIC8vICAgICAgICAgaWYgKEltUGxvdDo6QmVnaW5QbG90KCJWb2x0YWdlIiwgSW1WZWMyKC0xLCAtMSksCiAgICAgICAgLy8gICAgICAgICAgICAgSW1QbG90RmxhZ3NfTm9UaXRsZSkpIHsKICAgICAgICAvLyAgICAgICAgICAgICBJbVBsb3Q6OlNldHVwQXhpc1NjYWxlKEltQXhpc19YMSwgSW1QbG90U2NhbGVfVGltZSk7CiAgICAgICAgLy8gICAgICAgICAgICAgSW1QbG90OjpTZXR1cEF4aXNGb3JtYXQoSW1BeGlzX1kxLCAiJTIuN2YiKTsKICAgICAgICAvLyAgICAgICAgICAgICBJbVBsb3Q6OlNldHVwQXhlcygidGltZSBbRVNUXSIsICJWb2x0YWdlIFtWXSIsIGdfYXhpc19mbGFncywKICAgICAgICAvLyAgICAgICAgICAgICAgICAgZ19heGlzX2ZsYWdzKTsKICAgICAgICAvLyAgICAgICAgICAgICBJbVBsb3Q6OlNldHVwQXhpcyhJbUF4aXNfWTIsICJDdXJyZW50IFt1QV0iLAogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgZ19heGlzX2ZsYWdzIHwgSW1QbG90QXhpc0ZsYWdzX09wcG9zaXRlKTsKICAgICAgICAvLyAgICAgICAgICAgICBJbVBsb3Q6OlNldHVwQXhpc1NjYWxlKEltQXhpc19ZMiwgY3Vycl9zY2FsZV9heGlzKTsKCiAgICAgICAgLy8gICAgICAgICAgICAgR2VuZXJhbEluZGljYXRvclJlY2VpdmVyLnBsb3QoSW5kaWNhdG9yTmFtZXM6OkRNTV9WT0xUQUdFLAogICAgICAgIC8vICAgICAgICAgICAgICAgICAiVm9sdGFnZSIpOwoKICAgICAgICAvLyAgICAgICAgICAgICBJbVBsb3Q6OlNldEF4ZXMoSW1BeGlzX1gxLCBJbUF4aXNfWTIpOwogICAgICAgIC8vICAgICAgICAgICAgIEdlbmVyYWxJbmRpY2F0b3JSZWNlaXZlci5wbG90KEluZGljYXRvck5hbWVzOjpQSUNPX0NVUlJFTlQsCiAgICAgICAgLy8gICAgICAgICAgICAgICAgICJDdXJyZW50Iik7CgogICAgICAgIC8vICAgICAgICAgICAgIEltUGxvdDo6RW5kUGxvdCgpOwogICAgICAgIC8vICAgICAgICAgfQogICAgICAgIC8vICAgICAgICAgSW1HdWk6OkVuZFRhYkl0ZW0oKTsKICAgICAgICAvLyAgICAgfQoKICAgICAgICAvLyAgICAgaWYgKEltR3VpOjpCZWdpblRhYkl0ZW0oIkctViIpKSB7CiAgICAgICAgLy8gICAgICAgICBpZiAoSW1HdWk6OkJ1dHRvbigiQ2xlYXIiKSkgewogICAgICAgIC8vICAgICAgICAgICAgIEdlbmVyYWxJbmRpY2F0b3JSZWNlaXZlci5DbGVhclBsb3QoCiAgICAgICAgLy8gICAgICAgICAgICAgICAgIEluZGljYXRvck5hbWVzOjpHQUlOX1ZTX1ZPTFRBR0UpOwogICAgICAgIC8vICAgICAgICAgfQoKICAgICAgICAvLyAgICAgICAgIGlmIChJbVBsb3Q6OkJlZ2luUGxvdCgiVm9sdGFnZSIsIEltVmVjMigtMSwgLTEpLAogICAgICAgIC8vICAgICAgICAgICAgIEltUGxvdEZsYWdzX05vVGl0bGUpKSB7CiAgICAgICAgLy8gICAgICAgICAgICAgSW1QbG90OjpTZXR1cEF4ZXMoIlZvbHRhZ2UgW1ZdIiwgIkdhaW4gW2FyYl0iLCBnX2F4aXNfZmxhZ3MsCiAgICAgICAgLy8gICAgICAgICAgICAgICAgIGdfYXhpc19mbGFncyk7CgogICAgICAgIC8vICAgICAgICAgICAgIEdlbmVyYWxJbmRpY2F0b3JSZWNlaXZlci5wbG90KAogICAgICAgIC8vICAgICAgICAgICAgICAgICBJbmRpY2F0b3JOYW1lczo6R0FJTl9WU19WT0xUQUdFLAogICAgICAgIC8vICAgICAgICAgICAgICAgICAiR2FpbiIsIFBsb3RTdHlsZTo6U2NhdHRlcik7CgogICAgICAgIC8vICAgICAgICAgICAgIEltUGxvdDo6RW5kUGxvdCgpOwogICAgICAgIC8vICAgICAgICAgfQogICAgICAgIC8vICAgICAgICAgSW1HdWk6OkVuZFRhYkl0ZW0oKTsKICAgICAgICAvLyAgICAgfQogICAgICAgIC8vICAgICBJbUd1aTo6RW5kVGFiQmFyKCk7CiAgICAgICAgLy8gfQoKICAgICAgICAvLyBJbUd1aTo6RW5kKCk7CgogICAgICAgIC8vIElmIHRoZXkgY2hhbmdlZCBvbiB0aGlzIEdVSSwgdXBkYXRlIHRoZSB0aHJlYWRzIHNvIHRoZXkgY2FuCiAgICAgICAgLy8gbW9kaWZ5IHdoYXRldmVyIHRoZXkgd2FudCBiYXNlZCBvbiB0aGUgZGF0YSB3ZSBzZW50CiAgICAgICAgX3RlZW5zeV9waXBlX2VuZC5zZW5kX2lmX2NoYW5nZWQoKTsKICAgICAgICBfc2lwbV9waXBlX2VuZC5zZW5kX2lmX2NoYW5nZWQoKTsKICAgICAgICBfc2xvd2RhcV9waXBlX2VuZC5zZW5kX2lmX2NoYW5nZWQoKTsKCiAgICAgICAgLy8gVXBkYXRlIGxvY2FsIGRhdGEgZnJvbSB0aHJlYWRzCiAgICAgICAgc3RhdGljIFRlZW5zeUNvbnRyb2xsZXJEYXRhIHRlZW5zeV90aHJlYWRfZGF0YTsKICAgICAgICBpZiAoX3RlZW5zeV9waXBlX2VuZC5yZXRyaWV2ZSh0ZWVuc3lfdGhyZWFkX2RhdGEpKSB7CiAgICAgICAgICAgIF90ZWVuc3lfZG9lID0gdGVlbnN5X3RocmVhZF9kYXRhOwogICAgICAgIH0KCiAgICAgICAgc3RhdGljIFNpUE1BY3F1aXNpdGlvbkRhdGEgc2lwbV90aHJlYWRfZGF0YTsKICAgICAgICBpZiAoX3NpcG1fcGlwZV9lbmQucmV0cmlldmUoc2lwbV90aHJlYWRfZGF0YSkpIHsKICAgICAgICAgICAgX3NpcG1fZG9lID0gc2lwbV90aHJlYWRfZGF0YTsKICAgICAgICB9CgogICAgICAgIHN0YXRpYyBTbG93REFRRGF0YSBzbG93ZGFxX3RocmVhZF9kYXRhOwogICAgICAgIGlmIChfc2xvd2RhcV9waXBlX2VuZC5yZXRyaWV2ZShzbG93ZGFxX3RocmVhZF9kYXRhKSkgewogICAgICAgICAgICBfc2xvd2RhcV9kb2UgPSBzbG93ZGFxX3RocmVhZF9kYXRhOwogICAgICAgIH0KICAgIH0KfTsKCnRlbXBsYXRlPHR5cGVuYW1lIFBpcGVzLCB0eXBlbmFtZSBEcmF3RnVuYz4KYXV0byBtYWtlX2d1aV9tYW5hZ2VyKGNvbnN0IFBpcGVzJiBwLCBEcmF3RnVuYyYmIGRmKSB7CiAgICByZXR1cm4gc3RkOjptYWtlX3VuaXF1ZTxHVUlNYW5hZ2VyPFBpcGVzLCBEcmF3RnVuYz4+KHAsCiAgICAgICAgICAgIHN0ZDo6Zm9yd2FyZDxEcmF3RnVuYz4oZGYpKTsKfQoKfSAgLy8gbmFtZXNwYWNlIFNCQ1F1ZWVucwojZW5kaWYKAAAAAAAAAAAXTwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA5g8AAAAAAADmDwAAAAAAAAAAAAAAAPC/"
				],
				[
					42,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAAXTwAAI2lmbmRlZiBHVUlNQU5BR0VSX0gKI2RlZmluZSBHVUlNQU5BR0VSX0gKI3ByYWdtYSBvbmNlCgovLyBDIFNURCBpbmNsdWRlcwojaW5jbHVkZSA8bWF0aC5oPgoKLy8gQyAzcmQgcGFydHkgaW5jbHVkZXMKI2luY2x1ZGUgPGltZ3VpLmg+CiNpbmNsdWRlIDxpbXBsb3QuaD4KCi8vIEMrKyBTVEQgaW5jbHVkZXMKI2luY2x1ZGUgPGNzdGRpbnQ+CiNpbmNsdWRlIDxtZW1vcnk+CiNpbmNsdWRlIDxzdHJpbmc+CiNpbmNsdWRlIDx1bm9yZGVyZWRfbWFwPgojaW5jbHVkZSA8dXRpbGl0eT4KI2luY2x1ZGUgPHZlY3Rvcj4KI2luY2x1ZGUgPGZ1bmN0aW9uYWw+CgovLyBDKysgM3JkIHBhcnR5IGluY2x1ZGVzCiNpbmNsdWRlIDxzcGRsb2cvc3BkbG9nLmg+CiNpbmNsdWRlIDx0b21sLmhwcD4KCi8vIE15IGluY2x1ZGVzCiNpbmNsdWRlICJzYmNxdWVlbnMtZ3VpL211bHRpdGhyZWFkaW5nX2hlbHBlcnMvVGhyZWFkTWFuYWdlci5ocHAiCgojaW5jbHVkZSAic2JjcXVlZW5zLWd1aS9oYXJkd2FyZV9oZWxwZXJzL1RlZW5zeUNvbnRyb2xsZXJEYXRhLmhwcCIKI2luY2x1ZGUgInNiY3F1ZWVucy1ndWkvaGFyZHdhcmVfaGVscGVycy9TaVBNQWNxdWlzaXRpb25EYXRhLmhwcCIKI2luY2x1ZGUgInNiY3F1ZWVucy1ndWkvaGFyZHdhcmVfaGVscGVycy9TbG93REFRRGF0YS5ocHAiCgojaW5jbHVkZSAic2JjcXVlZW5zLWd1aS9jYWVuX2hlbHBlci5ocHAiCiNpbmNsdWRlICJzYmNxdWVlbnMtZ3VpL2ltZ3VpX2hlbHBlcnMuaHBwIgojaW5jbHVkZSAic2JjcXVlZW5zLWd1aS9pbXBsb3RfaGVscGVycy5ocHAiCgojaW5jbHVkZSAic2JjcXVlZW5zLWd1aS9ndWlfd2luZG93cy9XaW5kb3cuaHBwIgojaW5jbHVkZSAic2JjcXVlZW5zLWd1aS9ndWlfd2luZG93cy9Db250cm9sTGlzdC5ocHAiCiNpbmNsdWRlICJzYmNxdWVlbnMtZ3VpL2d1aV93aW5kb3dzL0luZGljYXRvckxpc3QuaHBwIgojaW5jbHVkZSAic2JjcXVlZW5zLWd1aS9ndWlfd2luZG93cy9JbmRpY2F0b3JXaW5kb3cuaHBwIgojaW5jbHVkZSAic2JjcXVlZW5zLWd1aS9ndWlfd2luZG93cy9Db250cm9sV2luZG93LmhwcCIKI2luY2x1ZGUgInNiY3F1ZWVucy1ndWkvZ3VpX3dpbmRvd3MvU2lQTUNvbnRyb2xXaW5kb3cuaHBwIgoKbmFtZXNwYWNlIFNCQ1F1ZWVucyB7Cgp0ZW1wbGF0ZTx0eXBlbmFtZSBQaXBlcywgdHlwZW5hbWUgRHJhd0Z1bmM+CmNsYXNzIEdVSU1hbmFnZXIgOiBwdWJsaWMgVGhyZWFkTWFuYWdlcjxQaXBlcz4gewogICAgLy8gVG8gZ2V0IHRoZSBwaXBlIGludGVyZmFjZSB1c2VkIGluIHRoZSBwaXBlcy4KICAgIERyYXdGdW5jIF9kcmF3X2Z1bmM7CgogICAgLy8gSW5kaWNhdG9yUmVjZWl2ZXI8SW5kaWNhdG9yTmFtZXM+IEdlbmVyYWxJbmRpY2F0b3JSZWNlaXZlcjsKICAgIC8vIEluZGljYXRvclJlY2VpdmVyPHVpbnQxNl90PiBNdWx0aVBsb3RSZWNlaXZlcjsKICAgIC8vIEluZGljYXRvclJlY2VpdmVyPHVpbnQ4X3Q+IFNpUE1QbG90UmVjZWl2ZXI7CgogICAgLy8gQ0FFTiBQaXBlCiAgICB1c2luZyBTaVBNUGlwZV90eXBlID0gdHlwZW5hbWUgUGlwZXM6OlNpUE1QaXBlX3R5cGU7CiAgICBTaVBNQWNxdWlzaXRpb25QaXBlRW5kPFNpUE1QaXBlX3R5cGUsIFBpcGVFbmRUeXBlOjpHVUk+IF9zaXBtX3BpcGVfZW5kOwogICAgU2lQTUFjcXVpc2l0aW9uRGF0YSYgX3NpcG1fZG9lOwoKICAgIC8vIFRlZW5zeSBQaXBlCiAgICB1c2luZyBUZWVuc3lQaXBlX3R5cGUgPSB0eXBlbmFtZSBQaXBlczo6VGVlbnN5UGlwZV90eXBlOwogICAgVGVlbnN5Q29udHJvbGxlclBpcGVFbmQ8VGVlbnN5UGlwZV90eXBlLCBQaXBlRW5kVHlwZTo6R1VJPiBfdGVlbnN5X3BpcGVfZW5kOwogICAgVGVlbnN5Q29udHJvbGxlckRhdGEmIF90ZWVuc3lfZG9lOwoKICAgIC8vIFNsb3cgREFRIHBpcGUKICAgIHVzaW5nIFNsb3dEQVFfdHlwZSA9IHR5cGVuYW1lIFBpcGVzOjpTbG93REFRX3R5cGU7CiAgICBTbG93REFRUGlwZUVuZDxTbG93REFRX3R5cGUsIFBpcGVFbmRUeXBlOjpHVUk+IF9zbG93ZGFxX3BpcGVfZW5kOwogICAgU2xvd0RBUURhdGEmIF9zbG93ZGFxX2RvZTsKCiAgICBzdGQ6OnZlY3RvcjxzdGQ6OnVuaXF1ZV9wdHI8V2luZG93SW50ZXJmYWNlPj4gX3dpbmRvd3M7CgogICAgc3RkOjpzdHJpbmcgaV9ydW5fZGlyOwogICAgc3RkOjpzdHJpbmcgaV9ydW5fbmFtZTsKCiAgICBzdGQ6OnZlY3RvcjxzdGQ6OnN0cmluZz4gcnRkX25hbWVzOwogICAgc3RkOjp2ZWN0b3I8c3RkOjpzdHJpbmc+IHNpcG1fbmFtZXM7CgogcHVibGljOgogICAgR1VJTWFuYWdlcihjb25zdCBQaXBlcyYgcCwgRHJhd0Z1bmMmJiBkcmF3X2Z1bmMpIDoKICAgICAgICBUaHJlYWRNYW5hZ2VyPFBpcGVzPihwKSwgX2RyYXdfZnVuY3tkcmF3X2Z1bmN9LAogICAgICAgIC8vIEFsbCBvZiB0aGVzZSBhcmUgdG8gaGF2ZSBhIGxvY2FsIGFuZCBmYXN0ZXIgYWNjZXNzIHRvIHRoZW0KICAgICAgICAvLyBpbnNpZGUgdGhpcyBjbGFzcy4KICAgICAgICBfc2lwbV9waXBlX2VuZChwLlNpUE1QaXBlKSwKICAgICAgICBfc2lwbV9kb2UoX3NpcG1fcGlwZV9lbmQuRGF0YSksCiAgICAgICAgX3RlZW5zeV9waXBlX2VuZChwLlRlZW5zeVBpcGUpLAogICAgICAgIF90ZWVuc3lfZG9lKF90ZWVuc3lfcGlwZV9lbmQuRGF0YSksCiAgICAgICAgX3Nsb3dkYXFfcGlwZV9lbmQocC5TbG93REFRUGlwZSksCiAgICAgICAgX3Nsb3dkYXFfZG9lKF9zbG93ZGFxX3BpcGVfZW5kLkRhdGEpCiAgICB7CiAgICAgICAgX3dpbmRvd3MucHVzaF9iYWNrKAogICAgICAgICAgICBtYWtlX2luZGljYXRvcl93aW5kb3coX3NpcG1fZG9lLCBfdGVlbnN5X2RvZSwgX3Nsb3dkYXFfZG9lKSk7CiAgICAgICAgX3dpbmRvd3MucHVzaF9iYWNrKAogICAgICAgICAgICBtYWtlX3NpcG1fY29udHJvbF93aW5kb3coX3NpcG1fZG9lLCBfdGVlbnN5X2RvZSkpOwogICAgICAgIF93aW5kb3dzLnB1c2hfYmFjaygKICAgICAgICAgICAgbWFrZV9jb250cm9sX3dpbmRvdyhfc2lwbV9kb2UsIF90ZWVuc3lfZG9lLCBfc2xvd2RhcV9kb2UpKTsKCiAgICAgICAgLy8gV2hlbiBjb25maWdfZmlsZSBnb2VzIG91dCBvZiBzY29wZSwgZXZlcnl0aGluZwogICAgICAgIC8vIGluY2x1ZGluZyB0aGUgZGF1Z2h0ZXJzIGdldCBjbGVhcmVkCiAgICAgICAgYXV0byBjb25maWdfZmlsZSA9IHRvbWw6OnBhcnNlX2ZpbGUoImd1aV9zZXR1cC50b21sIik7CiAgICAgICAgZm9yKGF1dG8mIHdpbmRvdzogX3dpbmRvd3MpIHsKICAgICAgICAgICAgd2luZG93LT5pbml0KGNvbmZpZ19maWxlKTsKICAgICAgICB9CgogICAgICAgIGF1dG8gdF9jb25mID0gY29uZmlnX2ZpbGVbIlRlZW5zeSJdOwogICAgICAgIGlmICh0b21sOjphcnJheSogYXJyID0gdF9jb25mWyJSVEROYW1lcyJdLmFzX2FycmF5KCkpIHsKICAgICAgICAgICAgZm9yICh0b21sOjpub2RlJiBlbGVtIDogKmFycikgewogICAgICAgICAgICAgICAgcnRkX25hbWVzLmVtcGxhY2VfYmFjayhlbGVtLnZhbHVlX29yKCIiKSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGlmICh0b21sOjphcnJheSogYXJyID0gdF9jb25mWyJTaVBNTmFtZXMiXS5hc19hcnJheSgpKSB7CiAgICAgICAgICAgIGZvciAodG9tbDo6bm9kZSYgZWxlbSA6ICphcnIpIHsKICAgICAgICAgICAgICAgIHNpcG1fbmFtZXMuZW1wbGFjZV9iYWNrKGVsZW0udmFsdWVfb3IoIiIpKTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgLy8gSWYgdGhleSBjaGFuZ2VkIG9uIHRoaXMgR1VJLCB1cGRhdGUgdGhlIHRocmVhZHMgc28gdGhleSBjYW4KICAgICAgICAvLyBtb2RpZnkgd2hhdGV2ZXIgdGhleSB3YW50IGJhc2VkIG9uIHRoZSBkYXRhIHdlIHNlbnQKICAgICAgICAvLyBXZSBkbyBpdCBpbiB0aGUgaW5pdCBzbyB3ZSBjYW4gbGV0IHRoZW0ga25vdyB3aGF0IGlzIHRoZWlyIGluaXRpYWwKICAgICAgICAvLyBzdGF0ZQogICAgICAgIF90ZWVuc3lfZG9lLkNoYW5nZWQgPSB0cnVlOwogICAgICAgIF90ZWVuc3lfZG9lLkNhbGxiYWNrID0gWyZdKFRlZW5zeUNvbnRyb2xsZXJEYXRhJiB0d2luKSB7CiAgICAgICAgICAgIHR3aW4gPSBfdGVlbnN5X2RvZTsKICAgICAgICB9OwogICAgICAgIF90ZWVuc3lfcGlwZV9lbmQuc2VuZF9pZl9jaGFuZ2VkKCk7CgogICAgICAgIF9zaXBtX2RvZS5DaGFuZ2VkID0gdHJ1ZTsKICAgICAgICBfc2lwbV9kb2UuSVZEYXRhID0gUGxvdERhdGFCdWZmZXI8Mj4oMTAwKTsKICAgICAgICBfc2lwbV9kb2UuQ2FsbGJhY2sgPSBbJl0oU2lQTUFjcXVpc2l0aW9uRGF0YSYgdHdpbikgewogICAgICAgICAgICB0d2luID0gX3NpcG1fZG9lOwogICAgICAgIH07CiAgICAgICAgX3NpcG1fcGlwZV9lbmQuc2VuZF9pZl9jaGFuZ2VkKCk7CgogICAgICAgIF9zbG93ZGFxX2RvZS5DaGFuZ2VkID0gdHJ1ZTsKICAgICAgICBfc2xvd2RhcV9kb2UuQ2FsbGJhY2sgPSBbJl0oU2xvd0RBUURhdGEmIHR3aW4pewogICAgICAgICAgICB0d2luID0gX3Nsb3dkYXFfZG9lOwogICAgICAgIH07CiAgICAgICAgX3Nsb3dkYXFfcGlwZV9lbmQuc2VuZF9pZl9jaGFuZ2VkKCk7CiAgICB9CgogICAgfkdVSU1hbmFnZXIoKSB7CiAgICAgICAgX3RlZW5zeV9kb2UuQ2hhbmdlZCA9IHRydWU7CiAgICAgICAgX3RlZW5zeV9kb2UuQ2FsbGJhY2sgPSBbXShUZWVuc3lDb250cm9sbGVyRGF0YSYgc3RhdGUpIHsKICAgICAgICAgICAgc3RhdGUuQ3VycmVudFN0YXRlID0gVGVlbnN5Q29udHJvbGxlclN0YXRlczo6Q2xvc2luZzsKICAgICAgICB9OwoKICAgICAgICAvLyBDQUVOUXVldWUmIGNxID0gc3RkOjpnZXQ8Q0FFTlF1ZXVlJj4oX3F1ZXVlcyk7CiAgICAgICAgX3NpcG1fZG9lLkNoYW5nZWQgPSB0cnVlOwogICAgICAgIF9zaXBtX2RvZS5DYWxsYmFjayA9IFtdKFNpUE1BY3F1aXNpdGlvbkRhdGEmIHN0YXRlKSB7CiAgICAgICAgICAgIHN0YXRlLkN1cnJlbnRTdGF0ZSA9IFNpUE1BY3F1aXNpdGlvbk1hbmFnZXJTdGF0ZXM6OkNsb3Npbmc7CiAgICAgICAgfTsKCiAgICAgICAgLy8gU2xvd0RBUVF1ZXVlJiBvcSA9IHN0ZDo6Z2V0PFNsb3dEQVFRdWV1ZSY+KF9xdWV1ZXMpOwogICAgICAgIF9zbG93ZGFxX2RvZS5DaGFuZ2VkID0gdHJ1ZTsKICAgICAgICBfc2xvd2RhcV9kb2UuQ2FsbGJhY2sgPSBbXShTbG93REFRRGF0YSYgc3RhdGUpIHsKICAgICAgICAgICAgc3RhdGUuUEZFSUZGRVJTdGF0ZSA9IFBGRUlGRkVSU1NHU3RhdGU6OkNsb3Npbmc7CiAgICAgICAgfTsKCiAgICAgICAgLy8gTWFrZSBzdXJlIHRvIHNlbmQgYW55dGhpbmcgYmVmb3JlIGNsb3NpbmcgdGhlIGd1aS4KICAgICAgICBfdGVlbnN5X3BpcGVfZW5kLnNlbmRfaWZfY2hhbmdlZCgpOwogICAgICAgIF9zaXBtX3BpcGVfZW5kLnNlbmRfaWZfY2hhbmdlZCgpOwogICAgICAgIF9zbG93ZGFxX3BpcGVfZW5kLnNlbmRfaWZfY2hhbmdlZCgpOwogICAgfQoKICAgIHZvaWQgb3BlcmF0b3IoKSgpIHsKICAgICAgICAvLyBfZHJhd19mdW5jIG11c3QgaGF2ZSBhIHJlY3VycmluZyBkcmF3IGZ1bmN0aW9uCiAgICAgICAgLy8gYW5kIGEgY2xvc2UgZnVuY3Rpb24uCiAgICAgICAgX2RyYXdfZnVuYyhbJl0oKXsgX2RyYXcoKTsgfSk7CiAgICB9CgogcHJpdmF0ZToKICAgIHZvaWQgX2RyYXcoKSB7CiAgICAgICAgc3RhdGljIGJvb2wgdHJnX29uY2UgPSB0cnVlOwogICAgICAgIGlmICh0cmdfb25jZSkgewogICAgICAgICAgICBJbVBsb3Q6OlN0eWxlQ29sb3JzRGFyaygpOwogICAgICAgICAgICBJbVBsb3Q6OkdldFN0eWxlKCkuVXNlTG9jYWxUaW1lID0gdHJ1ZTsKICAgICAgICAgICAgdHJnX29uY2UgPSBmYWxzZTsKICAgICAgICB9CgogICAgICAgIGZvcihhdXRvJiB3aW5kb3cgOiBfd2luZG93cykgewogICAgICAgICAgICAoKndpbmRvdykoKTsKICAgICAgICB9CgogICAgICAgIC8vLy8gUGxvdHMKICAgICAgICAvLyBJbUd1aTo6QmVnaW4oIk90aGVyIFBsb3RzIik7CgogICAgICAgIC8vIC8vIFRoaXMgZnVuY3RvciB1cGRhdGVzIHRoZSBwbG90cyB2YWx1ZXMgZnJvbSB0aGUgcXVldWUuCiAgICAgICAgLy8gR2VuZXJhbEluZGljYXRvclJlY2VpdmVyKCk7CiAgICAgICAgLy8gTXVsdGlQbG90UmVjZWl2ZXIoKTsKICAgICAgICAvLyBTaVBNUGxvdFJlY2VpdmVyKCk7CgogICAgICAgIC8vIGNvbnN0IGF1dG8gZ19heGlzX2ZsYWdzID0gSW1QbG90QXhpc0ZsYWdzX0F1dG9GaXQ7CiAgICAgICAgLy8gLy8gLy8vIFRlZW5zeS1CTUUyODAgUGxvdHMKICAgICAgICAvLyBpZiAoSW1HdWk6OkJ1dHRvbigiQ2xlYXIiKSkgewogICAgICAgIC8vICAgICBHZW5lcmFsSW5kaWNhdG9yUmVjZWl2ZXIuQ2xlYXJQbG90KAogICAgICAgIC8vICAgICAgICAgSW5kaWNhdG9yTmFtZXM6OkxPQ0FMX0JNRV9IVU1EKTsKICAgICAgICAvLyAgICAgR2VuZXJhbEluZGljYXRvclJlY2VpdmVyLkNsZWFyUGxvdCgKICAgICAgICAvLyAgICAgICAgIEluZGljYXRvck5hbWVzOjpMT0NBTF9CTUVfVEVNUFMpOwogICAgICAgIC8vICAgICBHZW5lcmFsSW5kaWNhdG9yUmVjZWl2ZXIuQ2xlYXJQbG90KAogICAgICAgIC8vICAgICAgICAgSW5kaWNhdG9yTmFtZXM6OkxPQ0FMX0JNRV9QUkVTUyk7CgogICAgICAgIC8vICAgICBHZW5lcmFsSW5kaWNhdG9yUmVjZWl2ZXIuQ2xlYXJQbG90KAogICAgICAgIC8vICAgICAgICAgSW5kaWNhdG9yTmFtZXM6OlBGRUlGRkVSX1BSRVNTKTsKICAgICAgICAvLyAgICAgR2VuZXJhbEluZGljYXRvclJlY2VpdmVyLkNsZWFyUGxvdCgKICAgICAgICAvLyAgICAgICAgIEluZGljYXRvck5hbWVzOjpWQUNVVU1fUFJFU1MpOwogICAgICAgIC8vIH0KCiAgICAgICAgSW1HdWk6OkJlZ2luKCJUZXN0Iik7CiAgICAgICAgaWYgKEltR3VpOjpCZWdpblRhYkJhcigiT3RoZXIgUGxvdHMiKSkgewogICAgICAgICAgICBjb25zdGV4cHIgYXV0byB0ZXN0X3Bsb3QgPSBnZXRfcGxvdDwiSS1WIiwgMiwgMj4oR1VJUGxvdHMpOwogICAgICAgICAgICBQbG90KHRlc3RfcGxvdCwgX3NpcG1fZG9lLklWRGF0YSk7CgogICAgICAgICAgICBJbUd1aTo6RW5kVGFiQmFyKCk7CiAgICAgICAgfQogICAgICAgIEltR3VpOjpFbmQoKTsKCiAgICAgICAgSW1HdWk6OkJlZ2luKCJQbG90IEdyYXBocyIpOwogICAgICAgIGlmIChJbUd1aTo6QmVnaW5UYWJCYXIoIk90aGVyIFBsb3RzIikpIHsKICAgICAgICAgICAgY29uc3RleHByIGF1dG8gZ3JvdXBfemVyb19wbG90ID0gZ2V0X3Bsb3Q8Ikdyb3VwIDAiLCA4LCAxPihHVUlQbG90cyk7CiAgICAgICAgICAgIFBsb3QoZ3JvdXBfemVyb19wbG90LCBfc2lwbV9kb2UuR3JvdXBEYXRhWzBdKTsKCiAgICAgICAgICAgIGNvbnN0ZXhwciBhdXRvIGdyb3VwX29uZV9wbG90ID0gZ2V0X3Bsb3Q8Ikdyb3VwIDEiLCA4LCAxPihHVUlQbG90cyk7CiAgICAgICAgICAgIFBsb3QoZ3JvdXBfb25lX3Bsb3QsIF9zaXBtX2RvZS5Hcm91cERhdGFbMV0pOwoKICAgICAgICAgICAgSW1HdWk6OkVuZFRhYkJhcigpOwogICAgICAgIH0KICAgICAgICBJbUd1aTo6RW5kKCk7CiAgICAgICAgLy8gICAgIC8vIGlmICghX3RlZW5zeV9kb2UuU3lzdGVtUGFyYW1ldGVycy5JblJURE9ubHlNb2RlKSB7CiAgICAgICAgLy8gICAgIC8vICAgICBpZiAoSW1HdWk6OkJlZ2luVGFiSXRlbSgiTG9jYWwgQk1FIikpIHsKICAgICAgICAvLyAgICAgLy8gICAgICAgICBpZiAoSW1QbG90OjpCZWdpblBsb3QoIkxvY2FsIEJNRSIsIEltVmVjMigtMSwgMCkpKSB7CiAgICAgICAgLy8gICAgIC8vICAgICAgICAgICAgIC8vIFdlIHNldHVwIHRoZSBheGlzCiAgICAgICAgLy8gICAgIC8vICAgICAgICAgICAgIEltUGxvdDo6U2V0dXBBeGlzU2NhbGUoSW1BeGlzX1gxLCBJbVBsb3RTY2FsZV9UaW1lKTsKICAgICAgICAvLyAgICAgLy8gICAgICAgICAgICAgSW1QbG90OjpTZXR1cEF4ZXMoInRpbWUgW3NdIiwgIkh1bWlkaXR5IFslXSIsCiAgICAgICAgLy8gICAgIC8vICAgICAgICAgICAgICAgICBnX2F4aXNfZmxhZ3MsIGdfYXhpc19mbGFncyk7CiAgICAgICAgLy8gICAgIC8vICAgICAgICAgICAgIEltUGxvdDo6U2V0dXBBeGlzKEltQXhpc19ZMywgIlByZXNzdXJlIFtQYV0iLAogICAgICAgIC8vICAgICAvLyAgICAgICAgICAgICAgICAgZ19heGlzX2ZsYWdzIHwgSW1QbG90QXhpc0ZsYWdzX09wcG9zaXRlKTsKICAgICAgICAvLyAgICAgLy8gICAgICAgICAgICAgSW1QbG90OjpTZXR1cEF4aXMoSW1BeGlzX1kyLCAiVGVtcGVyYXR1cmUgW2RlZ0NdIiwKICAgICAgICAvLyAgICAgLy8gICAgICAgICAgICAgICAgIGdfYXhpc19mbGFncyB8IEltUGxvdEF4aXNGbGFnc19PcHBvc2l0ZSk7CgogICAgICAgIC8vICAgICAvLyAgICAgICAgICAgICAvLyBUaGlzIG9uZSBkb2VzIG5vdCBuZWVkIGFuIFNldEF4ZXMgYXMgaXQgdGFrZXMgdGhlCiAgICAgICAgLy8gICAgIC8vICAgICAgICAgICAgIC8vIGRlZmF1bHQuCiAgICAgICAgLy8gICAgIC8vICAgICAgICAgICAgIC8vIFRoaXMgZnVuY3RvciBpcyBhbG1vc3QgdGhlIHNhbWUgYXMgY2FsbGluZyBJbVBsb3QKICAgICAgICAvLyAgICAgLy8gICAgICAgICAgICAgR2VuZXJhbEluZGljYXRvclJlY2VpdmVyLnBsb3QoCiAgICAgICAgLy8gICAgIC8vICAgICAgICAgICAgICAgICBJbmRpY2F0b3JOYW1lczo6TE9DQUxfQk1FX0hVTUQsICJIdW1pZGl0eSIpOwoKICAgICAgICAvLyAgICAgLy8gICAgICAgICAgICAgLy8gV2UgbmVlZCB0byBjYWxsIFNldEF4ZXMgYmVmb3JlIEltUGxvdDo6UGxvdExpbmVzCiAgICAgICAgLy8gICAgIC8vICAgICAgICAgICAgIC8vIHRvIGxldCB0aGUgQVBJIGtub3cgdGhlIGF4aXMgb2Ygb3VyIGRhdGEKICAgICAgICAvLyAgICAgLy8gICAgICAgICAgICAgSW1QbG90OjpTZXRBeGVzKEltQXhpc19YMSwgSW1BeGlzX1kyKTsKICAgICAgICAvLyAgICAgLy8gICAgICAgICAgICAgR2VuZXJhbEluZGljYXRvclJlY2VpdmVyLnBsb3QoCiAgICAgICAgLy8gICAgIC8vICAgICAgICAgICAgICAgICBJbmRpY2F0b3JOYW1lczo6TE9DQUxfQk1FX1RFTVBTLCAiVGVtcGVyYXR1cmUiKTsKCiAgICAgICAgLy8gICAgIC8vICAgICAgICAgICAgIEltUGxvdDo6U2V0QXhlcyhJbUF4aXNfWDEsIEltQXhpc19ZMyk7CiAgICAgICAgLy8gICAgIC8vICAgICAgICAgICAgIEdlbmVyYWxJbmRpY2F0b3JSZWNlaXZlci5wbG90KAogICAgICAgIC8vICAgICAvLyAgICAgICAgICAgICAgICAgSW5kaWNhdG9yTmFtZXM6OkxPQ0FMX0JNRV9QUkVTUywgIlByZXNzdXJlIik7CgogICAgICAgIC8vICAgICAvLyAgICAgICAgICAgICBJbVBsb3Q6OkVuZFBsb3QoKTsKICAgICAgICAvLyAgICAgLy8gICAgICAgICB9CgogICAgICAgIC8vICAgICAvLyAgICAgICAgIEltR3VpOjpFbmRUYWJJdGVtKCk7CiAgICAgICAgLy8gICAgIC8vICAgICB9CiAgICAgICAgLy8gICAgIC8vIH0KCiAgICAgICAgLy8gICAgIGlmIChJbUd1aTo6QmVnaW5UYWJJdGVtKCJQcmVzc3VyZXMiKSkgewogICAgICAgIC8vICAgICAgICAgc3RhdGljIEltUGxvdFNjYWxlIHByZXNzX3NjYWxlX2F4aXMgPSBJbVBsb3RTY2FsZV9MaW5lYXI7CiAgICAgICAgLy8gICAgICAgICBJbUd1aTo6Q2hlY2tib3hGbGFncygiTG9nIEF4aXMiLAogICAgICAgIC8vICAgICAgICAgICAgICh1bnNpZ25lZCBpbnQqKSZwcmVzc19zY2FsZV9heGlzLCBJbVBsb3RTY2FsZV9Mb2cxMCk7CiAgICAgICAgLy8gICAgICAgICBpZiAoSW1QbG90OjpCZWdpblBsb3QoIlByZXNzdXJlcyIsIEltVmVjMigtMSwgLTEpKSkgewogICAgICAgIC8vICAgICAgICAgICAgIEltUGxvdDo6U2V0dXBBeGlzU2NhbGUoSW1BeGlzX1kxLCBwcmVzc19zY2FsZV9heGlzKTsKICAgICAgICAvLyAgICAgICAgICAgICBJbVBsb3Q6OlNldHVwQXhpc1NjYWxlKEltQXhpc19YMSwgSW1QbG90U2NhbGVfVGltZSk7CiAgICAgICAgLy8gICAgICAgICAgICAgSW1QbG90OjpTZXR1cEF4ZXMoInRpbWUgW3NdIiwgIlAgW0Jhcl0iLAogICAgICAgIC8vICAgICAgICAgICAgICAgICBnX2F4aXNfZmxhZ3MsIGdfYXhpc19mbGFncyk7CgogICAgICAgIC8vICAgICAgICAgICAgIEdlbmVyYWxJbmRpY2F0b3JSZWNlaXZlci5wbG90KAogICAgICAgIC8vICAgICAgICAgICAgICAgICBJbmRpY2F0b3JOYW1lczo6UEZFSUZGRVJfUFJFU1MsICJQRkVJRkZFUiIpOwogICAgICAgIC8vICAgICAgICAgICAgIEdlbmVyYWxJbmRpY2F0b3JSZWNlaXZlci5wbG90KAogICAgICAgIC8vICAgICAgICAgICAgICAgICBJbmRpY2F0b3JOYW1lczo6VkFDVVVNX1BSRVNTLCAiVmFjdXVtIGxpbmUiKTsKCiAgICAgICAgLy8gICAgICAgICAgICAgSW1QbG90OjpFbmRQbG90KCk7CiAgICAgICAgLy8gICAgICAgICB9CgogICAgICAgIC8vICAgICAgICAgSW1HdWk6OkVuZFRhYkl0ZW0oKTsKICAgICAgICAvLyAgICAgfQoKICAgICAgICAvLyAgICAgSW1HdWk6OkVuZFRhYkJhcigpOwogICAgICAgIC8vIH0KCiAgICAgICAgLy8gSW1HdWk6OkVuZCgpOwogICAgICAgIC8vIC8vIC8vLyAhVGVlbnN5LUJNRTI4MCBQbG90cwogICAgICAgIC8vIC8vIC8vLy8KICAgICAgICAvLyAvLyAvLy8gVGVlbnN5LVBJRCBQbG90cwogICAgICAgIC8vIEltR3VpOjpCZWdpbigiVGVlbnN5LVBJRCBQbG90cyIpOwoKICAgICAgICAvLyBpZiAoSW1HdWk6OkJ1dHRvbigiQ2xlYXIiKSkgewogICAgICAgIC8vICAgICBmb3IgKHVpbnQxNl90IGkgPSAwOyBpIDwgX3RlZW5zeV9kb2UuU3lzdGVtUGFyYW1ldGVycy5OdW1SdGRCb2FyZHM7IGkrKykgewogICAgICAgIC8vICAgICAgICAgZm9yICh1aW50MTZfdCBqID0gMDsgaiA8IF90ZWVuc3lfZG9lLlN5c3RlbVBhcmFtZXRlcnMuTnVtUnRkc1BlckJvYXJkOyBqKyspIHsKICAgICAgICAvLyAgICAgICAgICAgICB1aW50MTZfdCBrID0gc3RhdGljX2Nhc3Q8dWludDE2X3Q+KAogICAgICAgIC8vICAgICAgICAgICAgICAgICBpKl90ZWVuc3lfZG9lLlN5c3RlbVBhcmFtZXRlcnMuTnVtUnRkc1BlckJvYXJkICtqKTsKCiAgICAgICAgLy8gICAgICAgICAgICAgTXVsdGlQbG90UmVjZWl2ZXIuQ2xlYXJQbG90KGspOwogICAgICAgIC8vICAgICAgICAgfQogICAgICAgIC8vICAgICB9CiAgICAgICAgLy8gfQoKICAgICAgICAvLyBpZiAoIV90ZWVuc3lfZG9lLlN5c3RlbVBhcmFtZXRlcnMuSW5SVERPbmx5TW9kZSkgewogICAgICAgIC8vICAgICBpZiAoSW1QbG90OjpCZWdpblBsb3QoIlBJRHMiLCBJbVZlYzIoLTEsIDApKSkgewogICAgICAgIC8vICAgICAgICAgSW1QbG90OjpTZXR1cEF4ZXMoInRpbWUgW3NdIiwgIkN1cnJlbnQgW0FdIiwKICAgICAgICAvLyAgICAgICAgICAgICBnX2F4aXNfZmxhZ3MsIGdfYXhpc19mbGFncyk7CiAgICAgICAgLy8gICAgICAgICBJbVBsb3Q6OlNldHVwQXhpc1NjYWxlKEltQXhpc19YMSwgSW1QbG90U2NhbGVfVGltZSk7CgogICAgICAgIC8vICAgICAgICAgR2VuZXJhbEluZGljYXRvclJlY2VpdmVyLnBsb3QoSW5kaWNhdG9yTmFtZXM6OlBFTFRJRVJfQ1VSUiwgIkN1cnJlbnQiKTsKCiAgICAgICAgLy8gICAgICAgICBJbVBsb3Q6OkVuZFBsb3QoKTsKICAgICAgICAvLyAgICAgfQogICAgICAgIC8vIH0KCiAgICAgICAgLy8gc3RhdGljIEltUGxvdFJlY3QgcmVjdCgwLCAxLCAwLCAzMjApOwogICAgICAgIC8vIHN0YXRpYyBJbVBsb3RTY2FsZSBydGRfc2NhbGVfYXhpcyA9IEltUGxvdFNjYWxlX0xpbmVhcjsKICAgICAgICAvLyBJbUd1aTo6Q2hlY2tib3hGbGFncygiTG9nIEF4aXMiLAogICAgICAgIC8vICAgICAmcnRkX3NjYWxlX2F4aXMsIEltUGxvdFNjYWxlX0xvZzEwKTsKCiAgICAgICAgLy8gaWYgKEltUGxvdDo6QmVnaW5QbG90KCJSVERzIiwgSW1WZWMyKC0xLCAwKSkpIHsKICAgICAgICAvLyAgICAgSW1QbG90OjpTZXR1cEF4aXNTY2FsZShJbUF4aXNfWTEsIHJ0ZF9zY2FsZV9heGlzKTsKICAgICAgICAvLyAgICAgSW1QbG90OjpTZXR1cEF4aXNTY2FsZShJbUF4aXNfWDEsIEltUGxvdFNjYWxlX1RpbWUpOwogICAgICAgIC8vICAgICBJbVBsb3Q6OlNldHVwQXhlcygidGltZSBbc10iLCAiVGVtcGVyYXR1cmUgW0tdIiwKICAgICAgICAvLyAgICAgICAgIGdfYXhpc19mbGFncywgZ19heGlzX2ZsYWdzKTsKCiAgICAgICAgLy8gICAgIGZvciAodWludDE2X3QgaSA9IDA7IGkgPCBfdGVlbnN5X2RvZS5TeXN0ZW1QYXJhbWV0ZXJzLk51bVJ0ZEJvYXJkczsgaSsrKSB7CiAgICAgICAgLy8gICAgICAgICBmb3IgKHVpbnQxNl90IGogPSAwOyBqIDwgX3RlZW5zeV9kb2UuU3lzdGVtUGFyYW1ldGVycy5OdW1SdGRzUGVyQm9hcmQ7IGorKykgewogICAgICAgIC8vICAgICAgICAgICAgIHVpbnQxNl90IGsgPSBzdGF0aWNfY2FzdDx1aW50MTZfdD4oCiAgICAgICAgLy8gICAgICAgICAgICAgICAgIGkqX3RlZW5zeV9kb2UuU3lzdGVtUGFyYW1ldGVycy5OdW1SdGRzUGVyQm9hcmQgK2opOwoKICAgICAgICAvLyAgICAgICAgICAgICBpZiAoayA8IHJ0ZF9uYW1lcy5zaXplKCkpIHsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgTXVsdGlQbG90UmVjZWl2ZXIucGxvdChrLCBydGRfbmFtZXNba10pOwogICAgICAgIC8vICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgIE11bHRpUGxvdFJlY2VpdmVyLnBsb3Qoaywgc3RkOjp0b19zdHJpbmcoaykpOwogICAgICAgIC8vICAgICAgICAgICAgIH0KICAgICAgICAvLyAgICAgICAgIH0KICAgICAgICAvLyAgICAgfQoKICAgICAgICAvLyAgICAgcmVjdCA9IEltUGxvdDo6R2V0UGxvdExpbWl0cygpOwoKICAgICAgICAvLyAgICAgSW1QbG90OjpFbmRQbG90KCk7CiAgICAgICAgLy8gfQoKICAgICAgICAvLyBzdGF0aWMgZmxvYXQgcnRkX3pvb21fbXVsdGlwbGllclsyXSA9IHswLjB9OwogICAgICAgIC8vIEltR3VpOjpTbGlkZXJGbG9hdDIoIlpvb20gJSIsIHJ0ZF96b29tX211bHRpcGxpZXIsIDAuMGYsIDEuMGYpOwogICAgICAgIC8vIC8vIEltR3VpOjpWU2xpZGVyRmxvYXQoIlpvb20gWSUiLCBJbVZlYzIoMTgsIDE2MCksJnlfcnRkX3pvb21fbXVsdGlwbGllciwgMC4wZiwgMS4wZik7CiAgICAgICAgLy8gLy8gSW1HdWk6OlNhbWVMaW5lKCk7CgogICAgICAgIC8vIGlmIChJbVBsb3Q6OkJlZ2luUGxvdCgiUlREIFpvb20iLCBJbVZlYzIoLTEsIDApKSkgewogICAgICAgIC8vICAgICBJbVBsb3Q6OlNldHVwQXhpc1NjYWxlKEltQXhpc19ZMSwgcnRkX3NjYWxlX2F4aXMpOwogICAgICAgIC8vICAgICBJbVBsb3Q6OlNldHVwQXhpc1NjYWxlKEltQXhpc19YMSwgSW1QbG90U2NhbGVfVGltZSk7CiAgICAgICAgLy8gICAgIEltUGxvdDo6U2V0dXBBeGVzKCJ0aW1lIFtzXSIsICJUZW1wZXJhdHVyZSBbS10iLAogICAgICAgIC8vICAgICAgICAgZ19heGlzX2ZsYWdzLCBnX2F4aXNfZmxhZ3MpOwogICAgICAgIC8vICAgICBJbVBsb3Q6OlNldHVwQXhlc0xpbWl0cygKICAgICAgICAvLyAgICAgICAgIHN0YXRpY19jYXN0PGRvdWJsZT4ocnRkX3pvb21fbXVsdGlwbGllclswXSkqKHJlY3QuWC5NaW4KICAgICAgICAvLyAgICAgICAgICAgICArIHJlY3QuWC5NYXgpICsgcmVjdC5YLk1pbiwKICAgICAgICAvLyAgICAgICAgIHJlY3QuWC5NYXgsCiAgICAgICAgLy8gICAgICAgICBzdGF0aWNfY2FzdDxkb3VibGU+KHJ0ZF96b29tX211bHRpcGxpZXJbMV0pKihyZWN0LlkuTWluCiAgICAgICAgLy8gICAgICAgICAgICAgKyByZWN0LlkuTWF4KSArIHJlY3QuWS5NaW4sCiAgICAgICAgLy8gICAgICAgICByZWN0LlkuTWF4LCBJbUd1aUNvbmRfQWx3YXlzKTsKCiAgICAgICAgLy8gICAgIGZvciAodWludDE2X3QgaSA9IDA7IGkgPCBfdGVlbnN5X2RvZS5TeXN0ZW1QYXJhbWV0ZXJzLk51bVJ0ZEJvYXJkczsgaSsrKSB7CiAgICAgICAgLy8gICAgICAgICBmb3IgKHVpbnQxNl90IGogPSAwOyBqIDwgX3RlZW5zeV9kb2UuU3lzdGVtUGFyYW1ldGVycy5OdW1SdGRzUGVyQm9hcmQ7IGorKykgewogICAgICAgIC8vICAgICAgICAgICAgIHVpbnQxNl90IGsgPSBzdGF0aWNfY2FzdDx1aW50MTZfdD4oCiAgICAgICAgLy8gICAgICAgICAgICAgICAgIGkqX3RlZW5zeV9kb2UuU3lzdGVtUGFyYW1ldGVycy5OdW1SdGRzUGVyQm9hcmQgK2opOwoKICAgICAgICAvLyAgICAgICAgICAgICBpZiAoayA8IHJ0ZF9uYW1lcy5zaXplKCkpIHsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgTXVsdGlQbG90UmVjZWl2ZXIucGxvdChrLCBydGRfbmFtZXNba10pOwogICAgICAgIC8vICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgIE11bHRpUGxvdFJlY2VpdmVyLnBsb3Qoaywgc3RkOjp0b19zdHJpbmcoaykpOwogICAgICAgIC8vICAgICAgICAgICAgIH0KICAgICAgICAvLyAgICAgICAgIH0KICAgICAgICAvLyAgICAgfQoKICAgICAgICAvLyAgICAgSW1QbG90OjpFbmRQbG90KCk7CiAgICAgICAgLy8gfQoKICAgICAgICAvLyBJbUd1aTo6RW5kKCk7CiAgICAgICAgLy8gLy8vICFUZWVuc3ktUElEIFBsb3RzCiAgICAgICAgLy8gLy8vLwogICAgICAgIC8vIC8vLyBTaVBNIFBsb3RzCgoKICAgICAgICAvLyBJbUd1aTo6QmVnaW4oIlNpUE1zIFBsb3RzIik7CgogICAgICAgIC8vIGlmIChJbUd1aTo6QmVnaW5UYWJCYXIoIlNpUE1zIFBsb3RzIikpIHsKICAgICAgICAvLyAgICAgaWYgKEltR3VpOjpCZWdpblRhYkl0ZW0oIlNpUE0gV2F2ZWZvcm1zIikpIHsKICAgICAgICAvLyAgICAgICAgIGNvbnN0IHNpemVfdCBrQ0hwZXJHcm91cCA9IDg7CiAgICAgICAgLy8gICAgICAgICBjb25zdCBhdXRvJiBtb2RlbF9jb25zdGFudHMKICAgICAgICAvLyAgICAgICAgICAgICA9IENBRU5EaWdpdGl6ZXJNb2RlbHNDb25zdGFudHNNYXAuYXQoX3NpcG1fZG9lLk1vZGVsKTsKICAgICAgICAvLyAgICAgICAgIC8vIGNvbnN0IGF1dG8gbnVtZ3JvdXBzID0gbW9kZWxfY29uc3RhbnRzLk51bWJlck9mR3JvdXBzID4gMCA/CiAgICAgICAgLy8gICAgICAgICAvLyAgICAgbW9kZWxfY29uc3RhbnRzLk51bWJlck9mR3JvdXBzIDogMTsKICAgICAgICAvLyAgICAgICAgIC8vIGNvbnN0IGludCBudW1jaHBlcmdyb3VwID0gbW9kZWxfY29uc3RhbnRzLk51bUNoYW5uZWxzIC8gbnVtZ3JvdXBzOwogICAgICAgIC8vICAgICAgICAgLy8gTGV0J3Mgd29yayBvbiBjb25zdCBhdXRvJiBiZWNhdXNlIHdlIHJlYWxseSBkbyBub3Qgd2FudCB0byBjaGFuZ2UKICAgICAgICAvLyAgICAgICAgIC8vIGFueXRoaW5nIGluIHRoZXNlIG5leHQgbGluZXMKICAgICAgICAvLyAgICAgICAgIGlmIChJbVBsb3Q6OkJlZ2luUGxvdCgiIyNTaVBNV2F2ZWZvcm1zIiwgSW1WZWMyKC0xLCAtMSksCiAgICAgICAgLy8gICAgICAgICAgICAgSW1QbG90RmxhZ3NfTm9UaXRsZSkpIHsKICAgICAgICAvLyAgICAgICAgICAgICBJbVBsb3Q6OlNldHVwQXhlcygidGltZSBbbnNdIiwgIkNvdW50cyIsIGdfYXhpc19mbGFncywKICAgICAgICAvLyAgICAgICAgICAgICAgICAgZ19heGlzX2ZsYWdzKTsKICAgICAgICAvLyAgICAgICAgICAgICBmb3IgKGNvbnN0IGF1dG8mIGdwIDogX3NpcG1fZG9lLkdyb3VwQ29uZmlncykgewogICAgICAgIC8vICAgICAgICAgICAgICAgICAvLyBXZSBuZWVkIHRoZSBudW1iZXIgb2YgZ3JvdXBzIGVhY2ggbW9kZWwgaGFzCgogICAgICAgIC8vICAgICAgICAgICAgICAgICAvLyBJZiBncm91cHMgaXMgaGlnaGVyIHRoYW4gMCwgdGhlbiBpdCBoYXMgZ3JvdXBzCiAgICAgICAgLy8gICAgICAgICAgICAgICAgIC8vIG90aGVyd2lzZSBlYWNoIGdyb3VwIGlzIGEgY2hhbm5lbAogICAgICAgIC8vICAgICAgICAgICAgICAgICBpZiAobW9kZWxfY29uc3RhbnRzLk51bWJlck9mR3JvdXBzID4gMCkgewogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgLy8gRWFjaCBtYXNrIGNvbnRhaW5zIGlmIHRoZSBjaGFubmVsIGlzIGVuYWJsZWQKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGF1dG8mIG1hc2sgPSBncC5BY3F1aXNpdGlvbk1hc2s7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAvLyBUaGVyZSBpcyBhbHdheXMgYXQgbWF4IDggY2hhbm5lbHMuCiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBmb3IgKHN0ZDo6c2l6ZV90IGkgPSAwOyBpIDwga0NIcGVyR3JvdXA7IGkrKykgewogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtYXNrICYgKDEgPDwgaSkpIHsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU2lQTVBsb3RSZWNlaXZlci5wbG90KAogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0aWNfY2FzdDx1aW50OF90PihrQ0hwZXJHcm91cCpncC5OdW1iZXIgKyBpKSwKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIkdQICIgKyAgc3RkOjp0b19zdHJpbmcoZ3AuTnVtYmVyKQogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICArICJDSCAiICsgc3RkOjp0b19zdHJpbmcoaSksCiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBsb3RTdHlsZTo6TGluZSwKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ1ZSk7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIEltUGxvdDo6RW5kUGxvdCgpOwogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAvLyAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIFNpUE1QbG90UmVjZWl2ZXIucGxvdChncC5OdW1iZXIsCiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgIkNIICIgKyBzdGQ6OnRvX3N0cmluZyhncC5OdW1iZXIpLAogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgIFBsb3RTdHlsZTo6TGluZSwKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICB0cnVlKTsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgfQogICAgICAgIC8vICAgICAgICAgICAgIH0KICAgICAgICAvLyAgICAgICAgICAgICBJbVBsb3Q6OkVuZFBsb3QoKTsKICAgICAgICAvLyAgICAgICAgIH0KICAgICAgICAvLyAgICAgICAgIEltR3VpOjpFbmRUYWJJdGVtKCk7CiAgICAgICAgLy8gICAgIH0KCiAgICAgICAgLy8gICAgIGlmIChJbUd1aTo6QmVnaW5UYWJJdGVtKCJJLVYiKSkgewogICAgICAgIC8vICAgICAgICAgc3RhdGljIEltUGxvdFNjYWxlIGN1cnJfc2NhbGVfYXhpcyA9IEltUGxvdFNjYWxlX0xpbmVhcjsKICAgICAgICAvLyAgICAgICAgIEltR3VpOjpDaGVja2JveEZsYWdzKCJDdXJyZW50IExvZyBBeGlzIiwKICAgICAgICAvLyAgICAgICAgICAgICAmY3Vycl9zY2FsZV9heGlzLCBJbVBsb3RTY2FsZV9Mb2cxMCk7CgogICAgICAgIC8vICAgICAgICAgaWYgKEltUGxvdDo6QmVnaW5QbG90KCJWb2x0YWdlIiwgSW1WZWMyKC0xLCAtMSksCiAgICAgICAgLy8gICAgICAgICAgICAgSW1QbG90RmxhZ3NfTm9UaXRsZSkpIHsKICAgICAgICAvLyAgICAgICAgICAgICBJbVBsb3Q6OlNldHVwQXhpc1NjYWxlKEltQXhpc19YMSwgSW1QbG90U2NhbGVfVGltZSk7CiAgICAgICAgLy8gICAgICAgICAgICAgSW1QbG90OjpTZXR1cEF4aXNGb3JtYXQoSW1BeGlzX1kxLCAiJTIuN2YiKTsKICAgICAgICAvLyAgICAgICAgICAgICBJbVBsb3Q6OlNldHVwQXhlcygidGltZSBbRVNUXSIsICJWb2x0YWdlIFtWXSIsIGdfYXhpc19mbGFncywKICAgICAgICAvLyAgICAgICAgICAgICAgICAgZ19heGlzX2ZsYWdzKTsKICAgICAgICAvLyAgICAgICAgICAgICBJbVBsb3Q6OlNldHVwQXhpcyhJbUF4aXNfWTIsICJDdXJyZW50IFt1QV0iLAogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgZ19heGlzX2ZsYWdzIHwgSW1QbG90QXhpc0ZsYWdzX09wcG9zaXRlKTsKICAgICAgICAvLyAgICAgICAgICAgICBJbVBsb3Q6OlNldHVwQXhpc1NjYWxlKEltQXhpc19ZMiwgY3Vycl9zY2FsZV9heGlzKTsKCiAgICAgICAgLy8gICAgICAgICAgICAgR2VuZXJhbEluZGljYXRvclJlY2VpdmVyLnBsb3QoSW5kaWNhdG9yTmFtZXM6OkRNTV9WT0xUQUdFLAogICAgICAgIC8vICAgICAgICAgICAgICAgICAiVm9sdGFnZSIpOwoKICAgICAgICAvLyAgICAgICAgICAgICBJbVBsb3Q6OlNldEF4ZXMoSW1BeGlzX1gxLCBJbUF4aXNfWTIpOwogICAgICAgIC8vICAgICAgICAgICAgIEdlbmVyYWxJbmRpY2F0b3JSZWNlaXZlci5wbG90KEluZGljYXRvck5hbWVzOjpQSUNPX0NVUlJFTlQsCiAgICAgICAgLy8gICAgICAgICAgICAgICAgICJDdXJyZW50Iik7CgogICAgICAgIC8vICAgICAgICAgICAgIEltUGxvdDo6RW5kUGxvdCgpOwogICAgICAgIC8vICAgICAgICAgfQogICAgICAgIC8vICAgICAgICAgSW1HdWk6OkVuZFRhYkl0ZW0oKTsKICAgICAgICAvLyAgICAgfQoKICAgICAgICAvLyAgICAgaWYgKEltR3VpOjpCZWdpblRhYkl0ZW0oIkctViIpKSB7CiAgICAgICAgLy8gICAgICAgICBpZiAoSW1HdWk6OkJ1dHRvbigiQ2xlYXIiKSkgewogICAgICAgIC8vICAgICAgICAgICAgIEdlbmVyYWxJbmRpY2F0b3JSZWNlaXZlci5DbGVhclBsb3QoCiAgICAgICAgLy8gICAgICAgICAgICAgICAgIEluZGljYXRvck5hbWVzOjpHQUlOX1ZTX1ZPTFRBR0UpOwogICAgICAgIC8vICAgICAgICAgfQoKICAgICAgICAvLyAgICAgICAgIGlmIChJbVBsb3Q6OkJlZ2luUGxvdCgiVm9sdGFnZSIsIEltVmVjMigtMSwgLTEpLAogICAgICAgIC8vICAgICAgICAgICAgIEltUGxvdEZsYWdzX05vVGl0bGUpKSB7CiAgICAgICAgLy8gICAgICAgICAgICAgSW1QbG90OjpTZXR1cEF4ZXMoIlZvbHRhZ2UgW1ZdIiwgIkdhaW4gW2FyYl0iLCBnX2F4aXNfZmxhZ3MsCiAgICAgICAgLy8gICAgICAgICAgICAgICAgIGdfYXhpc19mbGFncyk7CgogICAgICAgIC8vICAgICAgICAgICAgIEdlbmVyYWxJbmRpY2F0b3JSZWNlaXZlci5wbG90KAogICAgICAgIC8vICAgICAgICAgICAgICAgICBJbmRpY2F0b3JOYW1lczo6R0FJTl9WU19WT0xUQUdFLAogICAgICAgIC8vICAgICAgICAgICAgICAgICAiR2FpbiIsIFBsb3RTdHlsZTo6U2NhdHRlcik7CgogICAgICAgIC8vICAgICAgICAgICAgIEltUGxvdDo6RW5kUGxvdCgpOwogICAgICAgIC8vICAgICAgICAgfQogICAgICAgIC8vICAgICAgICAgSW1HdWk6OkVuZFRhYkl0ZW0oKTsKICAgICAgICAvLyAgICAgfQogICAgICAgIC8vICAgICBJbUd1aTo6RW5kVGFiQmFyKCk7CiAgICAgICAgLy8gfQoKICAgICAgICAvLyBJbUd1aTo6RW5kKCk7CgogICAgICAgIC8vIElmIHRoZXkgY2hhbmdlZCBvbiB0aGlzIEdVSSwgdXBkYXRlIHRoZSB0aHJlYWRzIHNvIHRoZXkgY2FuCiAgICAgICAgLy8gbW9kaWZ5IHdoYXRldmVyIHRoZXkgd2FudCBiYXNlZCBvbiB0aGUgZGF0YSB3ZSBzZW50CiAgICAgICAgX3RlZW5zeV9waXBlX2VuZC5zZW5kX2lmX2NoYW5nZWQoKTsKICAgICAgICBfc2lwbV9waXBlX2VuZC5zZW5kX2lmX2NoYW5nZWQoKTsKICAgICAgICBfc2xvd2RhcV9waXBlX2VuZC5zZW5kX2lmX2NoYW5nZWQoKTsKCiAgICAgICAgLy8gVXBkYXRlIGxvY2FsIGRhdGEgZnJvbSB0aHJlYWRzCiAgICAgICAgc3RhdGljIFRlZW5zeUNvbnRyb2xsZXJEYXRhIHRlZW5zeV90aHJlYWRfZGF0YTsKICAgICAgICBpZiAoX3RlZW5zeV9waXBlX2VuZC5yZXRyaWV2ZSh0ZWVuc3lfdGhyZWFkX2RhdGEpKSB7CiAgICAgICAgICAgIF90ZWVuc3lfZG9lID0gdGVlbnN5X3RocmVhZF9kYXRhOwogICAgICAgIH0KCiAgICAgICAgc3RhdGljIFNpUE1BY3F1aXNpdGlvbkRhdGEgc2lwbV90aHJlYWRfZGF0YTsKICAgICAgICBpZiAoX3NpcG1fcGlwZV9lbmQucmV0cmlldmUoc2lwbV90aHJlYWRfZGF0YSkpIHsKICAgICAgICAgICAgX3NpcG1fZG9lID0gc2lwbV90aHJlYWRfZGF0YTsKICAgICAgICB9CgogICAgICAgIHN0YXRpYyBTbG93REFRRGF0YSBzbG93ZGFxX3RocmVhZF9kYXRhOwogICAgICAgIGlmIChfc2xvd2RhcV9waXBlX2VuZC5yZXRyaWV2ZShzbG93ZGFxX3RocmVhZF9kYXRhKSkgewogICAgICAgICAgICBfc2xvd2RhcV9kb2UgPSBzbG93ZGFxX3RocmVhZF9kYXRhOwogICAgICAgIH0KICAgIH0KfTsKCnRlbXBsYXRlPHR5cGVuYW1lIFBpcGVzLCB0eXBlbmFtZSBEcmF3RnVuYz4KYXV0byBtYWtlX2d1aV9tYW5hZ2VyKGNvbnN0IFBpcGVzJiBwLCBEcmF3RnVuYyYmIGRmKSB7CiAgICByZXR1cm4gc3RkOjptYWtlX3VuaXF1ZTxHVUlNYW5hZ2VyPFBpcGVzLCBEcmF3RnVuYz4+KHAsCiAgICAgICAgICAgIHN0ZDo6Zm9yd2FyZDxEcmF3RnVuYz4oZGYpKTsKfQoKfSAgLy8gbmFtZXNwYWNlIFNCQ1F1ZWVucwojZW5kaWYKAAAAAAAAAACxUgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA5g8AAAAAAADmDwAAAAAAAAAAAAAAAPC/"
				]
			]
		},
		{
			"file": "include/sbcqueens-gui/caen_helper.hpp",
			"settings":
			{
				"buffer_size": 55109,
				"line_ending": "Unix"
			},
			"undo_stack":
			[
				[
					743,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAAwzAAAI2lmbmRlZiBDQUVOSEVMUEVSX0gKI2RlZmluZSBDQUVOSEVMUEVSX0gKI3ByYWdtYSBvbmNlCgovLyBDIFNURCBpbmNsdWRlcwovLyBDIDNyZCBwYXJ0eSBpbmNsdWRlcwovLyBDKysgU1REIGluY2x1ZGVzCiNpbmNsdWRlIDxjc3RkaW50PgojaW5jbHVkZSA8Y3djaGFyPgojaW5jbHVkZSA8aW5pdGlhbGl6ZXJfbGlzdD4KI2luY2x1ZGUgPG1lbW9yeT4KI2luY2x1ZGUgPHN0cmluZz4KI2luY2x1ZGUgPHZlY3Rvcj4KI2luY2x1ZGUgPHVub3JkZXJlZF9tYXA+CiNpbmNsdWRlIDxtYXA+CiNpbmNsdWRlIDxjbWF0aD4KI2luY2x1ZGUgPGNocm9ubz4KI2luY2x1ZGUgPGFycmF5PgojaW5jbHVkZSA8c3RkZXhjZXB0PgojaW5jbHVkZSA8YWxnb3JpdGhtPgojaW5jbHVkZSA8c3Bhbj4KCi8vIEMrKyAzcmQgcGFydHkgaW5jbHVkZXMKI2luY2x1ZGUgPENBRU5Db21tLmg+CiNpbmNsdWRlIDxDQUVORGlnaXRpemVyLmg+CgovLyBteSBpbmNsdWRlcwojaW5jbHVkZSAibG9nZ2VyX2hlbHBlcnMuaHBwIgoKbmFtZXNwYWNlIFNCQ1F1ZWVucyB7CgplbnVtIGNsYXNzIENBRU5EaWdpdGl6ZXJGYW1pbGllcyB7CiNpZm5kZWYgTkRFQlVHCiAgICBERUJVRyA9IDAsCiNlbmRpZgogICAgeDcyMSwgeDcyNCwgeDcyNSwKICAgIHg3MzEsCiAgICB4NzMwLCAvLyBBY3R1YWxseSBzdXBwb3J0ZWQKICAgIHg3NDAsIC8vIEFjdHVhbGx5IHN1cHBvcnRlZAogICAgeDc0MiwgeDc0MywKICAgIHg3NTEsCiAgICB4NzYxLAogICAgeDc4MCwgeDc4MSwgeDc4MiwKICAgIHg3OTAKfTsKCi8vIFRyYW5zbGF0ZXMgdGhlIENBRU4gQVBJIGVycm9yIGNvZGUgdG8gYSBzdHJpbmcuCnN0ZDo6c3RyaW5nIHRyYW5zbGF0ZV9jYWVuX2Vycm9yX2NvZGUoY29uc3QgQ0FFTl9ER1RaX0Vycm9yQ29kZSYpOwoKLy8gVGhpcyBsaXN0IGlzIGluY29tcGxldGUKZW51bSBjbGFzcyBDQUVOQ29ubmVjdGlvblR5cGUgewogICAgVVNCLAogICAgQTQ4MTgsCiAgICBPcHRpY2FsTGluaywgLy8gTm90IHN1cHBvcnRlZAogICAgRXRoZXJuZXRfVjQ3MTgsIC8vIE9ubHkgYXZhaWxhYmxlIGZvciBWNDcxOCAobm90IHN1cHBvcnRlZCkKICAgIFVTQl9WNDcxOCAvLyBub3Qgc3VwcG9ydGVkCn07CgovLyBUaGlzIGxpc3QgaXMgaW5jb21wbGV0ZQplbnVtIGNsYXNzIENBRU5EaWdpdGl6ZXJNb2RlbCB7CiNpZm5kZWYgTkRFQlVHCiAgICBERUJVRyA9IDAsCiNlbmRpZgogICAgRFQ1NzMwQiwKICAgIERUNTc0MEQsCiAgICBWMTc0MEQKfTsKCi8vIEFsbCB0aGUgY29uc3RhbnRzIHRoYXQgbmV2ZXIgY2hhbmdlIGZvciBhIGdpdmVuIGRpZ2l0aXplcgpzdHJ1Y3QgQ0FFTkRpZ2l0aXplck1vZGVsQ29uc3RhbnRzIHsKICAgIC8vIEFEQyByZXNvbHV0aW9uIGluIGJpdHMKICAgIHVpbnQzMl90IEFEQ1Jlc29sdXRpb24gPSA4OwogICAgLy8gSW4gUy9zCiAgICBkb3VibGUgQWNxdWlzaXRpb25SYXRlID0gMTBlNjsKICAgIC8vIEluIFMvY2gKICAgIHVpbnQzMl90IE1lbW9yeVBlckNoYW5uZWwgPSAwOwogICAgLy8gVG90YWwgbnVtYmVyIG9mIGNoYW5uZWxzCiAgICB1aW50OF90IE51bUNoYW5uZWxzID0gMTsKICAgIC8vIElmIDAsIGRpZ2l0aXplciBkb2VzIG5vdCBkZWFsIGluIGdyb3VwcwogICAgdWludDhfdCBOdW1iZXJPZkdyb3VwcyA9IDA7CiAgICAvLyBOdW1iZXIgb2YgY2hhbm5lbHMgcGVyIGdyb3VwCiAgICB1aW50OF90IE51bUNoYW5uZWxzUGVyR3JvdXAgPSAxOwoKICAgIC8vIE1heCBudW1iZXIgb2YgaW50ZXJuYWwgYnVmZmVycyB0aGUgZGlnaXRpemVyIGNhbiBoYXZlLgogICAgdWludDMyX3QgTWF4TnVtQnVmZmVycyA9IDEwMjQ7CgogICAgLy8gQ29uc3RhbnQgdG8gdHJhbnNmb3JtIE5sb2MgdG8gUmVjb3JkbGVuZ3RoCiAgICBmbG9hdCBOTE9DVG9SZWNvcmRMZW5ndGggPSAxLjBmOwoKICAgIC8vIFZvbHRhZ2UgcmFuZ2VzIHRoZSBkaWdpdGl6ZXIgaGFzLgogICAgc3RkOjp2ZWN0b3I8ZG91YmxlPiBWb2x0YWdlUmFuZ2VzID0ge307Cn07CgovLyBUaGlzIGlzIGhlcmUgc28gd2UgY2FuIHRyYW5zZm9ybSBzdHJpbmcgdG8gZW51bXMKLy8gSWYgdGhlIGtleSBkb2VzIG5vdCBleGlzdCwgdGhpcyB3aWxsIHRocm93IGFuIGVycm9yCmNvbnN0IHN0YXRpYyBpbmxpbmUgc3RkOjp1bm9yZGVyZWRfbWFwPHN0ZDo6c3RyaW5nLCBDQUVORGlnaXRpemVyTW9kZWw+CiAgICBDQUVORGlnaXRpemVyTW9kZWxzTWFwIHsKI2lmbmRlZiBOREVCVUcKICAgICAgICB7IkRFQlVHIiwgQ0FFTkRpZ2l0aXplck1vZGVsOjpERUJVR30sCiNlbmRpZgogICAgICAgIHsiRFQ1NzMwQiIsIENBRU5EaWdpdGl6ZXJNb2RlbDo6RFQ1NzMwQn0sCiAgICAgICAgeyJEVDU3NDBEIiwgQ0FFTkRpZ2l0aXplck1vZGVsOjpEVDU3NDBEfSwKICAgICAgICB7IlYxNzQwRCIsIENBRU5EaWdpdGl6ZXJNb2RlbDo6VjE3NDBEfQp9OwoKLy8gVGhlc2UgbGlua3MgYWxsIHRoZSBlbnVtcyB3aXRoIHRoZWlyIGNvbnN0YW50cyBvciBwcm9wZXJ0aWVzIHRoYXQKLy8gYXJlIGZpeGVkIHBlciBkaWdpdGl6ZXIKY29uc3Qgc3RhdGljIGlubGluZSBzdGQ6OnVub3JkZXJlZF9tYXA8Q0FFTkRpZ2l0aXplck1vZGVsLCBDQUVORGlnaXRpemVyTW9kZWxDb25zdGFudHM+CiAgICBDQUVORGlnaXRpemVyTW9kZWxzQ29uc3RhbnRzTWFwIHsKICAgICAgICAjaWZuZGVmIE5ERUJVRwogICAgICAgIHtDQUVORGlnaXRpemVyTW9kZWw6OkRFQlVHLCBDQUVORGlnaXRpemVyTW9kZWxDb25zdGFudHMgewogICAgICAgICAgICA4LCAgICAgICAgICAvLyBBRENSZXNvbHV0aW9uCiAgICAgICAgICAgIDEwMGUzLCAgICAgIC8vICBBY3F1aXNpdGlvblJhdGUKICAgICAgICAgICAgMTAyNHVsLCAgICAgLy8gTWVtb3J5UGVyQ2hhbm5lbAogICAgICAgICAgICAxLCAgICAgICAgICAvLyBOdW1DaGFubmVscwogICAgICAgICAgICAwLCAgICAgICAgICAvLyBOdW1iZXJPZkdyb3VwcywgMCAtPiBubyBncm91cHMKICAgICAgICAgICAgMSwgICAgICAgICAgLy8gTnVtQ2hhbm5lbHNQZXJHcm91cAogICAgICAgICAgICAxMDI0LCAgICAgICAvLyBNYXhOdW1CdWZmZXJzCiAgICAgICAgICAgIDEwLjBmLCAgICAgIC8vIE5MT0NUb1JlY29yZExlbmd0aAogICAgICAgICAgICB7MS4wfSAgICAgICAvLyBWb2x0YWdlUmFuZ2VzCiAgICAgICAgfX0sCiAgICAgICAgI2VuZGlmCiAgICAgICAge0NBRU5EaWdpdGl6ZXJNb2RlbDo6RFQ1NzMwQiwgQ0FFTkRpZ2l0aXplck1vZGVsQ29uc3RhbnRzIHsKICAgICAgICAgICAgMTQsICAgICAgICAgLy8gQURDUmVzb2x1dGlvbgogICAgICAgICAgICA1MDBlNiwgICAgICAvLyAgQWNxdWlzaXRpb25SYXRlCiAgICAgICAgICAgIHN0YXRpY19jYXN0PHVpbnQzMl90Pig1LjEyZTYpLCAgLy8gTWVtb3J5UGVyQ2hhbm5lbAogICAgICAgICAgICA4LCAgICAgICAgICAvLyBOdW1DaGFubmVscwogICAgICAgICAgICAwLCAgICAgICAgICAvLyBOdW1iZXJPZkdyb3VwcywgMCAtPiBubyBncm91cHMKICAgICAgICAgICAgOCwgICAgICAgICAgLy8gTnVtQ2hhbm5lbHNQZXJHcm91cAogICAgICAgICAgICAxMDI0LCAgICAgICAvLyBNYXhOdW1CdWZmZXJzCiAgICAgICAgICAgIDEwLjBmLCAgICAgIC8vIE5MT0NUb1JlY29yZExlbmd0aAogICAgICAgICAgICB7MC41LCAyLjB9ICAvLyBWb2x0YWdlUmFuZ2VzCiAgICAgICAgfX0sCiAgICAgICAge0NBRU5EaWdpdGl6ZXJNb2RlbDo6RFQ1NzQwRCwgQ0FFTkRpZ2l0aXplck1vZGVsQ29uc3RhbnRzIHsKICAgICAgICAgICAgMTIsICAgICAgICAgLy8gQURDUmVzb2x1dGlvbgogICAgICAgICAgICA2Mi41ZTYsICAgICAvLyAgQWNxdWlzaXRpb25SYXRlCiAgICAgICAgICAgIHN0YXRpY19jYXN0PHVpbnQzMl90PigxOTJlMyksICAvLyBNZW1vcnlQZXJDaGFubmVsCiAgICAgICAgICAgIDMyLCAgICAgICAgIC8vIE51bUNoYW5uZWxzCiAgICAgICAgICAgIDQsICAgICAgICAgIC8vIE51bUNoYW5uZWxzUGVyR3JvdXAKICAgICAgICAgICAgOCwgICAgICAgICAgLy8gTnVtYmVyT2ZHcm91cHMKICAgICAgICAgICAgMTAyNCwgICAgICAgLy8gTWF4TnVtQnVmZmVycwogICAgICAgICAgICAxLjVmLCAgICAgICAvLyBOTE9DVG9SZWNvcmRMZW5ndGgKICAgICAgICAgICAgezIuMCwgMTAuMH0gLy8gVm9sdGFnZVJhbmdlcwogICAgICAgIH19LAogICAgICAgIHtDQUVORGlnaXRpemVyTW9kZWw6OlYxNzQwRCwgQ0FFTkRpZ2l0aXplck1vZGVsQ29uc3RhbnRzIHsKICAgICAgICAgICAgMTIsICAgICAgICAgLy8gQURDUmVzb2x1dGlvbgogICAgICAgICAgICA2Mi41ZTYsICAgICAvLyAgQWNxdWlzaXRpb25SYXRlCiAgICAgICAgICAgIHN0YXRpY19jYXN0PHVpbnQzMl90PigxOTJlMyksICAvLyBNZW1vcnlQZXJDaGFubmVsCiAgICAgICAgICAgIDY0LCAgICAgICAgIC8vIE51bUNoYW5uZWxzCiAgICAgICAgICAgIDgsICAgICAgICAgIC8vIE51bUNoYW5uZWxzUGVyR3JvdXAKICAgICAgICAgICAgOCwgICAgICAgICAgLy8gTnVtYmVyT2ZHcm91cHMKICAgICAgICAgICAgMTAyNCwgICAgICAgLy8gTWF4TnVtQnVmZmVycwogICAgICAgICAgICAxLjVmLCAgICAgICAvLyBOTE9DVG9SZWNvcmRMZW5ndGgKICAgICAgICAgICAgezIuMH0gICAgICAgLy8gVm9sdGFnZVJhbmdlcwogICAgICAgIH19CiAgICAvLyBUaGlzIGlzIGEgQysrMjAgaGlnaGVyIGZlYXR1cmUgc28gbGV0cyBrZWVwIGV2ZXJ5dGhpbmcgMTcgY29tcGxpYW50CiAgICAvLyBDQUVORGlnaXRpemVyTW9kZWxzQ29uc3RhbnRzX21hcCB7CiAgICAvLyAgICAge0NBRU5EaWdpdGl6ZXJNb2RlbDo6RFQ1NzMwQiwgQ0FFTkRpZ2l0aXplck1vZGVsQ29uc3RhbnRzewogICAgLy8gICAgICAgICAuQURDUmVzb2x1dGlvbiA9IDE0LAogICAgLy8gICAgICAgICAuQWNxdWlzaXRpb25SYXRlID0gNTAwZTYsCiAgICAvLyAgICAgICAgIC5NZW1vcnlQZXJDaGFubmVsID0gc3RhdGljX2Nhc3Q8dWludDMyX3Q+KDUuMTJlNiksCiAgICAvLyAgICAgICAgIC5OdW1DaGFubmVscyA9IDgsCiAgICAvLyAgICAgICAgIC5OdW1iZXJPZkdyb3VwcyA9IDAsCiAgICAvLyAgICAgICAgIC5OdW1DaGFubmVsc1Blckdyb3VwID0gOCwKICAgIC8vICAgICAgICAgLk5MT0NUb1JlY29yZExlbmd0aCA9IDEwLAogICAgLy8gICAgICAgICAuVm9sdGFnZVJhbmdlcyA9IHswLjUsIDIuMH0KICAgIC8vICAgICB9fSwKICAgIC8vICAgICB7Q0FFTkRpZ2l0aXplck1vZGVsOjpEVDU3NDBELCBDQUVORGlnaXRpemVyTW9kZWxDb25zdGFudHN7CiAgICAvLyAgICAgICAgIC5BRENSZXNvbHV0aW9uID0gMTIsCiAgICAvLyAgICAgICAgIC5BY3F1aXNpdGlvblJhdGUgPSA2Mi41ZTYsCiAgICAvLyAgICAgICAgIC5NZW1vcnlQZXJDaGFubmVsID0gc3RhdGljX2Nhc3Q8dWludDMyX3Q+KDE5MmUzKSwKICAgIC8vICAgICAgICAgLk51bUNoYW5uZWxzID0gMzIsCiAgICAvLyAgICAgICAgIC5OdW1iZXJPZkdyb3VwcyA9IDQsCiAgICAvLyAgICAgICAgIC5OdW1DaGFubmVsc1Blckdyb3VwID0gOCwKICAgIC8vICAgICAgICAgLk5MT0NUb1JlY29yZExlbmd0aCA9IDEuNSwKICAgIC8vICAgICAgICAgLlZvbHRhZ2VSYW5nZXMgPSB7Mi4wLCAxMC4wfQogICAgLy8gICAgIH19Cn07CgpzdHJ1Y3QgQ0FFTkdsb2JhbENvbmZpZyB7CiAgICAvLyBYNzMwIG1heCBidWZmZXJzIGlzIDEwMjQKICAgIC8vIFg3NDAgbWF4IGJ1ZmZlcnMgaXMgMTAyNAogICAgdWludDMyX3QgTWF4RXZlbnRzUGVyUmVhZCA9IDUxMjsKCiAgICAvLyBSZWNvcmQgbGVuZ3RoIGluIHNhbXBsZXMKICAgIHVpbnQzMl90IFJlY29yZExlbmd0aCA9IDEwMDsKCiAgICAvLyBJbiAlCiAgICB1aW50MzJfdCBQb3N0VHJpZ2dlclBvcmNlbnRhZ2UgPSA1MDsKCiAgICAvLyBJZiBlbmFibGVkLCB0aGUgdHJpZ2dlciBhY3F1aXNpdGlvbiBvbmx5IGhhcHBlbnMgd2hlbmV2ZXIKICAgIC8vIEVYVCBvciBUUkctSU4gaXMgaGlnaC4KICAgIGJvb2wgRVhUQXNHYXRlID0gZmFsc2U7CgogICAgLy8gRXh0ZXJuYWwgVHJpZ2dlciBNb2RlCiAgICAvLyBzZWUgY2Flbl9oZWxwZXIuY3BwIHNldHVwKC4uLikgdG8gc2VlIGEgZGVzY3JpcHRpb24gb2YgdGhlc2UgZW51bXMKICAgIENBRU5fREdUWl9UcmlnZ2VyTW9kZV90IEVYVFRyaWdnZXJNb2RlCiAgICAgICAgPSBDQUVOX0RHVFpfVHJpZ2dlck1vZGVfdDo6Q0FFTl9ER1RaX1RSR01PREVfQUNRX09OTFk7CgogICAgLy8gU29mdHdhcmUgVHJpZ2dlciBNb2RlCiAgICAvLyBzZWUgY2Flbl9oZWxwZXIuY3BwIHNldHVwKC4uLikgdG8gc2VlIGEgZGVzY3JpcHRpb24gb2YgdGhlc2UgZW51bXMKICAgIENBRU5fREdUWl9UcmlnZ2VyTW9kZV90IFNXVHJpZ2dlck1vZGUKICAgICAgICA9IENBRU5fREdUWl9UcmlnZ2VyTW9kZV90OjpDQUVOX0RHVFpfVFJHTU9ERV9BQ1FfT05MWTsKCiAgICAvLyBDaGFubmVsIFRyaWdnZXIgTW9kZQogICAgLy8gc2VlIGNhZW5faGVscGVyLmNwcCBzZXR1cCguLi4pIHRvIHNlZSBhIGRlc2NyaXB0aW9uIG9mIHRoZXNlIGVudW1zCiAgICBDQUVOX0RHVFpfVHJpZ2dlck1vZGVfdCBDSFRyaWdnZXJNb2RlCiAgICAgICAgPSBDQUVOX0RHVFpfVHJpZ2dlck1vZGVfdDo6Q0FFTl9ER1RaX1RSR01PREVfQUNRX09OTFk7CgogICAgLy8gQWNxdWlzaXRpb24gbW9kZQogICAgQ0FFTl9ER1RaX0FjcU1vZGVfdCBBY3FNb2RlCiAgICAgICAgPSBDQUVOX0RHVFpfQWNxTW9kZV90OjpDQUVOX0RHVFpfU1dfQ09OVFJPTExFRDsKCiAgICAvLyBWb2x0YWdlIGkvbyBsZXZlbCBmb3IgdGhlIGRpZ2l0YWwgY2hhbm5lbHMKICAgIENBRU5fREdUWl9JT0xldmVsX3QgSU9MZXZlbAogICAgICAgID0gQ0FFTl9ER1RaX0lPTGV2ZWxfdDo6Q0FFTl9ER1RaX0lPTGV2ZWxfTklNOwoKICAgIC8vIFRoaXMgZmVhdHVyZSBpcyBmb3IgeDczMCwgeDc0MAogICAgLy8gVHJ1ZSA9IGRpc2FibGVkLCBGYWxzZSA9IGVuYWJsZWQKICAgIGJvb2wgVHJpZ2dlck92ZXJsYXBwaW5nRW4gPSBmYWxzZTsKCiAgICAvLyBmYWxzZSAtPiBub3JtYWwsIHRoZSBib2FyZCBpcyBmdWxsIHdoZW5ldmVyIGFsbCBidWZmZXJzIGFyZSBmdWxsLgogICAgLy8gdHJ1ZSAgLT4gYWx3YXlzIG9uZSBidWZmZXIgZnJlZS4gVGhlIGJvYXJkIGlzIGZ1bGwgd2hlbmV2ZXIgTmItMSBidWZmZXJzCiAgICAvLyBhcmUgZnVsbCwgd2hlcmUgTmIgaXMgdGhlIG92ZXJhbGwgbnVtYmVyIG9mIG51bWJlcnMgb2YgYnVmZmVycyBhbGxvY2F0ZWQuCiAgICBib29sIE1lbW9yeUZ1bGxNb2RlU2VsZWN0aW9uID0gdHJ1ZTsKCiAgICAvLyBUcmlnZ2VyaW5nIGVkZ2Ugb3B0aW9uCiAgICAvLyAwTC9DQUVOX0RHVFpfVHJpZ2dlck9uUmlzaW5nRWRnZSAtPiBSaXNpbmcgZWRnZSwKICAgIC8vIDFML0NBRU5fREdUWl9UcmlnZ2VyT25GYWxsaW5nRWRnZSAtPiBGYWxsaW5nIGVkZ2UKICAgIENBRU5fREdUWl9UcmlnZ2VyUG9sYXJpdHlfdCBUcmlnZ2VyUG9sYXJpdHkgPQogICAgICAgIENBRU5fREdUWl9UcmlnZ2VyUG9sYXJpdHlfdDo6Q0FFTl9ER1RaX1RyaWdnZXJPblJpc2luZ0VkZ2U7Cn07CgovLyBIZWxwIHN0cnVjdHVyZSB0byBsaW5rIGFuIGFycmF5IG9mIGJvb2xlYW5zIHRvIGEgc2luZ2xlIHVpbnQ4X3QKLy8gd2l0aG91dCB0aGUgdXNlIG9mIG90aGVyIEMrKyBmZWF0dXJlcyB3aGljaCBtYWtlcyBpdCB0cmlja2llciB0byB1c2UKc3RydWN0IENoYW5uZWxzTWFzayB7CiAgICBjb25zdCBzdGF0aWMgc3RkOjpzaXplX3Qga051bUNIcyA9IDg7CiAgICBzdGQ6OmFycmF5PGJvb2wsIGtOdW1DSHM+IENICiAgICAgICAgPSB7ZmFsc2UsIGZhbHNlLCBmYWxzZSwgZmFsc2UsIGZhbHNlLCBmYWxzZSwgZmFsc2UsIGZhbHNlfTsKCiAgICB1aW50OF90IGdldCgpIG5vZXhjZXB0IHsKICAgICAgICB1aW50OF90IG91dCA9IDB1OwogICAgICAgIGZvcihzdGQ6OnNpemVfdCBpID0gMDsgaSA8IENILnNpemUoKTsgaSsrKSB7CiAgICAgICAgICAgIG91dCB8PSBzdGF0aWNfY2FzdDx1aW50OF90PihDSFtpXSkgPDwgaTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIG91dDsKICAgIH0KCiAgICBib29sJiBvcGVyYXRvcltdKGNvbnN0IHN0ZDo6c2l6ZV90JiBpdGVyKSBub2V4Y2VwdCB7CiAgICAgICAgcmV0dXJuIENIW2l0ZXJdOwogICAgfQoKICAgIGNvbnN0IGJvb2wmIGF0KGNvbnN0IHN0ZDo6c2l6ZV90JiBpdGVyKSBjb25zdCB7CiAgICAgICAgaWYoaXRlciA+IGtOdW1DSHMpIHsKICAgICAgICAgICAgdGhyb3cgc3RkOjppbnZhbGlkX2FyZ3VtZW50KCJpdGVyIGlzIGhpZ2hlciB0aGFuIDguIik7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gQ0hbaXRlcl07CiAgICB9Cn07CgovLyBBcyBhIGdlbmVyYWwgY2FzZSwgdGhpcyBob2xkcyBhbGwgdGhlIGNvbmZpZ3VyYXRpb24gdmFsdWVzIGZvciBhIGNoYW5uZWwKLy8gaWYgYSBkaWdpdGl6ZXIgZG9lcyBub3Qgc3VwcG9ydCBncm91cHMsIGkuZSB4NzMwLCBncm91cCA9IGNoYW5uZWwKc3RydWN0IENBRU5Hcm91cENvbmZpZyB7CiAgICAvLyBJcyB0aGlzIGdyb3VwL2NoYW5uZWwgZW5hYmxlZD8KICAgIGJvb2wgRW5hYmxlZCA9IDA7CgogICAgLy8gTWFzayBvZiBjaGFubmVscyB3aXRoaW4gdGhlIGdyb3VwIGVuYWJsZWQgdG8gdHJpZ2dlcgogICAgLy8gSWYgQ2hhbm5lbCwgaWYgaXRzICE9IDAgdGhlbiBpdHMgZW5hYmxlZAogICAgQ2hhbm5lbHNNYXNrIFRyaWdnZXJNYXNrOwoKICAgIC8vIE1hc2sgb2YgZW5hYmxlZCBjaGFubmVscyB3aXRoaW4gdGhlIGdyb3VwCiAgICAvLyBJZ25vcmVkIGZvciBzaW5nbGUgY2hhbm5lbHMuCiAgICBDaGFubmVsc01hc2sgQWNxdWlzaXRpb25NYXNrOwoKICAgIC8vIERDIG9mZnNldHMgb2YgZWFjaCBjaGFubmVsIGluIHRoZSBncm91cCBpbiBBREMgY291bnRzLgogICAgLy8gVXN1YWxseSB0aGUgREMgb2Zmc2V0IGlzIGEgMTZiaXQgREFDLiBDaGVjayBkb2N1bWVudGF0aW9uLgogICAgdWludDMyX3QgRENPZmZzZXQgPSAweDgwMDA7CiAgICBzdGQ6OmFycmF5PHVpbnQ4X3QsIDg+IERDQ29ycmVjdGlvbnMgPSB7MCwgMCwgMCwgMCwgMCwgMCwgMCwgMH07CgogICAgLy8gRm9yIGRpZ2l0aXplcnMgdGhhdCBzdXBwb3J0IHNldmVyYWwgcmFuZ2VzLgogICAgLy8gMCA9IDJWcHAsIDEgPSAwLjVWcHAKICAgIC8vIERDIHJhbmdlIG9mIHRoZSBncm91cCBvciBjaGFubmVsCiAgICB1aW50OF90IERDUmFuZ2UgPSAwOwoKICAgIC8vIEluIEFEQyBjb3VudHMKICAgIHVpbnQzMl90IFRyaWdnZXJUaHJlc2hvbGQgPSAwOwp9OwoKLy8gRXZlbnRzIHN0cnVjdHVyZTogaG9sZHMgdGhlIHJhdyBkYXRhIG9mIHRoZSBldmVudCwgdGhlIGluZm8gKHRpbWVzdGFtcCksCi8vIGFuZCB0aGUgcG9pbnRlciB0byB0aGUgcG9pbnQgaW4gdGhlIG9yaWdpbmFsIGJ1ZmZlci4KLy8gVGhpcyB1c2VzIENBRU4gZnVuY3Rpb25zIHRvIGFsbG9jYXRlIG1lbW9yeSwgc28gaWYgaGFuZGxlIGRvZXMgbm90Ci8vIGhhdmUgYW4gYXNzb2NpYXRlZCBkaWdpdGl6ZXIgdG8gaXQsIGl0IHdpbGwgbm90IHdvcmsuCi8vIENyZWF0ZSBldmVudHMgb25seSBhZnRlciBhIHNldHVwKC4uLikgY2FsbCBoYXMgYmVlbiBtYWRlIGZvciBiZXN0Ci8vIHJlc3VsdHMuCmNsYXNzIENBRU5FdmVudCB7CiAgICBpbnQgX2hhbmRsZSA9IDA7CiAgICAvLyBQb3NzaWJseSB0aGUgbW9zdCBtZW1vcnkgdW5zYWZlIHBhcnQgb2YgYWxsIENBRU4gc29mdHdhcmUuCiAgICAvLyBSZW1lbWJlciBraWRzLCBkbyBub3Qgd3JpdGUgZnVuY3Rpb25zIHRoYXQgdGFrZSB2b2lkKioKICAgIC8vIHRoYXQgbW9kaWZ5IHRoZWlyIGludGVybmFsIHZhbHVlcwoKICAgIC8vIEEgcG9pbnRlciB0byB0aGUgbG9jYXRpb24gaW4gdGhlIENBRU5EYXRhIChzZWUgYmVsb3cpCiAgICAvLyBET0VTIE5PVCBNQU5BR0UgREFUQQogICAgY2hhciogRGF0YVB0ciA9IG51bGxwdHI7CiAgICAvLyBUaGUgcmVpbnRlcnByZXRlZCBkYXRhIGFzIHVpbnQxNl90cyB3aXRoIHNpemVzLgogICAgLy8gTXVzdCBiZSBwb2ludGVyIGJlY2F1c2UgdGhhdCBpcyB3aGF0IHRoZSBDQUVOIEFQSSBleHBlY3RzLgogICAgQ0FFTl9ER1RaX1VJTlQxNl9FVkVOVF90KiBEYXRhID0gbnVsbHB0cjsKICAgIC8vIENvbnRhaW5zIHRoZSBJbmZvLgogICAgQ0FFTl9ER1RaX0V2ZW50SW5mb190IEluZm8gPSBDQUVOX0RHVFpfRXZlbnRJbmZvX3R7fTsKCiAgICBDQUVOX0RHVFpfRXJyb3JDb2RlIF9lcnJfY29kZSA9IENBRU5fREdUWl9FcnJvckNvZGU6OkNBRU5fREdUWl9TdWNjZXNzOwogcHVibGljOgogICAgLy8gQ3JlYXRpbmcgYW4gRXZlbnQgdXNpbmcgYSBoYW5kbGUgYWxsb2NhdGVzIG1lbW9yeQogICAgZXhwbGljaXQgQ0FFTkV2ZW50KGNvbnN0IGludCYgaGFuZGxlKSA6IF9oYW5kbGUoaGFuZGxlKSB7CiAgICAgICAgLy8gVGhpcyB3aWxsIG9ubHkgYWxsb2NhdGUgbWVtb3J5IGlmIGhhbmRsZSBkb2VzCiAgICAgICAgLy8gaGFzIGFuIGFzc29jaWF0ZWQgZGlnaXRpemVyIHRvIGl0LgogICAgICAgIF9lcnJfY29kZSA9IENBRU5fREdUWl9BbGxvY2F0ZUV2ZW50KF9oYW5kbGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVpbnRlcnByZXRfY2FzdDx2b2lkKio+KCZEYXRhKSk7CiAgICB9CgogICAgLy8gSWYgaGFuZGxlIGlzIHJlbGVhc2VkIGJlZm9yZSB0aGlzIGV2ZW50IGlzIGZyZWVkLAogICAgLy8gaXQgd2lsbCBjYXVzZSBhIG1lbW9yeSBsZWFrLCBtYXliZT8KICAgIH5DQUVORXZlbnQoKSB7CiAgICAgICAgaWYgKERhdGEpIHsKICAgICAgICAgICAgX2Vycl9jb2RlID0gQ0FFTl9ER1RaX0ZyZWVFdmVudChfaGFuZGxlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlaW50ZXJwcmV0X2Nhc3Q8dm9pZCoqPigmRGF0YSkpOwogICAgICAgICAgICBpZihfZXJyX2NvZGUgPCAwKSB7CiAgICAgICAgICAgICAgICBzdGQ6OmNvdXQgPDwgIkZhdGFsIGVycm9yIGF0IH5DQUVORXZlbnQoKSIKICAgICAgICAgICAgICAgICAgICAgICAgIkZhaWxlZCB0byBmcmVlIG1lbW9yeSB3aXRoIGVycm9yOiAiIDw8CiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zbGF0ZV9jYWVuX2Vycm9yX2NvZGUoX2Vycl9jb2RlKSA8PCAiXG4iOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQoKICAgIFtbbm9kaXNjYXJkXV0gY29uc3QgQ0FFTl9ER1RaX0Vycm9yQ29kZSYgZ2V0RXJyb3IoKSBjb25zdCB7CiAgICAgICAgcmV0dXJuIF9lcnJfY29kZTsKICAgIH0KCiAgICAvLyBBIHJlYWQtb25seSBhY2Nlc3MgdG8gdGhlIGV2ZW50IGRhdGEuCiAgICBbW25vZGlzY2FyZF1dIGNvbnN0IENBRU5fREdUWl9VSU5UMTZfRVZFTlRfdCogZ2V0RGF0YSgpIGNvbnN0IHsKICAgICAgICByZXR1cm4gRGF0YTsKICAgIH0KCiAgICAvLyBBIHJlYWQtb25seSBhY2Nlc3MgdG8gdGhlIGV2ZW50IGluZm8uCiAgICBbW25vZGlzY2FyZF1dIGNvbnN0IENBRU5fREdUWl9FdmVudEluZm9fdCYgZ2V0SW5mbygpIGNvbnN0IHsKICAgICAgICByZXR1cm4gSW5mbzsKICAgIH0KCiAgICAvLyBUaGlzIGlzIGEgc3R1cGlkIGZ1bmN0aW9uLCBjaGFyKiBpcyBtdXRhYmxlIHNvIGFueSBpbnRlcmZhY2luZwogICAgLy8gY29kZSB3aWxsIGJlIHVuc2FmZSBieSBkZWZhdWx0LiBCbGFtZSBDQUVOLCBub3QgbWUuIFRha2UgbWF4IHByZWNhdXRpb25zLgogICAgLy8KICAgIC8vIFRoaXMgZ3JhYnMgdGhlIGRhdGEgZnJvbSBkYXRhX3B0ciwgQ0FFTiBtYWdpYyBoYXBwZW5zIGFuZCByZXR1cm5zCiAgICAvLyB0aGUgaW5mbyBvZiB0aGUgZXZlbnQsIGFuZCBhIHBvaW50ZXIgdG8gaXRzIGxvY2F0aW9uIGluIGRhdGFfcHRyCiAgICBDQUVOX0RHVFpfRXJyb3JDb2RlIGdldEV2ZW50SW5mbyhjaGFyKiBkYXRhX3B0ciwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHVpbnQzMl90JiBkYXRhX3NpemUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbnQzMl90JiBpKSBub2V4Y2VwdCB7CiAgICAgICAgX2Vycl9jb2RlID0gQ0FFTl9ER1RaX0dldEV2ZW50SW5mbyhfaGFuZGxlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YV9wdHIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhX3NpemUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJkluZm8sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmRGF0YVB0cik7CiAgICAgICAgcmV0dXJuIF9lcnJfY29kZTsKICAgIH0KCiAgICAvLyBEZWNvZGVzIHRoZSBpbmZvcm1hdGlvbiBhdCB0aGUgcG9pbnRlciBmb3VuZCBpbiBnZXRFdmVudEluZm8KICAgIC8vCiAgICAvLyBDYW5ub3QgZGVjb2RlIHdpdGhvdXQgY2FsbGluZyBnZXRFdmVudEluZm8gYXQgbGVhc3Qgb25jZS4gSWYKICAgIC8vIHNvbWVvbmUgdGhlIGRhdGEgdXNlZCBpbiBkYXRhX3B0ciBpcyBkZXN0cm95ZWQgdGhpcyB3aWxsIHJldHVybiBhbiBlcnJvcgogICAgQ0FFTl9ER1RaX0Vycm9yQ29kZSBkZWNvZGVFdmVudCgpIHsKICAgICAgICBfZXJyX2NvZGUgPSBDQUVOX0RHVFpfRGVjb2RlRXZlbnQoX2hhbmRsZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGF0YVB0ciwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVpbnRlcnByZXRfY2FzdDx2b2lkKio+KCZEYXRhKSk7CiAgICAgICAgcmV0dXJuIF9lcnJfY29kZTsKICAgIH0KfTsKCnRlbXBsYXRlIDx0eXBlbmFtZSBEYXRhVHlwZSA9IHVpbnQxNl90PgpyZXF1aXJlcyBzdGQ6OmlzX3NhbWVfdjxEYXRhVHlwZSwgdWludDE2X3Q+IG9yIHN0ZDo6aXNfc2FtZV92PERhdGFUeXBlLCB1aW50OF90PgpjbGFzcyBDQUVOV2F2ZWZvcm1zIHsKICAgIHN0ZDo6dmVjdG9yPHN0ZDo6c2l6ZV90PiBfZW5fY2hzID0ge307CiAgICBzdGQ6OnNpemVfdCBfbnVtX2VuX2NocyA9IDA7CiAgICB1aW50MzJfdCBfcmVjb3JkX2xlbmd0aCA9IDA7CiAgICBDQUVOX0RHVFpfRXZlbnRJbmZvX3QgX2luZm8gPSBDQUVOX0RHVFpfRXZlbnRJbmZvX3R7fTsKIHB1YmxpYzoKICAgIENBRU5XYXZlZm9ybXMoKSA9IGRlZmF1bHQ7CiAgICBDQUVOV2F2ZWZvcm1zKGNvbnN0IENBRU5EaWdpdGl6ZXJNb2RlbENvbnN0YW50cyYgbW9kZWxfY29uc3RhbnRzLAogICAgICAgICAgICAgICAgICBjb25zdCBDQUVOR2xvYmFsQ29uZmlnJiBncF9jb25maWcsCiAgICAgICAgICAgICAgICAgIGNvbnN0IHN0ZDo6YXJyYXk8Q0FFTkdyb3VwQ29uZmlnLCA4PiYgZ3JvdXBzKSA6CiAgICAgICAgICAgIF9lbl9jaHN7X2dldF9lbl9jaHMobW9kZWxfY29uc3RhbnRzLCBncm91cHMpfSwKICAgICAgICAgICAgX251bV9lbl9jaHN7X2VuX2Nocy5zaXplKCl9LAogICAgICAgICAgICBfcmVjb3JkX2xlbmd0aHtncF9jb25maWcuUmVjb3JkTGVuZ3RofSwKICAgICAgICAgICAgX2RhdGEoX251bV9lbl9jaHMqX3JlY29yZF9sZW5ndGgpCiAgICB7IH0KCiAgICB+Q0FFTldhdmVmb3JtcygpID0gZGVmYXVsdDsKCiAgICBbW25vZGlzY2FyZF1dIGNvbnN0IHVpbnQzMl90JiBnZXRSZWNvcmRMZW5ndGgoKSBjb25zdCB7CiAgICAgICAgcmV0dXJuIF9yZWNvcmRfbGVuZ3RoOwogICAgfQogICAgW1tub2Rpc2NhcmRdXSBjb25zdCBzdGQ6OnNpemVfdCYgZ2V0VG90YWxTaXplKCkgY29uc3QgewogICAgICAgIHJldHVybiBfZGF0YS5zaXplKCk7CiAgICB9CiAgICBbW25vZGlzY2FyZF1dIGNvbnN0IHN0ZDo6c2l6ZV90JiBnZXROdW1FbmFibGVkQ2hhbm5lbHMoKSBjb25zdCB7CiAgICAgICAgcmV0dXJuIF9udW1fZW5fY2hzOwogICAgfQogICAgW1tub2Rpc2NhcmRdXSBjb25zdCBzdGQ6OnZlY3RvcjxzdGQ6OnNpemVfdD4mIGdldEVuYWJsZWRDaGFubmVscygpIGNvbnN0IHsKICAgICAgICByZXR1cm4gX2VuX2NoczsKICAgIH0KICAgIFtbbm9kaXNjYXJkXV0gY29uc3QgQ0FFTl9ER1RaX0V2ZW50SW5mb190JiBnZXRJbmZvKCkgY29uc3QgewogICAgICAgIHJldHVybiBfaW5mbzsKICAgIH0KCiAgICAvLyBDb3BpZXMgdmFsdWVzIGZyb20gZXZlbnQgaW50byB0aGUgaW50ZXJuYWwgYnVmZmVyCiAgICAvLyBEb2VzIG5vdCBjb3B5IGlmIHJlY29yZCBsZW5ndGggZG9lcyBub3QgbWF0Y2ggdGhlIHNpemUKICAgIHZvaWQgY29weShjb25zdCBDQUVORXZlbnQqIGV2ZW50KSB7CiAgICAgICAgY29uc3QgQ0FFTl9ER1RaX1VJTlQxNl9FVkVOVF90KiBkYXRhID0gZXZlbnQtPmdldERhdGEoKTsKCiAgICAgICAgaWYgKGRhdGEtPkNoU2l6ZVswXSAhPSBfcmVjb3JkX2xlbmd0aCkgewogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICBfaW5mbyA9IGV2ZW50LT5nZXRJbmZvKCk7CiAgICAgICAgZm9yIChzdGQ6OnNpemVfdCBjaF9pbmRleCA9IDA7IGNoX2luZGV4IDwgX2VuX2Nocy5zaXplKCk7IGNoX2luZGV4KyspIHsKICAgICAgICAgICAgLy8gV2UgZ2V0IHRoZSBhY3R1YWwgQ0FFTiBDaGFubmVsIG51bWJlcgogICAgICAgICAgICBjb25zdCBhdXRvJiBlbl9jaCA9IF9lbl9jaHNbY2hfaW5kZXhdOwogICAgICAgICAgICAvLyBHZXQgdGhlIHNpemUgYW5kIGRhdGEgZnJvbSB0aGUgQ0FFTiBkYXRhIHN0cnVjdHVyZQogICAgICAgICAgICAvLyBUaGUgc2l6ZSBtdXN0IGJlIHRoZSByZWNvcmQgbGVuZ3RoLiBUaGVyZSBpcyBvbmUgZXhjZXB0aW9uIGlmCiAgICAgICAgICAgIC8vIE92ZXJsYXBwaW5nIHdhdmVmb3JtcyBpcyBlbmFibGVkLiBCdXQgdGhhdCBpcyBhIGRhbmdlcm91cwogICAgICAgICAgICAvLyBjb25maWd1cmF0aW9uIGFueXdheXMuCiAgICAgICAgICAgIGF1dG8gY2hfc2l6ZSA9IGRhdGEtPkNoU2l6ZVtlbl9jaF07CiAgICAgICAgICAgIGF1dG8gY2hfZGF0YSA9IGRhdGEtPkRhdGFDaGFubmVsW2VuX2NoXTsKCiAgICAgICAgICAgIC8vIE5vdyB3ZSBjb3B5IHRvIG91ciBvd24gc3RydWN0dXJlCiAgICAgICAgICAgIGZvcihzdGQ6OnNpemVfdCBpID0gMDsgaSA8IGNoX3NpemU7IGkrKykgewogICAgICAgICAgICAgICAgX2RhdGFbX3JlY29yZF9sZW5ndGgqY2hfaW5kZXggKyBpXSA9IGNoX2RhdGFbaV07CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CgogICAgLy8gRG9lcyBub3QgY29weSBpZiBib3RoIHdhdmVmb3JtcyBkbyBub3QgbWF0Y2ggaW4gZW5hYmxlZCBjaGFubmVscywKICAgIC8vIG51bWJlciBvZiBlbmFibGVkIGNoYW5uZWxzIG9yIHJlY29yZCBsZW5ndGgKICAgIHZvaWQgY29weShjb25zdCBDQUVOV2F2ZWZvcm1zPERhdGFUeXBlPiYgb3RoZXIpIHsKICAgICAgICBpZiAob3RoZXIuZ2V0TnVtRW5hYmxlZENoYW5uZWxzKCkgIT0gX2VuX2NocykgewogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICBpZiAob3RoZXIuZ2V0RW5hYmxlZENoYW5uZWxzKCkgIT0gX251bV9lbl9jaHMpIHsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgaWYgKG90aGVyLmdldFJlY29yZExlbmd0aCgpICE9IF9yZWNvcmRfbGVuZ3RoKSB7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIGF1dG8gb3RoZXJfZGF0YSA9IG90aGVyLmdldERhdGEoKTsKICAgICAgICBfaW5mbyA9IG90aGVyLmdldEluZm8oKTsKICAgICAgICBmb3Ioc3RkOjpzaXplX3QgaSA9IDA7IGkgPCBfZGF0YS5zaXplKCk7IGkrKykgewogICAgICAgICAgICBfZGF0YVtpXSA9IG90aGVyX2RhdGFbaV07CiAgICAgICAgfQogICAgfQoKICAgIFtbbm9kaXNjYXJkXV0gc3RkOjpzcGFuPERhdGFUeXBlPiBnZXREYXRhKCkgbm9leGNlcHQgewogICAgICAgIHJldHVybiBzdGQ6OnNwYW48RGF0YVR5cGU+KF9kYXRhKTsKICAgIH0KCiBwcml2YXRlOgogICAgLy8gUmF3IHdhdmVmb3JtIGRhdGEgYXMgb25lIGNvbnRpbnVvdXMgMS1EIGFycmF5CiAgICBzdGQ6OnZlY3RvcjxEYXRhVHlwZT4gX2RhdGE7CiAgICAvLyBHZXRzIGEgdmVjdG9yIHdpdGggdGhlIG51bWJlcnMgb2YgdGhlIGNoYW5uZWxzIGFzIHBlciBDQUVOIHNwZWNpZmljYXRpb24uCiAgICAvLyBUYWtlcyBpbnRvIGFjY291bnQgaWYgdGhlIGRpZ2l0aXplciBoYXMgZ3JvdXBzIG9yIG5vdC4KICAgIHN0ZDo6dmVjdG9yPHN0ZDo6c2l6ZV90PiBfZ2V0X2VuX2NocygKICAgICAgICAgICAgY29uc3QgQ0FFTkRpZ2l0aXplck1vZGVsQ29uc3RhbnRzJiBtb2RlbF9jb25zdGFudHMsCiAgICAgICAgICAgIGNvbnN0IHN0ZDo6YXJyYXk8Q0FFTkdyb3VwQ29uZmlnLCA4PiYgZ3JvdXBzKSB7CiAgICAgICAgc3RkOjp2ZWN0b3I8c3RkOjpzaXplX3Q+IG91dDsKICAgICAgICBmb3Ioc3RkOjpzaXplX3QgZ3JvdXBfbnVtID0gMDsgZ3JvdXBfbnVtIDwgZ3JvdXBzLnNpemUoKTsgZ3JvdXBfbnVtKyspIHsKICAgICAgICAgICAgY29uc3QgYXV0byYgZ3JvdXAgPSBncm91cHNbZ3JvdXBfbnVtXTsKICAgICAgICAgICAgaWYgKG5vdCBncm91cC5FbmFibGVkKSB7CiAgICAgICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8gSWYgdGhlIGRpZ2l0aXplciBkb2VzIG5vdCBzdXBwb3J0IGdyb3VwcywgZ3JvdXBfbnVtID0gY2gKICAgICAgICAgICAgaWYobW9kZWxfY29uc3RhbnRzLk51bWJlck9mR3JvdXBzID09IDApIHsKICAgICAgICAgICAgICAgIG91dC5wdXNoX2JhY2soZ3JvdXBfbnVtKTsKICAgICAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyBPdGhld2lzZSwgY2FsY3VsYXRlIHVzaW5nIHRoZSBBY3F1aXNpdGlvbk1hc2sKICAgICAgICAgICAgZm9yKHN0ZDo6c2l6ZV90IGNoID0gMDsgY2ggPCBtb2RlbF9jb25zdGFudHMuTnVtQ2hhbm5lbHNQZXJHcm91cDsgY2grKykgewogICAgICAgICAgICAgICAgaWYoZ3JvdXAuQWNxdWlzaXRpb25NYXNrLmF0KGNoKSkgewogICAgICAgICAgICAgICAgICAgIG91dC5wdXNoX2JhY2soY2ggKyBtb2RlbF9jb25zdGFudHMuTnVtQ2hhbm5lbHNQZXJHcm91cCAqIGdyb3VwX251bSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmV0dXJuIG91dDsKICAgIH0KfTsKCnRlbXBsYXRlPHR5cGVuYW1lIExvZ2dlciA9IHN0ZDo6c2hhcmVkX3B0cjxpb3N0cmVhbV93cmFwcGVyPiwKICAgICAgICAgc2l6ZV90IEV2ZW50QnVmZmVyU2l6ZSA9IDEwMjQ+CmNsYXNzIENBRU4gewogICAgLy8gSG9sZHMgdGhlIENBRU4gcmF3IGRhdGEsIHRoZSBzaXplIG9mIHRoZSBidWZmZXIsIHRoZSBzaXplCiAgICAvLyBvZiB0aGUgZGF0YSBhbmQgbnVtYmVyIG9mIGV2ZW50cwogICAgLy8gcG9pbnRlciBCdWZmZXIgaXMgbWVhbnQgdG8gYmUgYWxsb2NhdGVkIHVzaW5nIENBRU4gZnVuY3Rpb25zCiAgICAvLyBhZnRlciBhIHNldHVwKC4uLikgY2FsbC4KICAgIGNsYXNzIENBRU5EYXRhIHsKICAgICAgICBMb2dnZXImIF9sb2dnZXI7CiAgICAgICAgQ0FFTl9ER1RaX0Vycm9yQ29kZSBfZXJyX2NvZGUgPSBDQUVOX0RHVFpfRXJyb3JDb2RlOjpDQUVOX0RHVFpfU3VjY2VzczsKCiAgICAgICAgY2hhciogX2NhZW5fbWFsbG9jKGNvbnN0IGludCYgaGFuZGxlKSBub2V4Y2VwdCB7CiAgICAgICAgICAgIGNoYXIqIHRtcF9wdHIgPSBudWxscHRyOwogICAgICAgICAgICBfZXJyX2NvZGUgPSBDQUVOX0RHVFpfTWFsbG9jUmVhZG91dEJ1ZmZlcihoYW5kbGUsICZ0bXBfcHRyLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmVG90YWxTaXplQnVmZmVyKTsKICAgICAgICAgICAgcmV0dXJuIHRtcF9wdHI7CiAgICAgICAgfQogICAgIHB1YmxpYzoKICAgICAgICAvLyBVbnNhZmUgQyBidWZmZXIuIE9ubHkgdGhpcyBjbGFzcyBoYXMgYWNjZXNzIHRvIENBRU5EYXRhCiAgICAgICAgLy8gVGhlcmVmb3JlIGFsbCB0aGUgZGFtYWdlIGlzIGxpbWl0ZWQgdG8gdXMgbm90IHRoZSB1c2VyLgogICAgICAgIGNoYXIqIEJ1ZmZlciA9IG51bGxwdHI7CiAgICAgICAgdWludDMyX3QgVG90YWxTaXplQnVmZmVyID0gMDsKICAgICAgICB1aW50MzJfdCBEYXRhU2l6ZSA9IDA7CiAgICAgICAgdWludDMyX3QgTnVtRXZlbnRzID0gMDsKCiAgICAgICAgQ0FFTkRhdGEoKSA9IGRlZmF1bHQ7CiAgICAgICAgQ0FFTkRhdGEoTG9nZ2VyJiBsb2dnZXIsIGNvbnN0IGludCYgaGFuZGxlKSA6CiAgICAgICAgICAgIF9sb2dnZXJ7bG9nZ2VyfSwKICAgICAgICAgICAgQnVmZmVye19jYWVuX21hbGxvYyhoYW5kbGUpfSB7IH0KCiAgICAgICAgQ0FFTkRhdGEmIG9wZXJhdG9yPShDQUVORGF0YSYmIG90aGVyKSBub2V4Y2VwdCB7CiAgICAgICAgICAgIFRvdGFsU2l6ZUJ1ZmZlciA9IG90aGVyLlRvdGFsU2l6ZUJ1ZmZlcjsKICAgICAgICAgICAgRGF0YVNpemUgPSBvdGhlci5EYXRhU2l6ZTsKICAgICAgICAgICAgTnVtRXZlbnRzID0gb3RoZXIuTnVtRXZlbnRzOwogICAgICAgICAgICBzdGQ6OnN3YXAoQnVmZmVyLCBvdGhlci5CdWZmZXIpOwogICAgICAgICAgICByZXR1cm4gKnRoaXM7CiAgICAgICAgfQoKICAgICAgICBjb25zdCBDQUVOX0RHVFpfRXJyb3JDb2RlJiBnZXRFcnJvcigpIHsKICAgICAgICAgICAgcmV0dXJuIF9lcnJfY29kZTsKICAgICAgICB9CgogICAgICAgIH5DQUVORGF0YSgpIHsKICAgICAgICAgICAgaWYoQnVmZmVyICE9IG51bGxwdHIpIHsKICAgICAgICAgICAgICAgIF9lcnJfY29kZSA9IENBRU5fREdUWl9GcmVlUmVhZG91dEJ1ZmZlcigmQnVmZmVyKTsKCiAgICAgICAgICAgICAgICBpZihfZXJyX2NvZGUgPCAwKSB7CiAgICAgICAgICAgICAgICAgICAgX2xvZ2dlci0+ZXJyb3IoIkZhdGFsIGVycm9yIGF0IENBRU5EYXRhIC0+IF9jbGVhcl9kYXRhX21lbS4iCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIkZhaWxlZCB0byBmcmVlIG1lbW9yeSB3aXRoIGVycm9yOiB7fSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNsYXRlX2NhZW5fZXJyb3JfY29kZShfZXJyX2NvZGUpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH07CgogICAgc3RhdGljIGlubGluZSBzdGQ6OnVub3JkZXJlZF9tYXA8aW50LCBib29sPiBfY29ubmVjdGlvbl9pbmZvX21hcDsKCiAgICAvLyBUSGlzIGlzIGEgbnVtYmVyIHRoYXQgdGhlIENBRU4gQVBJIHVzZXMgdG8gbWFuYWdlIGl0cyBvd24gcmVzb3VyY2VzLgogICAgaW50IF9jYWVuX2FwaV9oYW5kbGUgPSAtMTsKICAgIGJvb2wgX2lzX2Nvbm5lY3RlZCA9IGZhbHNlOwogICAgYm9vbCBfaXNfYWNxdWlyaW5nID0gZmFsc2U7CgogICAgLy8gQ0FFTiBFTlVNUy4gSG9sZHMgdGhlIGxhdGVzdCBlcnJvciB0aHJvd24gYnkgYW55IG9mIHRoZSBDQUVOIEFQSXMgZnVuY3MKICAgIENBRU5fREdUWl9FcnJvckNvZGUgX2Vycl9jb2RlID0gQ0FFTl9ER1RaX0Vycm9yQ29kZTo6Q0FFTl9ER1RaX1N1Y2Nlc3M7CgogICAgYm9vbCBfaGFzX2Vycm9yID0gZmFsc2U7CiAgICBib29sIF9oYXNfd2FybmluZyA9IGZhbHNlOwoKICAgIC8vIENvbW11bmljYXRlZCB3aXRoIHRoZSBvdXRzaWRlIHdvcmxkOiBlcnJvcnMsIHdhcm5pbmdzIGFuZCBkZWJ1ZyBtc2dzCiAgICAvLyBBc3N1bWVzIGl0IGlzIGEgcG9pbnRlciBvZiBhbnkgZm9ybSBhbmQgdGhpcyBjbGFzcyBkb2VzIG5vdCBtYW5hZ2UKICAgIC8vIGl0cyBkZWxldGlvbgogICAgTG9nZ2VyJiBfbG9nZ2VyOwoKICAgIC8vIFRoaXMgaG9sZHMgdGhlIGxhdGVzdCByYXcgQ0FFTiBkYXRhCiAgICAvLyBVbmlxdWVfcHRyIGJlY2F1c2Ugb25seSB0aGlzIGNsYXNzIHNob3VsZCBtYW5hZ2UgdGhpcyByZXNvdXJjZTsKICAgIHN0ZDo6dW5pcXVlX3B0cjxDQUVORGF0YT4gX2NhZW5fcmF3X2RhdGE7CiAgICAvLyBDb250YWlucyBpbmZvcm1hdGlvbiBhYm91dCB0aGUgY29uZmlndXJhdGlvbiBvZiB0aGUgZGlnaXRpemVyCiAgICBDQUVOR2xvYmFsQ29uZmlnIF9nbG9iYWxfY29uZmlnOwogICAgLy8gQ29udGFpbnMgaW5mb3JtYXRpb24gYWJvdXQgYWxsIG9mIHRoZSBncm91cHMsIHNlZSBDQUVOR3JvdXBDb25maWcKICAgIC8vIGZvciBtb3JlIGluZm9ybWF0aW9uLiBDdXJyZW50bHkgaXQgaXMgb25seSBwb3NzaWJsZSB0byBoYXZlIHVwIHRvCiAgICAvLyA4IGdyb3VwcyBmcm9tIGFueSBkaWdpdGl6ZXIuCiAgICBzdGQ6OmFycmF5PENBRU5Hcm91cENvbmZpZywgOD4gX2dyb3VwX2NvbmZpZ3M7CgogICAgQ0FFTl9ER1RaX0JvYXJkSW5mb190IF9ib2FyZF9pbmZvOwogICAgdWludDMyX3QgX2N1cnJlbnRfbWF4X2J1ZmZlcnMgPSAwOwoKICAgIC8vIFVuaXF1ZV9wdHIgYmVjYXVzZSBvbmx5IHRoaXMgY2xhc3Mgc2hvdWxkIG1hbmFnZSB0aGlzIHJlc291cmNlOwogICAgdXNpbmcgQ0FFTkV2ZW50X3B0ciA9IHN0ZDo6dW5pcXVlX3B0cjxDQUVORXZlbnQ+OwogICAgc3RkOjphcnJheTxDQUVORXZlbnRfcHRyLCBFdmVudEJ1ZmZlclNpemU+IF9ldmVudHM7CiAgICAvLyBzaGFyZWRfcHRyIGFzIGFueW9uZSBjYW4gbWFuYWdlIHRoaXMgcmVzb3VyY2UgZXZlbiBpZiBDQUVOCiAgICAvLyBpcyBubyBsb25nZXIgaW4gdXNlLgogICAgc3RkOjphcnJheTxzdGQ6OnNoYXJlZF9wdHI8Q0FFTldhdmVmb3Jtczx1aW50MTZfdD4+LCBFdmVudEJ1ZmZlclNpemU+IF93YXZlZm9ybXM7CgogICAgLy8gVHJhbnNsYXRlcyB0aGUgY29ubmVjdGlvbiBpbmZvIGRhdGEgdG8gYSBzaW5nbGUgbnVtYmVyIHRoYXQgc2hvdWxkCiAgICAvLyBiZSB1bmlxdWUuCiAgICBjb25zdGV4cHIgdWludDY0X3QgX2hhc2hfY29ubmVjdGlvbl9pbmZvKGNvbnN0IENBRU5Db25uZWN0aW9uVHlwZSYgY3QsCiAgICAgICAgY29uc3QgaW50JiBsbiwgY29uc3QgaW50JiBjbiwgY29uc3QgdWludDMyX3QmIGFkZHIpIG5vZXhjZXB0IHsKICAgICAgICB1aW50NjRfdCBpZCA9IHN0YXRpY19jYXN0PHVpbnQ2NF90PihhZGRyICYgMHgwMDAwRkZGRikgPDwgMzI7CiAgICAgICAgaWQgfD0gKGNuICYgMHgwMDAwMDBGRikgPDwgMTY7CiAgICAgICAgaWQgfD0gKGxuICYgMHgwMDAwMDBGRikgPDwgODsKICAgICAgICBzd2l0Y2ggKGN0KSB7CiAgICAgICAgY2FzZSBDQUVOQ29ubmVjdGlvblR5cGU6OkE0ODE4OgogICAgICAgICAgICBpZCB8PSAxOwogICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgQ0FFTkNvbm5lY3Rpb25UeXBlOjpVU0I6CiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgaWQgfD0gMDsKICAgICAgICB9CgogICAgICAgIHJldHVybiBpZDsKICAgIH0KCiAgICAvLyBQcml2YXRlIGhlbHBlciBmdW5jdGlvbiB0byB3cmFwIHRoZSBsb2dpYyBiZWhpbmQgY2hlY2tpbmcgZm9yIGFuIGVycm9yCiAgICAvLyBhbmQgcHJpbnRpbmcgdGhlIGVycm9yIG1lc3NhZ2UKICAgIHZvaWQgX3ByaW50X2lmX2VycihzdGQ6OnN0cmluZ192aWV3IENBRU5fZnVuY19uYW1lLAogICAgICAgICAgICAgICAgICAgICAgIHN0ZDo6c3RyaW5nX3ZpZXcgbG9jYXRpb24sCiAgICAgICAgICAgICAgICAgICAgICAgc3RkOjpzdHJpbmdfdmlldyBleHRyYV9tc2cgPSAiIikgbm9leGNlcHQgewoKICAgICAgICBjb25zdCBzdGQ6OnN0cmluZyBleHByZXNzaW9uX3N0ciA9CiAgICAgICAgICAgICJ7fSBhdCB7fSBpbiBDQUVOIGZ1bmN0aW9uIG5hbWVkIHt9IHdpdGggQ0FFTiBtZXNzYWdlIHt9LiAiCiAgICAgICAgICAgICJBZGRpdGlvbmFsIGluZm86IHt9IjsKCiAgICAgICAgc3dpdGNoIChfZXJyX2NvZGUpIHsKICAgICAgICBjYXNlIENBRU5fREdUWl9FcnJvckNvZGU6OkNBRU5fREdUWl9TdWNjZXNzOgogICAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSBDQUVOX0RHVFpfRXJyb3JDb2RlOjpDQUVOX0RHVFpfQ2hhbm5lbEJ1c3k6CiAgICAgICAgY2FzZSBDQUVOX0RHVFpfRXJyb3JDb2RlOjpDQUVOX0RHVFpfRnVuY3Rpb25Ob3RBbGxvd2VkOgogICAgICAgIGNhc2UgQ0FFTl9ER1RaX0Vycm9yQ29kZTo6Q0FFTl9ER1RaX1RpbWVvdXQ6CiAgICAgICAgY2FzZSBDQUVOX0RHVFpfRXJyb3JDb2RlOjpDQUVOX0RHVFpfRGlnaXRpemVyQWxyZWFkeU9wZW46CiAgICAgICAgY2FzZSBDQUVOX0RHVFpfRXJyb3JDb2RlOjpDQUVOX0RHVFpfRFBQRmlybXdhcmVOb3RTdXBwb3J0ZWQ6CiAgICAgICAgY2FzZSBDQUVOX0RHVFpfRXJyb3JDb2RlOjpDQUVOX0RHVFpfTm90WWV0SW1wbGVtZW50ZWQ6CiAgICAgICAgICAgIF9oYXNfd2FybmluZyA9IHRydWU7CiAgICAgICAgICAgIF9sb2dnZXItPndhcm4oZXhwcmVzc2lvbl9zdHIsICJXYXJuaW5nIiwgbG9jYXRpb24sCiAgICAgICAgICAgICAgICBDQUVOX2Z1bmNfbmFtZSwgdHJhbnNsYXRlX2NhZW5fZXJyb3JfY29kZShfZXJyX2NvZGUpLAogICAgICAgICAgICAgICAgZXh0cmFfbXNnKTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgX2hhc19lcnJvciA9IHRydWU7CiAgICAgICAgICAgIF9sb2dnZXItPmVycm9yKGV4cHJlc3Npb25fc3RyLCAiRXJyb3IiLCBsb2NhdGlvbiwKICAgICAgICAgICAgICAgIENBRU5fZnVuY19uYW1lLCB0cmFuc2xhdGVfY2Flbl9lcnJvcl9jb2RlKF9lcnJfY29kZSksCiAgICAgICAgICAgICAgICBleHRyYV9tc2cpOwogICAgICAgIH0KICAgIH0KCiAgICBDQUVORGlnaXRpemVyRmFtaWxpZXMgX2dldF9mYW1pbHkoY29uc3QgQ0FFTkRpZ2l0aXplck1vZGVsJiBtb2RlbCkgewogICAgICAgIHN3aXRjaChtb2RlbCkgewogICAgICAgIGNhc2UgQ0FFTkRpZ2l0aXplck1vZGVsOjpEVDU3NDBEOgogICAgICAgIGNhc2UgQ0FFTkRpZ2l0aXplck1vZGVsOjpWMTc0MEQ6IAogICAgICAgICAgICByZXR1cm4gQ0FFTkRpZ2l0aXplckZhbWlsaWVzOjp4NzQwOwogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgY2FzZSBDQUVORGlnaXRpemVyTW9kZWw6OkRUNTczMEI6IAogICAgICAgICAgICByZXR1cm4gQ0FFTkRpZ2l0aXplckZhbWlsaWVzOjp4NzMwOwogICAgICAgIH0KICAgIH0KCiBwdWJsaWM6CiAgICAvLyBGYW1pbHkgCiAgICBjb25zdCBDQUVORGlnaXRpemVyRmFtaWxpZXMgRmFtaWx5OwogICAgLy8gTW9kZWwKICAgIGNvbnN0IENBRU5EaWdpdGl6ZXJNb2RlbCBNb2RlbDsKICAgIC8vIENvbnN0YW50cyBhc3NvY2lhdGVkIHdpdGggdGhlIG1vZGVsLgogICAgY29uc3QgQ0FFTkRpZ2l0aXplck1vZGVsQ29uc3RhbnRzIE1vZGVsQ29uc3RhbnRzOwogICAgLy8gVHlwZSBvZiBjb25uZWN0aW9uIChVU0IsIFZNRS4uLikKICAgIGNvbnN0IENBRU5Db25uZWN0aW9uVHlwZSBDb25uZWN0aW9uVHlwZTsKICAgIC8vCiAgICBjb25zdCBpbnQgTGlua051bTsKICAgIC8vCiAgICBjb25zdCBpbnQgQ29uZXROb2RlOwogICAgLy8KICAgIGNvbnN0IHVpbnQzMl90IFZNRUJhc2VBZGRyZXNzOwoKICAgIC8vIENyZWF0aW9uIG9mIHRoaXMgY2xhc3MgYXR0ZW1wdHMgYSBjb25uZWN0aW9uIHRvIENBRU4KICAgIC8vIHdoaWNoIHdpbGwgdGFrZSB0aGUgcmVzb3VyY2UgYW5kIElzQ29ubmVjdGVkIHdpbGwgc2F5IGlmIGl0cyBjb25uZWN0ZWQKICAgIC8vIEl0cyB1cCB0byB0aGUgdXNlciBpZiB0aGV5IHdvdWxkIGxpa2UgYSBtb3JlIHBvaW50ZXIgYXBwcm9hY2gKICAgIC8vIG9yIGp1c3QgaWYtZWxzZSBzdGF0ZW1lbnRzLgogICAgLy8KICAgIC8vIERlc2NyaXB0aW9uIG9mIHBhcmFtZXRlcnM6CiAgICAvLyBsb2dnZXIgLT4gbG9nZ2VyIHVzZWQgdG8gcHJpbnQgaW5mb3JtYXRpb24gKGRlYnVnLCB3YXJuaW5nLCBldGMpCiAgICAvLyAgZGVmYXVsdHMgaW9zdHJlYW1fd3JhcHBlciBidXQgY2FuIGJlIHVzZXIgY29uZmlndXJlZC4KICAgIC8vIGN0IC0+IFBoeXNpY2FsIGNvbW11bmljYXRpb24gY2hhbm5lbC4gQ0FFTl9ER1RaX1VTQiwKICAgIC8vICBDQUVOX0RHVFpfUENJX09wdGljYWxMaW5rIGJlaW5nIHRoZSBtb3N0IGV4cGVjdGVkIG9wdGlvbnMKICAgIC8vIGxuIC0+IExpbmsgbnVtYmVyLiBJbiB0aGUgY2FzZSBvZiBVU0IgaXMgdGhlIGxpbmsgbnVtYmVyIGFzc2lnbmVkIGJ5IHRoZQogICAgLy8gIFBDIHdoZW4geW91IGNvbm5lY3QgdGhlIGNhYmxlIHRvIHRoZSBkZXZpY2UuIDAgZm9yIHRoZSBmaXJzdCBkZXZpY2UgYW5kCiAgICAvLyAgc28gb24uIFRoZXJlIGlzIG5vIGZpeCBjb3JyZXNwb25kZW5jZSBiZXR3ZWVuIHRoZSBVU0IgcG9ydCBhbmQgdGhlCiAgICAvLyAgbGluayBudW1iZXIuCiAgICAvLyAgRm9yIENPTkVULCBpbmRpY2F0ZXMgd2hpY2ggbGluayBvZiBBMjgxOCBvciBBMzgxOCBpcyB1c2VkLgogICAgLy8gY24gLT4gQ29uZXQgTm9kZS4gSWRlbnRpZmllcyB3aGljaCBkZXZpY2UgaW4gdGhlIGRhaXN5IGNoYWluIGlzIGJlaW5nCiAgICAvLyAgYWRkcmVzc2VkLgogICAgLy8gYWRkciAtPiBWTUUgQmFzZSBhZGRyZXNzIG9mIHRoZSBib2FyZC4gT25seSBmb3IgVk1FIG1vZGVscy4KICAgIC8vICAwIGluIGFsbCBvdGhlciBjYXNlcwogICAgQ0FFTihMb2dnZXImIGxvZ2dlciwgY29uc3QgQ0FFTkRpZ2l0aXplck1vZGVsIG1vZGVsLAogICAgICAgICBjb25zdCBDQUVOQ29ubmVjdGlvblR5cGUmIGN0LCBjb25zdCBpbnQmIGxuLCBjb25zdCBpbnQmIGNuLAogICAgICAgICBjb25zdCB1aW50MzJfdCYgYWRkcikgOgogICAgICAgIF9sb2dnZXJ7bG9nZ2VyfSwKICAgICAgICBGYW1pbHl7X2dldF9mYW1pbHkobW9kZWwpfSwKICAgICAgICBNb2RlbHttb2RlbH0sCiAgICAgICAgTW9kZWxDb25zdGFudHN7Q0FFTkRpZ2l0aXplck1vZGVsc0NvbnN0YW50c01hcC5hdChtb2RlbCl9LAogICAgICAgIENvbm5lY3Rpb25UeXBle2N0fSwKICAgICAgICBMaW5rTnVte2xufSwKICAgICAgICBDb25ldE5vZGV7Y259LAogICAgICAgIFZNRUJhc2VBZGRyZXNze2FkZHJ9CiAgICB7CiAgICAgICAgaWYgKG5vdCBsb2dnZXIpIHsKICAgICAgICAgICAgdGhyb3cgc3RkOjppbnZhbGlkX2FyZ3VtZW50KCJMb2dnZXIgaXMgbm90IGFuIGV4aXN0aW5nIHJlc291cmNlLiIpOwogICAgICAgIH0KCiAgICAgICAgLy8vIFdlIHR1cm4gQ29ubmVjdGlvbiB0eXBlLCBsaW5rbnVtLCBjb25lY3Rub2RlIGFuZCBWTUVCYXNlQWRkcmVzcwogICAgICAgIC8vLyBpbnRvIGEgc2luZ2xlIGNvbnRhaW5lciBzbyB3ZSBrbm93IHdlIGFyZSBub3QgcmVwZWF0aW5nIGNvbm5lY3Rpb25zCiAgICAgICAgYXV0byBpZCA9IF9oYXNoX2Nvbm5lY3Rpb25faW5mbyhjdCwgbG4sIGNuLCBhZGRyKTsKCiAgICAgICAgLy8gQysrMTcgd2F5IHRvIGNoZWNrIGlmIHRoZSBpdGVtIGV4aXN0cwogICAgICAgIC8vIElmIHdlIG1vdmUgdG8gQysrMjAsIHdlIGNvdWxkIHVzZSBfaGFuZGxlX21hcC5jb250YWlucyguLi4pCiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgX2Nvbm5lY3Rpb25faW5mb19tYXAuYXQoaWQpOwogICAgICAgICAgICAvLyBQYXN0IHRoaXMgcG9pbnQgaXQgbWVhbnMgdGhlIGNvbm5lY3Rpb24gYWxyZWFkeSBleGlzdHMKICAgICAgICAgICAgX2xvZ2dlci0+d2FybigiUmVzb3VyY2UgaXMgYWxyZWFkeSBvbiB1c2UuIENhbGxpbmcgdGhpcyBmdW5jdGlvbiAiCiAgICAgICAgICAgICAgICAid2lsbCByZXN0YXJ0IHRoZSByZXNvdXJjZS4iKTsKICAgICAgICB9IGNhdGNoICguLi4pIHsKICAgICAgICAgICAgX2Nvbm5lY3Rpb25faW5mb19tYXBbaWRdID0gdHJ1ZTsKICAgICAgICB9CgogICAgICAgIC8vIElmIHRoZSBpdGVtIGV4aXN0cywgcGFzcyBvbiB0aGUgY3JlYXRpb24KICAgICAgICBzd2l0Y2ggKGN0KSB7CiAgICAgICAgICAgIGNhc2UgQ0FFTkNvbm5lY3Rpb25UeXBlOjpBNDgxODoKICAgICAgICAgICAgICAgIF9lcnJfY29kZSA9IENBRU5fREdUWl9PcGVuRGlnaXRpemVyKAogICAgICAgICAgICAgICAgICAgIENBRU5fREdUWl9Db25uZWN0aW9uVHlwZTo6Q0FFTl9ER1RaX1VTQl9BNDgxOCwKICAgICAgICAgICAgICAgICAgICBsbiwgMCwgYWRkciwgJl9jYWVuX2FwaV9oYW5kbGUpOwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgQ0FFTkNvbm5lY3Rpb25UeXBlOjpVU0I6CiAgICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgICAgICBfZXJyX2NvZGUgPSBDQUVOX0RHVFpfT3BlbkRpZ2l0aXplcigKICAgICAgICAgICAgICAgICAgICBDQUVOX0RHVFpfQ29ubmVjdGlvblR5cGU6OkNBRU5fREdUWl9VU0IsCiAgICAgICAgICAgICAgICAgICAgbG4sIGNuLCAwLCAmX2NhZW5fYXBpX2hhbmRsZSk7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KCiAgICAgICAgX2lzX2Nvbm5lY3RlZCA9IChfZXJyX2NvZGUgPT0gQ0FFTl9ER1RaX0Vycm9yQ29kZTo6Q0FFTl9ER1RaX1N1Y2Nlc3MpIGFuZCAoX2NhZW5fYXBpX2hhbmRsZSA+PSAwKTsKICAgICAgICBpZiAobm90IF9pc19jb25uZWN0ZWQpIHsKICAgICAgICAgICAgX2NhZW5fYXBpX2hhbmRsZSA9IC0xOwogICAgICAgICAgICBfaGFzX2Vycm9yID0gdHJ1ZTsKICAgICAgICAgICAgX3ByaW50X2lmX2VycigiQ0FFTl9ER1RaX09wZW5EaWdpdGl6ZXIiLCBfX0ZVTkNUSU9OX18sICJGYWlsZWQiCiAgICAgICAgICAgICAgICAidG8gb3BlbiB0aGUgcG9ydCB0byB0aGUgZGlnaXRpemVyLiIpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIF9sb2dnZXItPmluZm8oIkNvbm5lY3RlZCByZXNvdXJjZSB3aXRoIGhhbmRsZSB7MH0gd2l0aCAiCiAgICAgICAgICAgICAgICAibGluayBudW1iZXIgezF9LCBjb25ldCBub2RlIHsyfSBhbmQgVk1FIGFkZHJlc3MgezN9LiIsCiAgICAgICAgICAgICAgICBfY2Flbl9hcGlfaGFuZGxlLCBsbiwgY24sIGFkZHIpOwogICAgICAgIH0KICAgIH0KCiAgICB+Q0FFTigpIHsKICAgICAgICBhdXRvIGlkID0gX2hhc2hfY29ubmVjdGlvbl9pbmZvKAogICAgICAgICAgICBDb25uZWN0aW9uVHlwZSwgTGlua051bSwgQ29uZXROb2RlLCBWTUVCYXNlQWRkcmVzcyk7CiAgICAgICAgX2Nvbm5lY3Rpb25faW5mb19tYXAuZXJhc2UoaWQpOwoKICAgICAgICBpZiAoX2lzX2Nvbm5lY3RlZCkgewogICAgICAgICAgICBfbG9nZ2VyLT5pbmZvKCJHb2luZyB0byBkaXNjb25uZWN0IHJlc291cmNlIHdpdGggaGFuZGxlIHswfSB3aXRoICIKICAgICAgICAgICAgImxpbmsgbnVtYmVyIHsxfSwgY29uZXQgbm9kZSB7Mn0gYW5kIFZNRSBhZGRyZXNzIHszfS4iLAogICAgICAgICAgICBfY2Flbl9hcGlfaGFuZGxlLCBMaW5rTnVtLCBDb25ldE5vZGUsIFZNRUJhc2VBZGRyZXNzKTsKCiAgICAgICAgICAgIF9lcnJfY29kZSA9IENBRU5fREdUWl9TV1N0b3BBY3F1aXNpdGlvbihfY2Flbl9hcGlfaGFuZGxlKTsKICAgICAgICAgICAgX3ByaW50X2lmX2VycigiQ0FFTl9ER1RaX1NXU3RvcEFjcXVpc2l0aW9uIiwgX19GVU5DVElPTl9fLAogICAgICAgICAgICAgICAgIkZhaWxlZCB0byBzdG9wIGFjcXVpc2l0aW9uIGR1cmluZyBjbGVhbmluZyBvZiAiCiAgICAgICAgICAgICAgICAicmVzb3VyY2VzLCB3aGF0IHdlbnQgd3Jvbmc/Iik7CgogICAgICAgICAgICAvLyBCZWZvcmUgY2xvc2luZywgd2UgY2xlYXIgYWxsIG1lbW9yeS4KICAgICAgICAgICAgX2NhZW5fcmF3X2RhdGEucmVzZXQoKTsKICAgICAgICAgICAgZm9yKGF1dG8mIGV2ZW50IDogX2V2ZW50cykgewogICAgICAgICAgICAgICAgZXZlbnQucmVzZXQoKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgX2Vycl9jb2RlID0gQ0FFTl9ER1RaX0Nsb3NlRGlnaXRpemVyKF9jYWVuX2FwaV9oYW5kbGUpOwogICAgICAgICAgICBfcHJpbnRfaWZfZXJyKCJDQUVOX0RHVFpfQ2xvc2VEaWdpdGl6ZXIiLCBfX0ZVTkNUSU9OX18sCiAgICAgICAgICAgICAgICAiRmFpbGVkIHRvIGNsb3NlIGRpZ2l0aXplciwgd2hhYWF0PyIpOwogICAgICAgIH0KICAgICAgICAvLyBFdmVyeXRoaW5nIHNob3VsZCBiZSBjbGVhcmVkIGJ5IHRoZWlyIG93biBkZXN0cnVjdG9ycyEKICAgIH0KCiAgICAvLyBQdWJsaWMgbWVtYmVycwogICAgLy8gQ2hlY2sgd2hlbmV2ZXIgdGhlIHBvcnQgaXMgY29ubmVjdGVkCiAgICBib29sIElzQ29ubmVjdGVkKCkgbm9leGNlcHQgeyByZXR1cm4gX2lzX2Nvbm5lY3RlZDsgfQoKICAgIGJvb2wgSGFzRXJyb3IoKSBub2V4Y2VwdCB7IHJldHVybiBfaGFzX2Vycm9yOyB9CgogICAgdm9pZCBSZXNldFdhcm5pbmcoKSBub2V4Y2VwdCB7IF9oYXNfd2FybmluZyA9IGZhbHNlOyB9CiAgICBib29sIEhhc1dhcm5pbmcoKSBub2V4Y2VwdCB7IHJldHVybiBfaGFzX3dhcm5pbmc7IH0KCiAgICBjb25zdCBhdXRvJiBHZXRCb2FyZEluZm8oKSB7IHJldHVybiBfYm9hcmRfaW5mbzsgfQogICAgY29uc3QgYXV0byYgR2V0R2xvYmFsQ29uZmlndXJhdGlvbigpIHsgcmV0dXJuIF9nbG9iYWxfY29uZmlnOyB9CiAgICBjb25zdCBhdXRvJiBHZXRHcm91cENvbmZpZ3VyYXRpb25zKCkgeyByZXR1cm4gX2dyb3VwX2NvbmZpZ3M7IH0KICAgIGNvbnN0IGF1dG8mIEdldE51bWJlck9mRXZlbnRzKCkgeyByZXR1cm4gX2NhZW5fcmF3X2RhdGEtPk51bUV2ZW50czsgfQoKICAgIHZvaWQgU2V0dXAoY29uc3QgQ0FFTkdsb2JhbENvbmZpZyYsCiAgICAgICAgY29uc3Qgc3RkOjphcnJheTxDQUVOR3JvdXBDb25maWcsIDg+Jikgbm9leGNlcHQ7CiAgICAvLyBSZXNldC4gUmV0dXJucyBhbGwgaW50ZXJuYWwgcmVnaXN0ZXJzIHRvIGRlZmF1bHRzLgogICAgLy8gRG9lcyBub3QgcmVzZXQgaWYgcmVzb3VyY2UgaXMgbnVsbC4KICAgIHZvaWQgUmVzZXQoKSBub2V4Y2VwdDsKICAgIC8vIEVuYWJsZXMgdGhlIGFjcXVpc2l0aW9uIGFuZCBhbGxvY2F0ZXMgdGhlIG1lbW9yeSBmb3IgdGhlIGFjcXVpcmVkIGRhdGEuCiAgICAvLyBEb2VzIG5vdCBlbmFibGUgYWNxdWlzaXRvaW4gaWYgcmVzb3VyY2UgaXMgbnVsbCBvciB0aGVyZSBhcmUgZXJyb3JzLgogICAgdm9pZCBFbmFibGVBY3F1aXNpdGlvbigpIG5vZXhjZXB0OwogICAgLy8gRGlzYWJsZXMgdGhlIGFjcXVpc2l0aW9uIGFuZCBmcmVlcyB1cCBtZW1vcnkKICAgIC8vIERvZXMgbm90IGRpc2FibGVzIGFjcXVpc2l0aW9uIGlmIHJlc291cmNlIGlzIG51bGwuCiAgICB2b2lkIERpc2FibGVBY3F1aXNpdGlvbigpIG5vZXhjZXB0Oy8vIFdyaXRlcyB0byByZWdpc3RlciBBRERSIHdpdGggVkFMVUUKICAgIC8vIERvZXMgd3JpdGUgdG8gcmVnaXN0ZXIgaWYgcmVzb3VyY2UgaXMgbnVsbCBvciB0aGVyZSBhcmUgZXJyb3JzLgogICAgdm9pZCBXcml0ZVJlZ2lzdGVyKHVpbnQzMl90JiYgYWRkciwgY29uc3QgdWludDMyX3QmIHZhbHVlKSBub2V4Y2VwdDsKICAgIC8vIFJlYWRzIGNvbnRlbnRzIG9mIHJlZ2lzdGVyIEFERFIgaW50byB2YWx1ZQogICAgLy8gRG9lcyBub3QgbW9kaWZ5IHZhbHVlIGlmIHJlc291cmNlIGlzIG51bGwgb3IgdGhlcmUgYXJlIGVycm9ycy4KICAgIHZvaWQgUmVhZFJlZ2lzdGVyKHVpbnQzMl90JiYgYWRkciwgdWludDMyX3QmIHZhbHVlKSBub2V4Y2VwdDsKICAgIC8vIFdyaXRlIGFyYml0cmFyeSBiaXRzIG9mIGFueSBsZW5ndGggYXQgYW55IHBvc2l0aW9uLAogICAgLy8gS2VlcHMgdGhlIG90aGVyIGJpdHMgdW5jaGFuZ2VkLAogICAgLy8gRm9sbG93aW5nIGluc3RydWN0aW9ucyBhdAogICAgLy8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTE4MTU4OTQvaG93LXRvLXJlYWQtd3JpdGUtYXJiaXRyYXJ5LWJpdHMtaW4tYy1jCiAgICB2b2lkIFdyaXRlQml0cyh1aW50MzJfdCYmIGFkZHIsCiAgICAgICAgY29uc3QgdWludDMyX3QmIHZhbHVlLCB1aW50OF90IHBvcywgdWludDhfdCBsZW4gPSAxKSBub2V4Y2VwdDsKICAgIC8vIEZvcmNlcyBhIHNvZnR3YXJlIHRyaWdnZXIgaW4gdGhlIGRpZ2l0aXplci4KICAgIC8vIERvZXMgbm90IHRyaWdnZXIgaWYgcmVzb3VyY2UgaXMgbnVsbCBvciB0aGVyZSBhcmUgZXJyb3JzLgogICAgdm9pZCBTb2Z0d2FyZVRyaWdnZXIoKSBub2V4Y2VwdDsKICAgIC8vIEFza3MgQ0FFTiBob3cgbWFueSBldmVudHMgYXJlIGluIHRoZSBidWZmZXIKICAgIC8vIFJldHVybnMgMCBpZiByZXNvdXJjZSBpcyBudWxsIG9yIHRoZXJlIGFyZSBlcnJvcnMuCiAgICB1aW50MzJfdCBHZXRFdmVudHNJbkJ1ZmZlcigpIG5vZXhjZXB0OwogICAgLy8gUnVucyBhIGJ1bmNoIG9mIGNvbW1hbmRzIHRvIHJldHJpZXZlIHRoZSBidWZmZXIgYW5kIHByb2Nlc3MgaXQKICAgIC8vIHVzaW5nIENBRU4gZnVuY3Rpb25zLgogICAgLy8gRG9lcyBub3QgcmV0cmlldmUgZGF0YSBpZiByZXNvdXJjZSBpcyBudWxsIG9yIHRoZXJlIGFyZSBlcnJvcnMuCiAgICB2b2lkIFJldHJpZXZlRGF0YSgpIG5vZXhjZXB0OwogICAgLy8gUmV0dXJucyB0cnVlIGlmIGRhdGEgd2FzIHJlYWQgc3VjY2Vzc2Z1bGx5CiAgICAvLyBEb2VzIG5vdCByZXRyaWV2ZSBkYXRhIGlmIHJlc291cmNlIGlzIG51bGwsIHRoZXJlIGFyZSBlcnJvcnMsCiAgICAvLyBvciBldmVudHMgaW4gYnVmZmVyIGFyZSBsZXNzIHRoYW4gbi4KICAgIC8vIG4gY2Fubm90IGJlIGJpZ2dlciB0aGFuIHRoZSBtYXggbnVtYmVyIG9mIGJ1ZmZlcnMgYWxsb3dlZAogICAgYm9vbCBSZXRyaWV2ZURhdGFVbnRpbE5FdmVudHModWludDMyX3QmIG4sIGJvb2wgZGVidWdfaW5mbyA9IGZhbHNlKSBub2V4Y2VwdDsKICAgIC8vIERlY29kZXMgZXZlbnQgaSBmcm9tIHRoZSBkYXRhIHJldHJpZXZlZCBieSBhbnkgY2FsbCBmcm9tIFJldHJpZXZlRGF0YQogICAgLy8gSWYgaSBpcyBvdXQgb2YgYm91bmRzLCByZXR1cm5zIHRoZSBldmVudCBhdCB0aGUgZW5kIG9mIHRoZSBidWZmZXIuCiAgICAvLyBpZiB0aGVyZSBpcyBhbiBlcnJvciBkdXJpbmcgYWNxdWlzaXRpb24sIHRoaXMgcmV0dXJucyBhIG51bGxwdHI7CiAgICBzdGQ6OnNoYXJlZF9wdHI8Q0FFTldhdmVmb3Jtczx1aW50MTZfdD4+IERlY29kZUV2ZW50KGNvbnN0IHVpbnQzMl90JiBpKSBub2V4Y2VwdDsKICAgIC8vIERlY29kZXMgdGhlIGxhdGVzdCBhY3F1aXJlZCBldmVudHMuCiAgICB2b2lkIERlY29kZUV2ZW50cygpIG5vZXhjZXB0OwogICAgLy8gQ2xlYXJzIHRoZSBkaWdpdGl6ZXIgYnVmZmVyLiBJdCBzdG9wcyB0aGUgYWNxdWlzaXRpb24gYW5kIHJlc3VtZXMgaXQKICAgIC8vIGFmdGVyIGNsZWFyaW5nIHRoZSBkYXRhLgogICAgdm9pZCBDbGVhckRhdGEoKSBub2V4Y2VwdDsKICAgIC8vIFJldHVybnMgYSBjb25zdCBwb2ludGVyIHRvIHRoZSBldmVudCBoZWxkIEAgaW5kZXggaS4KICAgIC8vIElmIGkgdmFsdWUgaXMgaGlnaGVyIHRoZSBsYXRlc3QgYWNxdWlyZWQgbnVtYmVyIG9mIGV2ZW50cywgaXQgcmV0dXJucwogICAgLy8gdGhlIGxhc3QgZXZlbnQuIFVzZSBHZXROdW1iZXJPZmV2ZW50cygpIHRvIGNoZWNrIGZvciB0aGUgbnVtYmVyCiAgICAvLyBvZiBldmVudHMgaW4gbWVtb3J5CiAgICBzdGQ6OnNoYXJlZF9wdHI8Q0FFTldhdmVmb3Jtczx1aW50MTZfdD4+IEdldFdhdmVmb3JtKGNvbnN0IHN0ZDo6c2l6ZV90JiBpKSBub2V4Y2VwdCB7CiAgICAgICAgaWYgKGkgPiBfY2Flbl9yYXdfZGF0YS0+TnVtRXZlbnRzKSB7CiAgICAgICAgICAgIHJldHVybiBfd2F2ZWZvcm1zW19jYWVuX3Jhd19kYXRhLT5OdW1FdmVudHMgLSAxXTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBfd2F2ZWZvcm1zW2ldOwogICAgfQoKICAgIC8vIFJldHVybnMgYSBjb25zdCBwb2ludGVyIHRvIENBRU5FdmVudC4gSXRzIGxpZmVzcGFucyBzaG91bGQKICAgIC8vIGJlIG1hbmFnZWQgYnkgQ0FFTgogICAgY29uc3QgQ0FFTkV2ZW50KiBHZXRFdmVudChjb25zdCBzdGQ6OnNpemVfdCYgaSkgbm9leGNlcHQgewogICAgICAgIGlmIChpID4gX2NhZW5fcmF3X2RhdGEtPk51bUV2ZW50cykgewogICAgICAgICAgICByZXR1cm4gX2V2ZW50c1tfY2Flbl9yYXdfZGF0YS0+TnVtRXZlbnRzIC0gMV0uZ2V0KCk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gX2V2ZW50c1tpXS5nZXQoKTsKICAgIH0KCiAgICBjb25zdCB1aW50MzJfdCYgR2V0Q3VycmVudFBvc3NpYmxlTWF4QnVmZmVyKCkgbm9leGNlcHQgewogICAgICAgIHJldHVybiBfY3VycmVudF9tYXhfYnVmZmVyczsKICAgIH0KCiAgICB1aW50MzJfdCBHZXRDb21tVHJhbnNmZXJSYXRlKCkgbm9leGNlcHQgewogICAgICAgIGlmKENvbm5lY3Rpb25UeXBlID09IENBRU5Db25uZWN0aW9uVHlwZTo6VVNCKXsKICAgICAgICAgICAgcmV0dXJuIDE1MDAwMDAwdTsgIC8vIFMvcwogICAgICAgIH0gZWxzZSBpZiAoQ29ubmVjdGlvblR5cGUgPT0gQ0FFTkNvbm5lY3Rpb25UeXBlOjpBNDgxOCkgewogICAgICAgICAgICByZXR1cm4gNDAwMDAwMDB1OwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIDB1OwogICAgfQoKICAgIC8vIFJldHVybnMgdGhlIGNoYW5uZWwgdm9sdGFnZSByYW5nZS4gSWYgY2hhbm5lbCBkb2VzIG5vdCBleGlzdAogICAgLy8gcmV0dXJucyAwCiAgICBkb3VibGUgR2V0Vm9sdGFnZVJhbmdlKGNvbnN0IHVpbnQ4X3QmIGdyX24pIG5vZXhjZXB0IHsKICAgICAgICB0cnkgewogICAgICAgICAgICBhdXRvIGNvbmZpZyA9IF9ncm91cF9jb25maWdzW2dyX25dOwogICAgICAgICAgICByZXR1cm4gTW9kZWxDb25zdGFudHMuVm9sdGFnZVJhbmdlc1tjb25maWcuRENSYW5nZV07CiAgICAgICAgfSBjYXRjaCguLi4pIHsKICAgICAgICAgICAgcmV0dXJuIDAuMDsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIDAuMDsKICAgIH0KCiAgICAvLyBUdXJucyBhIHRpbWUgKGluIG5hbm9zZWNvbmRzKSBpbnRvIGNvdW50cwogICAgLy8gUmVtaW5kZXIgdGhhdCBzb21lIGRpZ2l0aXplcnMgdGFrZSBkYXRhIGluIGNodW5rcyBvciBvbmx5IGFsbG93CiAgICAvLyBzb21lIHJlY29yZCBsZW5ndGhzLCBzbyBzb21lIHJlY29yZCBsZW5ndGhzIGFyZSBub3QgcG9zc2libGUuCiAgICAvLyBFeDogeDU3MzAgcmVjb3JkIGxlbmd0aCBjYW4gb25seSBiZSBtdWx0aXBsZXMgb2YgMTAKICAgIHVpbnQzMl90IFRpbWVUb1JlY29yZExlbmd0aChjb25zdCBkb3VibGUmIG5zVGltZSkgbm9leGNlcHQgewogICAgICAgIHJldHVybiBzdGF0aWNfY2FzdDx1aW50MzJfdD4obnNUaW1lKjFlLTkqR2V0Q29tbVRyYW5zZmVyUmF0ZSgpKTsKICAgIH0KCiAgICAvLyBUdXJucyBhIHZvbHRhZ2UgdGhyZXNob2xkIGNvdW50cyB0byBBREMgY3RzCiAgICB1aW50MzJfdCBWb2x0VGhyZXNob2xkQ3RzVG9BRENDdHMoY29uc3QgdWludDMyX3QmIGN0cykgbm9leGNlcHQgewogICAgICAgIGNvbnN0IHVpbnQzMl90IGtWdGhyZXNob2xkUmFuZ2VDdHMgPSBzdGQ6OmV4cDIoMTYpOwogICAgICAgIGNvbnN0IHVpbnQzMl90IEFEQ1JhbmdlID0gc3RkOjpleHAyKE1vZGVsQ29uc3RhbnRzLkFEQ1Jlc29sdXRpb24pOwogICAgICAgIHJldHVybiBBRENSYW5nZSpjdHMgLyBrVnRocmVzaG9sZFJhbmdlQ3RzOwogICAgfQoKICAgIC8vIFR1cm5zIGEgdm9sdGFnZSAoVikgaW50byB0cmlnZ2VyIGNvdW50cwogICAgdWludDMyX3QgVm9sdFRvVGhyZXNob2xkQ291bnRzKGNvbnN0IGRvdWJsZSYgdm9sdCkgbm9leGNlcHQgewogICAgICAgIGNvbnN0IHVpbnQzMl90IGtWdGhyZXNob2xkUmFuZ2VDdHMgPSBzdGQ6OmV4cDIoMTYpOwogICAgICAgIHJldHVybiBzdGF0aWNfY2FzdDx1aW50MzJfdD4odm9sdCAvIGtWdGhyZXNob2xkUmFuZ2VDdHMpOwogICAgfQoKICAgIC8vIFR1cm5zIGEgdm9sdGFnZSAoVikgaW50byBjb3VudCBvZmZzZXQKICAgIHVpbnQzMl90IFZvbHRPZmZzZXRUb0NvdW50T2Zmc2V0KGNvbnN0IGRvdWJsZSYgdm9sdCkgbm9leGNlcHQgewogICAgICAgIHVpbnQzMl90IEFEQ1JhbmdlID0gc3RkOjpleHAyKE1vZGVsQ29uc3RhbnRzLkFEQ1Jlc29sdXRpb24pOwogICAgICAgIHJldHVybiBzdGF0aWNfY2FzdDx1aW50MzJfdD4odm9sdCAvIEFEQ1JhbmdlKTsKICAgIH0KfTsKCi8vLyBHZW5lcmFsIENBRU4gZnVuY3Rpb25zCnRlbXBsYXRlPHR5cGVuYW1lIFQsIHNpemVfdCBOPgp2b2lkIENBRU48VCwgTj46OlJlc2V0KCkgbm9leGNlcHQgewogICAgaWYgKF9oYXNfZXJyb3IpIHsKICAgICAgICByZXR1cm47CiAgICB9CgogICAgX2Vycl9jb2RlID0gQ0FFTl9ER1RaX1Jlc2V0KF9jYWVuX2FwaV9oYW5kbGUpOwogICAgX3ByaW50X2lmX2VycigiQ0FFTl9ER1RaX1Jlc2V0IiwgX19GVU5DVElPTl9fKTsKfQoKdGVtcGxhdGU8dHlwZW5hbWUgVCwgc2l6ZV90IE4+CnZvaWQgQ0FFTjxULCBOPjo6U2V0dXAoY29uc3QgQ0FFTkdsb2JhbENvbmZpZyYgZ2xvYmFsX2NvbmZpZywKICAgIGNvbnN0IHN0ZDo6YXJyYXk8Q0FFTkdyb3VwQ29uZmlnLCA4PiYgZ3JfY29uZmlncykgbm9leGNlcHQgewogICAgaWYgKF9oYXNfZXJyb3Igb3Igbm90IF9pc19jb25uZWN0ZWQpIHsKICAgICAgICByZXR1cm47CiAgICB9CiAgICAvLyBGaXJzdCwgd2UgZGlzYWJsZSBhY3F1aXNpdGlvbiBqdXN0IHRvIG1ha2Ugc3VyZS4KICAgIC8vIGFzIHNvbWUgcGFyYW1ldGVycyBjYW4gb25seSBiZSBjaGFuZ2VkIHdoaWxlIHRoZSBhY3F1aXNpdGlvbgogICAgLy8gaXMgZGlzYWJsZWQuCiAgICBEaXNhYmxlQWNxdWlzaXRpb24oKTsKICAgIC8vIFNlY29uZCwgd2UgcHV0IHRoZSBkaWdpdGl6ZXIgaW4gYSBrbm93biBzdGF0ZS4KICAgIFJlc2V0KCk7CgogICAgaW50ICZoYW5kbGUgPSBfY2Flbl9hcGlfaGFuZGxlOwoKICAgIC8vIE5vdywgZ2xvYmFsIGNvbmZpZ3VyYXRpb24KICAgIC8vIEdsb2JhbCBjb25maWcKICAgIF9nbG9iYWxfY29uZmlnID0gZ2xvYmFsX2NvbmZpZzsKCiAgICBfZXJyX2NvZGUgPSBDQUVOX0RHVFpfR2V0SW5mbyhoYW5kbGUsICZfYm9hcmRfaW5mbyk7CiAgICBfcHJpbnRfaWZfZXJyKCJDQUVOX0RHVFpfR2V0SW5mbyIsIF9fRlVOQ1RJT05fXyk7CgogICAgX2Vycl9jb2RlID0gQ0FFTl9ER1RaX1NldE1heE51bUV2ZW50c0JMVChoYW5kbGUsIF9nbG9iYWxfY29uZmlnLk1heEV2ZW50c1BlclJlYWQpOwogICAgX3ByaW50X2lmX2VycigiQ0FFTl9ER1RaX1NldE1heE51bUV2ZW50c0JMVCIsIF9fRlVOQ1RJT05fXyk7CgogICAgX2Vycl9jb2RlID0gQ0FFTl9ER1RaX1NldFJlY29yZExlbmd0aChoYW5kbGUsIF9nbG9iYWxfY29uZmlnLlJlY29yZExlbmd0aCk7CiAgICBfcHJpbnRfaWZfZXJyKCJDQUVOX0RHVFpfU2V0UmVjb3JkTGVuZ3RoIiwgX19GVU5DVElPTl9fKTsKCiAgICAvLyBXZSBuZWVkIHRvIGFzayB0aGUgZGlnaXRpemVyIHdoYXQgaXMgdGhlIGFjdHVhbCByZWNvcmQgbGVuZ3RoIGlzIHVzaW5nCiAgICAvLyB0byBrZWVwIGFuIGFjY3VyYXRlIGFjY291bnQgb2YgaXQuCiAgICBfZXJyX2NvZGUgPSBDQUVOX0RHVFpfR2V0UmVjb3JkTGVuZ3RoKGhhbmRsZSwgJl9nbG9iYWxfY29uZmlnLlJlY29yZExlbmd0aCk7CiAgICBfcHJpbnRfaWZfZXJyKCJDQUVOX0RHVFpfU2V0UmVjb3JkTGVuZ3RoIiwgX19GVU5DVElPTl9fLAogICAgICAgICAgICAgICAgICAicmV2ZXJ0aW5nIGJhY2sgdG8gdGhlIHByb3ZpZGVkIHJlY29yZCBsZW5ndGgiKTsKICAgIC8vIGlmIGl0IGZhaWxzLCB3ZSB3cml0ZSBiYWNrIHRoZSBwcm92aWRlZCByZWNvcmQgbGVuZ3RoCiAgICBpZiAoX2Vycl9jb2RlIDwgMCkgewogICAgICAgIF9nbG9iYWxfY29uZmlnLlJlY29yZExlbmd0aCA9IGdsb2JhbF9jb25maWcuUmVjb3JkTGVuZ3RoOwogICAgfQoKICAgIC8vIFNvIGZhciwgYWxsIGRpZ2l0aXplciBoYXZlIHRoZSByZWdpc3RlciAweDgwMEMgcG9pbnQgdG8gdGhlCiAgICAvLyBleHBvbmVudCBvZiB0aGUgbnVtYmVyIG9mIGJ1ZmZlcnMgY3VycmVudGx5IHVzZWQuCiAgICAvLyBUT0RPKEFueSk6IGNoZWNrIGlmIDB4ODAwQyBpcyB0aGUgcmVnaXN0ZXIgZm9yIGFsbAogICAgUmVhZFJlZ2lzdGVyKDB4ODAwQywgX2N1cnJlbnRfbWF4X2J1ZmZlcnMpOwogICAgX2N1cnJlbnRfbWF4X2J1ZmZlcnMgPSBzdGQ6OmV4cDIoX2N1cnJlbnRfbWF4X2J1ZmZlcnMpOwoKICAgIF9lcnJfY29kZSA9IENBRU5fREdUWl9TZXRQb3N0VHJpZ2dlclNpemUoaGFuZGxlLCBfZ2xvYmFsX2NvbmZpZy5Qb3N0VHJpZ2dlclBvcmNlbnRhZ2UpOwogICAgX3ByaW50X2lmX2VycigiQ0FFTl9ER1RaX1NldFBvc3RUcmlnZ2VyU2l6ZSIsIF9fRlVOQ1RJT05fXyk7CgogICAgLy8gVHJpZ2dlciBNb2RlIGNvbWVzIGluIGZvdXIgZmxhdm9yczoKICAgIC8vIENBRU5fREdUWl9UUkdNT0RFX0RJU0FCTEVECiAgICAvLyAgICBpcyBkaXNhYmxlZAogICAgLy8gQ0FFTl9ER1RaX1RSR01PREVfRVhUT1VUX09OTFkKICAgIC8vICAgIGlzIHVzZWQgdG8gZ2VuZXJhdGUgdGhlIHRyaWdnZXIgb3V0cHV0CiAgICAvLyBDQUVOX0RHVFpfVFJHTU9ERV9BQ1FfT05MWQogICAgLy8gICAgaXMgdXNlZCB0byBnZW5lcmF0ZSB0aGUgYWNxdWlzaXRpb24gdHJpZ2dlcgogICAgLy8gQ0FFTl9ER1RaX1RSR01PREVfQUNRX0FORF9FWFRPVVQKICAgIC8vICAgIGlzIHVzZWQgdG8gZ2VuZXJhdGUgdGhlIGFjcXVpc2l0aW9uIHRyaWdnZXIgYW5kIHRyaWdnZXIKICAgIC8vIG91dHB1dAogICAgX2Vycl9jb2RlID0gQ0FFTl9ER1RaX1NldFNXVHJpZ2dlck1vZGUoaGFuZGxlLCBfZ2xvYmFsX2NvbmZpZy5TV1RyaWdnZXJNb2RlKTsKICAgIF9wcmludF9pZl9lcnIoIkNBRU5fREdUWl9TZXRTV1RyaWdnZXJNb2RlIiwgX19GVU5DVElPTl9fKTsKCiAgICBfZXJyX2NvZGUgPSBDQUVOX0RHVFpfU2V0RXh0VHJpZ2dlcklucHV0TW9kZShoYW5kbGUsIF9nbG9iYWxfY29uZmlnLkVYVFRyaWdnZXJNb2RlKTsKICAgIF9wcmludF9pZl9lcnIoIkNBRU5fREdUWl9TZXRFeHRUcmlnZ2VySW5wdXRNb2RlIiwgX19GVU5DVElPTl9fKTsKCiAgICAvLyBBY3F1aXNpdGlvbiBtb2RlIGNvbWVzIGluIGZvdXIgZmxhdm9yczoKICAgIC8vIENBRU5fREdUWl9TV19DT05UUk9MTEVECiAgICAvLyAgICBTdGFydC9zdG9wIG9mIHRoZSBydW4gdGFrZXMgcGxhY2Ugb24gc29mdHdhcmUKICAgIC8vICAgIGNvbW1hbmQgKGJ5IGNhbGxpbmcgQ0FFTl9ER1RaX1NXU3RhcnRBY3F1aXNpdGlvbiApCiAgICAvLyBDQUVOX0RHVFpfRklSU1RfVFJHX0NPTlRST0xMRUQKICAgIC8vICAgIFJ1biBzdGFydHMgb24gdGhlIGZpcnN0IHRyaWdnZXIgcHVsc2UgKHJpc2luZyBlZGdlIG9uCiAgICAvLyBUUkctSU4pICAgIGFjdHVhbCB0cmlnZ2VycyBzdGFydCBmcm9tIHRoZSBzZWNvbmQgcHVsc2UgZnJvbSB0aGVyZQogICAgLy8gQ0FFTl9ER1RaX1NfSU5fQ09OVFJPTExFRAogICAgLy8gICAgUy1JTi9HUEkgY29udHJvbGxlciAoZGVwZW5kcyBvbiB0aGUgYm9hcmQpLiBBY3F1aXNpdGlvbgogICAgLy8gICAgc3RhcnRzIG9uIGVkZ2Ugb2YgdGhlIEdQSS9TLUlOCiAgICAvLyBDQUVOX0RHVFpfTFZEU19DT05UUk9MTEVECiAgICAvLyAgICBWTUUgT05MWSwgbGlrZSBTX0lOX0NPTlRST0xMRVIgYnV0IHVzZXMgTFZEUy4KICAgIF9lcnJfY29kZSA9IENBRU5fREdUWl9TZXRBY3F1aXNpdGlvbk1vZGUoaGFuZGxlLCBfZ2xvYmFsX2NvbmZpZy5BY3FNb2RlKTsKICAgIF9wcmludF9pZl9lcnIoIkNBRU5fREdUWl9TZXRBY3F1aXNpdGlvbk1vZGUiLCBfX0ZVTkNUSU9OX18pOwoKICAgIC8vIFRyaWdnZXIgcG9sYXJpdHkKICAgIC8vIFRoZXNlIGRpZ2l0aXplcnMgZG8gbm90IHN1cHBvcnQgY2hhbm5lbC1ieS1jaGFubmVsIHRyaWdnZXIgcG9sCiAgICAvLyBzbyB3ZSB0cmVhdCBpdCBsaWtlIGEgZ2xvYmFsIGNvbmZpZywgYW5kIHVzZSAwIGFzIGEgcGxhY2Vob2xkZXIuCiAgICBfZXJyX2NvZGUgPSBDQUVOX0RHVFpfU2V0VHJpZ2dlclBvbGFyaXR5KGhhbmRsZSwgMCwgX2dsb2JhbF9jb25maWcuVHJpZ2dlclBvbGFyaXR5KTsKICAgIF9wcmludF9pZl9lcnIoIkNBRU5fREdUWl9TZXRUcmlnZ2VyUG9sYXJpdHkiLCBfX0ZVTkNUSU9OX18pOwoKICAgIF9lcnJfY29kZSA9IENBRU5fREdUWl9TZXRJT0xldmVsKGhhbmRsZSwgX2dsb2JhbF9jb25maWcuSU9MZXZlbCk7CiAgICBfcHJpbnRfaWZfZXJyKCJDQUVOX0RHVFpfU2V0SU9MZXZlbCIsIF9fRlVOQ1RJT05fXyk7CgoKICAgIC8vIEJvYXJkIGNvbmZpZyByZWdpc3RlcgogICAgLy8gMCA9IFRyaWdnZXIgb3ZlcmxhcHBpbmcgbm90IGFsbG93ZWQKICAgIC8vIDEgPSB0cmlnZ2VyIG92ZXJsYXBwaW5nIGFsbG93ZWQKICAgIFdyaXRlQml0cygweDgwMDAsIF9nbG9iYWxfY29uZmlnLlRyaWdnZXJPdmVybGFwcGluZ0VuLCAxKTsKCiAgICBXcml0ZUJpdHMoMHg4MTAwLCBfZ2xvYmFsX2NvbmZpZy5NZW1vcnlGdWxsTW9kZVNlbGVjdGlvbiwgNSk7CgogICAgLy8gQ2hhbm5lbCBzdHVmZgogICAgX2dyb3VwX2NvbmZpZ3MgPSBncl9jb25maWdzOwogICAgaWYgKEZhbWlseSA9PSBDQUVORGlnaXRpemVyRmFtaWxpZXM6Ong3MzApIHsKICAgICAgICAvLyBGb3IgRFQ1NzMwQiwgdGhlcmUgYXJlIG5vIGdyb3VwcyBvbmx5IGNoYW5uZWxzIHNvIHdlIHRha2UKICAgICAgICAvLyBlYWNoIGNvbmZpZ3VyYXRpb24gYXMgYSBjaGFubmVsCiAgICAgICAgLy8gRmlyc3QsIHdlIG1ha2UgdGhlIGNoYW5uZWwgbWFzawogICAgICAgIHVpbnQzMl90IGNoYW5uZWxfbWFzayA9IDA7CiAgICAgICAgZm9yIChzdGQ6OnNpemVfdCBjaCA9IDA7IGNoIDwgZ3JfY29uZmlncy5zaXplKCk7IGNoKyspIHsKICAgICAgICAgICAgY2hhbm5lbF9tYXNrIHw9IF9ncm91cF9jb25maWdzW2NoXS5FbmFibGVkIDw8IGNoOwogICAgICAgIH0KCiAgICAgICAgdWludDMyX3QgdHJnX21hc2sgPSAwOwogICAgICAgIGZvciAoc3RkOjpzaXplX3QgY2ggPSAwOyBjaCA8IGdyX2NvbmZpZ3Muc2l6ZSgpOyBjaCsrKSB7CiAgICAgICAgICAgIHRyZ19tYXNrID0gX2dyb3VwX2NvbmZpZ3NbY2hdLlRyaWdnZXJNYXNrLmdldCgpOwogICAgICAgICAgICBib29sIGhhc190cmlnX21hc2sgPSB0cmdfbWFzayA+IDA7CiAgICAgICAgICAgIHRyZ19tYXNrIHw9ICBoYXNfdHJpZ19tYXNrIDw8IGNoOwogICAgICAgIH0KCiAgICAgICAgLy8gVGhlbiBlbmFibGUgdGhvc2UgY2hhbm5lbHMKICAgICAgICBfZXJyX2NvZGUgPSBDQUVOX0RHVFpfU2V0Q2hhbm5lbEVuYWJsZU1hc2soaGFuZGxlLCBjaGFubmVsX21hc2spOwogICAgICAgIF9wcmludF9pZl9lcnIoIkNBRU5fREdUWl9TZXRDaGFubmVsRW5hYmxlTWFzayIsIF9fRlVOQ1RJT05fXyk7CgogICAgICAgIC8vIFRoZW4gZW5hYmxlIGlmIHRoZXkgYXJlIHBhcnQgb2YgdGhlIHRyaWdnZXIKICAgICAgICBfZXJyX2NvZGUgPSBDQUVOX0RHVFpfU2V0Q2hhbm5lbFNlbGZUcmlnZ2VyKGhhbmRsZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9nbG9iYWxfY29uZmlnLkNIVHJpZ2dlck1vZGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmdfbWFzayk7CiAgICAgICAgX3ByaW50X2lmX2VycigiQ0FFTl9ER1RaX1NldENoYW5uZWxTZWxmVHJpZ2dlciIsIF9fRlVOQ1RJT05fXyk7CgogICAgICAgIGZvciAoc3RkOjpzaXplX3QgY2ggPSAwOyBjaCA8IGdyX2NvbmZpZ3Muc2l6ZSgpOyBjaCsrKSB7CiAgICAgICAgICAgIGF1dG8gY2hfY29uZmlnID0gZ3JfY29uZmlnc1tjaF07CgogICAgICAgICAgICAvLyBUcmlnZ2VyIHN0dWZmCiAgICAgICAgICAgIC8vIFNlbGYgQ2hhbm5lbCB0cmlnZ2VyCiAgICAgICAgICAgIF9lcnJfY29kZSA9IENBRU5fREdUWl9TZXRDaGFubmVsVHJpZ2dlclRocmVzaG9sZChoYW5kbGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoX2NvbmZpZy5UcmlnZ2VyVGhyZXNob2xkKTsKICAgICAgICAgICAgX3ByaW50X2lmX2VycigiQ0FFTl9ER1RaX1NldENoYW5uZWxUcmlnZ2VyVGhyZXNob2xkIiwgX19GVU5DVElPTl9fKTsKCiAgICAgICAgICAgIF9lcnJfY29kZSA9IENBRU5fREdUWl9TZXRDaGFubmVsRENPZmZzZXQoaGFuZGxlLCBjaCwgY2hfY29uZmlnLkRDT2Zmc2V0KTsKICAgICAgICAgICAgX3ByaW50X2lmX2VycigiQ0FFTl9ER1RaX1NldENoYW5uZWxEQ09mZnNldCIsIF9fRlVOQ1RJT05fXyk7CgogICAgICAgICAgICAvLyBXcml0ZXMgdG8gdGhlIHJlZ2lzdGVycyB0aGF0IGhvbGRzIHRoZSBEQyByYW5nZQogICAgICAgICAgICAvLyBGb3IgNTczMCBpdCBpcyB0aGUgcmVnaXN0ZXIgMHgxbjI4CiAgICAgICAgICAgIFdyaXRlUmVnaXN0ZXIoMHgxMDI4IHwgKGNoICYgMHgwRikgPDwgOCwgY2hfY29uZmlnLkRDUmFuZ2UgJiAweDAwMDEpOwogICAgICAgIH0KCiAgICB9IGVsc2UgaWYgKEZhbWlseSA9PSBDQUVORGlnaXRpemVyRmFtaWxpZXM6Ong3NDApIHsKICAgICAgICB1aW50MzJfdCBncm91cF9tYXNrID0gMDsKICAgICAgICBmb3IgKHN0ZDo6c2l6ZV90IGdycF9uID0gMDsgZ3JwX24gPCBncl9jb25maWdzLnNpemUoKTsgZ3JwX24rKykgewogICAgICAgICAgICBncm91cF9tYXNrIHw9IGdyX2NvbmZpZ3NbZ3JwX25dLkVuYWJsZWQgPDwgZ3JwX247CiAgICAgICAgfQoKICAgICAgICBfZXJyX2NvZGUgPSBDQUVOX0RHVFpfU2V0R3JvdXBFbmFibGVNYXNrKGhhbmRsZSwgZ3JvdXBfbWFzayk7CiAgICAgICAgX3ByaW50X2lmX2VycigiQ0FFTl9ER1RaX1NldEdyb3VwRW5hYmxlTWFzayIsIF9fRlVOQ1RJT05fXyk7CgogICAgICAgIF9lcnJfY29kZSA9IENBRU5fREdUWl9TZXRHcm91cFNlbGZUcmlnZ2VyKGhhbmRsZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfZ2xvYmFsX2NvbmZpZy5DSFRyaWdnZXJNb2RlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyb3VwX21hc2spOwogICAgICAgIF9wcmludF9pZl9lcnIoIkNBRU5fREdUWl9TZXRHcm91cFNlbGZUcmlnZ2VyIiwgX19GVU5DVElPTl9fKTsKCiAgICAgICAgZm9yIChzdGQ6OnNpemVfdCBncnBfbiA9IDA7IGdycF9uIDwgZ3JfY29uZmlncy5zaXplKCk7IGdycF9uKyspIHsKICAgICAgICAgICAgYXV0byBncl9jb25maWcgPSBncl9jb25maWdzW2dycF9uXTsKICAgICAgICAgICAgLy8gVHJpZ2dlciBzdHVmZgoKICAgICAgICAgICAgLy8gVGhpcyBndXkgaXMgZG9lcyBub3Qgd29yayB1bmRlciBWMTc0MEQgdW5sZXNzIGluIGZpcm13YXJlCiAgICAgICAgICAgIC8vIHZlcnNpb24gNC4xNwogICAgICAgICAgICBfZXJyX2NvZGUgPSBDQUVOX0RHVFpfU2V0R3JvdXBUcmlnZ2VyVGhyZXNob2xkKGhhbmRsZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBncnBfbiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBncl9jb25maWcuVHJpZ2dlclRocmVzaG9sZCk7CiAgICAgICAgICAgIF9wcmludF9pZl9lcnIoIkNBRU5fREdUWl9TZXRHcm91cFRyaWdnZXJUaHJlc2hvbGQiLCBfX0ZVTkNUSU9OX18pOwoKICAgICAgICAgICAgX2Vycl9jb2RlID0gQ0FFTl9ER1RaX1NldEdyb3VwRENPZmZzZXQoaGFuZGxlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBncnBfbiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JfY29uZmlnLkRDT2Zmc2V0KTsKICAgICAgICAgICAgX3ByaW50X2lmX2VycigiQ0FFTl9ER1RaX1NldEdyb3VwRENPZmZzZXQiLCBfX0ZVTkNUSU9OX18pOwoKICAgICAgICAgICAgLy8gU2V0IHRoZSBtYXNrIGZvciBjaGFubmVscyBlbmFibGVkIGZvciBzZWxmLXRyaWdnZXJpbmcKICAgICAgICAgICAgYXV0byB0cmlnX21hc2sgPSBncl9jb25maWcuVHJpZ2dlck1hc2suZ2V0KCk7CiAgICAgICAgICAgIF9lcnJfY29kZSA9IENBRU5fREdUWl9TZXRDaGFubmVsR3JvdXBNYXNrKGhhbmRsZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JwX24sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyaWdfbWFzayk7CiAgICAgICAgICAgIF9wcmludF9pZl9lcnIoIkNBRU5fREdUWl9TZXRDaGFubmVsR3JvdXBNYXNrIiwgX19GVU5DVElPTl9fKTsKCiAgICAgICAgICAgIC8vIFNldCBhY3F1aXNpdGlvbiBtYXNrCiAgICAgICAgICAgIGF1dG8gYWNxX21hc2sgPSBncl9jb25maWcuQWNxdWlzaXRpb25NYXNrLmdldCgpOwogICAgICAgICAgICBXcml0ZUJpdHMoMHgxMEE4IHwgKGdycF9uIDw8IDgpLAogICAgICAgICAgICAgICAgICAgICAgIGFjcV9tYXNrLCAwLCA4KTsKCiAgICAgICAgICAgIC8vIERDQ29ycmVjdGlvbnMgc2hvdWxkIGJlIG9mIGxlbmd0aAogICAgICAgICAgICAvLyBOdW1iZXJvZkNoYW5uZWxzIC8gTnVtYmVyb2ZHcm91cHMuCiAgICAgICAgICAgIC8vIHNldCBpbmRpdmlkdWFsIGNoYW5uZWwgOC1iaXREQyBvZmZzZXQKICAgICAgICAgICAgLy8gb24gMTIgYml0IExTQiBzY2FsZSwgc2FtZSBhcyB0aHJlc2hvbGQKICAgICAgICAgICAgdWludDMyX3Qgd29yZCA9IDA7CiAgICAgICAgICAgIGZvciAoaW50IGNoID0gMDsgY2ggPCA0OyBjaCsrKSB7CiAgICAgICAgICAgICAgICB3b3JkICs9IGdyX2NvbmZpZy5EQ0NvcnJlY3Rpb25zW2NoXSA8PCAoY2ggKiA4KTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgV3JpdGVSZWdpc3RlcigweDEwQzAgfCAoZ3JwX24gPDwgOCksIHdvcmQpOwogICAgICAgICAgICB3b3JkID0gMDsKICAgICAgICAgICAgZm9yIChpbnQgY2ggPSA0OyBjaCA8IDg7IGNoKyspIHsKICAgICAgICAgICAgICAgIHdvcmQgKz0gZ3JfY29uZmlnLkRDQ29ycmVjdGlvbnNbY2hdIDw8ICgoY2ggLSA0KSAqIDgpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIFdyaXRlUmVnaXN0ZXIoMHgxMEM0IHwgKGdycF9uIDw8IDgpLCB3b3JkKTsKICAgICAgICB9CgogICAgICAgIGJvb2wgdHJnX291dCA9IGZhbHNlOwoKICAgICAgICAvLyBGb3IgNzQwLCB0byB1c2UgVFJHLUlOIGFzIEdhdGUgLyBhbnRpLXZldG8KICAgICAgICBpZiAoX2dsb2JhbF9jb25maWcuRVhUQXNHYXRlKSB7CiAgICAgICAgICAgIFdyaXRlQml0cygweDgxMEMsIDEsIDI3KTsgIC8vIFRSRy1JTiBBTkQgaW50ZXJuYWwgdHJpZ2dlciwKICAgICAgICAgICAgLy8gYW5kIHRvIHNlcnZlIGFzIGdhdGUKICAgICAgICAgICAgV3JpdGVCaXRzKDB4ODExQywgMSwgMTApOyAgLy8gVFJHLUlOIGFzIGdhdGUKICAgICAgICB9CgogICAgICAgIGlmICh0cmdfb3V0KSB7CiAgICAgICAgICAgIFdyaXRlQml0cygweDgxMUMsIDAsIDE1KTsgIC8vIFRSRy1PVVQgYmFzZWQgb24gaW50ZXJuYWwgc2lnbmFsCiAgICAgICAgICAgIFdyaXRlQml0cygweDgxMUMsIDBiMDAsIDE2LCAyKTsgIC8vIFRSRy1PVVQgYmFzZWQKICAgICAgICAgICAgLy8gb24gaW50ZXJuYWwgc2lnbmFsCiAgICAgICAgfQogICAgICAgIFdyaXRlQml0cyggMHg4MTFDLCAwYjAxLCAyMSwgMik7CgogICAgICAgIC8vIHJlYWRfcmVnaXN0ZXIocmVzLCAweDgxMTAsIHdvcmQpOwogICAgICAgIC8vIHdvcmQgfD0gMTsgLy8gZW5hYmxlIGdyb3VwIDAgdG8gcGFydGljaXBhdGUgaW4gR1BPCiAgICAgICAgLy8gd3JpdGVfcmVnaXN0ZXIocmVzLCAweDgxMTAsIHdvcmQpOwoKICAgIH0gZWxzZSB7CiAgICAgICAgLy8gY3VzdG9tIGVycm9yIG1lc3NhZ2UgaWYgbm90IGFib3ZlIG1vZGVscwogICAgICAgIF9lcnJfY29kZSA9IENBRU5fREdUWl9FcnJvckNvZGU6OkNBRU5fREdUWl9CYWRCb2FyZFR5cGU7CiAgICAgICAgX3ByaW50X2lmX2Vycigic2V0dXAiLCBfX0ZVTkNUSU9OX18sCiAgICAgICAgICAgICAgICAgICAgICAiVGhpcyBBUEkgZG9lcyBub3Qgc3VwcG9ydCB5b3VyIG1vZGVsL2ZhbWlseS4iCiAgICAgICAgICAgICAgICAgICAgICAiIE1heWJlIGhlbHAgd3JpdGluZyB0aGUgc3VwcG9ydCBjb2RlPyA6KSIpOwoKICAgIH0KfQoKdGVtcGxhdGU8dHlwZW5hbWUgVCwgc2l6ZV90IE4+CnZvaWQgQ0FFTjxULCBOPjo6RW5hYmxlQWNxdWlzaXRpb24oKSBub2V4Y2VwdCB7CiAgICBpZiAoX2hhc19lcnJvciBvciBub3QgX2lzX2Nvbm5lY3RlZCkgewogICAgICAgIHJldHVybjsKICAgIH0KCiAgICBpbnQmIGhhbmRsZSA9IF9jYWVuX2FwaV9oYW5kbGU7CgogICAgLy8gQnkgdXNpbmcgcmVzZXQoKSBmb3IgQ0FFTkRhdGEgYW5kIENBRU5FdmVudCB3ZSByZWxlYXNlIG1lbW9yeSwgdG9vLgogICAgLy8gc28gYnkgY2FsbGluZyBlbmFibGUgYWNxdWlzaXRpb24gd2UgYWxzbyBmcmVlIG1lbW9yeSBhbmQgcmUtYWxsb2NhdGUuCgogICAgLy8gV2UgbmVlZCBhIHNpbmdsZSBkYXRhIGJ1ZmZlciB0byBob2xkIHRoZSBpbmNvbWluZyBEYXRhCiAgICBfY2Flbl9yYXdfZGF0YS5yZXNldChuZXcgQ0FFTkRhdGF7X2xvZ2dlciwgaGFuZGxlfSk7CiAgICBfZXJyX2NvZGUgPSBfY2Flbl9yYXdfZGF0YS0+Z2V0RXJyb3IoKTsKICAgIF9wcmludF9pZl9lcnIoIkNBRU5EYXRhIiwgX19GVU5DVElPTl9fKTsKCiAgICAvLyBBbGxvY2F0ZXMgYWxsIHRoZSBtZW1vcnkgZm9yIHRoZSBpbnRlcm5hbCBldmVudHMgYnVmZmVyCiAgICBzdGQ6OmdlbmVyYXRlKF9ldmVudHMuYmVnaW4oKSwgX2V2ZW50cy5lbmQoKSwgW2ggPSBoYW5kbGVdKCl7CiAgICAgICAgcmV0dXJuIHN0ZDo6bWFrZV91bmlxdWU8Q0FFTkV2ZW50PihoKTsKICAgIH0pOwoKICAgIHN0ZDo6Z2VuZXJhdGUoX3dhdmVmb3Jtcy5iZWdpbigpLCBfd2F2ZWZvcm1zLmVuZCgpLAogICAgICAgICAgICAgICAgICBbY29uc3RhbnRzID0gTW9kZWxDb25zdGFudHMsCiAgICAgICAgICAgICAgICAgICBnbG9iYWwgPSBfZ2xvYmFsX2NvbmZpZywKICAgICAgICAgICAgICAgICAgIGdyb3VwcyA9IF9ncm91cF9jb25maWdzXSgpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3RkOjptYWtlX3NoYXJlZDxDQUVOV2F2ZWZvcm1zPHVpbnQxNl90Pj4oY29uc3RhbnRzLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnbG9iYWwsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyb3Vwcyk7CiAgICB9KTsKCiAgICBfZXJyX2NvZGUgPSBDQUVOX0RHVFpfQ2xlYXJEYXRhKGhhbmRsZSk7CiAgICBfcHJpbnRfaWZfZXJyKCJDQUVOX0RHVFpfQ2xlYXJEYXRhIiwgX19GVU5DVElPTl9fKTsKCiAgICBfZXJyX2NvZGUgPSBDQUVOX0RHVFpfU1dTdGFydEFjcXVpc2l0aW9uKGhhbmRsZSk7CiAgICBfcHJpbnRfaWZfZXJyKCJDQUVOX0RHVFpfU1dTdGFydEFjcXVpc2l0aW9uIiwgX19GVU5DVElPTl9fKTsKCiAgICBpZiAobm90IF9oYXNfZXJyb3IpIHsKICAgICAgICBfaXNfYWNxdWlyaW5nID0gdHJ1ZTsKICAgIH0gZWxzZSB7CiAgICAgICAgLy8gVHJ5IHRvIGRpc2FibGUgdGhlIGFjcXVpc2l0aW9uIGp1c3QgaW4gY2FzZQogICAgICAgIF9lcnJfY29kZSA9IENBRU5fREdUWl9TV1N0b3BBY3F1aXNpdGlvbihfY2Flbl9hcGlfaGFuZGxlKTsKICAgICAgICBfcHJpbnRfaWZfZXJyKCJDQUVOX0RHVFpfU1dTdG9wQWNxdWlzaXRpb24iLAogICAgICAgICAgICAgICAgICAgICAgX19GVU5DVElPTl9fKTsKICAgICAgICBfaXNfYWNxdWlyaW5nID0gZmFsc2U7CiAgICB9Cn0KCnRlbXBsYXRlPHR5cGVuYW1lIFQsIHNpemVfdCBOPgp2b2lkIENBRU48VCwgTj46OkRpc2FibGVBY3F1aXNpdGlvbigpIG5vZXhjZXB0IHsKICAgIGlmIChfaGFzX2Vycm9yIG9yIG5vdCBfaXNfY29ubmVjdGVkIG9yIG5vdCBfaXNfYWNxdWlyaW5nKSB7CiAgICAgICAgcmV0dXJuOwogICAgfQoKICAgIF9lcnJfY29kZSA9IENBRU5fREdUWl9TV1N0b3BBY3F1aXNpdGlvbihfY2Flbl9hcGlfaGFuZGxlKTsKICAgIF9wcmludF9pZl9lcnIoIkNBRU5fREdUWl9TV1N0b3BBY3F1aXNpdGlvbiIsIF9fRlVOQ1RJT05fXyk7CiAgICAvLyBUbyBhdm9pZCBmYWxzZSBwb3NpdGl2ZXMKICAgIGlmIChub3QgX2hhc19lcnJvcikgewogICAgICAgIF9pc19hY3F1aXJpbmcgPSBmYWxzZTsKICAgIH0KfQoKdGVtcGxhdGU8dHlwZW5hbWUgVCwgc2l6ZV90IE4+CnZvaWQgQ0FFTjxULCBOPjo6V3JpdGVSZWdpc3Rlcih1aW50MzJfdCYmIGFkZHIsIGNvbnN0IHVpbnQzMl90JiB2YWx1ZSkgbm9leGNlcHQgewogICAgaWYgKF9oYXNfZXJyb3Igb3Igbm90IF9pc19jb25uZWN0ZWQpIHsKICAgICAgICByZXR1cm47CiAgICB9CgogICAgX2Vycl9jb2RlID0gQ0FFTl9ER1RaX1dyaXRlUmVnaXN0ZXIoX2NhZW5fYXBpX2hhbmRsZSwgYWRkciwgdmFsdWUpOwogICAgX3ByaW50X2lmX2VycigiQ0FFTl9ER1RaX1dyaXRlUmVnaXN0ZXIiLCBfX0ZVTkNUSU9OX18pOwp9Cgp0ZW1wbGF0ZTx0eXBlbmFtZSBULCBzaXplX3QgTj4Kdm9pZCBDQUVOPFQsIE4+OjpSZWFkUmVnaXN0ZXIodWludDMyX3QmJiBhZGRyLCB1aW50MzJfdCYgdmFsdWUpIG5vZXhjZXB0IHsKICAgIGlmIChfaGFzX2Vycm9yIG9yIG5vdCBfaXNfY29ubmVjdGVkKSB7CiAgICAgICAgcmV0dXJuOwogICAgfQoKICAgIF9lcnJfY29kZSA9IENBRU5fREdUWl9SZWFkUmVnaXN0ZXIoX2NhZW5fYXBpX2hhbmRsZSwgYWRkciwgJnZhbHVlKTsKICAgIF9wcmludF9pZl9lcnIoIkNBRU5fREdUWl9SZWFkUmVnaXN0ZXIiLCBfX0ZVTkNUSU9OX18pOwp9Cgp0ZW1wbGF0ZTx0eXBlbmFtZSBULCBzaXplX3QgTj4Kdm9pZCBDQUVOPFQsIE4+OjpXcml0ZUJpdHModWludDMyX3QmJiBhZGRyLAogICAgY29uc3QgdWludDMyX3QmIHZhbHVlLCB1aW50OF90IHBvcywgdWludDhfdCBsZW4pIG5vZXhjZXB0IHsKICAgIGlmIChfaGFzX2Vycm9yIG9yIG5vdCBfaXNfY29ubmVjdGVkKSB7CiAgICAgICAgcmV0dXJuOwogICAgfQoKICAgIC8vIEZpcnN0IHJlYWQgdGhlIHJlZ2lzdGVyCiAgICB1aW50MzJfdCByZWFkX3dvcmQgPSAwOwogICAgX2Vycl9jb2RlID0gQ0FFTl9ER1RaX1JlYWRSZWdpc3RlcihfY2Flbl9hcGlfaGFuZGxlLCBhZGRyLCAmcmVhZF93b3JkKTsKICAgIF9wcmludF9pZl9lcnIoIkNBRU5fREdUWl9SZWFkUmVnaXN0ZXIiLCBfX0ZVTkNUSU9OX18pOwoKICAgIHVpbnQzMl90IGJpdF9tYXNrID0gfigoKDEgPDwgbGVuKSAtIDEpIDw8IHBvcyk7CiAgICByZWFkX3dvcmQgPSByZWFkX3dvcmQgJiBiaXRfbWFzazsgLy9tYXNrIHRoZSByZWdpc3RlciB2YWx1ZQoKICAgIC8vIEdldCB0aGUgbG93ZXN0IGJpdHMgb2YgdmFsdWUgYW5kIHNoaWZ0ZWQgdG8gdGhlIGNvcnJlY3QgcG9zaXRpb24KICAgIHVpbnQzMl90IHZhbHVlX2JpdHMgPSAodmFsdWUgJiAoKDEgPDwgbGVuKSAtIDEpKSA8PCBwb3M7CiAgICAvLyBDb21iaW5lIG1hc2tlZCB2YWx1ZSByZWFkIGZyb20gcmVnaXN0ZXIgd2l0aCBuZXcgYml0cwogICAgX2Vycl9jb2RlID0gQ0FFTl9ER1RaX1dyaXRlUmVnaXN0ZXIoX2NhZW5fYXBpX2hhbmRsZSwgYWRkciwgcmVhZF93b3JkIHwgdmFsdWVfYml0cyk7CiAgICBfcHJpbnRfaWZfZXJyKCJDQUVOX0RHVFpfV3JpdGVSZWdpc3RlciIsIF9fRlVOQ1RJT05fXyk7Cn0KCnRlbXBsYXRlPHR5cGVuYW1lIFQsIHNpemVfdCBOPgp2b2lkIENBRU48VCwgTj46OlNvZnR3YXJlVHJpZ2dlcigpIG5vZXhjZXB0IHsKICAgIGlmIChfaGFzX2Vycm9yIG9yIG5vdCBfaXNfY29ubmVjdGVkKSB7CiAgICAgICAgcmV0dXJuOwogICAgfQoKICAgIF9lcnJfY29kZSA9IENBRU5fREdUWl9TZW5kU1d0cmlnZ2VyKF9jYWVuX2FwaV9oYW5kbGUpOwogICAgX3ByaW50X2lmX2VycigiQ0FFTl9ER1RaX1NlbmRTV3RyaWdnZXIiLCBfX0ZVTkNUSU9OX18pOwp9Cgp0ZW1wbGF0ZTx0eXBlbmFtZSBULCBzaXplX3QgTj4KdWludDMyX3QgQ0FFTjxULCBOPjo6R2V0RXZlbnRzSW5CdWZmZXIoKSBub2V4Y2VwdCB7CiAgICB1aW50MzJfdCBldmVudHMgPSAwOwogICAgLy8gRm9yIDU3MzAgaXQgaXMgdGhlIHJlZ2lzdGVyIDB4ODEyQwogICAgLy8gVE9ETyhBbnkpOiBleHBhbmQgdG8gaW5jbHVkZSBhbnkgcmVnaXN0ZXJzIGRlcGVuZGluZyBvbiB0aGUgbW9kZWwKICAgIC8vIG9yIGZhbWlseS4KICAgIFJlYWRSZWdpc3RlcigweDgxMkMsIGV2ZW50cyk7CgogICAgcmV0dXJuIGV2ZW50czsKfQoKdGVtcGxhdGU8dHlwZW5hbWUgVCwgc2l6ZV90IE4+CnZvaWQgQ0FFTjxULCBOPjo6UmV0cmlldmVEYXRhKCkgbm9leGNlcHQgewogICAgaW50JiBoYW5kbGUgPSBfY2Flbl9hcGlfaGFuZGxlOwoKICAgIGlmIChfaGFzX2Vycm9yIG9yIG5vdCBfaXNfY29ubmVjdGVkIG9yIG5vdCBfaXNfYWNxdWlyaW5nKSB7CiAgICAgICAgcmV0dXJuOwogICAgfQoKICAgIC8vIFVOU0FGRSBDT0RFIEFIRUFECiAgICBfZXJyX2NvZGUgPSBDQUVOX0RHVFpfUmVhZERhdGEoaGFuZGxlLAogICAgICAgIENBRU5fREdUWl9SZWFkTW9kZV90OjpDQUVOX0RHVFpfU0xBVkVfVEVSTUlOQVRFRF9SRUFET1VUX01CTFQsCiAgICAgICAgX2NhZW5fcmF3X2RhdGEtPkJ1ZmZlciwKICAgICAgICAmX2NhZW5fcmF3X2RhdGEtPkRhdGFTaXplKTsKICAgIF9wcmludF9pZl9lcnIoIkNBRU5fREdUWl9SZWFkRGF0YSIsIF9fRlVOQ1RJT05fXyk7CgogICAgX2Vycl9jb2RlID0gQ0FFTl9ER1RaX0dldE51bUV2ZW50cyhoYW5kbGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jYWVuX3Jhd19kYXRhLT5CdWZmZXIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jYWVuX3Jhd19kYXRhLT5EYXRhU2l6ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJl9jYWVuX3Jhd19kYXRhLT5OdW1FdmVudHMpOwogICAgLy8gRU5EIE9GIFVOU0FGRSBDT0RFCiAgICBfcHJpbnRfaWZfZXJyKCJDQUVOX0RHVFpfR2V0TnVtRXZlbnRzIiwgX19GVU5DVElPTl9fKTsKfQoKdGVtcGxhdGU8dHlwZW5hbWUgVCwgc2l6ZV90IE4+CmJvb2wgQ0FFTjxULCBOPjo6UmV0cmlldmVEYXRhVW50aWxORXZlbnRzKHVpbnQzMl90JiBuLCBib29sIGRlYnVnX2luZm8pIG5vZXhjZXB0IHsKICAgIGludCYgaGFuZGxlID0gX2NhZW5fYXBpX2hhbmRsZTsKCiAgICBpZiAoX2hhc19lcnJvciBvciBub3QgX2lzX2Nvbm5lY3RlZCBvciBub3QgX2lzX2FjcXVpcmluZykgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KCiAgICBpZiAobiA+PSBfY3VycmVudF9tYXhfYnVmZmVycykgewogICAgICAgIGlmIChHZXRFdmVudHNJbkJ1ZmZlcigpIDwgX2N1cnJlbnRfbWF4X2J1ZmZlcnMpIHsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgIH0gZWxzZSBpZiAoR2V0RXZlbnRzSW5CdWZmZXIoKSA8IG4pIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICB9CgogICAgLy8gVGhlcmUgaXMgYSB3ZWlyZCBxdWlyayByZWxhdGVkIHRvIHRoaXMgZnVuY3Rpb24gdGhhdCBCTE9DS1MKICAgIC8vIHRoZSBzb2Z0d2FyZSBlc3NlbnRpYWxseSBraWxsaW5nIGl0LgogICAgLy8gSWYgVHJpZ2dlck92ZXJsYXBwaW5nIGlzIGFsbG93ZWQgc29tZXRpbWVzIHRoaXMgZnVuY3Rpb24KICAgIC8vIHJldHVybnMgbW9yZSBkYXRhIHRoYW4gQnVmZmVyIGl0IGNhbiBob2xkLCB3aHk/IElkawogICAgLy8gYnV0IHNvIGZhciB3aXRoIHRoZSBzb2Z0d2FyZSBhcyBpcywgaXQgd29uJ3Qgd29yayB3aXRoIHRoYXQKICAgIC8vIHNvIGRvbnQgZG8gaXQhCgogICAgUmV0cmlldmVEYXRhKCk7CgogICAgcmV0dXJuIHRydWU7Cn0KCnRlbXBsYXRlPHR5cGVuYW1lIFQsIHNpemVfdCBOPgpzdGQ6OnNoYXJlZF9wdHI8Q0FFTldhdmVmb3Jtczx1aW50MTZfdD4+IENBRU48VCwgTj46OkRlY29kZUV2ZW50KGNvbnN0IHVpbnQzMl90JiBpKSBub2V4Y2VwdCB7CiAgICBpZiAoaSA+IF9jYWVuX3Jhd19kYXRhLT5OdW1FdmVudHMpIHsKICAgICAgICByZXR1cm4gJl9ldmVudHNbX2NhZW5fcmF3X2RhdGEtPk51bUV2ZW50cyAtIDFdOwogICAgfQoKICAgIGlmIChfaGFzX2Vycm9yIG9yIG5vdCBfaXNfY29ubmVjdGVkKSB7CiAgICAgICAgcmV0dXJuIG51bGxwdHI7CiAgICB9CgogICAgX2Vycl9jb2RlID0gX2V2ZW50c1tpXS0+Z2V0RXZlbnRJbmZvKF9jYWVuX3Jhd19kYXRhLT5CdWZmZXIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY2Flbl9yYXdfZGF0YS0+RGF0YVNpemUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpKTsKICAgIF9wcmludF9pZl9lcnIoIkNBRU5fREdUWl9HZXRFdmVudEluZm8iLAogICAgICAgICAgICAgICAgICBfX0ZVTkNUSU9OX18sCiAgICAgICAgICAgICAgICAgICJhdCBldmVudCAiICsgc3RkOjp0b19zdHJpbmcoaSkpOwogICAgLy8gQ2Fubm90IGRlY29kZSB3aXRob3V0IGdldHRpbmcgZXZlbnQgaW5mbwogICAgX2Vycl9jb2RlID0gX2V2ZW50c1tpXS0+ZGVjb2RlRXZlbnQoKTsKICAgIF9wcmludF9pZl9lcnIoIkNBRU5fREdUWl9EZWNvZGVFdmVudCIsCiAgICAgICAgICAgICAgICAgIF9fRlVOQ1RJT05fXywKICAgICAgICAgICAgICAgICAgImF0IGV2ZW50ICIgKyBzdGQ6OnRvX3N0cmluZyhpKSk7CgogICAgX3dhdmVmb3Jtc1tpXS0+Y29weShfZXZlbnRzW2ldLmdldCgpKTsKCiAgICByZXR1cm4gX3dhdmVmb3Jtc1tpXTsKfQoKdGVtcGxhdGU8dHlwZW5hbWUgVCwgc2l6ZV90IE4+CnZvaWQgQ0FFTjxULCBOPjo6RGVjb2RlRXZlbnRzKCkgbm9leGNlcHQgewogICAgaWYgKF9oYXNfZXJyb3Igb3Igbm90IF9pc19jb25uZWN0ZWQpIHsKICAgICAgICByZXR1cm47CiAgICB9CgogICAgZm9yICh1aW50MzJfdCBpID0gMDsgaSA8IF9jYWVuX3Jhd19kYXRhLT5OdW1FdmVudHM7IGkrKykgewogICAgICAgIF9lcnJfY29kZSA9IF9ldmVudHNbaV0tPmdldEV2ZW50SW5mbyhfY2Flbl9yYXdfZGF0YS0+QnVmZmVyLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jYWVuX3Jhd19kYXRhLT5EYXRhU2l6ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpKTsKICAgICAgICBfcHJpbnRfaWZfZXJyKCJDQUVOX0RHVFpfR2V0RXZlbnRJbmZvIiwKICAgICAgICAgICAgICAgICAgICAgIF9fRlVOQ1RJT05fXywKICAgICAgICAgICAgICAgICAgICAgICJhdCBldmVudCAiICsgc3RkOjp0b19zdHJpbmcoaSkpOwogICAgICAgIC8vIENhbm5vdCBkZWNvZGUgd2l0aG91dCBnZXR0aW5nIGV2ZW50IGluZm8KICAgICAgICBfZXJyX2NvZGUgPSBfZXZlbnRzW2ldLT5kZWNvZGVFdmVudCgpOwogICAgICAgIF9wcmludF9pZl9lcnIoIkNBRU5fREdUWl9EZWNvZGVFdmVudCIsCiAgICAgICAgICAgICAgICAgICAgICBfX0ZVTkNUSU9OX18sCiAgICAgICAgICAgICAgICAgICAgICAiYXQgZXZlbnQgIiArIHN0ZDo6dG9fc3RyaW5nKGkpKTsKCiAgICAgICAgX3dhdmVmb3Jtc1tpXS0+Y29weShfZXZlbnRzW2ldLmdldCgpKTsKICAgIH0KfQoKdGVtcGxhdGU8dHlwZW5hbWUgVCwgc2l6ZV90IE4+CnZvaWQgQ0FFTjxULCBOPjo6Q2xlYXJEYXRhKCkgbm9leGNlcHQgewogICAgaWYgKF9oYXNfZXJyb3Igb3Igbm90IF9pc19jb25uZWN0ZWQpIHsKICAgICAgICByZXR1cm47CiAgICB9CgogICAgaW50JiBoYW5kbGUgPSBfY2Flbl9hcGlfaGFuZGxlOwogICAgX2Vycl9jb2RlID0gQ0FFTl9ER1RaX1NXU3RvcEFjcXVpc2l0aW9uKGhhbmRsZSk7CiAgICBfcHJpbnRfaWZfZXJyKCJDQUVOX0RHVFpfU1dTdG9wQWNxdWlzaXRpb24iLCBfX0ZVTkNUSU9OX18pOwogICAgX2Vycl9jb2RlID0gQ0FFTl9ER1RaX0NsZWFyRGF0YShoYW5kbGUpOwogICAgX3ByaW50X2lmX2VycigiQ0FFTl9ER1RaX0NsZWFyRGF0YSIsIF9fRlVOQ1RJT05fXyk7CiAgICBfZXJyX2NvZGUgPSBDQUVOX0RHVFpfU1dTdGFydEFjcXVpc2l0aW9uKGhhbmRsZSk7CiAgICBfcHJpbnRfaWZfZXJyKCJDQUVOX0RHVFpfU1dTdGFydEFjcXVpc2l0aW9uIiwgX19GVU5DVElPTl9fKTsKfQoKLy8vIEVuZCBEYXRhIEFjcXVpc2l0aW9uIGZ1bmN0aW9ucwovLwovLy8gTWF0aGVtYXRpY2FsIGZ1bmN0aW9ucwoKCgovLy8gRW5kIE1hdGhlbWF0aWNhbCBmdW5jdGlvbnMKLy8KLy8vIEZpbGUgZnVuY3Rpb25zCgovLyBTYXZlcyB0aGUgZGlnaXRpemVyIGRhdGEgaW4gdGhlIEJpbmFyeSBmb3JtYXQgU0JDIGNvbGxib3JhdGlvbiBpcyB1c2luZwovLyBUaGlzIG9ubHkgd3JpdGVzIHRoZSBoZWFkZXIgYXQgdGhlIGJlZ2lubmluZyBvZiB0aGUgZmlsZS4KLy8gTWVhbnQgdG8gYmUgd3JpdHRlbiBvbmNlLgovL3N0ZDo6c3RyaW5nIHNiY19pbml0X2ZpbGUoQ0FFTiYpIG5vZXhjZXB0OwovLwovLy8vIFNhdmVzIHRoZSBkaWdpdGl6ZXIgZGF0YSBpbiB0aGUgQmluYXJ5IGZvcm1hdCBTQkMgY29sbGJvcmF0aW9uIGlzIHVzaW5nCi8vc3RkOjpzdHJpbmcgc2JjX3NhdmVfZnVuYyhDQUVORXZlbnQmLCBDQUVOJikgbm9leGNlcHQ7CgovLy8gRW5kIEZpbGUgZnVuY3Rpb25zCgp9ICAgLy8gbmFtZXNwYWNlIFNCQ1F1ZWVucwojZW5kaWYKAAAAAAAAAABF1wAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAYjUAAAAAAABiNQAAAAAAAAAAAAAAAPC/"
				]
			]
		},
		{
			"file": "src/caen_helper.cpp",
			"settings":
			{
				"buffer_size": 42507,
				"line_ending": "Unix"
			},
			"undo_stack":
			[
			]
		}
	],
	"build_system": "Packages/Python/Python.sublime-build",
	"build_system_choices":
	[
		[
			[
				[
					"Packages/LaTeXTools/LaTeX.sublime-build",
					""
				],
				[
					"Packages/LaTeXTools/LaTeX.sublime-build",
					"Traditional"
				],
				[
					"Packages/LaTeXTools/LaTeX.sublime-build",
					"PdfLaTeX"
				],
				[
					"Packages/LaTeXTools/LaTeX.sublime-build",
					"XeLaTeX"
				],
				[
					"Packages/LaTeXTools/LaTeX.sublime-build",
					"LuaLaTeX"
				],
				[
					"Packages/LaTeXTools/LaTeX.sublime-build",
					"Basic Builder"
				],
				[
					"Packages/LaTeXTools/LaTeX.sublime-build",
					"Basic Builder - PdfLaTeX"
				],
				[
					"Packages/LaTeXTools/LaTeX.sublime-build",
					"Basic Builder - XeLaTeX"
				],
				[
					"Packages/LaTeXTools/LaTeX.sublime-build",
					"Basic Builder - LuaLaTeX"
				],
				[
					"Packages/LaTeXTools/LaTeX.sublime-build",
					"Script Builder"
				],
				[
					"Packages/User/Latex-build.sublime-build",
					""
				]
			],
			[
				"Packages/LaTeXTools/LaTeX.sublime-build",
				"PdfLaTeX"
			]
		],
		[
			[
				[
					"Packages/Makefile/Make.sublime-build",
					""
				],
				[
					"Packages/Makefile/Make.sublime-build",
					"Clean"
				],
				[
					"Packages/LaTeXTools/LaTeX.sublime-build",
					""
				],
				[
					"Packages/LaTeXTools/LaTeX.sublime-build",
					"Traditional"
				],
				[
					"Packages/LaTeXTools/LaTeX.sublime-build",
					"PdfLaTeX"
				],
				[
					"Packages/LaTeXTools/LaTeX.sublime-build",
					"XeLaTeX"
				],
				[
					"Packages/LaTeXTools/LaTeX.sublime-build",
					"LuaLaTeX"
				],
				[
					"Packages/LaTeXTools/LaTeX.sublime-build",
					"Basic Builder"
				],
				[
					"Packages/LaTeXTools/LaTeX.sublime-build",
					"Basic Builder - PdfLaTeX"
				],
				[
					"Packages/LaTeXTools/LaTeX.sublime-build",
					"Basic Builder - XeLaTeX"
				],
				[
					"Packages/LaTeXTools/LaTeX.sublime-build",
					"Basic Builder - LuaLaTeX"
				],
				[
					"Packages/LaTeXTools/LaTeX.sublime-build",
					"Script Builder"
				],
				[
					"Packages/User/Latex-build.sublime-build",
					""
				]
			],
			[
				"Packages/LaTeXTools/LaTeX.sublime-build",
				"PdfLaTeX"
			]
		],
		[
			[
				[
					"Packages/Makefile/Make.sublime-build",
					""
				],
				[
					"Packages/Makefile/Make.sublime-build",
					"Clean"
				],
				[
					"Packages/Python/Python.sublime-build",
					""
				],
				[
					"Packages/Python/Python.sublime-build",
					"Syntax Check"
				]
			],
			[
				"Packages/Python/Python.sublime-build",
				""
			]
		],
		[
			[
				[
					"Packages/Python/Python.sublime-build",
					""
				],
				[
					"Packages/Python/Python.sublime-build",
					"Syntax Check"
				]
			],
			[
				"Packages/Python/Python.sublime-build",
				""
			]
		]
	],
	"build_varint": "",
	"command_palette":
	{
		"height": 0.0,
		"last_filter": "",
		"selected_items":
		[
			[
				"Package Control: ins",
				"Package Control: Install Package"
			],
			[
				"Package Control: ",
				"Package Control: List Packages"
			],
			[
				"Package Control: in",
				"Package Control: Install Package"
			],
			[
				"Package Control: inst",
				"Package Control: Install Package"
			],
			[
				"LSP",
				"LSP: Enable Language Server in Project"
			],
			[
				"Package Control: IN",
				"Package Control: Install Package"
			],
			[
				"LSP: Ena",
				"LSP: Enable Language Server Globally"
			],
			[
				"Package Control: install",
				"Package Control: Install Package"
			],
			[
				"LSP: Enable",
				"LSP: Enable Language Server Globally"
			],
			[
				"package Contro l",
				"Package Control: Install Package"
			],
			[
				"upda",
				"Package Control: Upgrade Package"
			],
			[
				"Insta",
				"Package Control: Install Package"
			],
			[
				"Install Package",
				"Package Control: Install Package"
			],
			[
				"Install",
				"Install Package Control"
			]
		],
		"width": 0.0
	},
	"console":
	{
		"height": 175.0,
		"history":
		[
		]
	},
	"distraction_free":
	{
		"menu_visible": true,
		"show_minimap": false,
		"show_open_files": false,
		"show_tabs": false,
		"side_bar_visible": false,
		"status_bar_visible": false
	},
	"expanded_folders":
	[
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/build",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/cmake",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/include",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/include/sbcqueens-gui",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/include/sbcqueens-gui/gui_windows",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/include/sbcqueens-gui/hardware_helpers",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/include/sbcqueens-gui/multithreading_helpers",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/include/sbcqueens-gui/rendering_wrappers",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/include/sbcqueens-gui/sipm_helpers",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/src",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/src/gui_windows",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/src/hardware_helpers",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/src/sipm_helpers",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/standalone",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/test",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/test/source"
	],
	"file_history":
	[
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/include/sbcqueens-gui/hardware_helpers/ClientController.hpp",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/build/standalone/out.bin",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/include/sbcqueens-gui/caen_helper.hpp",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/include/sbcqueens-gui/hardware_helpers/SiPMAcquisitionData.hpp",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/src/gui_windows/ControlWindow.cpp",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/src/gui_windows/CAENGeneralConfigTab.cpp",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/src/gui_windows/RunTab.cpp",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/include/sbcqueens-gui/hardware_helpers/SlowDAQManager.hpp",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/include/sbcqueens-gui/hardware_helpers/GUIManager.hpp",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/include/sbcqueens-gui/hardware_helpers/SiPMAcquisitionManager.hpp",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/src/armadillo_helpers.cpp",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/include/sbcqueens-gui/sipm_helpers/SBCBinaryFormat.hpp",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/test/caen_file_test.cpp",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/gui_setup.toml",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/src/caen_helper.cpp",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/include/sbcqueens-gui/gui_windows/ControlList.hpp",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/src/gui_windows/CAENPerGroupConfigTab.cpp",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/include/sbcqueens-gui/sipm_helpers/AcquisitionRoutine.hpp",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/src/gui_windows/SiPMControlWindow.cpp",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/include/sbcqueens-gui/hardware_helpers/TeensyControllerManager.hpp",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/include/sbcqueens-gui/file_helpers.hpp",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/src/sipm_helpers/AcquisitionRoutine.cpp",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/include/sbcqueens-gui/sipm_helpers/BreakDownRoutine.hpp",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/src/sipm_helpers/BreakDownRoutine.cpp",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/include/sbcqueens-gui/armadillo_helpers.hpp",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/include/sbcqueens-gui/implot_helpers.hpp",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/src/gui_windows/IndicatorWindow.cpp",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/include/sbcqueens-gui/gui_windows/IndicatorList.hpp",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/include/sbcqueens-gui/gui_windows/ControlWindow.hpp",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/include/sbcqueens-gui/imgui_helpers.hpp",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/include/sbcqueens-gui/gui_windows/CAENGeneralConfigTab.hpp",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/include/sbcqueens-gui/gui_windows/CAENPerGroupConfigTab.hpp",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/include/sbcqueens-gui/gui_windows/IndicatorWindow.hpp",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/include/sbcqueens-gui/gui_windows/RunTab.hpp",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/build/_deps/imgui-src/imgui_demo.cpp",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/src/gui_windows/TeensyTab.cpp",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/include/sbcqueens-gui/multithreading_helpers/Pipe.hpp",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/build/_deps/implot-src/implot.h",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/standalone/main.cpp",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/cmake/Dependencies.cmake",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/include/sbcqueens-gui/hardware_helpers/CAENDigitizerInterface.hpp",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/build/_deps/spdlog-src/include/spdlog/fmt/bundled/core.h",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/build/_deps/implot-src/implot.cpp",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/build/_deps/imgui-src/imgui.h",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/include/sbcqueens-gui/rendering_wrappers/glfw_vulkan_wrapper.h",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/include/sbcqueens-gui/rendering_wrappers/glfw_opengl3_wrapper.h",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/include/sbcqueens-gui/gui_windows/SiPMControlWindow.hpp",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/include/sbcqueens-gui/hardware_helpers/SlowDAQData.hpp",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/include/sbcqueens-gui/hardware_helpers/TeensyControllerData.hpp",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/build/_deps/concurrentqueue-src/concurrentqueue.h",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/include/sbcqueens-gui/hardware_helpers/ThreadKeys.hpp",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/include/sbcqueens-gui/multithreading_helpers/ThreadManager.hpp",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/CMakeLists.txt",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/include/sbcqueens-gui/indicators.hpp",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/include/sbcqueens-gui/hardware_helpers/TeensyControllerInterface.hpp",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/src/hardware_helpers/TeensyControllerInterface.cpp",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/sipm_control_gui.sublime-project",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/README.md",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/include/sbcqueens-gui/hardware_helpers/CAENInterfaceData.hpp",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/cmake/CompilerWarnings.cmake",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/standalone/CMakeLists.txt",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/src/gui_windows/CAENTabs.cpp",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/include/sbcqueens-gui/sipm_helpers/AcquisitonRoutine.hpp",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/src/sipm_helpers/AcquistionRoutine.cpp",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/include/sbcqueens-gui/serial_helper.hpp",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/C",
		"/home/sbc-queens-linux/Desktop/tmp/Python-3.11.1/setup.py",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/Setting Up SublimeText for C++ in WINDOWS.txt",
		"/C/Users/Popcorn/Desktop/SiPMControlGUI/include/sbcqueens-gui/hardware_helpers/GUIManager.hpp",
		"/C/Users/Popcorn/Desktop/SiPMControlGUI/include/sbcqueens-gui/hardware_helpers/TeensyControllerInterface.hpp",
		"/C/Users/Popcorn/Desktop/SiPMControlGUI/include/sbcqueens-gui/indicators.hpp",
		"/C/Users/Popcorn/Desktop/SiPMControlGUI/src/gui_windows/ControlWindow.cpp",
		"/C/Users/Popcorn/Desktop/SiPMControlGUI/include/sbcqueens-gui/hardware_helpers/ClientController.hpp",
		"/C/Users/Popcorn/Desktop/SiPMControlGUI/include/sbcqueens-gui/rendering_wrappers/glfw_opengl3_wrapper.h",
		"/C/Users/Popcorn/Desktop/SiPMControlGUI/include/sbcqueens-gui/rendering_wrappers/glfw_vulkan_wrapper.h",
		"/C/Users/Popcorn/Desktop/SiPMControlGUI/standalone/main.cpp",
		"/C/Users/Popcorn/Desktop/SiPMControlGUI/test/source/gui_test.cpp",
		"/C/Users/Popcorn/Desktop/SiPMControlGUI/include/sbcqueens-gui/caen_helper.hpp",
		"/C/Users/Popcorn/Desktop/SiPMControlGUI/all/CMakeLists.txt",
		"/C/Users/Popcorn/Desktop/SiPMControlGUI/test/CMakeLists.txt",
		"/C/Users/Popcorn/Desktop/SiPMControlGUI/CMakeLists.txt",
		"/C/Users/Popcorn/Desktop/SiPMControlGUI/standalone/CMakeLists.txt",
		"/C/Users/Popcorn/Desktop/SiPMControlGUI/include/sbcqueens-gui/file_helpers.hpp",
		"/C/Users/Popcorn/Desktop/SiPMControlGUI/src/caen_helper.cpp",
		"/C/Users/Popcorn/Desktop/SiPMControlGUI/include/sbcqueens-gui/serial_helper.hpp",
		"/C/Users/Popcorn/Desktop/SiPMControlGUI/include/sbcqueens-gui/implot_helpers.hpp",
		"/C/Users/Popcorn/Desktop/SiPMControlGUI/src/hardware_helpers/TeensyControllerInterface.cpp",
		"/C/Users/Popcorn/Desktop/SiPMControlGUI/src/gui_windows/CAENTabs.cpp",
		"/C/Users/Popcorn/Desktop/SiPMControlGUI/include/sbcqueens-gui/hardware_helpers/CAENDigitizerInterface.hpp",
		"/C/Users/Popcorn/Desktop/SiPMControlGUI/include/sbcqueens-gui/imgui_helpers.hpp",
		"/C/Users/Popcorn/Desktop/SiPMControlGUI/build/compile_commands.json",
		"/C/Users/Popcorn/Desktop/SiPMControlGUI/include/sbcqueens-gui/hardware_helpers/Calibration.hpp",
		"/C/Users/Popcorn/Desktop/SiPMControlGUI/include/sbcqueens-gui/armadillo_helpers.hpp",
		"/C/Users/Popcorn/Desktop/SiPMControlGUI/src/gui_windows/IndicatorWindow.cpp",
		"/C/Users/Popcorn/Desktop/SiPMControlGUI/cmake/Dependencies.cmake",
		"/C/Users/Popcorn/Desktop/SiPMControlGUI/sipm_control_gui.sublime-project",
		"/C/Users/Popcorn/Desktop/SiPMControlGUI/README.md",
		"/C/Users/Popcorn/Desktop/SiPMControlGUI/main.cpp",
		"/C/Users/Popcorn/Desktop/SiPMControlGUI/include/armadillo_helpers.hpp",
		"/C/Users/Popcorn/Desktop/SiPMControlGUI/TeensyControllerInterface.hpp",
		"/C/Users/Popcorn/Desktop/SiPMControlGUI/include/caen_helper.hpp",
		"/C/Users/Popcorn/Desktop/SiPMControlGUI/src/GUI/IndicatorWindow.cpp",
		"/C/Users/Popcorn/Desktop/SiPMControlGUI/src/rendering_wrappers/glfw_vulkan_wrapper.cpp",
		"/C/Users/Popcorn/Desktop/SiPMControlGUI/src/hardware_helpers/Calibration.cpp",
		"/C/Users/Popcorn/Desktop/SiPMControlGUI/src/gui_windows/TeensyTabs.cpp",
		"/C/Users/Popcorn/Desktop/SiPMControlGUI/src/gui_windows/SiPMControlWindow.cpp",
		"/C/Users/Popcorn/Desktop/SiPMControlGUI/src/serial_helper.cpp",
		"/C/Users/Popcorn/Desktop/SiPMControlGUI/src/armadillo_helpers.cpp",
		"/C/Users/Popcorn/Desktop/SiPMControlGUI/include/sbcqueens-gui/hardware_helpers/SlowDAQInterface.hpp",
		"/C/Users/Popcorn/Desktop/SiPMControlGUI/include/sbcqueens-gui/gui_windows/TeensyTabs.hpp",
		"/C/Users/Popcorn/Desktop/SiPMControlGUI/include/sbcqueens-gui/gui_windows/SiPMControlWindow.hpp",
		"/C/Users/Popcorn/Desktop/SiPMControlGUI/include/sbcqueens-gui/gui_windows/IndicatorWindow.hpp",
		"/C/Users/Popcorn/Desktop/SiPMControlGUI/include/sbcqueens-gui/gui_windows/ControlWindow.hpp",
		"/C/Users/Popcorn/Desktop/SiPMControlGUI/include/sbcqueens-gui/gui_windows/CAENTabs.hpp",
		"/C/Users/Popcorn/Desktop/SiPMControlGUI/test/source/main.cpp",
		"/C/Users/Popcorn/Desktop/SiPMControlGUI/TeensyControllerInterface.cpp",
		"/C/Users/Popcorn/Desktop/SiPMControlGUI/include/file_helpers.hpp",
		"/C/Users/Popcorn/Desktop/SiPMControlGUI/include/indicators.hpp",
		"/C/Users/Popcorn/Desktop/SiPMControlGUI/include/GUI/SiPMControlWindow.hpp",
		"/C/Users/Popcorn/Desktop/SiPMControlGUI/GUIManager.hpp",
		"/C/Users/Popcorn/Desktop/SiPMControlGUI/CAENDigitizerInterface.hpp",
		"/C/Users/Popcorn/Desktop/SiPMControlGUI/include/implot_helpers.hpp",
		"/C/Users/Popcorn/Desktop/SiPMControlGUI/include/imgui_helpers.hpp",
		"/X/OneDrive - Queen's University/Research/Research - SIPMs - Queens/Project - SiPM Cooler Pulses/Software/SiPMControlGUI/include/HardwareHelpers/ClientController.hpp",
		"/X/OneDrive - Queen's University/Research/Research - SIPMs - Queens/Project - SiPM Cooler Pulses/Software/SiPMControlGUI/include/HardwareHelpers/Calibration.hpp",
		"/X/OneDrive - Queen's University/Research/Research - SIPMs - Queens/Project - SiPM Cooler Pulses/Software/SiPMControlGUI/src/caen_helper.cpp",
		"/X/OneDrive - Queen's University/Research/Research - SIPMs - Queens/Project - SiPM Cooler Pulses/Software/SiPMControlGUI/include/indicators.hpp",
		"/X/OneDrive - Queen's University/Research/Research - SIPMs - Queens/Project - SiPM Cooler Pulses/Software/SiPMControlGUI/cmake/Dependencies.cmake"
	],
	"find":
	{
		"height": 39.0
	},
	"find_in_files":
	{
		"height": 122.0,
		"where_history":
		[
			""
		]
	},
	"find_state":
	{
		"case_sensitive": false,
		"find_history":
		[
			"getData",
			"_sipm_volt_sys",
			"constexpr",
			"total_ranks",
			"WriteBits",
			"setup_and_prepare",
			"_pfeiffer_file",
			"async_save",
			"_pfeiffer_file",
			"_logger",
			"CAENData",
			"_BMEs_file",
			"SiPMAcquisitionStates",
			"_BMEs_file",
			"_RTDs_file",
			"_pressures_file",
			"_peltiers_file",
			"_processing_evts",
			"Add",
			"add",
			"Add",
			"_saveinfo_file",
			"_pulse_file",
			"Add",
			"_saveinfo_file",
			"unique_ptr",
			"_saveinfo_file",
			"_acq_routine",
			"_vbd_routine",
			"_pressures_file",
			"_peltiers_file",
			"_BMEs_file",
			"add",
			"_BMEs_file",
			"_RTDs_file",
			"_peltiers_file",
			"_saveinfo_file",
			"CAENEvent",
			"caenEvent",
			"CAENEvent",
			"caen_event_to",
			"caen_",
			"GroupData",
			"write_register",
			"AcqMode",
			"GroupConfigs",
			"Port",
			"sipm_voltage_system_update",
			"_sipm_volt_sys",
			"ch",
			"gr_config",
			"ch_config",
			"get",
			"Get",
			"get",
			"gr_pair",
			"process_data_for_gui",
			"setup",
			" : 1",
			"uint8_t",
			"setup",
			"second",
			"GroupConfigs",
			"CAENGroupConfig",
			"acq_mask",
			"TriggerMask",
			"calculate_max_buffers",
			"MaxNumBuffers",
			"calculate_max_buffers",
			"read_register",
			"calculate_max_buffers",
			"ConnectionType",
			"TriggerPolarity",
			"SWTriggerMode",
			"EXTTriggerMode",
			"Combo",
			"ConnectionType",
			"ComboBox",
			"get_draw_function",
			"ComboBox",
			"ImGuiDataType",
			"InputText",
			"std::cout",
			"is_floating_point_v",
			"constexpr",
			");\n",
			"indicator",
			"NumGraphs",
			"NumYAxis",
			"ImPlotScale_",
			"ImPlotScale_SymLog",
			"ImPlotScale",
			"ImPlotAxisFlags_",
			"Plot",
			"Indicator",
			"CurrentIndex",
			"Size",
			"Start",
			"ControlSize",
			"ControlActiveColor",
			"ControlHoveredColor",
			"ControlColor",
			"std",
			"size_t",
			"fill",
			"inline",
			"Color",
			"GUIProducerKey",
			"closeFunc",
			"TeensyControllerKey",
			"TokenType",
			"__draw_similar_begin",
			"control",
			"indicator",
			"retrieve_bmes",
			"LatestAcquiredWaveforms",
			"TriggeredWaveforms",
			"_processing_evts",
			";\n",
			"_processing_evts",
			"TriggeredWaveforms",
			"SavedWaveforms",
			"_latest_num_events",
			"TriggeredWaveforms",
			"SavedWaveforms",
			"_latest_num_events",
			"            _indicator_sender(IndicatorNames::CALCULATING_GAIN, true);",
			"_analysis"
		],
		"highlight": true,
		"in_selection": false,
		"preserve_case": false,
		"regex": true,
		"replace_history":
		[
			" ",
			"\\n/MuonVeto/Gun/AddEnergyPhiPoint ",
			"e",
			"hh>",
			"<G",
			"static const",
			"statis const"
		],
		"reverse": false,
		"scrollbar_highlights": true,
		"show_context": true,
		"use_buffer2": true,
		"use_gitignore": true,
		"whole_word": false,
		"wrap": true
	},
	"groups":
	[
		{
			"sheets":
			[
				{
					"buffer": 0,
					"file": "include/sbcqueens-gui/hardware_helpers/SiPMAcquisitionManager.hpp",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 30038,
						"regions":
						{
						},
						"selection":
						[
							[
								12132,
								12132
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "<",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								},
								{
									"characters": ".<>:\"/*",
									"selector": "punctuation.accessor | (meta.preprocessor.include string - punctuation.definition.string.end)",
									"server": "clangd"
								}
							],
							"lsp_active": true,
							"lsp_hover_provider_count": 1,
							"lsp_uri": "file:///home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/include/sbcqueens-gui/hardware_helpers/SiPMAcquisitionManager.hpp",
							"show_definitions": false,
							"syntax": "Packages/C++/C++.sublime-syntax",
							"tab_size": 4,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 5793.0,
						"zoom_level": 1.0
					},
					"stack_index": 1,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 1,
					"file": "include/sbcqueens-gui/sipm_helpers/SBCBinaryFormat.hpp",
					"selected": true,
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 17905,
						"regions":
						{
						},
						"selection":
						[
							[
								2912,
								2912
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "<",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								},
								{
									"characters": ".<>:\"/*",
									"selector": "punctuation.accessor | (meta.preprocessor.include string - punctuation.definition.string.end)",
									"server": "clangd"
								}
							],
							"lsp_active": true,
							"lsp_hover_provider_count": 1,
							"lsp_uri": "file:///home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/include/sbcqueens-gui/sipm_helpers/SBCBinaryFormat.hpp",
							"show_definitions": false,
							"syntax": "Packages/C++/C++.sublime-syntax",
							"tab_size": 4,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 2916.0,
						"zoom_level": 1.0
					},
					"stack_index": 0,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 2,
					"file": "include/sbcqueens-gui/file_helpers.hpp",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 7258,
						"regions":
						{
						},
						"selection":
						[
							[
								2422,
								2238
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "<",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								},
								{
									"characters": ".<>:\"/*",
									"selector": "punctuation.accessor | (meta.preprocessor.include string - punctuation.definition.string.end)",
									"server": "clangd"
								}
							],
							"lsp_active": true,
							"lsp_hover_provider_count": 1,
							"lsp_uri": "file:///home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/include/sbcqueens-gui/file_helpers.hpp",
							"show_definitions": false,
							"syntax": "Packages/C++/C++.sublime-syntax",
							"tab_size": 4,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 1131.0,
						"zoom_level": 1.0
					},
					"stack_index": 3,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 3,
					"file": "include/sbcqueens-gui/hardware_helpers/GUIManager.hpp",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 21169,
						"regions":
						{
						},
						"selection":
						[
							[
								4070,
								4070
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "<",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								},
								{
									"characters": ".<>:\"/*",
									"selector": "punctuation.accessor | (meta.preprocessor.include string - punctuation.definition.string.end)",
									"server": "clangd"
								}
							],
							"lsp_active": true,
							"lsp_hover_provider_count": 1,
							"lsp_uri": "file:///home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/include/sbcqueens-gui/hardware_helpers/GUIManager.hpp",
							"show_definitions": false,
							"syntax": "Packages/C++/C++.sublime-syntax",
							"tab_size": 4,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 1791.0,
						"zoom_level": 1.0
					},
					"stack_index": 2,
					"stack_multiselect": false,
					"type": "text"
				}
			]
		},
		{
			"sheets":
			[
				{
					"buffer": 4,
					"file": "include/sbcqueens-gui/caen_helper.hpp",
					"selected": true,
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 55109,
						"regions":
						{
						},
						"selection":
						[
							[
								13666,
								13666
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "<",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								},
								{
									"characters": ".<>:\"/*",
									"selector": "punctuation.accessor | (meta.preprocessor.include string - punctuation.definition.string.end)",
									"server": "clangd"
								}
							],
							"lsp_active": true,
							"lsp_hover_provider_count": 1,
							"lsp_uri": "file:///home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/include/sbcqueens-gui/caen_helper.hpp",
							"show_definitions": false,
							"syntax": "Packages/C++/C++.sublime-syntax",
							"tab_size": 4,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 6779.0,
						"zoom_level": 1.0
					},
					"stack_index": 0,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 5,
					"file": "src/caen_helper.cpp",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 42507,
						"regions":
						{
						},
						"selection":
						[
							[
								35029,
								35039
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "<",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								},
								{
									"characters": ".<>:\"/*",
									"selector": "punctuation.accessor | (meta.preprocessor.include string - punctuation.definition.string.end)",
									"server": "clangd"
								}
							],
							"lsp_active": true,
							"lsp_hover_provider_count": 1,
							"lsp_uri": "file:///home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/src/caen_helper.cpp",
							"show_definitions": false,
							"syntax": "Packages/C++/C++.sublime-syntax",
							"tab_size": 4,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 20655.0,
						"zoom_level": 1.0
					},
					"stack_index": 1,
					"stack_multiselect": false,
					"type": "text"
				}
			]
		}
	],
	"incremental_find":
	{
		"height": 27.0
	},
	"input":
	{
		"height": 48.0
	},
	"layout":
	{
		"cells":
		[
			[
				0,
				0,
				1,
				1
			],
			[
				1,
				0,
				2,
				1
			]
		],
		"cols":
		[
			0.0,
			0.5,
			1.0
		],
		"rows":
		[
			0.0,
			1.0
		]
	},
	"menu_visible": true,
	"output.LSP Log Panel":
	{
		"height": 0.0
	},
	"output.SublimeLinter":
	{
		"height": 0.0
	},
	"output.SublimeLinter Messages":
	{
		"height": 174.0
	},
	"output.diagnostics":
	{
		"height": 187.0
	},
	"output.exec":
	{
		"height": 254.0
	},
	"output.find_results":
	{
		"height": 0.0
	},
	"output.hex_viewer_inspector":
	{
		"height": 138.0
	},
	"output.language servers":
	{
		"height": 0.0
	},
	"output.latextools":
	{
		"height": 138.0
	},
	"output.mdpopups":
	{
		"height": 0.0
	},
	"output.mdpopups-dummy":
	{
		"height": 0.0
	},
	"pinned_build_system": "Build GUI Debug",
	"project": "sipm_control_gui.sublime-project",
	"replace":
	{
		"height": 50.0
	},
	"save_all_on_build": true,
	"select_file":
	{
		"height": 0.0,
		"last_filter": "",
		"selected_items":
		[
		],
		"width": 0.0
	},
	"select_project":
	{
		"height": 0.0,
		"last_filter": "",
		"selected_items":
		[
		],
		"width": 0.0
	},
	"select_symbol":
	{
		"height": 0.0,
		"last_filter": "",
		"selected_items":
		[
		],
		"width": 0.0
	},
	"selected_group": 1,
	"settings":
	{
	},
	"show_minimap": true,
	"show_open_files": true,
	"show_tabs": true,
	"side_bar_visible": true,
	"side_bar_width": 246.0,
	"status_bar_visible": true,
	"template_settings":
	{
	}
}
