{
	"auto_complete":
	{
		"selected_items":
		[
			[
				"Plot",
				"PlotIndicator"
			],
			[
				"forma",
				"format_string"
			],
			[
				"X",
				"XAxisLabel"
			],
			[
				"clear",
				"clear_data"
			],
			[
				"PipeEnd",
				"PipeEndType"
			],
			[
				"SiPM",
				"SiPMAcquisitionData"
			],
			[
				"_slowda",
				"_slowdaq_pipe_end"
			],
			[
				"_teens",
				"_teensy_pipe_end"
			],
			[
				"is_samev",
				"is_same_v"
			],
			[
				"INdica",
				"IndicatorTypes"
			],
			[
				"Indicat",
				"IndicatorTypes"
			],
			[
				"Indi",
				"IndicatorTypes"
			],
			[
				"Indicato",
				"IndicatorTypes"
			],
			[
				"PlotType",
				"PlotTypeEnum"
			],
			[
				"BR",
				"BREAKDOWN_ROUTINE_ONGOING"
			],
			[
				"caen",
				"caenEvent"
			],
			[
				"_cu",
				"_current_voltage"
			],
			[
				"Br",
				"BreakdownRoutineState"
			],
			[
				"_vol",
				"_has_voltage_changed"
			],
			[
				"_cae",
				"_caen_port"
			],
			[
				"_ca",
				"_caen_port"
			],
			[
				"uint",
				"uint32_t"
			],
			[
				"_pro",
				"_processing_evts"
			],
			[
				"Bre",
				"BreakdownRoutine"
			],
			[
				"make",
				"make_shared"
			],
			[
				"_l",
				"_latest_breakdown_voltage"
			],
			[
				"_has",
				"_has_finished"
			],
			[
				"has",
				"hasNewGainMeasurement"
			],
			[
				"getCur",
				"getCurrentVoltage"
			],
			[
				"c",
				"cgui_state"
			],
			[
				"_port",
				"_port_mutex"
			],
			[
				"mill",
				"milliseconds"
			],
			[
				"arma",
				"armadillo_helpers"
			],
			[
				"main",
				"main_loop_state"
			],
			[
				"cell",
				"CellNumber"
			],
			[
				"Model",
				"ModelConstants"
			],
			[
				"Num",
				"NumberOfGroups"
			],
			[
				"CAEN",
				"CAENTabs"
			],
			[
				"namesp",
				"namespace"
			],
			[
				"name",
				"namespace"
			],
			[
				"off",
				"offColor"
			],
			[
				"node_",
				"node_view"
			],
			[
				"Pelte",
				"PeltierPidUpdatePeriod"
			],
			[
				"Teensy",
				"TeensySystemPars"
			],
			[
				"Get",
				"GetSystemParameters"
			],
			[
				"Pel",
				"PeltierPidRTD"
			],
			[
				"photon",
				"photon_hits_tree"
			],
			[
				"nhi",
				"nhit_prime"
			],
			[
				"total",
				"totalbiny"
			],
			[
				"G4",
				"G4cout"
			],
			[
				"pa",
				"particleType"
			],
			[
				"Cr",
				"CreateNtupleIColumn"
			],
			[
				"_",
				"_histo_length"
			],
			[
				"_hi",
				"_histo_depth"
			],
			[
				"_min",
				"_min_val"
			],
			[
				"log",
				"logEnergy"
			],
			[
				"_max",
				"_max_val"
			],
			[
				"_his",
				"_histo_depth"
			],
			[
				"_hiso",
				"_histo_length"
			],
			[
				"his",
				"_histo_depth"
			],
			[
				"_histo",
				"_histo_length"
			],
			[
				"ene",
				"energyParticle"
			],
			[
				"_ci",
				"_circle_orientation"
			],
			[
				"verbo",
				"_verbosity"
			],
			[
				"temp",
				"temp0C_mod"
			],
			[
				"time",
				"time0C"
			],
			[
				"_get",
				"_get_reflectivity"
			],
			[
				"tyve",
				"tyvek_energies"
			],
			[
				"df",
				"df2000ma_wave"
			],
			[
				"mini",
				"miniclean_reflectivies"
			],
			[
				"min",
				"miniclean_energies"
			],
			[
				"pmt",
				"pmtsEff"
			],
			[
				"_ref",
				"_reflectroCover"
			],
			[
				"_refl",
				"_reflectorMaterial"
			],
			[
				"Stee",
				"SteelOP"
			],
			[
				"stee",
				"steel_properties"
			],
			[
				"DF",
				"DF2000MA_pt"
			],
			[
				"DF2",
				"DF2000MAReflector"
			],
			[
				"diele",
				"dielectric_metal"
			],
			[
				"of",
				"offsetY"
			],
			[
				"out",
				"out_data"
			],
			[
				"G4OpBounds",
				"G4OpBoundaryProcess"
			],
			[
				"h",
				"hfile"
			],
			[
				"tyvek",
				"tyvek_pt"
			],
			[
				"inc",
				"INCHES_TO_CM"
			],
			[
				"_moteh",
				"_motherPhys"
			],
			[
				"_world",
				"_worldPhys"
			],
			[
				"_main",
				"_mainPhys"
			],
			[
				"_da",
				"_daughter"
			],
			[
				"_mother",
				"_motherConstruction"
			],
			[
				"water",
				"water_tank_log-"
			],
			[
				"pico_ER",
				"PICO_reflector_log"
			],
			[
				"Diff",
				"DiffuseReflector"
			],
			[
				"reflec",
				"reflector_energies"
			],
			[
				"Add",
				"AddProperty"
			],
			[
				"wate",
				"water_energies"
			],
			[
				"PVC",
				"PVCOP"
			],
			[
				"string",
				"string\tstandard header"
			],
			[
				"vector",
				"vector\tstandard header"
			],
			[
				"eneg",
				"energies"
			],
			[
				"Find",
				"FindOrBuildMaterial"
			],
			[
				"trans",
				"transform"
			],
			[
				"anal",
				"analysisManager"
			],
			[
				"PMT",
				"PMTDISTRIBUTION"
			],
			[
				"G4Tr",
				"G4Transform3D"
			],
			[
				"tran",
				"transMatrix"
			],
			[
				"radi",
				"radiusCylinder"
			],
			[
				"top_ta",
				"top_tank_height"
			],
			[
				"water_t",
				"water_tank_phys"
			],
			[
				"pico",
				"pico_tubes_log"
			],
			[
				"DEAP_",
				"DEAP_water_tank_log"
			],
			[
				"con",
				"contact_phys"
			],
			[
				"SetVis",
				"SetVisAttributes"
			],
			[
				"flo",
				"floor_box"
			],
			[
				"STPo",
				"STPosZ"
			],
			[
				"STP",
				"STPosY"
			],
			[
				"nori",
				"norite_box"
			],
			[
				"world",
				"worldWidth"
			],
			[
				"new",
				"newPulse"
			],
			[
				"F",
				"FillNtupleIColumn"
			],
			[
				"Cre",
				"CreateNtupleIColumn"
			],
			[
				"ana",
				"analysisManager"
			],
			[
				"_energy",
				"_energyLogPrecision"
			],
			[
				"Gener",
				"GenerateAngle"
			],
			[
				"dn",
				"dndthetas"
			],
			[
				"_dn",
				"_dn_dth"
			],
			[
				"thet",
				"thetai"
			],
			[
				"ener",
				"energies"
			]
		]
	},
	"buffers":
	[
		{
			"file": "include/sbcqueens-gui/imgui_helpers.hpp",
			"settings":
			{
				"buffer_size": 26297,
				"encoding": "UTF-8",
				"line_ending": "Unix"
			},
			"undo_stack":
			[
				[
					444,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAABPJgAAI2lmbmRlZiBJTUdVSUhFTFBFUlNfSAojZGVmaW5lIElNR1VJSEVMUEVSU19ICiNwcmFnbWEgb25jZQoKLy8gQyBTVEQgaW5jbHVkZXMKLy8gQyAzcmQgcGFydHkgaW5jbHVkZXMKI2luY2x1ZGUgPGltZ3VpLmg+CiNpbmNsdWRlIDxpbXBsb3QuaD4KCi8vIEMrKyBTVEQgaW5jbHVkZXMKI2luY2x1ZGUgPG1lbW9yeT4KI2luY2x1ZGUgPG9wdGlvbmFsPgojaW5jbHVkZSA8c3RyaW5nPgojaW5jbHVkZSA8dHlwZV90cmFpdHM+CiNpbmNsdWRlIDx1bm9yZGVyZWRfbWFwPgojaW5jbHVkZSA8dXRpbGl0eT4KI2luY2x1ZGUgPHZlY3Rvcj4KI2luY2x1ZGUgPGZ1bmN0aW9uYWw+CiNpbmNsdWRlIDxhbnk+CgovLyBDKysgM3JkIHBhcnR5IGluY2x1ZGVzCiNpbmNsdWRlIDxtaXNjL2NwcC9pbWd1aV9zdGRsaWIuaD4gLy8gZm9yIHVzZSB3aXRoIHN0ZDo6c3RyaW5nCiNpbmNsdWRlIDxyZWFkZXJ3cml0ZXJxdWV1ZS5oPgojaW5jbHVkZSA8c3BkbG9nL3NwZGxvZy5oPgojaW5jbHVkZSA8dG9tbC5ocHA+CgpuYW1lc3BhY2UgU0JDUXVlZW5zIHsKCi8vIFRoaXMgaXMgdGhlIGludGVyZmFjZSBjbGFzcyBvZiBhbGwgdGhlIGNvbnRyb2xzCnRlbXBsYXRlPHR5cGVuYW1lIFF1ZXVlRnVuYz4KY2xhc3MgQ29udHJvbCB7CiBwdWJsaWM6CiAgICB2aXJ0dWFsIH5Db250cm9sKCkge30KCiAgICAvLyBObyBtb3ZpbmcKICAgIENvbnRyb2woQ29udHJvbCYmKSA9IGRlbGV0ZTsKCiAgICAvLyBObyBjb3B5aW5nCiAgICBDb250cm9sKGNvbnN0IENvbnRyb2wmJikgPSBkZWxldGU7CgogICAgLy8gWWVzIHJlZmVyZW5jaW5nCiAgICBDb250cm9sKENvbnRyb2wmKSA9IGRlZmF1bHQ7CiAgICBDb250cm9sJiBvcGVyYXRvcj0oQ29udHJvbCYpID0gZGVmYXVsdDsKCiBwcm90ZWN0ZWQ6CiAgICBDb250cm9sKCkge30KCiAgICAvLyBEZWZhdWx0IGNvbnN0cnVjdG9yCiAgICAvLyBsYWJlbCBpcyAuLi4gdGhlIGxhYmVsIG9mIHRoZSBjb250cm9sCiAgICAvLyB0ZXh0IGlzIG5hbWUgb3IgdGV4dCB0byBzaG93IGluIEltR1VJCiAgICAvLyBxIGlzIHRoZSBRdWV1ZSBzZW5kIGZ1bmN0aW9uCiAgICBDb250cm9sKGNvbnN0IHN0ZDo6c3RyaW5nJiBsYWJlbCwgY29uc3Qgc3RkOjpzdHJpbmcmIHRleHQsIFF1ZXVlRnVuYyYmIHEpCiAgICAgICAgOiBfbGFiZWwobGFiZWwpLCBfaW1ndWlfdGV4dCh0ZXh0KSwgX3EocSkge30KCgogICAgLy8gdG9tbCBpbmkgZmlsZSBjb25zdHJ1Y3RvcgogICAgLy8gQWxsb3dzIGZvciBpdHMgaW5pdGlhbCB2YWx1ZSB0byBiZSBkZWZpbmVkIHVzaW5nIHRoZSB0b21sIGZpbGUKICAgIC8vIG5vdCB0byBiZSB1c2VkIHRvIGRlZmluZSB0aGUgR1VJCiAgICAvLyBsYWJlbCBpcyAuLi4gdGhlIGxhYmVsIG9mIHRoZSBjb250cm9sCiAgICAvLyB0ZXh0IGlzIG5hbWUgb3IgdGV4dCB0byBzaG93IGluIEltR1VJCiAgICAvLyBxIGlzIHRoZSBRdWV1ZSBzZW5kIGZ1bmN0aW9uCiAgICBDb250cm9sKAogICAgICAgIGNvbnN0IHN0ZDo6c3RyaW5nJiBsYWJlbCwgY29uc3Qgc3RkOjpzdHJpbmcmIHRleHQsIFF1ZXVlRnVuYyYmIHEsCiAgICAgICAgdG9tbDo6bm9kZV92aWV3PHRvbWw6Om5vZGU+IHRvbWxfbm9kZSkKICAgICAgICA6IF9sYWJlbChsYWJlbCksIF9pbWd1aV90ZXh0KHRleHQpLCBfcShxKSB7fQoKICAgIHN0ZDo6c3RyaW5nIF9sYWJlbDsKICAgIHN0ZDo6c3RyaW5nIF9pbWd1aV90ZXh0OwoKICAgIFF1ZXVlRnVuYyBfcTsKfTsKCi8vIFF1ZXVlIGlzIHRoZSBjb25jdXJyZW50IHF1ZXVlIHVzZWQgdG8gY29tbXVuaWNhdGUgYmV0d2VlbiBtdWx0aS10aHJlYWRlZAovLyBwcm9ncmFtcywgYW5kIFF1ZXVlVHlwZSBpcyB0aGUgZnVuY3Rpb24gdHlwZSB0aGF0IHNlbmRzIGluZm9ybWF0aW9uIGFyb3VuZAp0ZW1wbGF0ZTx0eXBlbmFtZSBRdWV1ZT4KY2xhc3MgQ29udHJvbExpbmsgewogcHJpdmF0ZToKICAgIFF1ZXVlJiBfcTsKCiBwdWJsaWM6CiAgICB1c2luZyBRdWV1ZVR5cGUgPSB0eXBlbmFtZSBRdWV1ZTo6dmFsdWVfdHlwZTsKICAgIHVzaW5nIFF1ZXVlRnVuYyA9IHN0ZDo6ZnVuY3Rpb248Ym9vbChRdWV1ZVR5cGUmJik+OwoKICAgIC8vIGYgLT4gcmVmZXJlbmNlIHRvIHRoZSBjb25jdXJyZW50IHF1ZXVlCiAgICAvLyBub2RlIC0+IHRvbWwgbm9kZSBhc3NvY2lhdGVkIHdpdGggdGhpcyBmYWN0b3J5CiAgICBleHBsaWNpdCBDb250cm9sTGluayhRdWV1ZSYgcSkKICAgICAgICA6IF9xKHEpIHsgfQoKICAgIC8vIE5vIG1vdmluZyBub3IgY29weWluZwogICAgQ29udHJvbExpbmsoQ29udHJvbExpbmsmJikgPSBkZWxldGU7CiAgICBDb250cm9sTGluayhjb25zdCBDb250cm9sTGluayYpID0gZGVsZXRlOwoKICAgIC8vIFdoZW4gZXZlbnQgaXMgdHJ1ZSwgY2FsbGJhY2sgaXMgYWRkZWQgdG8gdGhlIHF1ZXVlCiAgICAvLyBJZiB0aGUgQ2FsbGJhY2sgY2Fubm90IGJlIGFkZGVkIHRvIHRoZSBxdWV1ZSwgdGhlbiBpdCBjYWxscyBjYWxsYmFjawogICAgdGVtcGxhdGU8dHlwZW5hbWUgQ29uZGl0aW9uLCB0eXBlbmFtZSBDYWxsYmFjaz4KICAgIGJvb2wgSW5wdXRUZXh0KGNvbnN0IHN0ZDo6c3RyaW5nJiBsYWJlbCwgc3RkOjpzdHJpbmcmIHZhbHVlLAogICAgICAgIENvbmRpdGlvbiYmIGNvbmRpdGlvbiwgQ2FsbGJhY2smJiBjYWxsYmFjaykgewogICAgICAgIC8vIEZpcnN0IGNhbGwgdGhlIEltR1VJIEFQSQogICAgICAgIGJvb2wgdSA9IEltR3VpOjpJbnB1dFRleHQobGFiZWwuY19zdHIoKSwgJnZhbHVlKTsKICAgICAgICAvLyBUaGUgaWYgbXVzdCBjb21lIGFmdGVyIHRoZSBJbUdVSSBBUEkgY2FsbCBpZiBub3QsIGl0IHdpbGwgbm90IHdvcmsKICAgICAgICBpZiAoY29uZGl0aW9uKCkpIHsKICAgICAgICAgICAgLy8gQ2hlY2tzIGlmIFF1ZXVlRnVuYyBpcyBjYWxsYWJsZSB3aXRoIGlucHV0IENhbGxiYWNrCiAgICAgICAgICAgIGlmIGNvbnN0ZXhwciAoIHN0ZDo6aXNfaW52b2NhYmxlX3Y8UXVldWVGdW5jLCBDYWxsYmFjaz4gKSB7CiAgICAgICAgICAgICAgICBfcS50cnlfZW5xdWV1ZShzdGQ6OmZvcndhcmQ8Q2FsbGJhY2s+KGNhbGxiYWNrKSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBjYWxsYmFjaygpOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAvLyBSZXR1cm4gdGhlIEltR1VJIGJvb2wKICAgICAgICByZXR1cm4gdTsKICAgIH0KCiAgICB0ZW1wbGF0ZTx0eXBlbmFtZSBDYWxsYmFjaz4KICAgIGJvb2wgQnV0dG9uKGNvbnN0IHN0ZDo6c3RyaW5nJiBsYWJlbCwgQ2FsbGJhY2smJiBjYWxsYmFjaykgewogICAgICAgIGJvb2wgc3RhdGUgPSBJbUd1aTo6QnV0dG9uKGxhYmVsLmNfc3RyKCkpOwoKICAgICAgICAvLyBUaGUgaWYgbXVzdCBjb21lIGFmdGVyIHRoZSBJbUdVSSBBUEkgY2FsbCBpZiBub3QsCiAgICAgICAgLy8gaXQgd2lsbCBub3Qgd29yawogICAgICAgIGlmIChzdGF0ZSkgewogICAgICAgICAgICAvLyBDaGVja3MgaWYgUXVldWVGdW5jIGlzIGNhbGxhYmxlIHdpdGggaW5wdXQgQ2FsbGJhY2sKICAgICAgICAgICAgaWYgY29uc3RleHByICggc3RkOjppc19pbnZvY2FibGVfdjxRdWV1ZUZ1bmMsIENhbGxiYWNrPiApIHsKICAgICAgICAgICAgICAgIF9xLnRyeV9lbnF1ZXVlKHN0ZDo6Zm9yd2FyZDxDYWxsYmFjaz4oY2FsbGJhY2spKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHJldHVybiBzdGF0ZTsKICAgIH0KCiAgICB0ZW1wbGF0ZTx0eXBlbmFtZSBDb25kaXRpb24sIHR5cGVuYW1lIENhbGxiYWNrPgogICAgYm9vbCBDaGVja2JveChjb25zdCBzdGQ6OnN0cmluZyYgbGFiZWwsIGJvb2wmIHZhbHVlLAogICAgICAgIENvbmRpdGlvbiYmIGNvbmRpdGlvbiwgQ2FsbGJhY2smJiBjYWxsYmFjaykgewogICAgICAgIGJvb2wgdSA9IEltR3VpOjpDaGVja2JveChsYWJlbC5jX3N0cigpLCAmdmFsdWUpOwoKICAgICAgICAvLyBUaGUgaWYgbXVzdCBjb21lIGFmdGVyIHRoZSBJbUdVSSBBUEkgY2FsbCBpZiBub3QsCiAgICAgICAgLy8gaXQgd2lsbCBub3Qgd29yawogICAgICAgIGlmIChjb25kaXRpb24oKSkgewogICAgICAgICAgICAvLyBDaGVja3MgaWYgUXVldWVGdW5jIGlzIGNhbGxhYmxlIHdpdGggaW5wdXQgQ2FsbGJhY2sKICAgICAgICAgICAgaWYgY29uc3RleHByICggc3RkOjppc19pbnZvY2FibGVfdjxRdWV1ZUZ1bmMsIENhbGxiYWNrPiApIHsKICAgICAgICAgICAgICAgIF9xLnRyeV9lbnF1ZXVlKHN0ZDo6Zm9yd2FyZDxDYWxsYmFjaz4oY2FsbGJhY2spKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHJldHVybiB1OwogICAgfQoKICAgIHRlbXBsYXRlPHR5cGVuYW1lIENvbmRpdGlvbiwgdHlwZW5hbWUgQ2FsbGJhY2s+CiAgICBib29sIElucHV0RmxvYXQoY29uc3Qgc3RkOjpzdHJpbmcmIGxhYmVsLCBmbG9hdCYgdmFsdWUsCiAgICAgICAgY29uc3QgZmxvYXQmIHN0ZXAsIGNvbnN0IGZsb2F0JiBzdGVwX2Zhc3QsCiAgICAgICAgY29uc3Qgc3RkOjpzdHJpbmcmIGZvcm1hdCwKICAgICAgICBDb25kaXRpb24mJiBjb25kaXRpb24sIENhbGxiYWNrJiYgY2FsbGJhY2spIHsKICAgICAgICBib29sIHUgPSBJbUd1aTo6SW5wdXRGbG9hdChsYWJlbC5jX3N0cigpLAogICAgICAgICAgICAmdmFsdWUsIHN0ZXAsIHN0ZXBfZmFzdCwgZm9ybWF0LmNfc3RyKCkpOwoKICAgICAgICAvLyBUaGUgaWYgbXVzdCBjb21lIGFmdGVyIHRoZSBJbUdVSSBBUEkgY2FsbCBpZiBub3QsIGl0IHdpbGwgbm90IHdvcmsKICAgICAgICBpZiAoY29uZGl0aW9uKCkpIHsKICAgICAgICAgICAgaWYgY29uc3RleHByICggc3RkOjppc19pbnZvY2FibGVfdjxRdWV1ZUZ1bmMsIENhbGxiYWNrPiApIHsKICAgICAgICAgICAgICAgIF9xLnRyeV9lbnF1ZXVlKHN0ZDo6Zm9yd2FyZDxDYWxsYmFjaz4oY2FsbGJhY2spKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHJldHVybiB1OwogICAgfQoKICAgIHRlbXBsYXRlPHR5cGVuYW1lIFQsIHR5cGVuYW1lIENvbmRpdGlvbiwgdHlwZW5hbWUgQ2FsbGJhY2s+CiAgICBib29sIElucHV0U2NhbGFyKGNvbnN0IHN0ZDo6c3RyaW5nJiBsYWJlbCwgVCYgdmFsdWUsCiAgICAgICAgQ29uZGl0aW9uJiYgY29uZGl0aW9uLCBDYWxsYmFjayYmIGNhbGxiYWNrKSB7CiAgICAgICAgSW1HdWlEYXRhVHlwZV8gdHlwZSA9IEltR3VpRGF0YVR5cGVfUzg7CiAgICAgICAgaWYgY29uc3RleHByICggc3RkOjppc19zYW1lX3Y8VCwgaW50OF90PikgewogICAgICAgICAgICB0eXBlID0gSW1HdWlEYXRhVHlwZV9TODsKICAgICAgICB9IGVsc2UgaWYgY29uc3RleHByICggc3RkOjppc19zYW1lX3Y8VCwgdWludDhfdD4pIHsKICAgICAgICAgICAgdHlwZSA9IEltR3VpRGF0YVR5cGVfVTg7CiAgICAgICAgfSBlbHNlIGlmIGNvbnN0ZXhwciAoIHN0ZDo6aXNfc2FtZV92PFQsIGludDE2X3Q+KSB7CiAgICAgICAgICAgIHR5cGUgPSBJbUd1aURhdGFUeXBlX1MxNjsKICAgICAgICB9IGVsc2UgaWYgY29uc3RleHByICggc3RkOjppc19zYW1lX3Y8VCwgdWludDE2X3Q+KSB7CiAgICAgICAgICAgIHR5cGUgPSBJbUd1aURhdGFUeXBlX1UxNjsKICAgICAgICB9IGVsc2UgaWYgY29uc3RleHByICggc3RkOjppc19zYW1lX3Y8VCwgaW50MzJfdD4pIHsKICAgICAgICAgICAgdHlwZSA9IEltR3VpRGF0YVR5cGVfUzMyOwogICAgICAgIH0gZWxzZSBpZiBjb25zdGV4cHIgKCBzdGQ6OmlzX3NhbWVfdjxULCB1aW50MzJfdD4pIHsKICAgICAgICAgICAgdHlwZSA9IEltR3VpRGF0YVR5cGVfVTMyOwogICAgICAgIH0gZWxzZSBpZiBjb25zdGV4cHIgKCBzdGQ6OmlzX3NhbWVfdjxULCBpbnQ2NF90PikgewogICAgICAgICAgICB0eXBlID0gSW1HdWlEYXRhVHlwZV9TNjQ7CiAgICAgICAgfSBlbHNlIGlmIGNvbnN0ZXhwciAoIHN0ZDo6aXNfc2FtZV92PFQsIHVpbnQ2NF90PikgewogICAgICAgICAgICB0eXBlID0gSW1HdWlEYXRhVHlwZV9VNjQ7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgYXNzZXJ0KGZhbHNlKTsKICAgICAgICB9CgogICAgICAgIGJvb2wgdSA9IEltR3VpOjpJbnB1dFNjYWxhcihsYWJlbC5jX3N0cigpLCB0eXBlLCAmdmFsdWUpOwoKICAgICAgICAvLyBUaGUgaWYgbXVzdCBjb21lIGFmdGVyIHRoZSBJbUdVSSBBUEkgY2FsbCBpZiBub3QsIGl0IHdpbGwgbm90IHdvcmsKICAgICAgICBpZiAoY29uZGl0aW9uKCkpIHsKICAgICAgICAgICAgaWYgY29uc3RleHByICggc3RkOjppc19pbnZvY2FibGVfdjxRdWV1ZUZ1bmMsIENhbGxiYWNrPiApIHsKICAgICAgICAgICAgICAgIF9xLnRyeV9lbnF1ZXVlKHN0ZDo6Zm9yd2FyZDxDYWxsYmFjaz4oY2FsbGJhY2spKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHJldHVybiB1OwogICAgfQoKICAgIHRlbXBsYXRlPHR5cGVuYW1lIFQsIHR5cGVuYW1lIENvbmRpdGlvbiwgdHlwZW5hbWUgQ2FsbGJhY2s+CiAgICBib29sIENvbWJvQm94KGNvbnN0IHN0ZDo6c3RyaW5nJiBsYWJlbCwKICAgICAgICBUJiBzdGF0ZSwKICAgICAgICBjb25zdCBzdGQ6OnVub3JkZXJlZF9tYXA8VCwgc3RkOjpzdHJpbmc+JiBtYXAsCiAgICAgICAgQ29uZGl0aW9uJiYgY29uZGl0aW9uLCBDYWxsYmFjayYmIGNhbGxiYWNrKSB7CiAgICAgICAgc3RhdGljIHNpemVfdCBpbmRleCA9IDA7CiAgICAgICAgc2l6ZV90IGkgPSAwOwoKICAgICAgICBzdGQ6OnZlY3RvcjxUPiBzdGF0ZXM7CiAgICAgICAgc3RkOjp2ZWN0b3I8c3RkOjpzdHJpbmc+IHNfc3RhdGVzOwoKICAgICAgICBmb3IgKGF1dG8gcGFpciA6IG1hcCkgewogICAgICAgICAgICBzdGF0ZXMucHVzaF9iYWNrKHBhaXIuZmlyc3QpOwogICAgICAgICAgICBzX3N0YXRlcy5wdXNoX2JhY2socGFpci5zZWNvbmQpOwoKICAgICAgICAgICAgLy8gVGhpcyBpcyB0byBtYWtlIHN1cmUgdGhlIGN1cnJlbnQgc2VsZWN0ZWQgaXRlbSBpcyB0aGUgb25lCiAgICAgICAgICAgIC8vIHRoYXQgaXMgYWxyZWFkeSBzYXZlZCBpbiBzdGF0ZQogICAgICAgICAgICBpZiAoc3RhdGUgPT0gcGFpci5maXJzdCkgewogICAgICAgICAgICAgICAgaW5kZXggPSBpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpKys7CiAgICAgICAgfQoKICAgICAgICAvLyBib29sIHUgPSBJbUd1aTo6Q29tYm8obGFiZWwuY19zdHIoKSwgJmluZGV4LCBsaXN0LmNfc3RyKCkpOwogICAgICAgIGlmIChJbUd1aTo6QmVnaW5Db21ibyhsYWJlbC5jX3N0cigpLCBzX3N0YXRlc1tpbmRleF0uY19zdHIoKSkpIHsKICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IHNfc3RhdGVzLnNpemUoKTsgaSsrKSB7CiAgICAgICAgICAgICAgICBjb25zdCBib29sIGlzX3NlbGVjdGVkID0gKGluZGV4ID09IGkpOwogICAgICAgICAgICAgICAgaWYgKEltR3VpOjpTZWxlY3RhYmxlKHNfc3RhdGVzW2ldLmNfc3RyKCksIGlzX3NlbGVjdGVkKSkgewogICAgICAgICAgICAgICAgICAgIGluZGV4ID0gaTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIC8vIFNldCB0aGUgaW5pdGlhbCBmb2N1cyB3aGVuIG9wZW5pbmcgdGhlIGNvbWJvCiAgICAgICAgICAgICAgICAvLyAoc2Nyb2xsaW5nICsga2V5Ym9hcmQgbmF2aWdhdGlvbiBmb2N1cykKICAgICAgICAgICAgICAgIGlmIChpc19zZWxlY3RlZCkgewogICAgICAgICAgICAgICAgICAgIEltR3VpOjpTZXRJdGVtRGVmYXVsdEZvY3VzKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIEltR3VpOjpFbmRDb21ibygpOwogICAgICAgIH0KCiAgICAgICAgc3RhdGUgPSBzdGF0ZXNbaW5kZXhdOwoKICAgICAgICBpZiAoY29uZGl0aW9uKCkpIHsKICAgICAgICAgICAgaWYgY29uc3RleHByICggc3RkOjppc19pbnZvY2FibGVfdjxRdWV1ZUZ1bmMsIENhbGxiYWNrPiApIHsKICAgICAgICAgICAgICAgIF9xLnRyeV9lbnF1ZXVlKHN0ZDo6Zm9yd2FyZDxDYWxsYmFjaz4oY2FsbGJhY2spKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIHRlbXBsYXRlPHR5cGVuYW1lIFQsIHR5cGVuYW1lIENvbmRpdGlvbiwgdHlwZW5hbWUgQ2FsbGJhY2s+CiAgICBib29sIENvbWJvQm94KGNvbnN0IHN0ZDo6c3RyaW5nJiBsYWJlbCwKICAgICAgICBUJiBzdGF0ZSwKICAgICAgICBjb25zdCBzdGQ6OnVub3JkZXJlZF9tYXA8c3RkOjpzdHJpbmcsIFQ+JiBtYXAsCiAgICAgICAgQ29uZGl0aW9uJiYgY29uZGl0aW9uLCBDYWxsYmFjayYmIGNhbGxiYWNrKSB7CiAgICAgICAgc3RhdGljIHNpemVfdCBpbmRleCA9IDA7CiAgICAgICAgc2l6ZV90IGkgPSAwOwoKICAgICAgICBzdGQ6OnZlY3RvcjxUPiBzdGF0ZXM7CiAgICAgICAgc3RkOjp2ZWN0b3I8c3RkOjpzdHJpbmc+IHNfc3RhdGVzOwogICAgICAgIGZvciAoYXV0byBwYWlyIDogbWFwKSB7CiAgICAgICAgICAgIHN0YXRlcy5wdXNoX2JhY2socGFpci5zZWNvbmQpOwogICAgICAgICAgICBzX3N0YXRlcy5wdXNoX2JhY2socGFpci5maXJzdCk7CgogICAgICAgICAgICBpZiAoc3RhdGUgPT0gcGFpci5zZWNvbmQpIHsKICAgICAgICAgICAgICAgIGluZGV4ID0gaTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaSsrOwogICAgICAgIH0KCiAgICAgICAgLy8gYm9vbCB1ID0gSW1HdWk6OkNvbWJvKGxhYmVsLmNfc3RyKCksICZpbmRleCwgbGlzdC5jX3N0cigpKTsKICAgICAgICBpZiAoSW1HdWk6OkJlZ2luQ29tYm8obGFiZWwuY19zdHIoKSwgc19zdGF0ZXNbaW5kZXhdLmNfc3RyKCkpKSB7CiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBzX3N0YXRlcy5zaXplKCk7IGkrKykgewogICAgICAgICAgICAgICAgY29uc3QgYm9vbCBpc19zZWxlY3RlZCA9IChpbmRleCA9PSBpKTsKICAgICAgICAgICAgICAgIGlmIChJbUd1aTo6U2VsZWN0YWJsZShzX3N0YXRlc1tpXS5jX3N0cigpLCBpc19zZWxlY3RlZCkpIHsKICAgICAgICAgICAgICAgICAgICBpbmRleCA9IGk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAvLyBTZXQgdGhlIGluaXRpYWwgZm9jdXMgd2hlbiBvcGVuaW5nIHRoZSBjb21ibwogICAgICAgICAgICAgICAgLy8gKHNjcm9sbGluZyArIGtleWJvYXJkIG5hdmlnYXRpb24gZm9jdXMpCiAgICAgICAgICAgICAgICBpZiAoaXNfc2VsZWN0ZWQpIHsKICAgICAgICAgICAgICAgICAgICBJbUd1aTo6U2V0SXRlbURlZmF1bHRGb2N1cygpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICBJbUd1aTo6RW5kQ29tYm8oKTsKICAgICAgICB9CgogICAgICAgIHN0YXRlID0gc3RhdGVzW2luZGV4XTsKCiAgICAgICAgaWYgKGNvbmRpdGlvbigpKSB7CiAgICAgICAgICAgIGlmIGNvbnN0ZXhwciAoIHN0ZDo6aXNfaW52b2NhYmxlX3Y8UXVldWVGdW5jLCBDYWxsYmFjaz4gKSB7CiAgICAgICAgICAgICAgICBfcS50cnlfZW5xdWV1ZShzdGQ6OmZvcndhcmQ8Q2FsbGJhY2s+KGNhbGxiYWNrKSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBjYWxsYmFjaygpOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KfTsKfSAgLy8gbmFtZXNwYWNlIFNCQ1F1ZWVucwojZW5kaWYKAAAAAAAAAAANYwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAATyYAAAAAAABPJgAAAAAAAAAAAAAAAPC/"
				],
				[
					451,
					1,
					"insert",
					{
						"characters": "\n\n"
					},
					"AgAAACJPAAAAAAAAI08AAAAAAAAAAAAAI08AAAAAAAAkTwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAIk8AAAAAAAAiTwAAAAAAAAAAAAAAAPC/"
				],
				[
					452,
					1,
					"paste",
					null,
					"AQAAACRPAAAAAAAA4E8AAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAJE8AAAAAAAAkTwAAAAAAAAAAAAAAAPC/"
				],
				[
					455,
					1,
					"left_delete",
					null,
					"AQAAAC1PAAAAAAAALU8AAAAAAAARAAAASW5kaWNhdG9yVHlwZXMgVCw",
					"AQAAAAAAAAABAAAAPk8AAAAAAAAtTwAAAAAAAAAAAAAAAPC/"
				],
				[
					457,
					1,
					"left_delete",
					null,
					"AQAAAC1PAAAAAAAALU8AAAAAAAABAAAAIA",
					"AQAAAAAAAAABAAAALk8AAAAAAAAuTwAAAAAAAAAAAAAAAPC/"
				],
				[
					462,
					1,
					"insert",
					{
						"characters": "Plot"
					},
					"BQAAALFPAAAAAAAAsk8AAAAAAAAAAAAAsk8AAAAAAACyTwAAAAAAAAkAAABJbmRpY2F0b3KyTwAAAAAAALNPAAAAAAAAAAAAALNPAAAAAAAAtE8AAAAAAAAAAAAAtE8AAAAAAAC1TwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAsU8AAAAAAAC6TwAAAAAAAAAAAAAAAPC/"
				],
				[
					464,
					1,
					"insert_completion",
					{
						"completion": "PlotIndicator",
						"format": "text",
						"keep_prefix": false,
						"must_insert": false,
						"trigger": "PlotIndicator"
					},
					"AgAAALFPAAAAAAAAsU8AAAAAAAAEAAAAUGxvdLFPAAAAAAAAvk8AAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAtU8AAAAAAAC1TwAAAAAAAAAAAAAAAPC/"
				],
				[
					467,
					3,
					"left_delete",
					null,
					"AwAAAMFPAAAAAAAAwU8AAAAAAAABAAAAIMBPAAAAAAAAwE8AAAAAAAABAAAALL9PAAAAAAAAv08AAAAAAAABAAAAVA",
					"AQAAAAAAAAABAAAAwk8AAAAAAADCTwAAAAAAAAAAAAAAAPC/"
				],
				[
					475,
					1,
					"insert",
					{
						"characters": "sizew"
					},
					"BQAAAEJPAAAAAAAAQ08AAAAAAAAAAAAAQ08AAAAAAABETwAAAAAAAAAAAABETwAAAAAAAEVPAAAAAAAAAAAAAEVPAAAAAAAARk8AAAAAAAAAAAAARk8AAAAAAABHTwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAQk8AAAAAAABCTwAAAAAAAAAAAAAAAPC/"
				],
				[
					476,
					1,
					"left_delete",
					null,
					"AQAAAEZPAAAAAAAARk8AAAAAAAABAAAAdw",
					"AQAAAAAAAAABAAAAR08AAAAAAABHTwAAAAAAAAAAAAAAAPC/"
				],
				[
					477,
					1,
					"insert",
					{
						"characters": ")_"
					},
					"AgAAAEZPAAAAAAAAR08AAAAAAAAAAAAAR08AAAAAAABITwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAARk8AAAAAAABGTwAAAAAAAAAAAAAAAPC/"
				],
				[
					478,
					2,
					"left_delete",
					null,
					"AgAAAEdPAAAAAAAAR08AAAAAAAABAAAAX0ZPAAAAAAAARk8AAAAAAAABAAAAKQ",
					"AQAAAAAAAAABAAAASE8AAAAAAABITwAAAAAAAAAAAAAAAPC/"
				],
				[
					479,
					1,
					"insert",
					{
						"characters": "_t"
					},
					"AgAAAEZPAAAAAAAAR08AAAAAAAAAAAAAR08AAAAAAABITwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAARk8AAAAAAABGTwAAAAAAAAAAAAAAAPC/"
				],
				[
					480,
					1,
					"insert",
					{
						"characters": ","
					},
					"AQAAAEhPAAAAAAAASU8AAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAASE8AAAAAAABITwAAAAAAAAAAAAAAAPC/"
				],
				[
					481,
					1,
					"insert",
					{
						"characters": " size_t,"
					},
					"CAAAAElPAAAAAAAASk8AAAAAAAAAAAAASk8AAAAAAABLTwAAAAAAAAAAAABLTwAAAAAAAExPAAAAAAAAAAAAAExPAAAAAAAATU8AAAAAAAAAAAAATU8AAAAAAABOTwAAAAAAAAAAAABOTwAAAAAAAE9PAAAAAAAAAAAAAE9PAAAAAAAAUE8AAAAAAAAAAAAAUE8AAAAAAABRTwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAASU8AAAAAAABJTwAAAAAAAAAAAAAAAPC/"
				],
				[
					482,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAFFPAAAAAAAAUk8AAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAUU8AAAAAAABRTwAAAAAAAAAAAAAAAPC/"
				],
				[
					489,
					1,
					"paste",
					null,
					"AgAAAEJPAAAAAAAAZk8AAAAAAAAAAAAAZk8AAAAAAABmTwAAAAAAAA4AAABzaXplX3QsIHNpemVfdA",
					"AQAAAAAAAAABAAAAUE8AAAAAAABCTwAAAAAAAAAAAAAAAPC/"
				],
				[
					494,
					1,
					"insert",
					{
						"characters": "\n\t\t"
					},
					"AwAAAEJPAAAAAAAAQ08AAAAAAAAAAAAAQ08AAAAAAABHTwAAAAAAAAAAAABHTwAAAAAAAEtPAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAQk8AAAAAAABCTwAAAAAAAAAAAAAAAPC/"
				],
				[
					495,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAEtPAAAAAAAATE8AAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAS08AAAAAAABLTwAAAAAAAAAAAAAAAPC/"
				],
				[
					500,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AgAAAF9PAAAAAAAAYE8AAAAAAAAAAAAAYE8AAAAAAABpTwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAX08AAAAAAABfTwAAAAAAAAAAAAAAAPC/"
				],
				[
					503,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AgAAAHxPAAAAAAAAfU8AAAAAAAAAAAAAfU8AAAAAAACGTwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAfE8AAAAAAAB8TwAAAAAAAAAAAAAAAPC/"
				],
				[
					504,
					1,
					"trim_trailing_white_space",
					null,
					"AwAAAHtPAAAAAAAAe08AAAAAAAABAAAAIF5PAAAAAAAAXk8AAAAAAAABAAAAIEFPAAAAAAAAQU8AAAAAAAABAAAAIA",
					"AQAAAAAAAAABAAAAhk8AAAAAAACGTwAAAAAAAAAAAAAAAPC/"
				],
				[
					512,
					1,
					"insert",
					{
						"characters": "get_opl"
					},
					"CAAAAKxPAAAAAAAArU8AAAAAAAAAAAAArU8AAAAAAACtTwAAAAAAAA0AAABnZXRfaW5kaWNhdG9yrU8AAAAAAACuTwAAAAAAAAAAAACuTwAAAAAAAK9PAAAAAAAAAAAAAK9PAAAAAAAAsE8AAAAAAAAAAAAAsE8AAAAAAACxTwAAAAAAAAAAAACxTwAAAAAAALJPAAAAAAAAAAAAALJPAAAAAAAAs08AAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAArE8AAAAAAAC5TwAAAAAAAAAAAAAAAPC/"
				],
				[
					513,
					2,
					"left_delete",
					null,
					"AgAAALJPAAAAAAAAsk8AAAAAAAABAAAAbLFPAAAAAAAAsU8AAAAAAAABAAAAcA",
					"AQAAAAAAAAABAAAAs08AAAAAAACzTwAAAAAAAAAAAAAAAPC/"
				],
				[
					514,
					1,
					"insert",
					{
						"characters": "p"
					},
					"AQAAALFPAAAAAAAAsk8AAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAsU8AAAAAAACxTwAAAAAAAAAAAAAAAPC/"
				],
				[
					515,
					2,
					"left_delete",
					null,
					"AgAAALFPAAAAAAAAsU8AAAAAAAABAAAAcLBPAAAAAAAAsE8AAAAAAAABAAAAbw",
					"AQAAAAAAAAABAAAAsk8AAAAAAACyTwAAAAAAAAAAAAAAAPC/"
				],
				[
					516,
					1,
					"insert",
					{
						"characters": "plot"
					},
					"BAAAALBPAAAAAAAAsU8AAAAAAAAAAAAAsU8AAAAAAACyTwAAAAAAAAAAAACyTwAAAAAAALNPAAAAAAAAAAAAALNPAAAAAAAAtE8AAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAsE8AAAAAAACwTwAAAAAAAAAAAAAAAPC/"
				],
				[
					525,
					2,
					"left_delete",
					null,
					"AgAAAFRDAAAAAAAAVEMAAAAAAAABAAAAPVNDAAAAAAAAU0MAAAAAAAABAAAAPg",
					"AQAAAAAAAAABAAAAVUMAAAAAAABVQwAAAAAAAAAAAAAAAPC/"
				],
				[
					526,
					1,
					"insert",
					{
						"characters": "<"
					},
					"AQAAAFNDAAAAAAAAVEMAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAU0MAAAAAAABTQwAAAAAAAAAAAAAAAPC/"
				],
				[
					530,
					1,
					"left_delete",
					null,
					"AQAAADlDAAAAAAAAOUMAAAAAAABNAAAACiAgICBzdGF0aWNfYXNzZXJ0KE5ZQXhpcyA8IDQsICJQbG90dGluZyBkb2VzIG5vdCBzdXBwb3J0IG1vcmUgdGhhbiA0IGF4aXMiKTs",
					"AQAAAAAAAAABAAAAhkMAAAAAAAA5QwAAAAAAAAAAAAAAAPC/"
				],
				[
					533,
					1,
					"left_delete",
					null,
					"AQAAADlDAAAAAAAAOUMAAAAAAAABAAAACg",
					"AQAAAAAAAAABAAAAOkMAAAAAAAA6QwAAAAAAAAAAAAAAAHdA"
				],
				[
					535,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAACnYwAAI2lmbmRlZiBJTUdVSUhFTFBFUlNfSAojZGVmaW5lIElNR1VJSEVMUEVSU19ICiNpbmNsdWRlICJzYmNxdWVlbnMtZ3VpL2ltcGxvdF9oZWxwZXJzLmhwcCIKI3ByYWdtYSBvbmNlCgovLyBDIFNURCBpbmNsdWRlcwovLyBDIDNyZCBwYXJ0eSBpbmNsdWRlcwojaW5jbHVkZSA8aW1ndWkuaD4KI2luY2x1ZGUgPGltcGxvdC5oPgoKLy8gQysrIFNURCBpbmNsdWRlcwojaW5jbHVkZSA8cmFuZ2VzPgojaW5jbHVkZSA8ZnVuY3Rpb25hbD4KI2luY2x1ZGUgPHVub3JkZXJlZF9tYXA+CiNpbmNsdWRlIDxzdHJpbmc+CiNpbmNsdWRlIDx0eXBlX3RyYWl0cz4KI2luY2x1ZGUgPHZlY3Rvcj4KI2luY2x1ZGUgPHN0cmluZ192aWV3PgoKLy8gQysrIDNyZCBwYXJ0eSBpbmNsdWRlcwojaW5jbHVkZSA8c3BkbG9nL3NwZGxvZy5oPiAvLyBmb3IgZm10Ojpmb3JtYXQKI2luY2x1ZGUgPG1pc2MvY3BwL2ltZ3VpX3N0ZGxpYi5oPiAvLyBmb3IgdXNlIHdpdGggc3RkOjpzdHJpbmcKCm5hbWVzcGFjZSBTQkNRdWVlbnMgewoKLy8gc3RvbGVuIGZyb20gaHR0cHM6Ly9jdHJwZWFjaC5pby9wb3N0cy9jcHAyMC1zdHJpbmctbGl0ZXJhbC10ZW1wbGF0ZS1wYXJhbWV0ZXJzLwovLyBpdCBpcyBhIGdyZWF0IGlkZWEhCnRlbXBsYXRlPHNpemVfdCBOPgpzdHJ1Y3QgU3RyaW5nTGl0ZXJhbCB7CiAgICBjb25zdGV4cHIgU3RyaW5nTGl0ZXJhbChjb25zdCBjaGFyICgmc3RyKVtOXSkgewogICAgICAgIC8vIFRoZSBleHBsaWNpdCBicmVha3MgdGhpcywgbWF5YmUgd2UgY2FuIGZpbmQgYSBtb3JlIHN1aXRhYmxlIHNvbHV0aW9uPwogICAgICAgIHN0ZDo6Y29weV9uKHN0ciwgTiwgdmFsdWUpOwogICAgfQoKICAgIGNoYXIgdmFsdWVbTl07Cn07Cgp1c2luZyBDb2xvcl90ID0gSW1WZWM0Owp1c2luZyBTaXplX3QgPSBJbVZlYzI7Cgpjb25zdGV4cHIgc3RhdGljIENvbG9yX3QgUmVkezEuMCwgMC4wLCAwLjAsIDEuMH07CmNvbnN0ZXhwciBzdGF0aWMgQ29sb3JfdCBHcmVlbnswLjAsIDEuMCwgMC4wLCAxLjB9Owpjb25zdGV4cHIgc3RhdGljIENvbG9yX3QgQmx1ZXswLjAsIDAuMCwgMS4wLCAxLjB9Owpjb25zdGV4cHIgc3RhdGljIENvbG9yX3QgV2hpdGV7MS4wLCAxLjAsIDEuMCwgMS4wfTsKY29uc3RleHByIHN0YXRpYyBDb2xvcl90IEJsYWNrezAuMCwgMC4wLCAwLjAsIDAuMH07Cgp1c2luZyBUZXh0UG9zaXRpb25fdCA9IGVudW0gY2xhc3MgVGV4dFBvc2l0aW9uRW51bSB7CiAgICBOb25lLCBUb3AsIEJvdHRvbSwgTGVmdCwgUmlnaHQKfTsKdXNpbmcgTnVtZXJpY0Zvcm1hdF90ID0gZW51bSBjbGFzcyBOdW1lcmljRm9ybWF0RW51bSB7CiAgICBEZWZhdWx0LCBTY2llbnRpZmljLCBIZXhGbG9hdCwgRml4ZWQKfTsKdXNpbmcgUGxvdFR5cGVfdCA9IGVudW0gY2xhc3MgUGxvdFR5cGVFbnVteyBMaW5lLCBTY2F0dGVyIH07CgpzdHJ1Y3QgRHJhd2luZ09wdGlvbnMgewogICAgLy8gTG9jYXRpb24gb2YgdGhlIGFjY29tcGFueWluZyB0ZXh0LiBNb3N0IEltR1VJIGNvbnRyb2xzIGFscmVhZHkKICAgIC8vIGhhdmUgc29tZXRoaW5nIHNpbWlsYXIsIHRoaXMgaXMgZm9yIHRob3NlIHdobyBkbyBub3QgKGxpa2UgYnV0dG9uKQogICAgVGV4dFBvc2l0aW9uX3QgVGV4dFBvc2l0aW9uID0gVGV4dFBvc2l0aW9uRW51bTo6Tm9uZTsKICAgIC8vIENvbG9yIG9mIHRoZSBhY2NvbXBhbnlpbmcgdGV4dC4KICAgIENvbG9yX3QgVGV4dENvbG9yID0gV2hpdGU7CiAgICAvLyBDb2xvciBvZiB0aGUgY29udHJvbCBpbiBzdGFuZGJ5IC0gb25seSBidXR0b24gc3VwcG9ydHMgaXQgQVRNLgogICAgQ29sb3JfdCBDb2xvciA9IEJsdWU7CiAgICAvLyBDb2xvciBvZiB0aGUgY29udHJvbCB3aGVuIGhvdmVyZWQgLSBvbmx5IGJ1dHRvbiBzdXBwb3J0cyBpdCBBVE0uCiAgICBDb2xvcl90IEhvdmVyZWRDb2xvciA9IEJsdWU7CiAgICAvLyBDb2xvciBvZiB0aGUgY29udHJvbCB3aGVuIGFjdGl2ZSAtIG9ubHkgYnV0dG9uIHN1cHBvcnRzIGl0IEFUTS4KICAgIENvbG9yX3QgQWN0aXZlQ29sb3IgPSBCbHVlOwogICAgLy8gU2l6ZSBvZiB0aGUgY29udHJvbCAtIG9ubHkgYnV0dG9uIHN1cHBvcnRzIGl0IEFUTS4gMHMgc2l6ZXMKICAgIC8vIHRoZSBidXR0b24gdG8gdGhlIGxlbmd0aCBvZiB0aGUgdGV4dAogICAgU2l6ZV90IFNpemUgPSBTaXplX3R7MCwgMH07CgogICAgLy8gTnVtZXJpYyBpbmRpY2F0b3IvY29udHJvbHMgc3BlY2lmaWMKICAgIGRvdWJsZSBTdGVwU2l6ZSA9IDAuMDsKICAgIC8vIE51bWVyaWMgaW5kaWNhdG9yL2NvbnRyb2xzIHNwZWNpZmljIC0gRm9sbG93IHByaW50ZiBjb252ZW50aW9ucwogICAgc3RkOjpzdHJpbmdfdmlldyBGb3JtYXQgPSAiJS4zZiI7Cn07CgplbnVtIGNsYXNzIENvbnRyb2xUeXBlcyB7IElucHV0VGV4dCwgQnV0dG9uLCBDaGVja2JveCwgSW5wdXRJbnQsIElucHV0RmxvYXQsCiAgICBJbnB1dERvdWJsZSwgQ29tYm9Cb3gsIElucHV0SU5UOCwgSW5wdXRVSU5UOCwgSW5wdXRJTlQxNiwgSW5wdXRVSU5UMTYsCiAgICBJbnB1dElOVDMyLCBJbnB1dFVJTlQzMiwgSW5wdXRJTlQ2NCwgSW5wdXRVSU5UNjQgfTsKCnRlbXBsYXRlPENvbnRyb2xUeXBlcyBDb250cm9sVHlwZSwgU3RyaW5nTGl0ZXJhbCBsaXN0PgpzdHJ1Y3QgQ29udHJvbCB7CiAgICBjb25zdCBzdGQ6OnN0cmluZ192aWV3IExhYmVsID0gIiI7CiAgICBjb25zdCBzdGQ6OnN0cmluZ192aWV3IFRleHQgPSAiIjsKICAgIGNvbnN0IHN0ZDo6c3RyaW5nX3ZpZXcgSGVscFRleHQgPSAiIjsKICAgIGNvbnN0IERyYXdpbmdPcHRpb25zIERyYXdPcHRpb25zID0gRHJhd2luZ09wdGlvbnN7fTsKCiAgICBjb25zdGV4cHIgfkNvbnRyb2woKSB7fQoKICAgIGNvbnN0ZXhwciBDb250cm9sKCkgPSBkZWZhdWx0OwogICAgY29uc3RleHByIENvbnRyb2woCiAgICAgICAgY29uc3Qgc3RkOjpzdHJpbmdfdmlldyYgdGV4dCwgY29uc3Qgc3RkOjpzdHJpbmdfdmlldyYgaGVscF90ZXh0LAogICAgICAgIGNvbnN0IERyYXdpbmdPcHRpb25zJiBkcmF3X29wdHMgPSBEcmF3aW5nT3B0aW9uc3t9KSA6CiAgICAgICAgTGFiZWx7bGlzdC52YWx1ZX0sCiAgICAgICAgVGV4dHt0ZXh0fSwKICAgICAgICBIZWxwVGV4dHtoZWxwX3RleHR9LAogICAgICAgIERyYXdPcHRpb25ze2RyYXdfb3B0c30KICAgIHsKICAgICAgICAvLyBzdGF0aWNfYXNzZXJ0KERyYXdPcHRpb25zLkZvcm1hdC5zdGFydHNfd2l0aCgiJSIpLCAiZm9ybWF0IHN0cmluZyBtdXN0IgogICAgICAgIC8vICAgICAic3RhcnQgd2l0aCAlIik7CiAgICB9CgogICAgZXhwbGljaXQgY29uc3RleHByIENvbnRyb2woY29uc3Qgc3RkOjpzdHJpbmdfdmlldyYgdGV4dCkgOgogICAgICAgIENvbnRyb2x7dGV4dCwgIiJ9CiAgICB7fQp9OwoKCmVudW0gY2xhc3MgSW5kaWNhdG9yVHlwZXMgeyBOdW1lcmljYWwsIFN0cmluZywgTEVEIH07Cgp0ZW1wbGF0ZTxJbmRpY2F0b3JUeXBlcyBJbmRpY2F0b3JUeXBlLCBTdHJpbmdMaXRlcmFsIExhYmVsPgpzdHJ1Y3QgSW5kaWNhdG9yIHsKICAgIC8vIExhYmVsIG9mIHRoZSBpbmRpY2F0b3IgdGhhdCBpcyBkcmF3biBkZXBlbmRpbmcgb24KICAgIC8vIERyYXdPcHRpb25zLlRleHRQb3NpdGlvbiB2YWx1ZQogICAgY29uc3Qgc3RkOjpzdHJpbmdfdmlldyBUZXh0ID0gIiI7CiAgICAvLyBVbml0cyBsYWJlbCB0aGF0IGlzIGFsd2F5cyBkcmF3biBvbiB0aGUgcmlnaHQgb2YgdGhlIGluZGljYXRvcgogICAgLy8gb25seSBkcmF3biBvbiBOdW1lcmljYWxJbmRpY2F0b3IKICAgIGNvbnN0IHN0ZDo6c3RyaW5nX3ZpZXcgVW5pdFRleHQgPSAiIjsKICAgIC8vIEhlbHAgdGV4dCB0aGF0IGFwcGVhcnMgd2hlbiBob3ZlcmluZyB0aGUgdGV4dC4KICAgIGNvbnN0IHN0ZDo6c3RyaW5nX3ZpZXcgSGVscFRleHQgPSAiIjsKICAgIGNvbnN0IERyYXdpbmdPcHRpb25zIERyYXdPcHRpb25zOwoKICAgIGNvbnN0ZXhwciB+SW5kaWNhdG9yKCkge30KCiAgICBjb25zdGV4cHIgSW5kaWNhdG9yKCkgPSBkZWZhdWx0OwogICAgY29uc3RleHByIEluZGljYXRvcigKICAgICAgICBzdGQ6OnN0cmluZ192aWV3IHRleHQsCiAgICAgICAgc3RkOjpzdHJpbmdfdmlldyB1bml0cywKICAgICAgICBzdGQ6OnN0cmluZ192aWV3IGhlbHBfdGV4dCwKICAgICAgICBjb25zdCBEcmF3aW5nT3B0aW9ucyYgZHJhd19vcHRzID0gRHJhd2luZ09wdGlvbnN7fSkgOgogICAgICAgIFRleHR7dGV4dH0sCiAgICAgICAgVW5pdFRleHR7dW5pdHN9LAogICAgICAgIEhlbHBUZXh0e2hlbHBfdGV4dH0sCiAgICAgICAgRHJhd09wdGlvbnN7ZHJhd19vcHRzfQogICAgewogICAgICAgIC8vIHN0YXRpY19hc3NlcnQoRHJhd09wdGlvbnMuRm9ybWF0LnN0YXJ0c193aXRoKCIlIiksICJmb3JtYXQgc3RyaW5nIG11c3QiCiAgICAgICAgLy8gICAgICJzdGFydCB3aXRoICUiKTsKICAgICAgICAvLyBSZW1vdmUgdGhlICUgZnJvbSB0aGUgZm9ybWF0IHN0cmluZywgYXMgd2Ugd2lsbCBub3QgbmVlZCBpdCBmb3IKICAgICAgICAvLyBhbGwgdGhlIGluZGljYXRvcnMuCiAgICAgICAgLy8gRHJhd09wdGlvbnMuRm9ybWF0LnJlbW92ZV9wcmVmaXgoMSk7CiAgICB9CgogICAgLy8gU2V0cyB0aGUgVGV4dCBlcXVhbCB0byB0aGUgTGFiZWwsIGFuZCBzZXRzIGRyYXdpbmcgb3B0aW9ucyB0byB0aGUKICAgIC8vIGRlZmF1bHRzLgogICAgZXhwbGljaXQgY29uc3RleHByIEluZGljYXRvcihzdGQ6OnN0cmluZ192aWV3IGhlbHBfdGV4dCkgOgogICAgICAgIEluZGljYXRvcntMYWJlbC52YWx1ZSwgIiIsIGhlbHBfdGV4dH0KICAgIHt9CgogICAgZXhwbGljaXQgY29uc3RleHByIEluZGljYXRvcihzdGQ6OnN0cmluZ192aWV3IHVuaXRzLAogICAgICAgIHN0ZDo6c3RyaW5nX3ZpZXcgaGVscF90ZXh0KSA6CiAgICAgICAgSW5kaWNhdG9ye0xhYmVsLnZhbHVlLCB1bml0cywgaGVscF90ZXh0fQogICAge30KIHByaXZhdGU6CiAgICBjb25zdCBzdGQ6OnN0cmluZ192aWV3IF9mdWxsX2Zvcm1hdF9zdHJpbmc7Cn07Cgp0ZW1wbGF0ZTxTdHJpbmdMaXRlcmFsIENvbnN0TGFiZWw+CnVzaW5nIE51bWVyaWNhbEluZGljYXRvciA9IEluZGljYXRvcjxJbmRpY2F0b3JUeXBlczo6TnVtZXJpY2FsLCBDb25zdExhYmVsPjsKdGVtcGxhdGU8U3RyaW5nTGl0ZXJhbCBDb25zdExhYmVsPgp1c2luZyBTdHJpbmdJbmRpY2F0b3IgPSBJbmRpY2F0b3I8SW5kaWNhdG9yVHlwZXM6OlN0cmluZywgQ29uc3RMYWJlbD47CnRlbXBsYXRlPFN0cmluZ0xpdGVyYWwgQ29uc3RMYWJlbD4KdXNpbmcgTEVESW5kaWNhdG9yID0gSW5kaWNhdG9yPEluZGljYXRvclR5cGVzOjpMRUQsIENvbnN0TGFiZWw+OwoKdXNpbmcgUGxvdEdyb3VwaW5nc190ID0gZW51bSBjbGFzcyBQbG90R3JvdXBpbmdzRW51bSB7IE9uZSwgVHdvLCBUaHJlZSB9OwoKdGVtcGxhdGU8c2l6ZV90IE5QbG90cyA9IDEsIHNpemVfdCBOWUF4aXMgPSAxPgpzdHJ1Y3QgUGxvdE9wdGlvbnMgewogICAgc3RhdGljX2Fzc2VydChOWUF4aXMgPCA0LCAiTW9yZSB0aGFuIDQgYXhlcyBub3QgYWxsb3dlZC4iKTsKICAgIHN0YXRpY19hc3NlcnQoTlBsb3RzID49IE5ZQXhpcywgIk51bWJlciBvZiBncmFwaHMgaGFzIHRvIGJlIGVxdWFsIG9yIGhpZ2hlciIKICAgICAgICAiIHRoYW4gdGhlIG51bWJlciBvZiB5LWF4ZXMiKTsKICAgIHN0YXRpY19hc3NlcnQoTlBsb3RzID4gMCwgIlRoZXJlIG11c3QgYmUgYSBsZWFzdCBvbmUgcGxvdCEiKTsKCiAgICAvLyBUeXBlIG9mIHBsb3QgZHJhd24KICAgIFBsb3RUeXBlX3QgUGxvdFR5cGUgPSBQbG90VHlwZUVudW06OkxpbmU7CiAgICAvLwogICAgYm9vbCBTaG93QWxsT3B0aW9ucyA9IGZhbHNlOwoKICAgIC8vIExhYmVscyBvZiBlYWNoIHBsb3QKICAgIHN0ZDo6YXJyYXk8c3RkOjpzdHJpbmdfdmlldywgTlBsb3RzPiBQbG90TGFiZWxzOwogICAgLy8gR3JvdXAgKGluIHRlcm0gb2YgYXhlcykgd2hlcmUgZWFjaCBwbG90IGJlbG9uZ3MuIE1heCAzCiAgICBzdGQ6OmFycmF5PFBsb3RHcm91cGluZ3NfdCwgTlBsb3RzPiBQbG90R3JvdXBpbmdzOwoKICAgIGNvbnN0IHN0ZDo6c3RyaW5nX3ZpZXcgWEF4aXNMYWJlbCA9ICJ4IjsKICAgIHN0ZDo6c3RyaW5nX3ZpZXcgWEF4aXNVbml0ID0gIlthcmIuXSI7CiAgICBJbVBsb3RTY2FsZSBYQXhpc1NjYWxlID0gSW1QbG90U2NhbGVfTGluZWFyOwogICAgSW1QbG90QXhpc0ZsYWdzIFhBeGlzRmxhZ3MgPSBJbVBsb3RBeGlzRmxhZ3NfTm9uZTsKCiAgICBjb25zdCBzdGQ6OmFycmF5PHN0ZDo6c3RyaW5nX3ZpZXcsIE5ZQXhpcz4gWUF4aXNMYWJlbHMgPSB7InkifTsKICAgIHN0ZDo6YXJyYXk8c3RkOjpzdHJpbmdfdmlldywgTllBeGlzPiBZQXhpc1VuaXRzID0geyJbYXJiLl0ifTsKICAgIHN0ZDo6YXJyYXk8SW1QbG90U2NhbGUsIE5ZQXhpcz4gWUF4aXNTY2FsZXM7CiAgICBzdGQ6OmFycmF5PEltUGxvdEF4aXNGbGFncywgTllBeGlzPiBZQXhpc0ZsYWdzOwp9OwoKdGVtcGxhdGU8U3RyaW5nTGl0ZXJhbCBsaXN0LCBzaXplX3QgTlBsb3RzID0gMSwgc2l6ZV90IE5ZQXhpcyA9IDE+CnN0cnVjdCBQbG90SW5kaWNhdG9yIHsKICAgIHN0YXRpY19hc3NlcnQoTllBeGlzIDwgNCwgIk1vcmUgdGhhbiA0IGF4ZXMgbm90IGFsbG93ZWQuIik7CiAgICBzdGF0aWNfYXNzZXJ0KE5QbG90cyA+PSBOWUF4aXMsICJOdW1iZXIgb2YgZ3JhcGhzIGhhcyB0byBiZSBlcXVhbCBvciBoaWdoZXIiCiAgICAgICAgIiB0aGFuIHRoZSBudW1iZXIgb2YgeS1heGVzIik7CiAgICBzdGF0aWNfYXNzZXJ0KE5QbG90cyA+IDAsICJUaGVyZSBtdXN0IGJlIGEgbGVhc3Qgb25lIHBsb3QhIik7CgogICAgY29uc3Qgc3RkOjpzdHJpbmdfdmlldyBMYWJlbCA9ICIiOwogICAgLy8gY29uc3Qgc3RkOjpzdHJpbmdfdmlldyBUZXh0ID0gIiI7CiAgICAvLyBjb25zdCBzdGQ6OnN0cmluZ192aWV3IEhlbHBUZXh0ID0gIiI7CgogICAgLy8gSW5mb3JtYXRpb24gYWJvdXQgdGhlIHBsb3RzLCB0aGVpciBheGVzLCBhbmQgbmFtZXMKICAgIFBsb3RPcHRpb25zPE5QbG90cywgTllBeGlzPiBQbG90RHJhd09wdGlvbnM7CiAgICBjb25zdCBEcmF3aW5nT3B0aW9ucyBEcmF3T3B0aW9uczsKCiAgICBjb25zdGV4cHIgflBsb3RJbmRpY2F0b3IoKSB7fQoKICAgIGNvbnN0ZXhwciBQbG90SW5kaWNhdG9yKCkgPSBkZWZhdWx0OwogICAgZXhwbGljaXQgY29uc3RleHByIFBsb3RJbmRpY2F0b3IoCiAgICAgICAgLy8gY29uc3Qgc3RkOjpzdHJpbmdfdmlldyYgdGV4dCwgY29uc3Qgc3RkOjpzdHJpbmdfdmlldyYgaGVscF90ZXh0LAogICAgICAgIGNvbnN0IFBsb3RPcHRpb25zPE5QbG90cywgTllBeGlzPiYgcGxvdF9kcmF3X29wdHMgPSBQbG90T3B0aW9uczxOWUF4aXM+e30sCiAgICAgICAgY29uc3QgRHJhd2luZ09wdGlvbnMmIGRyYXdfb3B0cyA9IERyYXdpbmdPcHRpb25ze30pIDoKICAgICAgICBMYWJlbHtsaXN0LnZhbHVlfSwKICAgICAgICAvLyBUZXh0e3RleHR9LAogICAgICAgIC8vIEhlbHBUZXh0e2hlbHBfdGV4dH0sCiAgICAgICAgUGxvdERyYXdPcHRpb25ze3Bsb3RfZHJhd19vcHRzfSwKICAgICAgICBEcmF3T3B0aW9uc3tkcmF3X29wdHN9CiAgICB7CiAgICAgICAgLy8gc3RhdGljX2Fzc2VydCgsICk7CgogICAgfQoKICAgIGV4cGxpY2l0IGNvbnN0ZXhwciBQbG90SW5kaWNhdG9yKGNvbnN0IHN0ZDo6c3RyaW5nX3ZpZXcmIHRleHQpIDoKICAgICAgICBQbG90SW5kaWNhdG9ye3RleHQsICIifQogICAge30KfTsKCi8vIENvbnRyb2xzCnRlbXBsYXRlPFN0cmluZ0xpdGVyYWwgTGFiZWw+CmJvb2wgSW5wdXRUZXh0KGNvbnN0IENvbnRyb2w8Q29udHJvbFR5cGVzOjpJbnB1dFRleHQsIExhYmVsPiYsCiAgICAgICAgICAgICAgIHN0ZDo6c3RyaW5nJiBvdXQpIHsKICAgIHJldHVybiBJbUd1aTo6SW5wdXRUZXh0KExhYmVsLnZhbHVlLCAmb3V0KTsKfQoKdGVtcGxhdGU8U3RyaW5nTGl0ZXJhbCBMYWJlbD4KYm9vbCBCdXR0b24oY29uc3QgQ29udHJvbDxDb250cm9sVHlwZXM6OkJ1dHRvbiwgTGFiZWw+JiBjb250cm9sLAogICAgICAgICAgICBib29sJiBvdXQpIHsKICAgIEltR3VpOjpQdXNoU3R5bGVDb2xvcihJbUd1aUNvbF9CdXR0b24sCiAgICAgICAgY29udHJvbC5EcmF3T3B0aW9ucy5Db2xvcik7CiAgICBJbUd1aTo6UHVzaFN0eWxlQ29sb3IoSW1HdWlDb2xfQnV0dG9uSG92ZXJlZCwKICAgICAgICBjb250cm9sLkRyYXdPcHRpb25zLkhvdmVyZWRDb2xvcik7CiAgICBJbUd1aTo6UHVzaFN0eWxlQ29sb3IoSW1HdWlDb2xfQnV0dG9uQWN0aXZlLAogICAgICAgIGNvbnRyb2wuRHJhd09wdGlvbnMuQWN0aXZlQ29sb3IpOwoKICAgIG91dCA9IEltR3VpOjpCdXR0b24oTGFiZWwudmFsdWUsIGNvbnRyb2wuRHJhd09wdGlvbnMuU2l6ZSk7CgogICAgSW1HdWk6OlBvcFN0eWxlQ29sb3IoMyk7CiAgICByZXR1cm4gb3V0Owp9Cgp0ZW1wbGF0ZTxTdHJpbmdMaXRlcmFsIExhYmVsPgpib29sIENoZWNrYm94KGNvbnN0IENvbnRyb2w8Q29udHJvbFR5cGVzOjpDaGVja2JveCwgTGFiZWw+JiBjb250cm9sLAogICAgICAgICAgICAgIGJvb2wmIG91dCkgewogICAgcmV0dXJuIEltR3VpOjpDaGVja2JveChMYWJlbC52YWx1ZSwgJm91dCk7Cn0KCnRlbXBsYXRlPFN0cmluZ0xpdGVyYWwgTGFiZWw+CmJvb2wgSW5wdXRJbnQoY29uc3QgQ29udHJvbDxDb250cm9sVHlwZXM6OklucHV0SW50LCBMYWJlbD4mIGNvbnRyb2wsCiAgICAgICAgICAgICAgaW50JiBvdXQpIHsKICAgIHJldHVybiBJbUd1aTo6SW5wdXRJbnQoTGFiZWwudmFsdWUsICZvdXQsIHN0YXRpY19jYXN0PGludD4oCiAgICAgICAgY29udHJvbC5EcmF3T3B0aW9ucy5TdGVwU2l6ZSkpOwp9Cgp0ZW1wbGF0ZTxTdHJpbmdMaXRlcmFsIExhYmVsPgpib29sIElucHV0RmxvYXQoY29uc3QgQ29udHJvbDxDb250cm9sVHlwZXM6OklucHV0RmxvYXQsIExhYmVsPiYgY29udHJvbCwKICAgICAgICAgICAgICAgIGZsb2F0JiBvdXQpICB7CiAgICByZXR1cm4gSW1HdWk6OklucHV0RmxvYXQoTGFiZWwudmFsdWUsICZvdXQsCiAgICAgICAgc3RhdGljX2Nhc3Q8ZmxvYXQ+KGNvbnRyb2wuRHJhd09wdGlvbnMuU3RlcFNpemUpLAogICAgICAgIDEwMC4wZipzdGF0aWNfY2FzdDxmbG9hdD4oY29udHJvbC5EcmF3T3B0aW9ucy5TdGVwU2l6ZSksCiAgICAgICAgc3RkOjpzdHJpbmcoY29udHJvbC5EcmF3T3B0aW9ucy5Gb3JtYXQpLmNfc3RyKCkpOwp9Cgp0ZW1wbGF0ZTxTdHJpbmdMaXRlcmFsIExhYmVsPgpib29sIElucHV0RG91YmxlKGNvbnN0IENvbnRyb2w8Q29udHJvbFR5cGVzOjpJbnB1dERvdWJsZSwgTGFiZWw+JiBjb250cm9sLAogICAgICAgICAgICAgICAgIGRvdWJsZSYgb3V0KSB7CiAgICByZXR1cm4gSW1HdWk6OklucHV0RG91YmxlKExhYmVsLnZhbHVlLCAmb3V0LAogICAgICAgIGNvbnRyb2wuRHJhd09wdGlvbnMuU3RlcFNpemUsCiAgICAgICAgMTAwLjAqY29udHJvbC5EcmF3T3B0aW9ucy5TdGVwU2l6ZSwKICAgICAgICBzdGQ6OnN0cmluZyhjb250cm9sLkRyYXdPcHRpb25zLkZvcm1hdCkuY19zdHIoKSk7Cn0KCnRlbXBsYXRlPENvbnRyb2xUeXBlcyBDb250cm9sVHlwZSwgU3RyaW5nTGl0ZXJhbCBMYWJlbCwgdHlwZW5hbWUgVD4KcmVxdWlyZXMgc3RkOjppc19pbnRlZ3JhbF92PFQ+CmJvb2wgSW5wdXRTY2FsYXIoY29uc3QgQ29udHJvbDxDb250cm9sVHlwZSwgTGFiZWw+JiBjb250cm9sLCBUJiBvdXQpIHsKICAgIEltR3VpRGF0YVR5cGVfIHR5cGUgPSBJbUd1aURhdGFUeXBlX1M4OwogICAgaWYgY29uc3RleHByICggc3RkOjppc19zYW1lX3Y8VCwgaW50OF90PikgewogICAgICAgIHR5cGUgPSBJbUd1aURhdGFUeXBlX1M4OwogICAgfSBlbHNlIGlmIGNvbnN0ZXhwciAoIHN0ZDo6aXNfc2FtZV92PFQsIHVpbnQ4X3Q+KSB7CiAgICAgICAgdHlwZSA9IEltR3VpRGF0YVR5cGVfVTg7CiAgICB9IGVsc2UgaWYgY29uc3RleHByICggc3RkOjppc19zYW1lX3Y8VCwgaW50MTZfdD4pIHsKICAgICAgICB0eXBlID0gSW1HdWlEYXRhVHlwZV9TMTY7CiAgICB9IGVsc2UgaWYgY29uc3RleHByICggc3RkOjppc19zYW1lX3Y8VCwgdWludDE2X3Q+KSB7CiAgICAgICAgdHlwZSA9IEltR3VpRGF0YVR5cGVfVTE2OwogICAgfSBlbHNlIGlmIGNvbnN0ZXhwciAoIHN0ZDo6aXNfc2FtZV92PFQsIGludDMyX3Q+KSB7CiAgICAgICAgdHlwZSA9IEltR3VpRGF0YVR5cGVfUzMyOwogICAgfSBlbHNlIGlmIGNvbnN0ZXhwciAoIHN0ZDo6aXNfc2FtZV92PFQsIHVpbnQzMl90PikgewogICAgICAgIHR5cGUgPSBJbUd1aURhdGFUeXBlX1UzMjsKICAgIH0gZWxzZSBpZiBjb25zdGV4cHIgKCBzdGQ6OmlzX3NhbWVfdjxULCBpbnQ2NF90PikgewogICAgICAgIHR5cGUgPSBJbUd1aURhdGFUeXBlX1M2NDsKICAgIH0gZWxzZSBpZiBjb25zdGV4cHIgKCBzdGQ6OmlzX3NhbWVfdjxULCB1aW50NjRfdD4pIHsKICAgICAgICB0eXBlID0gSW1HdWlEYXRhVHlwZV9VNjQ7CiAgICB9CgogICAgY29uc3Qgdm9pZCogc3RlcCA9ICZjb250cm9sLkRyYXdPcHRpb25zLlN0ZXBTaXplOwogICAgLy8gY29uc3Qgdm9pZCogYmlnX3N0ZXAgPSAmKDEwMCpjb250cm9sLkRyYXdPcHRpb25zLlN0ZXBTaXplKTsKICAgIHJldHVybiBJbUd1aTo6SW5wdXRTY2FsYXIoTGFiZWwudmFsdWUsIHR5cGUsICZvdXQsCiAgICAgICAgc3RlcCwKICAgICAgICBzdGVwLAogICAgICAgIHN0ZDo6c3RyaW5nKGNvbnRyb2wuRHJhd09wdGlvbnMuRm9ybWF0KS5jX3N0cigpKTsKfQoKdGVtcGxhdGU8U3RyaW5nTGl0ZXJhbCBMYWJlbD4KYm9vbCBJbnB1dElOVDgoY29uc3QgQ29udHJvbDxDb250cm9sVHlwZXM6OklucHV0SU5UOCwgTGFiZWw+JiBjb250cm9sLAogICAgICAgICAgICAgICBpbnQ4X3QmIG91dCkgewogICAgcmV0dXJuIElucHV0U2NhbGFyPENvbnRyb2xUeXBlczo6SW5wdXRJTlQ4LCBMYWJlbCwgaW50OF90Pihjb250cm9sLCBvdXQpOwp9Cgp0ZW1wbGF0ZTxTdHJpbmdMaXRlcmFsIExhYmVsPgpib29sIElucHV0VUlOVDgoY29uc3QgQ29udHJvbDxDb250cm9sVHlwZXM6OklucHV0VUlOVDgsIExhYmVsPiYgY29udHJvbCwKICAgICAgICAgICAgICAgIHVpbnQ4X3QmIG91dCkgewogICAgcmV0dXJuIElucHV0U2NhbGFyPENvbnRyb2xUeXBlczo6SW5wdXRVSU5UOCwgTGFiZWwsIHVpbnQ4X3Q+KGNvbnRyb2wsIG91dCk7Cn0KCnRlbXBsYXRlPFN0cmluZ0xpdGVyYWwgTGFiZWw+CmJvb2wgSW5wdXRJTlQxNihjb25zdCBDb250cm9sPENvbnRyb2xUeXBlczo6SW5wdXRJTlQxNiwgTGFiZWw+JiBjb250cm9sLAogICAgICAgICAgICAgICAgaW50MTZfdCYgb3V0KSB7CiAgICByZXR1cm4gSW5wdXRTY2FsYXI8Q29udHJvbFR5cGVzOjpJbnB1dElOVDE2LCBMYWJlbCwgaW50MTZfdD4oY29udHJvbCwgb3V0KTsKfQoKdGVtcGxhdGU8U3RyaW5nTGl0ZXJhbCBMYWJlbD4KYm9vbCBJbnB1dFVJTlQxNihjb25zdCBDb250cm9sPENvbnRyb2xUeXBlczo6SW5wdXRVSU5UMTYsIExhYmVsPiYgY29udHJvbCwKICAgICAgICAgICAgICAgIHVpbnQxNl90JiBvdXQpIHsKICAgIHJldHVybiBJbnB1dFNjYWxhcjxDb250cm9sVHlwZXM6OklucHV0VUlOVDE2LCBMYWJlbCwgdWludDE2X3Q+KGNvbnRyb2wsIG91dCk7Cn0KCnRlbXBsYXRlPFN0cmluZ0xpdGVyYWwgTGFiZWw+CmJvb2wgSW5wdXRJTlQzMihjb25zdCBDb250cm9sPENvbnRyb2xUeXBlczo6SW5wdXRJTlQzMiwgTGFiZWw+JiBjb250cm9sLAogICAgICAgICAgICAgICAgaW50MzJfdCYgb3V0KSB7CiAgICByZXR1cm4gSW5wdXRTY2FsYXI8Q29udHJvbFR5cGVzOjpJbnB1dElOVDMyLCBMYWJlbCwgaW50MzJfdD4oY29udHJvbCwgb3V0KTsKfQoKdGVtcGxhdGU8U3RyaW5nTGl0ZXJhbCBMYWJlbD4KYm9vbCBJbnB1dFVJTlQzMihjb25zdCBDb250cm9sPENvbnRyb2xUeXBlczo6SW5wdXRVSU5UMzIsIExhYmVsPiYgY29udHJvbCwKICAgICAgICAgICAgICAgIHVpbnQzMl90JiBvdXQpIHsKICAgIHJldHVybiBJbnB1dFNjYWxhcjxDb250cm9sVHlwZXM6OklucHV0VUlOVDMyLCBMYWJlbCwgdWludDMyX3Q+KGNvbnRyb2wsIG91dCk7Cn0KCnRlbXBsYXRlPFN0cmluZ0xpdGVyYWwgTGFiZWw+CmJvb2wgSW5wdXRJTlQ2NChjb25zdCBDb250cm9sPENvbnRyb2xUeXBlczo6SW5wdXRJTlQ2NCwgTGFiZWw+JiBjb250cm9sLAogICAgICAgICAgICAgICAgaW50NjRfdCYgb3V0KSB7CiAgICByZXR1cm4gSW5wdXRTY2FsYXI8Q29udHJvbFR5cGVzOjpJbnB1dElOVDY0LCBMYWJlbCwgaW50NjRfdD4oY29udHJvbCwgb3V0KTsKfQoKdGVtcGxhdGU8U3RyaW5nTGl0ZXJhbCBMYWJlbD4KYm9vbCBJbnB1dFVJTlQ2NChjb25zdCBDb250cm9sPENvbnRyb2xUeXBlczo6SW5wdXRVSU5UNjQsIExhYmVsPiYgY29udHJvbCwKICAgICAgICAgICAgICAgIHVpbnQ2NF90JiBvdXQpIHsKICAgIHJldHVybiBJbnB1dFNjYWxhcjxDb250cm9sVHlwZXM6OklucHV0VUlOVDY0LCBMYWJlbCwgdWludDY0X3Q+KGNvbnRyb2wsIG91dCk7Cn0KCnRlbXBsYXRlPFN0cmluZ0xpdGVyYWwgTGFiZWwsIHR5cGVuYW1lIFQ+IHJlcXVpcmVzIHN0ZDo6aXNfZW51bV92PFQ+CmJvb2wgQ29tYm9Cb3goY29uc3QgQ29udHJvbDxDb250cm9sVHlwZXM6OkNvbWJvQm94LCBMYWJlbD4mIGNvbnRyb2wsIFQmIHN0YXRlLAogICAgY29uc3Qgc3RkOjp1bm9yZGVyZWRfbWFwPFQsIHN0ZDo6c3RyaW5nPiYgbWFwKSB7CiAgICBzdGF0aWMgc2l6ZV90IGluZGV4ID0gMDsKICAgIHNpemVfdCBpID0gMDsKCiAgICBzdGQ6OnZlY3RvcjxUPiBzdGF0ZXM7CiAgICBzdGQ6OnZlY3RvcjxzdGQ6OnN0cmluZz4gc19zdGF0ZXM7CgogICAgZm9yIChhdXRvIHBhaXIgOiBtYXApIHsKICAgICAgICBzdGF0ZXMucHVzaF9iYWNrKHBhaXIuZmlyc3QpOwogICAgICAgIHNfc3RhdGVzLnB1c2hfYmFjayhwYWlyLnNlY29uZCk7CgogICAgICAgIC8vIFRoaXMgaXMgdG8gbWFrZSBzdXJlIHRoZSBjdXJyZW50IHNlbGVjdGVkIGl0ZW0gaXMgdGhlIG9uZQogICAgICAgIC8vIHRoYXQgaXMgYWxyZWFkeSBzYXZlZCBpbiBzdGF0ZQogICAgICAgIGlmIChzdGF0ZSA9PSBwYWlyLmZpcnN0KSB7CiAgICAgICAgICAgIGluZGV4ID0gaTsKICAgICAgICB9CgogICAgICAgIGkrKzsKICAgIH0KCiAgICAvLyBib29sIHUgPSBJbUd1aTo6Q29tYm8obGFiZWwuY19zdHIoKSwgJmluZGV4LCBsaXN0LmNfc3RyKCkpOwogICAgaWYgKEltR3VpOjpCZWdpbkNvbWJvKExhYmVsLCBzX3N0YXRlc1tpbmRleF0uY19zdHIoKSkpIHsKICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbWFwLnNpemUoKTsgaSsrKSB7CiAgICAgICAgICAgIGNvbnN0IGJvb2wgaXNfc2VsZWN0ZWQgPSAoaW5kZXggPT0gaSk7CiAgICAgICAgICAgIGlmIChJbUd1aTo6U2VsZWN0YWJsZShzX3N0YXRlc1tpXS5jX3N0cigpLCBpc19zZWxlY3RlZCkpIHsKICAgICAgICAgICAgICAgIGluZGV4ID0gaTsKICAgICAgICAgICAgfQogICAgICAgICAgICAvLyBTZXQgdGhlIGluaXRpYWwgZm9jdXMgd2hlbiBvcGVuaW5nIHRoZSBjb21ibwogICAgICAgICAgICAvLyAoc2Nyb2xsaW5nICsga2V5Ym9hcmQgbmF2aWdhdGlvbiBmb2N1cykKICAgICAgICAgICAgaWYgKGlzX3NlbGVjdGVkKSB7CiAgICAgICAgICAgICAgICBJbUd1aTo6U2V0SXRlbURlZmF1bHRGb2N1cygpOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBJbUd1aTo6RW5kQ29tYm8oKTsKICAgIH0KCiAgICBzdGF0ZSA9IHN0YXRlc1tpbmRleF07CgogICAgcmV0dXJuIHRydWU7Cn0KCi8vIEluZGljYXRvcnMKIC8vIHsgTnVtZXJpY2FsLCBTdHJpbmcsIExFRCwgUGxvdCB9Owp0ZW1wbGF0ZTxTdHJpbmdMaXRlcmFsIExhYmVsLCB0eXBlbmFtZSBJbnB1dFR5cGU+CnJlcXVpcmVzIHN0ZDo6aXNfZmxvYXRpbmdfcG9pbnRfdjxJbnB1dFR5cGU+IHx8IHN0ZDo6aXNfaW50ZWdyYWxfdjxJbnB1dFR5cGU+CnZvaWQgTnVtZXJpY2FsKGNvbnN0IEluZGljYXRvcjxJbmRpY2F0b3JUeXBlczo6TnVtZXJpY2FsLCBMYWJlbD4mIGluZGljYXRvciwKICAgIGNvbnN0IElucHV0VHlwZSYgaW5fdmFsdWUpIHsKICAgIGNvbnN0IGF1dG8mIGxhYmVsX25hbWUgPSBMYWJlbC52YWx1ZTsKICAgIGNvbnN0IGF1dG8mIGZvcm1hdCA9IGluZGljYXRvci5EcmF3T3B0aW9ucy5Gb3JtYXQ7CiAgICBJbUd1aTo6UHVzaFN0eWxlQ29sb3IoSW1HdWlDb2xfQnV0dG9uLAogICAgICAgIGluZGljYXRvci5EcmF3T3B0aW9ucy5Db2xvcik7CiAgICBJbUd1aTo6UHVzaFN0eWxlQ29sb3IoSW1HdWlDb2xfQnV0dG9uSG92ZXJlZCwKICAgICAgICBpbmRpY2F0b3IuRHJhd09wdGlvbnMuSG92ZXJlZENvbG9yKTsKICAgIEltR3VpOjpQdXNoU3R5bGVDb2xvcihJbUd1aUNvbF9CdXR0b25BY3RpdmUsCiAgICAgICAgaW5kaWNhdG9yLkRyYXdPcHRpb25zLkFjdGl2ZUNvbG9yKTsKCiAgICBpZiAobm90IGluZGljYXRvci5EcmF3T3B0aW9ucy5Gb3JtYXQuc3RhcnRzX3dpdGgoIiUiKSkgewogICAgICAgIHRocm93ICJOb3QgYSB2YWxpZCBmb3JtYXQgc3RyaW5nLiBJdCBtdXN0IHN0YXJ0IHdpdGggJSI7CiAgICB9CgogICAgaWYgY29uc3RleHByIChzdGQ6OmlzX2ludGVncmFsX3Y8SW5wdXRUeXBlPikgewogICAgICAgIEltR3VpOjpCdXR0b24oZm10Ojpmb3JtYXQoInt9IyN7fSIsIGluX3ZhbHVlLCBsYWJlbF9uYW1lKS5jX3N0cigpLAogICAgICAgICAgICAgICAgICAgICAgaW5kaWNhdG9yLkRyYXdPcHRpb25zLlNpemUpOwogICAgfSBlbHNlIGlmIChzdGQ6OmlzX2Zsb2F0aW5nX3BvaW50X3Y8SW5wdXRUeXBlPikgewogICAgICAgIC8vIFNvIGluZWZmaWNpZW50IQogICAgICAgIGF1dG8gZm9ybWF0X3N0cmluZyA9ICJ7OiIgKyBzdGQ6OnN0cmluZyhmb3JtYXQpLnN1YnN0cigxKSArICJ9IyN7fSI7CiAgICAgICAgSW1HdWk6OkJ1dHRvbihmbXQ6OmZvcm1hdCgie30jI3t9IiwgaW5fdmFsdWUsIGxhYmVsX25hbWUpLmNfc3RyKCksCiAgICAgICAgICAgICAgICAgICAgICBpbmRpY2F0b3IuRHJhd09wdGlvbnMuU2l6ZSk7CiAgICB9CgogICAgSW1HdWk6OlBvcFN0eWxlQ29sb3IoMyk7Cn0KCnRlbXBsYXRlPFN0cmluZ0xpdGVyYWwgTGFiZWw+CnZvaWQgU3RyaW5nKGNvbnN0IEluZGljYXRvcjxJbmRpY2F0b3JUeXBlczo6U3RyaW5nLCBMYWJlbD4mIGluZGljYXRvciwKICAgIHN0ZDo6c3RyaW5nX3ZpZXcgaW5fdmFsdWUpIHsKICAgIGNvbnN0IGF1dG8mIGxhYmVsX25hbWUgPSBMYWJlbC52YWx1ZTsKICAgIEltR3VpOjpQdXNoU3R5bGVDb2xvcihJbUd1aUNvbF9CdXR0b24sCiAgICAgICAgaW5kaWNhdG9yLkRyYXdPcHRpb25zLkNvbG9yKTsKICAgIEltR3VpOjpQdXNoU3R5bGVDb2xvcihJbUd1aUNvbF9CdXR0b25Ib3ZlcmVkLAogICAgICAgIGluZGljYXRvci5EcmF3T3B0aW9ucy5Ib3ZlcmVkQ29sb3IpOwogICAgSW1HdWk6OlB1c2hTdHlsZUNvbG9yKEltR3VpQ29sX0J1dHRvbkFjdGl2ZSwKICAgICAgICBpbmRpY2F0b3IuRHJhd09wdGlvbnMuQWN0aXZlQ29sb3IpOwoKICAgIEltR3VpOjpCdXR0b24oZm10Ojpmb3JtYXQoInt9IyN7fSIsIGluX3ZhbHVlLCBsYWJlbF9uYW1lKS5jX3N0cigpLAogICAgICAgIGluZGljYXRvci5EcmF3T3B0aW9ucy5TaXplKTsKCiAgICBJbUd1aTo6UG9wU3R5bGVDb2xvcigzKTsKfQoKLy8gTEVEIGluZGljYXRvciBpbiBhIGJvb2xlYW4gaXMgcGFzc2VkIGRvd24gYW5kIHRoZSBjb2xvciBvZiB0aGUgaW5kaWNhdG9yCi8vIHJlZmxlY3RzIGlmIGl0cyBvbiBvciBvZmYuIE9GRiBmb3Igbm93IGlzIGFsd2F5cyByZWQuIEhTViA9IDAsIDAuNiwgMC42CnRlbXBsYXRlPFN0cmluZ0xpdGVyYWwgTGFiZWw+CnZvaWQgTEVEKGNvbnN0IEluZGljYXRvcjxJbmRpY2F0b3JUeXBlczo6TEVELCBMYWJlbD4mIGluZGljYXRvciwKICAgIGNvbnN0IGJvb2wmIGluX3ZhbHVlKSB7CiAgICBjb25zdCBhdXRvJiBsYWJlbF9uYW1lID0gTGFiZWwudmFsdWU7CgogICAgaWYgKGluX3ZhbHVlKSB7CiAgICAgICAgSW1HdWk6OlB1c2hTdHlsZUNvbG9yKEltR3VpQ29sX0J1dHRvbiwKICAgICAgICAgICAgaW5kaWNhdG9yLkRyYXdPcHRpb25zLkNvbG9yKTsKICAgICAgICBJbUd1aTo6UHVzaFN0eWxlQ29sb3IoSW1HdWlDb2xfQnV0dG9uSG92ZXJlZCwKICAgICAgICAgICAgaW5kaWNhdG9yLkRyYXdPcHRpb25zLkhvdmVyZWRDb2xvcik7CiAgICAgICAgSW1HdWk6OlB1c2hTdHlsZUNvbG9yKEltR3VpQ29sX0J1dHRvbkFjdGl2ZSwKICAgICAgICAgICAgaW5kaWNhdG9yLkRyYXdPcHRpb25zLkFjdGl2ZUNvbG9yKTsKICAgIH0gZWxzZSB7CiAgICAgICAgY29uc3QgYXV0byBvZmZfY29sb3IgPQogICAgICAgICAgICBzdGF0aWNfY2FzdDxJbVZlYzQ+KEltQ29sb3I6OkhTVigwLjBmLCAwLjZmLCAwLjZmKSk7CiAgICAgICAgSW1HdWk6OlB1c2hTdHlsZUNvbG9yKEltR3VpQ29sX0J1dHRvbiwgb2ZmX2NvbG9yKTsKICAgICAgICBJbUd1aTo6UHVzaFN0eWxlQ29sb3IoSW1HdWlDb2xfQnV0dG9uSG92ZXJlZCwgb2ZmX2NvbG9yKTsKICAgICAgICBJbUd1aTo6UHVzaFN0eWxlQ29sb3IoSW1HdWlDb2xfQnV0dG9uQWN0aXZlLCBvZmZfY29sb3IpOwogICAgfQoKICAgIEltR3VpOjpCdXR0b24oZm10Ojpmb3JtYXQoIiMje30iLCBsYWJlbF9uYW1lKS5jX3N0cigpLAogICAgICAgIGluZGljYXRvci5EcmF3T3B0aW9ucy5TaXplKTsKCiAgICBJbUd1aTo6UG9wU3R5bGVDb2xvcigzKTsKfQoKLy8gTEVEIGluZGljYXRvciBpbiB3aGljaCBhbiBhcmJpdHJhcnkgdmFsdWUgY2FuIGJlIHBhc3NlZCBkb3duIGFuZCBhIHBhaXJpbmcKLy8gZnVuY3Rpb24gdG8gdHVybiBpdCBpbnRvIGEgYm9vbGVhbi4KdGVtcGxhdGU8U3RyaW5nTGl0ZXJhbCBMYWJlbCwgdHlwZW5hbWUgSW5wdXRUeXBlLAogICAgdHlwZW5hbWUgQ29uZGl0aW9uRnVuYyA9IHN0ZDo6ZnVuY3Rpb248Ym9vbChjb25zdCBJbnB1dFR5cGUmKT4+CnZvaWQgTEVEKGNvbnN0IEluZGljYXRvcjxJbmRpY2F0b3JUeXBlczo6TEVELCBMYWJlbD4mIGluZGljYXRvciwKICAgIGNvbnN0IElucHV0VHlwZSYgaW5fdmFsdWUsIENvbmRpdGlvbkZ1bmMmJiBjb25kaXRpb24pIHsKICAgIExFRDxMYWJlbD4oaW5kaWNhdG9yLCBjb25kaXRpb24oaW5fdmFsdWUpKTsKfQoKdGVtcGxhdGU8U3RyaW5nTGl0ZXJhbCBMYWJlbCwgc2l6ZV90IE5QbG90cywgc2l6ZV90IE5ZQXhpcz4Kdm9pZCBQbG90KGNvbnN0IFBsb3RJbmRpY2F0b3I8TGFiZWwsIE5QbG90cywgTllBeGlzPiYgcGxvdCwKICAgIGNvbnN0IFBsb3REYXRhQnVmZmVyPE5QbG90cz4mIHBsb3RfZGF0YSkgewogICAgaWYgKEltUGxvdDo6QmVnaW5QbG90KExhYmVsLnZhbHVlLCBwbG90LkRyYXdPcHRpb25zLlNpemUpKSB7CiAgICAgICAgSW1QbG90OjpTZXR1cEF4aXNTY2FsZShJbUF4aXNfWDEsIHBsb3QuUGxvdERyYXdPcHRpb25zLlhBeGlzU2NhbGUpOwogICAgICAgIEltUGxvdDo6U2V0dXBBeGVzKAogICAgICAgICAgICBzdGQ6OnN0cmluZyhwbG90LlBsb3REcmF3T3B0aW9ucy5YQXhpc0xhYmVsCiAgICAgICAgICAgICAgICAgICAgICAgICsgcGxvdC5QbG90RHJhd09wdGlvbnMuWEF4aXNVbml0KS5jX3N0cigpLAogICAgICAgICAgICBzdGQ6OnN0cmluZyhwbG90LlBsb3REcmF3T3B0aW9ucy5ZQXhpc0xhYmVsc1swXQogICAgICAgICAgICAgICAgICAgICAgICArIHBsb3QuUGxvdERyYXdPcHRpb25zLllBeGlzVW5pdHNbMF0pLmNfc3RyKCksCiAgICAgICAgICAgIHBsb3QuUGxvdERyYXdPcHRpb25zLlhBeGlzRmxhZ3MsCiAgICAgICAgICAgIHBsb3QuUGxvdERyYXdPcHRpb25zLllBeGlzRmxhZ3NbMF0pOwoKICAgICAgICBpZiBjb25zdGV4cHIgKE5ZQXhpcyA9PSAyKSB7CiAgICAgICAgICAgIEltUGxvdDo6U2V0dXBBeGlzKEltQXhpc19ZMiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxvdC5QbG90RHJhd09wdGlvbnMuWUF4aXNMYWJlbHNbMV0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsb3QuUGxvdERyYXdPcHRpb25zLllBeGlzRmxhZ3NbMV0pOwogICAgICAgIH0gZWxzZSBpZiBjb25zdGV4cHIgKE5ZQXhpcyA9PSAzKSB7CiAgICAgICAgICAgIEltUGxvdDo6U2V0dXBBeGlzKEltQXhpc19ZMiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxvdC5QbG90RHJhd09wdGlvbnMuWUF4aXNMYWJlbHNbMV0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsb3QuUGxvdERyYXdPcHRpb25zLllBeGlzRmxhZ3NbMV0pOwogICAgICAgICAgICBJbVBsb3Q6OlNldHVwQXhpcyhJbUF4aXNfWTMsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsb3QuUGxvdERyYXdPcHRpb25zLllBeGlzTGFiZWxzWzFdLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbG90LlBsb3REcmF3T3B0aW9ucy5ZQXhpc0ZsYWdzWzJdKTsKICAgICAgICB9CgogICAgICAgIHN0YXRpYyBhdXRvIHRyYW5zZm9ybSA9IFtdKHN0ZDo6c2l6ZV90IGkpCiAgICAgICAgewogICAgICAgICAgICByZXR1cm4gW19pID0gaV0oaW50IGlkeCwgdm9pZCogZGF0YSkgewogICAgICAgICAgICAgICAgYXV0byBteURhdGEgPSBzdGF0aWNfY2FzdDxQbG90RGF0YUJ1ZmZlcjxOUGxvdHM+Kj4oZGF0YSk7CiAgICAgICAgICAgICAgICBhdXRvIGRhdGFfY29sdW1uID0gKCpteURhdGEpW2lkeF07CiAgICAgICAgICAgICAgICByZXR1cm4gSW1QbG90UG9pbnQoZGF0YV9jb2x1bW4oMCksIGRhdGFfY29sdW1uKF9pKSk7CiAgICAgICAgICAgIH07CiAgICAgICAgfTsKCiAgICAgICAgZm9yIChzdGQ6OnNpemVfdCBpID0gMTsgaSA8IE5QbG90czsgaSsrKSB7CiAgICAgICAgICAgIHN3aXRjaCAocGxvdC5QbG90RHJhd09wdGlvbnMuUGxvdEdyb3VwaW5nc1tpXSkgewogICAgICAgICAgICBjYXNlIFBsb3RHcm91cGluZ3NFbnVtOjpUd286CiAgICAgICAgICAgICAgICBJbVBsb3Q6OlNldEF4ZXMoSW1BeGlzX1gxLCBJbUF4aXNfWTIpOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSBQbG90R3JvdXBpbmdzRW51bTo6VGhyZWU6CiAgICAgICAgICAgICAgICBJbVBsb3Q6OlNldEF4ZXMoSW1BeGlzX1gxLCBJbUF4aXNfWTMpOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgICAgIEltUGxvdDo6U2V0QXhlcyhJbUF4aXNfWDEsIEltQXhpc19ZMSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHN3aXRjaCAocGxvdC5QbG90RHJhd09wdGlvbnMuUGxvdFR5cGUpIHsKICAgICAgICAgICAgY2FzZSBQbG90VHlwZUVudW06OlNjYXR0ZXI6CiAgICAgICAgICAgICAgICBJbVBsb3Q6OlBsb3RTY2F0dGVyRyhwbG90LlBsb3REcmF3T3B0aW9ucy5QbG90TGFiZWxzW2ldLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtKGkpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJnBsb3RfZGF0YSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsb3RfZGF0YS5zaXplKCkpOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSBQbG90VHlwZUVudW06OkxpbmU6CiAgICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgICAgICBJbVBsb3Q6OlBsb3RMaW5lRyhwbG90LlBsb3REcmF3T3B0aW9ucy5QbG90TGFiZWxzW2ldLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtKGkpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJnBsb3RfZGF0YSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsb3RfZGF0YS5zaXplKCkpOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgSW1QbG90OjpFbmRQbG90KCk7CiAgICB9Cn0KCnRlbXBsYXRlPENvbnRyb2xUeXBlcyBULCBTdHJpbmdMaXRlcmFsIExhYmVsLCB0eXBlbmFtZS4uLiBUeXBlcz4KY29uc3RleHByIHN0YXRpYyBhdXRvIGdldF9jb250cm9sKGNvbnN0IHN0ZDo6dHVwbGU8VHlwZXMuLi4+JiBsaXN0KSB7CiAgICByZXR1cm4gc3RkOjpnZXQ8Q29udHJvbDxULCBMYWJlbD4+KGxpc3QpOwp9Cgp0ZW1wbGF0ZTxJbmRpY2F0b3JUeXBlcyBULCBTdHJpbmdMaXRlcmFsIExhYmVsLCB0eXBlbmFtZS4uLiBUeXBlcz4KY29uc3RleHByIHN0YXRpYyBhdXRvIGdldF9pbmRpY2F0b3IoY29uc3Qgc3RkOjp0dXBsZTxUeXBlcy4uLj4mIGxpc3QpIHsKICAgIHJldHVybiBzdGQ6OmdldDxJbmRpY2F0b3I8VCwgTGFiZWw+PihsaXN0KTsKfQoKdGVtcGxhdGU8U3RyaW5nTGl0ZXJhbCBMYWJlbCwKICAgICAgICAgc2l6ZV90IE5QbG90cyA9IDEsCiAgICAgICAgIHNpemVfdCBOWUF4aXMgPSAxLAogICAgICAgICB0eXBlbmFtZS4uLiBUeXBlcz4KY29uc3RleHByIHN0YXRpYyBhdXRvIGdldF9wbG90KGNvbnN0IHN0ZDo6dHVwbGU8VHlwZXMuLi4+JiBsaXN0KSB7CiAgICByZXR1cm4gc3RkOjpnZXQ8UGxvdEluZGljYXRvcjxMYWJlbD4+KGxpc3QpOwp9Cgp0ZW1wbGF0ZTxDb250cm9sVHlwZXMgVCwgU3RyaW5nTGl0ZXJhbCBMYWJlbCwKICAgICAgICAgdHlwZW5hbWUgT3V0VHlwZSwgdHlwZW5hbWUuLi4gQXJncz4KY29uc3RleHByIGJvb2wgZ2V0X2RyYXdfZnVuY3Rpb24oY29uc3QgQ29udHJvbDxULCBMYWJlbD4mIGNvbnRyb2wsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE91dFR5cGUmIG91dCwgQXJncyYmLi4uIGFyZ3MpIHsKICAgIGlmIGNvbnN0ZXhwciAoVCA9PSBDb250cm9sVHlwZXM6OkJ1dHRvbikgewogICAgICAgIHJldHVybiBCdXR0b248TGFiZWw+KGNvbnRyb2wsIG91dCk7CiAgICB9IGVsc2UgaWYgY29uc3RleHByKFQgPT0gQ29udHJvbFR5cGVzOjpDaGVja2JveCkgewogICAgICAgIHJldHVybiBDaGVja2JveDxMYWJlbD4oY29udHJvbCwgb3V0KTsKICAgIH0gZWxzZSBpZiBjb25zdGV4cHIoVCAgPT0gQ29udHJvbFR5cGVzOjpJbnB1dEludCkgewogICAgICAgIHJldHVybiBJbnB1dEludDxMYWJlbD4oY29udHJvbCwgb3V0KTsKICAgIH0gZWxzZSBpZiBjb25zdGV4cHIoVCAgPT0gIENvbnRyb2xUeXBlczo6SW5wdXRGbG9hdCkgewogICAgICAgIHJldHVybiBJbnB1dEZsb2F0PExhYmVsPihjb250cm9sLCBvdXQpOwogICAgfSBlbHNlIGlmIGNvbnN0ZXhwcihUICA9PSAgQ29udHJvbFR5cGVzOjpJbnB1dERvdWJsZSkgewogICAgICAgIHJldHVybiBJbnB1dERvdWJsZTxMYWJlbD4oY29udHJvbCwgb3V0KTsKICAgIH0gZWxzZSBpZiBjb25zdGV4cHIoVCAgPT0gIENvbnRyb2xUeXBlczo6Q29tYm9Cb3gpIHsKICAgICAgICByZXR1cm4gQ29tYm9Cb3g8TGFiZWw+KGNvbnRyb2wsIG91dCwgYXJncy4uLik7CiAgICB9IGVsc2UgaWYgY29uc3RleHByKFQgID09ICBDb250cm9sVHlwZXM6OklucHV0SU5UOCkgewogICAgICAgIHJldHVybiBJbnB1dElOVDg8TGFiZWw+KGNvbnRyb2wsIG91dCk7CiAgICB9IGVsc2UgaWYgY29uc3RleHByKFQgID09ICBDb250cm9sVHlwZXM6OklucHV0VUlOVDgpIHsKICAgICAgICByZXR1cm4gSW5wdXRVSU5UODxMYWJlbD4oY29udHJvbCwgb3V0KTsKICAgIH0gZWxzZSBpZiBjb25zdGV4cHIoVCAgPT0gIENvbnRyb2xUeXBlczo6SW5wdXRJTlQxNikgewogICAgICAgIHJldHVybiBJbnB1dElOVDE2PExhYmVsPihjb250cm9sLCBvdXQpOwogICAgfSBlbHNlIGlmIGNvbnN0ZXhwcihUICA9PSAgQ29udHJvbFR5cGVzOjpJbnB1dFVJTlQxNikgewogICAgICAgIHJldHVybiBJbnB1dFVJTlQxNjxMYWJlbD4oY29udHJvbCwgb3V0KTsKICAgIH0gZWxzZSBpZiBjb25zdGV4cHIoVCAgPT0gIENvbnRyb2xUeXBlczo6SW5wdXRJTlQzMikgewogICAgICAgIHJldHVybiBJbnB1dElOVDMyPExhYmVsPihjb250cm9sLCBvdXQpOwogICAgfSBlbHNlIGlmIGNvbnN0ZXhwcihUICA9PSAgQ29udHJvbFR5cGVzOjpJbnB1dFVJTlQzMikgewogICAgICAgIHJldHVybiBJbnB1dFVJTlQzMjxMYWJlbD4oY29udHJvbCwgb3V0KTsKICAgIH0gZWxzZSBpZiBjb25zdGV4cHIoVCAgPT0gIENvbnRyb2xUeXBlczo6SW5wdXRJTlQ2NCkgewogICAgICAgIHJldHVybiBJbnB1dElOVDY0PExhYmVsPihjb250cm9sLCBvdXQpOwogICAgfSBlbHNlIGlmIGNvbnN0ZXhwcihUICA9PSAgQ29udHJvbFR5cGVzOjpJbnB1dFVJTlQ2NCkgewogICAgICAgIHJldHVybiBJbnB1dFVJTlQ2NDxMYWJlbD4oY29udHJvbCwgb3V0KTsKICAgIH0gZWxzZSBpZiBjb25zdGV4cHIoVCAgPT0gIENvbnRyb2xUeXBlczo6SW5wdXRUZXh0KSB7CiAgICAgICAgcmV0dXJuIElucHV0VGV4dDxMYWJlbD4oY29udHJvbCwgb3V0KTsKICAgIH0KCiAgICB0aHJvdygiRHJhdyBmdW5jdGlvbiBub3Qgc3VwcG9ydGVkIik7Cn0KCnRlbXBsYXRlPEluZGljYXRvclR5cGVzIFQsIFN0cmluZ0xpdGVyYWwgTGFiZWwsCiAgICAgICAgIHR5cGVuYW1lIEluVHlwZSwgdHlwZW5hbWUuLi4gQXJncz4KY29uc3RleHByIHZvaWQgZ2V0X2RyYXdfZnVuY3Rpb24oY29uc3QgSW5kaWNhdG9yPFQsIExhYmVsPiYgaW5kaWNhdG9yLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBJblR5cGUmIGluLCBBcmdzJiYuLi4gYXJncykgewogICAgaWYgY29uc3RleHByIChUID09IEluZGljYXRvclR5cGVzOjpOdW1lcmljYWwpIHsKICAgICAgICBOdW1lcmljYWwoaW5kaWNhdG9yLCBpbik7CiAgICB9IGVsc2UgaWYgY29uc3RleHByIChUID09IEluZGljYXRvclR5cGVzOjpTdHJpbmcpIHsKICAgICAgICBTdHJpbmcoaW5kaWNhdG9yLCBpbik7CiAgICB9IGVsc2UgaWYgY29uc3RleHByIChUID09IEluZGljYXRvclR5cGVzOjpMRUQpIHsKICAgICAgICBzdGF0aWNfYXNzZXJ0KHNpemVvZi4uLihhcmdzKSA+IDEgJiYgbm90IHN0ZDo6aXNfc2FtZV92PEluVHlwZSwgYm9vbD4sCiAgICAgICAgICAgICJMRUQgaW5kaWNhdG9yIGRvZXMgbm90IHRha2UiCiAgICAgICAgICAgICJtb3JlIHRoYW4gMSBvcHRpb25hbCBhcmd1bWVudCBpZiBJblR5cGUgaXMgbm90IGJvb2wiKTsKCiAgICAgICAgLy8gSWYgY2FsbGVkIHdpdGggMCBleHRyYSBhcmd1bWVudHMsIHRoZSBpbiB0eXBlIHNob3VsZCBiZSBib29sCiAgICAgICAgc3RhdGljX2Fzc2VydChzaXplb2YuLi4oYXJncykgPT0gMCAmJiBzdGQ6OmlzX3NhbWVfdjxJblR5cGUsIGJvb2w+LAogICAgICAgICAgICAiTEVEIGluIHR5cGUgc2hvdWxkIGJlIGJvb2wgaWYgbm8gdHJhbnNmb3JtYXRpb24gIgogICAgICAgICAgICAiZnVuY3Rpb24gaXMgcGFzc2VkIik7CgogICAgICAgIGlmIGNvbnN0ZXhwciAoc2l6ZW9mLi4uKGFyZ3MpID09IDAgJiYgc3RkOjppc19zYW1lX3Y8SW5UeXBlLCBib29sPikgewogICAgICAgICAgICBMRUQoaW5kaWNhdG9yLCBpbik7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9IGVsc2UgaWYgY29uc3RleHByIChzaXplb2YuLi4oYXJncykgPT0gMSkgewogICAgICAgICAgICBMRUQoaW5kaWNhdG9yLCBpbiwgYXJncy4uLik7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICB9Cn0KCnRlbXBsYXRlPHR5cGVuYW1lIERyYXdJdGVtPgp2b2lkIF9fZHJhd19pbWd1aV9iZWdpbihjb25zdCBEcmF3SXRlbSYgaXRlbSkgewogICAgc3dpdGNoIChpdGVtLkRyYXdPcHRpb25zLlRleHRQb3NpdGlvbikgewogICAgY2FzZSBUZXh0UG9zaXRpb25FbnVtOjpMZWZ0OgogICAgICAgIEltR3VpOjpUZXh0KCIlcyIsIHN0ZDo6c3RyaW5nKGl0ZW0uVGV4dCkuY19zdHIoKSk7IEltR3VpOjpTYW1lTGluZSgpOwogICAgICAgIGJyZWFrOwogICAgY2FzZSBUZXh0UG9zaXRpb25FbnVtOjpUb3A6CiAgICAgICAgSW1HdWk6OlRleHQoIiVzIiwgc3RkOjpzdHJpbmcoaXRlbS5UZXh0KS5jX3N0cigpKTsKICAgICAgICBicmVhazsKICAgIGRlZmF1bHQ6CiAgICAgICAgYnJlYWs7CiAgICB9Cn0KCnRlbXBsYXRlPHR5cGVuYW1lIERyYXdJdGVtPgp2b2lkIF9fZHJhd19pbWd1aV9lbmQoY29uc3QgRHJhd0l0ZW0mIGl0ZW0pIHsKICAgIGlmIChJbUd1aTo6SXNJdGVtSG92ZXJlZCgpIGFuZCBub3QgaXRlbS5IZWxwVGV4dC5lbXB0eSgpKSB7CiAgICAgICAgSW1HdWk6OlNldFRvb2x0aXAoIiVzIiwgc3RkOjpzdHJpbmcoaXRlbS5IZWxwVGV4dCkuY19zdHIoKSk7CiAgICB9CgogICAgc3dpdGNoIChpdGVtLkRyYXdPcHRpb25zLlRleHRQb3NpdGlvbikgewogICAgY2FzZSBUZXh0UG9zaXRpb25FbnVtOjpSaWdodDoKICAgICAgICBJbUd1aTo6U2FtZUxpbmUoKTsKICAgICAgICBJbUd1aTo6VGV4dCgiJXMiLCBzdGQ6OnN0cmluZyhpdGVtLlRleHQpLmNfc3RyKCkpOwogICAgICAgIGJyZWFrOwogICAgY2FzZSBUZXh0UG9zaXRpb25FbnVtOjpCb3R0b206CiAgICAgICAgSW1HdWk6OlRleHQoIiVzIiwgc3RkOjpzdHJpbmcoaXRlbS5UZXh0KS5jX3N0cigpKTsKICAgICAgICBicmVhazsKICAgIGRlZmF1bHQ6CiAgICAgICAgYnJlYWs7CiAgICB9Cn0KCnRlbXBsYXRlPENvbnRyb2xUeXBlcyBULCBTdHJpbmdMaXRlcmFsIExhYmVsLAogICAgdHlwZW5hbWUgRGF0YVR5cGUsCiAgICB0eXBlbmFtZSBPdXRUeXBlLAogICAgdHlwZW5hbWUgQ2FsbGJhY2sgPSBzdGQ6OmZ1bmN0aW9uPHZvaWQoRGF0YVR5cGUmKT4sCiAgICB0eXBlbmFtZS4uLiBBcmdzPgpib29sIGRyYXdfY29udHJvbChjb25zdCBDb250cm9sPFQsIExhYmVsPiYgY29udHJvbCwKICAgIERhdGFUeXBlJiBkb2UsIE91dFR5cGUmIG91dCwKICAgIHN0ZDo6ZnVuY3Rpb248Ym9vbCh2b2lkKT4mJiBjb25kaXRpb24sCiAgICBDYWxsYmFjayYmIGNhbGxiYWNrLCBjb25zdCBBcmdzJi4uLiBhcmdzKSB7CiAgICBib29sIGltZ3VpX291dF9zdGF0ZSA9IGZhbHNlOwoKICAgIF9fZHJhd19pbWd1aV9iZWdpbihjb250cm9sKTsKICAgIGltZ3VpX291dF9zdGF0ZSA9IGdldF9kcmF3X2Z1bmN0aW9uPFQ+KGNvbnRyb2wsIG91dCwgYXJncy4uLik7CiAgICBfX2RyYXdfaW1ndWlfZW5kKGNvbnRyb2wpOwoKICAgIGlmIChjb25kaXRpb24oKSkgewogICAgICAgIHNwZGxvZzo6aW5mbygiSSIpOwogICAgICAgIGRvZS5DYWxsYmFjayA9IGNhbGxiYWNrOwogICAgICAgIGRvZS5DaGFuZ2VkID0gdHJ1ZTsKICAgIH0KCiAgICByZXR1cm4gaW1ndWlfb3V0X3N0YXRlOwp9Cgp0ZW1wbGF0ZTxJbmRpY2F0b3JUeXBlcyBULCBTdHJpbmdMaXRlcmFsIExhYmVsLAogICAgdHlwZW5hbWUgSW5UeXBlLAogICAgdHlwZW5hbWUuLi4gQXJncz4Kdm9pZCBkcmF3X2luZGljYXRvcihjb25zdCBJbmRpY2F0b3I8VCwgTGFiZWw+JiBpbmRpY2F0b3IsCiAgICBJblR5cGUmIGluLCBjb25zdCBBcmdzJi4uLiBhcmdzKSB7CiAgICBfX2RyYXdfaW1ndWlfYmVnaW4oaW5kaWNhdG9yKTsKICAgIGdldF9kcmF3X2Z1bmN0aW9uKGluZGljYXRvciwgaW4sIGFyZ3MuLi4pOwoKICAgIGlmIGNvbnN0ZXhwcihUID09IEluZGljYXRvclR5cGVzOjpOdW1lcmljYWwpewogICAgICAgIEltR3VpOjpTYW1lTGluZSgpOwogICAgICAgIEltR3VpOjpUZXh0KCIlcyIsIHN0ZDo6c3RyaW5nKGluZGljYXRvci5Vbml0VGV4dCkuY19zdHIoKSk7CiAgICB9CiAgICBfX2RyYXdfaW1ndWlfZW5kKGluZGljYXRvcik7Cn0KCgp9ICAvLyBuYW1lc3BhY2UgU0JDUXVlZW5zCiNlbmRpZgoAAAAAAAAAAKdjAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAOUMAAAAAAAA5QwAAAAAAAAAAAAAAAPC/"
				],
				[
					539,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAACnYwAAI2lmbmRlZiBJTUdVSUhFTFBFUlNfSAojZGVmaW5lIElNR1VJSEVMUEVSU19ICiNpbmNsdWRlICJzYmNxdWVlbnMtZ3VpL2ltcGxvdF9oZWxwZXJzLmhwcCIKI3ByYWdtYSBvbmNlCgovLyBDIFNURCBpbmNsdWRlcwovLyBDIDNyZCBwYXJ0eSBpbmNsdWRlcwojaW5jbHVkZSA8aW1ndWkuaD4KI2luY2x1ZGUgPGltcGxvdC5oPgoKLy8gQysrIFNURCBpbmNsdWRlcwojaW5jbHVkZSA8cmFuZ2VzPgojaW5jbHVkZSA8ZnVuY3Rpb25hbD4KI2luY2x1ZGUgPHVub3JkZXJlZF9tYXA+CiNpbmNsdWRlIDxzdHJpbmc+CiNpbmNsdWRlIDx0eXBlX3RyYWl0cz4KI2luY2x1ZGUgPHZlY3Rvcj4KI2luY2x1ZGUgPHN0cmluZ192aWV3PgoKLy8gQysrIDNyZCBwYXJ0eSBpbmNsdWRlcwojaW5jbHVkZSA8c3BkbG9nL3NwZGxvZy5oPiAvLyBmb3IgZm10Ojpmb3JtYXQKI2luY2x1ZGUgPG1pc2MvY3BwL2ltZ3VpX3N0ZGxpYi5oPiAvLyBmb3IgdXNlIHdpdGggc3RkOjpzdHJpbmcKCm5hbWVzcGFjZSBTQkNRdWVlbnMgewoKLy8gc3RvbGVuIGZyb20gaHR0cHM6Ly9jdHJwZWFjaC5pby9wb3N0cy9jcHAyMC1zdHJpbmctbGl0ZXJhbC10ZW1wbGF0ZS1wYXJhbWV0ZXJzLwovLyBpdCBpcyBhIGdyZWF0IGlkZWEhCnRlbXBsYXRlPHNpemVfdCBOPgpzdHJ1Y3QgU3RyaW5nTGl0ZXJhbCB7CiAgICBjb25zdGV4cHIgU3RyaW5nTGl0ZXJhbChjb25zdCBjaGFyICgmc3RyKVtOXSkgewogICAgICAgIC8vIFRoZSBleHBsaWNpdCBicmVha3MgdGhpcywgbWF5YmUgd2UgY2FuIGZpbmQgYSBtb3JlIHN1aXRhYmxlIHNvbHV0aW9uPwogICAgICAgIHN0ZDo6Y29weV9uKHN0ciwgTiwgdmFsdWUpOwogICAgfQoKICAgIGNoYXIgdmFsdWVbTl07Cn07Cgp1c2luZyBDb2xvcl90ID0gSW1WZWM0Owp1c2luZyBTaXplX3QgPSBJbVZlYzI7Cgpjb25zdGV4cHIgc3RhdGljIENvbG9yX3QgUmVkezEuMCwgMC4wLCAwLjAsIDEuMH07CmNvbnN0ZXhwciBzdGF0aWMgQ29sb3JfdCBHcmVlbnswLjAsIDEuMCwgMC4wLCAxLjB9Owpjb25zdGV4cHIgc3RhdGljIENvbG9yX3QgQmx1ZXswLjAsIDAuMCwgMS4wLCAxLjB9Owpjb25zdGV4cHIgc3RhdGljIENvbG9yX3QgV2hpdGV7MS4wLCAxLjAsIDEuMCwgMS4wfTsKY29uc3RleHByIHN0YXRpYyBDb2xvcl90IEJsYWNrezAuMCwgMC4wLCAwLjAsIDAuMH07Cgp1c2luZyBUZXh0UG9zaXRpb25fdCA9IGVudW0gY2xhc3MgVGV4dFBvc2l0aW9uRW51bSB7CiAgICBOb25lLCBUb3AsIEJvdHRvbSwgTGVmdCwgUmlnaHQKfTsKdXNpbmcgTnVtZXJpY0Zvcm1hdF90ID0gZW51bSBjbGFzcyBOdW1lcmljRm9ybWF0RW51bSB7CiAgICBEZWZhdWx0LCBTY2llbnRpZmljLCBIZXhGbG9hdCwgRml4ZWQKfTsKdXNpbmcgUGxvdFR5cGVfdCA9IGVudW0gY2xhc3MgUGxvdFR5cGVFbnVteyBMaW5lLCBTY2F0dGVyIH07CgpzdHJ1Y3QgRHJhd2luZ09wdGlvbnMgewogICAgLy8gTG9jYXRpb24gb2YgdGhlIGFjY29tcGFueWluZyB0ZXh0LiBNb3N0IEltR1VJIGNvbnRyb2xzIGFscmVhZHkKICAgIC8vIGhhdmUgc29tZXRoaW5nIHNpbWlsYXIsIHRoaXMgaXMgZm9yIHRob3NlIHdobyBkbyBub3QgKGxpa2UgYnV0dG9uKQogICAgVGV4dFBvc2l0aW9uX3QgVGV4dFBvc2l0aW9uID0gVGV4dFBvc2l0aW9uRW51bTo6Tm9uZTsKICAgIC8vIENvbG9yIG9mIHRoZSBhY2NvbXBhbnlpbmcgdGV4dC4KICAgIENvbG9yX3QgVGV4dENvbG9yID0gV2hpdGU7CiAgICAvLyBDb2xvciBvZiB0aGUgY29udHJvbCBpbiBzdGFuZGJ5IC0gb25seSBidXR0b24gc3VwcG9ydHMgaXQgQVRNLgogICAgQ29sb3JfdCBDb2xvciA9IEJsdWU7CiAgICAvLyBDb2xvciBvZiB0aGUgY29udHJvbCB3aGVuIGhvdmVyZWQgLSBvbmx5IGJ1dHRvbiBzdXBwb3J0cyBpdCBBVE0uCiAgICBDb2xvcl90IEhvdmVyZWRDb2xvciA9IEJsdWU7CiAgICAvLyBDb2xvciBvZiB0aGUgY29udHJvbCB3aGVuIGFjdGl2ZSAtIG9ubHkgYnV0dG9uIHN1cHBvcnRzIGl0IEFUTS4KICAgIENvbG9yX3QgQWN0aXZlQ29sb3IgPSBCbHVlOwogICAgLy8gU2l6ZSBvZiB0aGUgY29udHJvbCAtIG9ubHkgYnV0dG9uIHN1cHBvcnRzIGl0IEFUTS4gMHMgc2l6ZXMKICAgIC8vIHRoZSBidXR0b24gdG8gdGhlIGxlbmd0aCBvZiB0aGUgdGV4dAogICAgU2l6ZV90IFNpemUgPSBTaXplX3R7MCwgMH07CgogICAgLy8gTnVtZXJpYyBpbmRpY2F0b3IvY29udHJvbHMgc3BlY2lmaWMKICAgIGRvdWJsZSBTdGVwU2l6ZSA9IDAuMDsKICAgIC8vIE51bWVyaWMgaW5kaWNhdG9yL2NvbnRyb2xzIHNwZWNpZmljIC0gRm9sbG93IHByaW50ZiBjb252ZW50aW9ucwogICAgc3RkOjpzdHJpbmdfdmlldyBGb3JtYXQgPSAiJS4zZiI7Cn07CgplbnVtIGNsYXNzIENvbnRyb2xUeXBlcyB7IElucHV0VGV4dCwgQnV0dG9uLCBDaGVja2JveCwgSW5wdXRJbnQsIElucHV0RmxvYXQsCiAgICBJbnB1dERvdWJsZSwgQ29tYm9Cb3gsIElucHV0SU5UOCwgSW5wdXRVSU5UOCwgSW5wdXRJTlQxNiwgSW5wdXRVSU5UMTYsCiAgICBJbnB1dElOVDMyLCBJbnB1dFVJTlQzMiwgSW5wdXRJTlQ2NCwgSW5wdXRVSU5UNjQgfTsKCnRlbXBsYXRlPENvbnRyb2xUeXBlcyBDb250cm9sVHlwZSwgU3RyaW5nTGl0ZXJhbCBsaXN0PgpzdHJ1Y3QgQ29udHJvbCB7CiAgICBjb25zdCBzdGQ6OnN0cmluZ192aWV3IExhYmVsID0gIiI7CiAgICBjb25zdCBzdGQ6OnN0cmluZ192aWV3IFRleHQgPSAiIjsKICAgIGNvbnN0IHN0ZDo6c3RyaW5nX3ZpZXcgSGVscFRleHQgPSAiIjsKICAgIGNvbnN0IERyYXdpbmdPcHRpb25zIERyYXdPcHRpb25zID0gRHJhd2luZ09wdGlvbnN7fTsKCiAgICBjb25zdGV4cHIgfkNvbnRyb2woKSB7fQoKICAgIGNvbnN0ZXhwciBDb250cm9sKCkgPSBkZWZhdWx0OwogICAgY29uc3RleHByIENvbnRyb2woCiAgICAgICAgY29uc3Qgc3RkOjpzdHJpbmdfdmlldyYgdGV4dCwgY29uc3Qgc3RkOjpzdHJpbmdfdmlldyYgaGVscF90ZXh0LAogICAgICAgIGNvbnN0IERyYXdpbmdPcHRpb25zJiBkcmF3X29wdHMgPSBEcmF3aW5nT3B0aW9uc3t9KSA6CiAgICAgICAgTGFiZWx7bGlzdC52YWx1ZX0sCiAgICAgICAgVGV4dHt0ZXh0fSwKICAgICAgICBIZWxwVGV4dHtoZWxwX3RleHR9LAogICAgICAgIERyYXdPcHRpb25ze2RyYXdfb3B0c30KICAgIHsKICAgICAgICAvLyBzdGF0aWNfYXNzZXJ0KERyYXdPcHRpb25zLkZvcm1hdC5zdGFydHNfd2l0aCgiJSIpLCAiZm9ybWF0IHN0cmluZyBtdXN0IgogICAgICAgIC8vICAgICAic3RhcnQgd2l0aCAlIik7CiAgICB9CgogICAgZXhwbGljaXQgY29uc3RleHByIENvbnRyb2woY29uc3Qgc3RkOjpzdHJpbmdfdmlldyYgdGV4dCkgOgogICAgICAgIENvbnRyb2x7dGV4dCwgIiJ9CiAgICB7fQp9OwoKCmVudW0gY2xhc3MgSW5kaWNhdG9yVHlwZXMgeyBOdW1lcmljYWwsIFN0cmluZywgTEVEIH07Cgp0ZW1wbGF0ZTxJbmRpY2F0b3JUeXBlcyBJbmRpY2F0b3JUeXBlLCBTdHJpbmdMaXRlcmFsIExhYmVsPgpzdHJ1Y3QgSW5kaWNhdG9yIHsKICAgIC8vIExhYmVsIG9mIHRoZSBpbmRpY2F0b3IgdGhhdCBpcyBkcmF3biBkZXBlbmRpbmcgb24KICAgIC8vIERyYXdPcHRpb25zLlRleHRQb3NpdGlvbiB2YWx1ZQogICAgY29uc3Qgc3RkOjpzdHJpbmdfdmlldyBUZXh0ID0gIiI7CiAgICAvLyBVbml0cyBsYWJlbCB0aGF0IGlzIGFsd2F5cyBkcmF3biBvbiB0aGUgcmlnaHQgb2YgdGhlIGluZGljYXRvcgogICAgLy8gb25seSBkcmF3biBvbiBOdW1lcmljYWxJbmRpY2F0b3IKICAgIGNvbnN0IHN0ZDo6c3RyaW5nX3ZpZXcgVW5pdFRleHQgPSAiIjsKICAgIC8vIEhlbHAgdGV4dCB0aGF0IGFwcGVhcnMgd2hlbiBob3ZlcmluZyB0aGUgdGV4dC4KICAgIGNvbnN0IHN0ZDo6c3RyaW5nX3ZpZXcgSGVscFRleHQgPSAiIjsKICAgIGNvbnN0IERyYXdpbmdPcHRpb25zIERyYXdPcHRpb25zOwoKICAgIGNvbnN0ZXhwciB+SW5kaWNhdG9yKCkge30KCiAgICBjb25zdGV4cHIgSW5kaWNhdG9yKCkgPSBkZWZhdWx0OwogICAgY29uc3RleHByIEluZGljYXRvcigKICAgICAgICBzdGQ6OnN0cmluZ192aWV3IHRleHQsCiAgICAgICAgc3RkOjpzdHJpbmdfdmlldyB1bml0cywKICAgICAgICBzdGQ6OnN0cmluZ192aWV3IGhlbHBfdGV4dCwKICAgICAgICBjb25zdCBEcmF3aW5nT3B0aW9ucyYgZHJhd19vcHRzID0gRHJhd2luZ09wdGlvbnN7fSkgOgogICAgICAgIFRleHR7dGV4dH0sCiAgICAgICAgVW5pdFRleHR7dW5pdHN9LAogICAgICAgIEhlbHBUZXh0e2hlbHBfdGV4dH0sCiAgICAgICAgRHJhd09wdGlvbnN7ZHJhd19vcHRzfQogICAgewogICAgICAgIC8vIHN0YXRpY19hc3NlcnQoRHJhd09wdGlvbnMuRm9ybWF0LnN0YXJ0c193aXRoKCIlIiksICJmb3JtYXQgc3RyaW5nIG11c3QiCiAgICAgICAgLy8gICAgICJzdGFydCB3aXRoICUiKTsKICAgICAgICAvLyBSZW1vdmUgdGhlICUgZnJvbSB0aGUgZm9ybWF0IHN0cmluZywgYXMgd2Ugd2lsbCBub3QgbmVlZCBpdCBmb3IKICAgICAgICAvLyBhbGwgdGhlIGluZGljYXRvcnMuCiAgICAgICAgLy8gRHJhd09wdGlvbnMuRm9ybWF0LnJlbW92ZV9wcmVmaXgoMSk7CiAgICB9CgogICAgLy8gU2V0cyB0aGUgVGV4dCBlcXVhbCB0byB0aGUgTGFiZWwsIGFuZCBzZXRzIGRyYXdpbmcgb3B0aW9ucyB0byB0aGUKICAgIC8vIGRlZmF1bHRzLgogICAgZXhwbGljaXQgY29uc3RleHByIEluZGljYXRvcihzdGQ6OnN0cmluZ192aWV3IGhlbHBfdGV4dCkgOgogICAgICAgIEluZGljYXRvcntMYWJlbC52YWx1ZSwgIiIsIGhlbHBfdGV4dH0KICAgIHt9CgogICAgZXhwbGljaXQgY29uc3RleHByIEluZGljYXRvcihzdGQ6OnN0cmluZ192aWV3IHVuaXRzLAogICAgICAgIHN0ZDo6c3RyaW5nX3ZpZXcgaGVscF90ZXh0KSA6CiAgICAgICAgSW5kaWNhdG9ye0xhYmVsLnZhbHVlLCB1bml0cywgaGVscF90ZXh0fQogICAge30KIHByaXZhdGU6CiAgICBjb25zdCBzdGQ6OnN0cmluZ192aWV3IF9mdWxsX2Zvcm1hdF9zdHJpbmc7Cn07Cgp0ZW1wbGF0ZTxTdHJpbmdMaXRlcmFsIENvbnN0TGFiZWw+CnVzaW5nIE51bWVyaWNhbEluZGljYXRvciA9IEluZGljYXRvcjxJbmRpY2F0b3JUeXBlczo6TnVtZXJpY2FsLCBDb25zdExhYmVsPjsKdGVtcGxhdGU8U3RyaW5nTGl0ZXJhbCBDb25zdExhYmVsPgp1c2luZyBTdHJpbmdJbmRpY2F0b3IgPSBJbmRpY2F0b3I8SW5kaWNhdG9yVHlwZXM6OlN0cmluZywgQ29uc3RMYWJlbD47CnRlbXBsYXRlPFN0cmluZ0xpdGVyYWwgQ29uc3RMYWJlbD4KdXNpbmcgTEVESW5kaWNhdG9yID0gSW5kaWNhdG9yPEluZGljYXRvclR5cGVzOjpMRUQsIENvbnN0TGFiZWw+OwoKdXNpbmcgUGxvdEdyb3VwaW5nc190ID0gZW51bSBjbGFzcyBQbG90R3JvdXBpbmdzRW51bSB7IE9uZSwgVHdvLCBUaHJlZSB9OwoKdGVtcGxhdGU8c2l6ZV90IE5QbG90cyA9IDEsIHNpemVfdCBOWUF4aXMgPSAxPgpzdHJ1Y3QgUGxvdE9wdGlvbnMgewogICAgc3RhdGljX2Fzc2VydChOWUF4aXMgPCA0LCAiTW9yZSB0aGFuIDQgYXhlcyBub3QgYWxsb3dlZC4iKTsKICAgIHN0YXRpY19hc3NlcnQoTlBsb3RzID49IE5ZQXhpcywgIk51bWJlciBvZiBncmFwaHMgaGFzIHRvIGJlIGVxdWFsIG9yIGhpZ2hlciIKICAgICAgICAiIHRoYW4gdGhlIG51bWJlciBvZiB5LWF4ZXMiKTsKICAgIHN0YXRpY19hc3NlcnQoTlBsb3RzID4gMCwgIlRoZXJlIG11c3QgYmUgYSBsZWFzdCBvbmUgcGxvdCEiKTsKCiAgICAvLyBUeXBlIG9mIHBsb3QgZHJhd24KICAgIFBsb3RUeXBlX3QgUGxvdFR5cGUgPSBQbG90VHlwZUVudW06OkxpbmU7CiAgICAvLwogICAgYm9vbCBTaG93QWxsT3B0aW9ucyA9IGZhbHNlOwoKICAgIC8vIExhYmVscyBvZiBlYWNoIHBsb3QKICAgIHN0ZDo6YXJyYXk8c3RkOjpzdHJpbmdfdmlldywgTlBsb3RzPiBQbG90TGFiZWxzOwogICAgLy8gR3JvdXAgKGluIHRlcm0gb2YgYXhlcykgd2hlcmUgZWFjaCBwbG90IGJlbG9uZ3MuIE1heCAzCiAgICBzdGQ6OmFycmF5PFBsb3RHcm91cGluZ3NfdCwgTlBsb3RzPiBQbG90R3JvdXBpbmdzOwoKICAgIGNvbnN0IHN0ZDo6c3RyaW5nX3ZpZXcgWEF4aXNMYWJlbCA9ICJ4IjsKICAgIHN0ZDo6c3RyaW5nX3ZpZXcgWEF4aXNVbml0ID0gIlthcmIuXSI7CiAgICBJbVBsb3RTY2FsZSBYQXhpc1NjYWxlID0gSW1QbG90U2NhbGVfTGluZWFyOwogICAgSW1QbG90QXhpc0ZsYWdzIFhBeGlzRmxhZ3MgPSBJbVBsb3RBeGlzRmxhZ3NfTm9uZTsKCiAgICBjb25zdCBzdGQ6OmFycmF5PHN0ZDo6c3RyaW5nX3ZpZXcsIE5ZQXhpcz4gWUF4aXNMYWJlbHMgPSB7InkifTsKICAgIHN0ZDo6YXJyYXk8c3RkOjpzdHJpbmdfdmlldywgTllBeGlzPiBZQXhpc1VuaXRzID0geyJbYXJiLl0ifTsKICAgIHN0ZDo6YXJyYXk8SW1QbG90U2NhbGUsIE5ZQXhpcz4gWUF4aXNTY2FsZXM7CiAgICBzdGQ6OmFycmF5PEltUGxvdEF4aXNGbGFncywgTllBeGlzPiBZQXhpc0ZsYWdzOwp9OwoKdGVtcGxhdGU8U3RyaW5nTGl0ZXJhbCBsaXN0LCBzaXplX3QgTlBsb3RzID0gMSwgc2l6ZV90IE5ZQXhpcyA9IDE+CnN0cnVjdCBQbG90SW5kaWNhdG9yIHsKICAgIHN0YXRpY19hc3NlcnQoTllBeGlzIDwgNCwgIk1vcmUgdGhhbiA0IGF4ZXMgbm90IGFsbG93ZWQuIik7CiAgICBzdGF0aWNfYXNzZXJ0KE5QbG90cyA+PSBOWUF4aXMsICJOdW1iZXIgb2YgZ3JhcGhzIGhhcyB0byBiZSBlcXVhbCBvciBoaWdoZXIiCiAgICAgICAgIiB0aGFuIHRoZSBudW1iZXIgb2YgeS1heGVzIik7CiAgICBzdGF0aWNfYXNzZXJ0KE5QbG90cyA+IDAsICJUaGVyZSBtdXN0IGJlIGEgbGVhc3Qgb25lIHBsb3QhIik7CgogICAgY29uc3Qgc3RkOjpzdHJpbmdfdmlldyBMYWJlbCA9ICIiOwogICAgLy8gY29uc3Qgc3RkOjpzdHJpbmdfdmlldyBUZXh0ID0gIiI7CiAgICAvLyBjb25zdCBzdGQ6OnN0cmluZ192aWV3IEhlbHBUZXh0ID0gIiI7CgogICAgLy8gSW5mb3JtYXRpb24gYWJvdXQgdGhlIHBsb3RzLCB0aGVpciBheGVzLCBhbmQgbmFtZXMKICAgIFBsb3RPcHRpb25zPE5QbG90cywgTllBeGlzPiBQbG90RHJhd09wdGlvbnM7CiAgICBjb25zdCBEcmF3aW5nT3B0aW9ucyBEcmF3T3B0aW9uczsKCiAgICBjb25zdGV4cHIgflBsb3RJbmRpY2F0b3IoKSB7fQoKICAgIGNvbnN0ZXhwciBQbG90SW5kaWNhdG9yKCkgPSBkZWZhdWx0OwogICAgZXhwbGljaXQgY29uc3RleHByIFBsb3RJbmRpY2F0b3IoCiAgICAgICAgLy8gY29uc3Qgc3RkOjpzdHJpbmdfdmlldyYgdGV4dCwgY29uc3Qgc3RkOjpzdHJpbmdfdmlldyYgaGVscF90ZXh0LAogICAgICAgIGNvbnN0IFBsb3RPcHRpb25zPE5QbG90cywgTllBeGlzPiYgcGxvdF9kcmF3X29wdHMgPSBQbG90T3B0aW9uczxOWUF4aXM+e30sCiAgICAgICAgY29uc3QgRHJhd2luZ09wdGlvbnMmIGRyYXdfb3B0cyA9IERyYXdpbmdPcHRpb25ze30pIDoKICAgICAgICBMYWJlbHtsaXN0LnZhbHVlfSwKICAgICAgICAvLyBUZXh0e3RleHR9LAogICAgICAgIC8vIEhlbHBUZXh0e2hlbHBfdGV4dH0sCiAgICAgICAgUGxvdERyYXdPcHRpb25ze3Bsb3RfZHJhd19vcHRzfSwKICAgICAgICBEcmF3T3B0aW9uc3tkcmF3X29wdHN9CiAgICB7CiAgICAgICAgLy8gc3RhdGljX2Fzc2VydCgsICk7CgogICAgfQoKICAgIGV4cGxpY2l0IGNvbnN0ZXhwciBQbG90SW5kaWNhdG9yKGNvbnN0IHN0ZDo6c3RyaW5nX3ZpZXcmIHRleHQpIDoKICAgICAgICBQbG90SW5kaWNhdG9ye3RleHQsICIifQogICAge30KfTsKCi8vIENvbnRyb2xzCnRlbXBsYXRlPFN0cmluZ0xpdGVyYWwgTGFiZWw+CmJvb2wgSW5wdXRUZXh0KGNvbnN0IENvbnRyb2w8Q29udHJvbFR5cGVzOjpJbnB1dFRleHQsIExhYmVsPiYsCiAgICAgICAgICAgICAgIHN0ZDo6c3RyaW5nJiBvdXQpIHsKICAgIHJldHVybiBJbUd1aTo6SW5wdXRUZXh0KExhYmVsLnZhbHVlLCAmb3V0KTsKfQoKdGVtcGxhdGU8U3RyaW5nTGl0ZXJhbCBMYWJlbD4KYm9vbCBCdXR0b24oY29uc3QgQ29udHJvbDxDb250cm9sVHlwZXM6OkJ1dHRvbiwgTGFiZWw+JiBjb250cm9sLAogICAgICAgICAgICBib29sJiBvdXQpIHsKICAgIEltR3VpOjpQdXNoU3R5bGVDb2xvcihJbUd1aUNvbF9CdXR0b24sCiAgICAgICAgY29udHJvbC5EcmF3T3B0aW9ucy5Db2xvcik7CiAgICBJbUd1aTo6UHVzaFN0eWxlQ29sb3IoSW1HdWlDb2xfQnV0dG9uSG92ZXJlZCwKICAgICAgICBjb250cm9sLkRyYXdPcHRpb25zLkhvdmVyZWRDb2xvcik7CiAgICBJbUd1aTo6UHVzaFN0eWxlQ29sb3IoSW1HdWlDb2xfQnV0dG9uQWN0aXZlLAogICAgICAgIGNvbnRyb2wuRHJhd09wdGlvbnMuQWN0aXZlQ29sb3IpOwoKICAgIG91dCA9IEltR3VpOjpCdXR0b24oTGFiZWwudmFsdWUsIGNvbnRyb2wuRHJhd09wdGlvbnMuU2l6ZSk7CgogICAgSW1HdWk6OlBvcFN0eWxlQ29sb3IoMyk7CiAgICByZXR1cm4gb3V0Owp9Cgp0ZW1wbGF0ZTxTdHJpbmdMaXRlcmFsIExhYmVsPgpib29sIENoZWNrYm94KGNvbnN0IENvbnRyb2w8Q29udHJvbFR5cGVzOjpDaGVja2JveCwgTGFiZWw+JiBjb250cm9sLAogICAgICAgICAgICAgIGJvb2wmIG91dCkgewogICAgcmV0dXJuIEltR3VpOjpDaGVja2JveChMYWJlbC52YWx1ZSwgJm91dCk7Cn0KCnRlbXBsYXRlPFN0cmluZ0xpdGVyYWwgTGFiZWw+CmJvb2wgSW5wdXRJbnQoY29uc3QgQ29udHJvbDxDb250cm9sVHlwZXM6OklucHV0SW50LCBMYWJlbD4mIGNvbnRyb2wsCiAgICAgICAgICAgICAgaW50JiBvdXQpIHsKICAgIHJldHVybiBJbUd1aTo6SW5wdXRJbnQoTGFiZWwudmFsdWUsICZvdXQsIHN0YXRpY19jYXN0PGludD4oCiAgICAgICAgY29udHJvbC5EcmF3T3B0aW9ucy5TdGVwU2l6ZSkpOwp9Cgp0ZW1wbGF0ZTxTdHJpbmdMaXRlcmFsIExhYmVsPgpib29sIElucHV0RmxvYXQoY29uc3QgQ29udHJvbDxDb250cm9sVHlwZXM6OklucHV0RmxvYXQsIExhYmVsPiYgY29udHJvbCwKICAgICAgICAgICAgICAgIGZsb2F0JiBvdXQpICB7CiAgICByZXR1cm4gSW1HdWk6OklucHV0RmxvYXQoTGFiZWwudmFsdWUsICZvdXQsCiAgICAgICAgc3RhdGljX2Nhc3Q8ZmxvYXQ+KGNvbnRyb2wuRHJhd09wdGlvbnMuU3RlcFNpemUpLAogICAgICAgIDEwMC4wZipzdGF0aWNfY2FzdDxmbG9hdD4oY29udHJvbC5EcmF3T3B0aW9ucy5TdGVwU2l6ZSksCiAgICAgICAgc3RkOjpzdHJpbmcoY29udHJvbC5EcmF3T3B0aW9ucy5Gb3JtYXQpLmNfc3RyKCkpOwp9Cgp0ZW1wbGF0ZTxTdHJpbmdMaXRlcmFsIExhYmVsPgpib29sIElucHV0RG91YmxlKGNvbnN0IENvbnRyb2w8Q29udHJvbFR5cGVzOjpJbnB1dERvdWJsZSwgTGFiZWw+JiBjb250cm9sLAogICAgICAgICAgICAgICAgIGRvdWJsZSYgb3V0KSB7CiAgICByZXR1cm4gSW1HdWk6OklucHV0RG91YmxlKExhYmVsLnZhbHVlLCAmb3V0LAogICAgICAgIGNvbnRyb2wuRHJhd09wdGlvbnMuU3RlcFNpemUsCiAgICAgICAgMTAwLjAqY29udHJvbC5EcmF3T3B0aW9ucy5TdGVwU2l6ZSwKICAgICAgICBzdGQ6OnN0cmluZyhjb250cm9sLkRyYXdPcHRpb25zLkZvcm1hdCkuY19zdHIoKSk7Cn0KCnRlbXBsYXRlPENvbnRyb2xUeXBlcyBDb250cm9sVHlwZSwgU3RyaW5nTGl0ZXJhbCBMYWJlbCwgdHlwZW5hbWUgVD4KcmVxdWlyZXMgc3RkOjppc19pbnRlZ3JhbF92PFQ+CmJvb2wgSW5wdXRTY2FsYXIoY29uc3QgQ29udHJvbDxDb250cm9sVHlwZSwgTGFiZWw+JiBjb250cm9sLCBUJiBvdXQpIHsKICAgIEltR3VpRGF0YVR5cGVfIHR5cGUgPSBJbUd1aURhdGFUeXBlX1M4OwogICAgaWYgY29uc3RleHByICggc3RkOjppc19zYW1lX3Y8VCwgaW50OF90PikgewogICAgICAgIHR5cGUgPSBJbUd1aURhdGFUeXBlX1M4OwogICAgfSBlbHNlIGlmIGNvbnN0ZXhwciAoIHN0ZDo6aXNfc2FtZV92PFQsIHVpbnQ4X3Q+KSB7CiAgICAgICAgdHlwZSA9IEltR3VpRGF0YVR5cGVfVTg7CiAgICB9IGVsc2UgaWYgY29uc3RleHByICggc3RkOjppc19zYW1lX3Y8VCwgaW50MTZfdD4pIHsKICAgICAgICB0eXBlID0gSW1HdWlEYXRhVHlwZV9TMTY7CiAgICB9IGVsc2UgaWYgY29uc3RleHByICggc3RkOjppc19zYW1lX3Y8VCwgdWludDE2X3Q+KSB7CiAgICAgICAgdHlwZSA9IEltR3VpRGF0YVR5cGVfVTE2OwogICAgfSBlbHNlIGlmIGNvbnN0ZXhwciAoIHN0ZDo6aXNfc2FtZV92PFQsIGludDMyX3Q+KSB7CiAgICAgICAgdHlwZSA9IEltR3VpRGF0YVR5cGVfUzMyOwogICAgfSBlbHNlIGlmIGNvbnN0ZXhwciAoIHN0ZDo6aXNfc2FtZV92PFQsIHVpbnQzMl90PikgewogICAgICAgIHR5cGUgPSBJbUd1aURhdGFUeXBlX1UzMjsKICAgIH0gZWxzZSBpZiBjb25zdGV4cHIgKCBzdGQ6OmlzX3NhbWVfdjxULCBpbnQ2NF90PikgewogICAgICAgIHR5cGUgPSBJbUd1aURhdGFUeXBlX1M2NDsKICAgIH0gZWxzZSBpZiBjb25zdGV4cHIgKCBzdGQ6OmlzX3NhbWVfdjxULCB1aW50NjRfdD4pIHsKICAgICAgICB0eXBlID0gSW1HdWlEYXRhVHlwZV9VNjQ7CiAgICB9CgogICAgY29uc3Qgdm9pZCogc3RlcCA9ICZjb250cm9sLkRyYXdPcHRpb25zLlN0ZXBTaXplOwogICAgLy8gY29uc3Qgdm9pZCogYmlnX3N0ZXAgPSAmKDEwMCpjb250cm9sLkRyYXdPcHRpb25zLlN0ZXBTaXplKTsKICAgIHJldHVybiBJbUd1aTo6SW5wdXRTY2FsYXIoTGFiZWwudmFsdWUsIHR5cGUsICZvdXQsCiAgICAgICAgc3RlcCwKICAgICAgICBzdGVwLAogICAgICAgIHN0ZDo6c3RyaW5nKGNvbnRyb2wuRHJhd09wdGlvbnMuRm9ybWF0KS5jX3N0cigpKTsKfQoKdGVtcGxhdGU8U3RyaW5nTGl0ZXJhbCBMYWJlbD4KYm9vbCBJbnB1dElOVDgoY29uc3QgQ29udHJvbDxDb250cm9sVHlwZXM6OklucHV0SU5UOCwgTGFiZWw+JiBjb250cm9sLAogICAgICAgICAgICAgICBpbnQ4X3QmIG91dCkgewogICAgcmV0dXJuIElucHV0U2NhbGFyPENvbnRyb2xUeXBlczo6SW5wdXRJTlQ4LCBMYWJlbCwgaW50OF90Pihjb250cm9sLCBvdXQpOwp9Cgp0ZW1wbGF0ZTxTdHJpbmdMaXRlcmFsIExhYmVsPgpib29sIElucHV0VUlOVDgoY29uc3QgQ29udHJvbDxDb250cm9sVHlwZXM6OklucHV0VUlOVDgsIExhYmVsPiYgY29udHJvbCwKICAgICAgICAgICAgICAgIHVpbnQ4X3QmIG91dCkgewogICAgcmV0dXJuIElucHV0U2NhbGFyPENvbnRyb2xUeXBlczo6SW5wdXRVSU5UOCwgTGFiZWwsIHVpbnQ4X3Q+KGNvbnRyb2wsIG91dCk7Cn0KCnRlbXBsYXRlPFN0cmluZ0xpdGVyYWwgTGFiZWw+CmJvb2wgSW5wdXRJTlQxNihjb25zdCBDb250cm9sPENvbnRyb2xUeXBlczo6SW5wdXRJTlQxNiwgTGFiZWw+JiBjb250cm9sLAogICAgICAgICAgICAgICAgaW50MTZfdCYgb3V0KSB7CiAgICByZXR1cm4gSW5wdXRTY2FsYXI8Q29udHJvbFR5cGVzOjpJbnB1dElOVDE2LCBMYWJlbCwgaW50MTZfdD4oY29udHJvbCwgb3V0KTsKfQoKdGVtcGxhdGU8U3RyaW5nTGl0ZXJhbCBMYWJlbD4KYm9vbCBJbnB1dFVJTlQxNihjb25zdCBDb250cm9sPENvbnRyb2xUeXBlczo6SW5wdXRVSU5UMTYsIExhYmVsPiYgY29udHJvbCwKICAgICAgICAgICAgICAgIHVpbnQxNl90JiBvdXQpIHsKICAgIHJldHVybiBJbnB1dFNjYWxhcjxDb250cm9sVHlwZXM6OklucHV0VUlOVDE2LCBMYWJlbCwgdWludDE2X3Q+KGNvbnRyb2wsIG91dCk7Cn0KCnRlbXBsYXRlPFN0cmluZ0xpdGVyYWwgTGFiZWw+CmJvb2wgSW5wdXRJTlQzMihjb25zdCBDb250cm9sPENvbnRyb2xUeXBlczo6SW5wdXRJTlQzMiwgTGFiZWw+JiBjb250cm9sLAogICAgICAgICAgICAgICAgaW50MzJfdCYgb3V0KSB7CiAgICByZXR1cm4gSW5wdXRTY2FsYXI8Q29udHJvbFR5cGVzOjpJbnB1dElOVDMyLCBMYWJlbCwgaW50MzJfdD4oY29udHJvbCwgb3V0KTsKfQoKdGVtcGxhdGU8U3RyaW5nTGl0ZXJhbCBMYWJlbD4KYm9vbCBJbnB1dFVJTlQzMihjb25zdCBDb250cm9sPENvbnRyb2xUeXBlczo6SW5wdXRVSU5UMzIsIExhYmVsPiYgY29udHJvbCwKICAgICAgICAgICAgICAgIHVpbnQzMl90JiBvdXQpIHsKICAgIHJldHVybiBJbnB1dFNjYWxhcjxDb250cm9sVHlwZXM6OklucHV0VUlOVDMyLCBMYWJlbCwgdWludDMyX3Q+KGNvbnRyb2wsIG91dCk7Cn0KCnRlbXBsYXRlPFN0cmluZ0xpdGVyYWwgTGFiZWw+CmJvb2wgSW5wdXRJTlQ2NChjb25zdCBDb250cm9sPENvbnRyb2xUeXBlczo6SW5wdXRJTlQ2NCwgTGFiZWw+JiBjb250cm9sLAogICAgICAgICAgICAgICAgaW50NjRfdCYgb3V0KSB7CiAgICByZXR1cm4gSW5wdXRTY2FsYXI8Q29udHJvbFR5cGVzOjpJbnB1dElOVDY0LCBMYWJlbCwgaW50NjRfdD4oY29udHJvbCwgb3V0KTsKfQoKdGVtcGxhdGU8U3RyaW5nTGl0ZXJhbCBMYWJlbD4KYm9vbCBJbnB1dFVJTlQ2NChjb25zdCBDb250cm9sPENvbnRyb2xUeXBlczo6SW5wdXRVSU5UNjQsIExhYmVsPiYgY29udHJvbCwKICAgICAgICAgICAgICAgIHVpbnQ2NF90JiBvdXQpIHsKICAgIHJldHVybiBJbnB1dFNjYWxhcjxDb250cm9sVHlwZXM6OklucHV0VUlOVDY0LCBMYWJlbCwgdWludDY0X3Q+KGNvbnRyb2wsIG91dCk7Cn0KCnRlbXBsYXRlPFN0cmluZ0xpdGVyYWwgTGFiZWwsIHR5cGVuYW1lIFQ+IHJlcXVpcmVzIHN0ZDo6aXNfZW51bV92PFQ+CmJvb2wgQ29tYm9Cb3goY29uc3QgQ29udHJvbDxDb250cm9sVHlwZXM6OkNvbWJvQm94LCBMYWJlbD4mIGNvbnRyb2wsIFQmIHN0YXRlLAogICAgY29uc3Qgc3RkOjp1bm9yZGVyZWRfbWFwPFQsIHN0ZDo6c3RyaW5nPiYgbWFwKSB7CiAgICBzdGF0aWMgc2l6ZV90IGluZGV4ID0gMDsKICAgIHNpemVfdCBpID0gMDsKCiAgICBzdGQ6OnZlY3RvcjxUPiBzdGF0ZXM7CiAgICBzdGQ6OnZlY3RvcjxzdGQ6OnN0cmluZz4gc19zdGF0ZXM7CgogICAgZm9yIChhdXRvIHBhaXIgOiBtYXApIHsKICAgICAgICBzdGF0ZXMucHVzaF9iYWNrKHBhaXIuZmlyc3QpOwogICAgICAgIHNfc3RhdGVzLnB1c2hfYmFjayhwYWlyLnNlY29uZCk7CgogICAgICAgIC8vIFRoaXMgaXMgdG8gbWFrZSBzdXJlIHRoZSBjdXJyZW50IHNlbGVjdGVkIGl0ZW0gaXMgdGhlIG9uZQogICAgICAgIC8vIHRoYXQgaXMgYWxyZWFkeSBzYXZlZCBpbiBzdGF0ZQogICAgICAgIGlmIChzdGF0ZSA9PSBwYWlyLmZpcnN0KSB7CiAgICAgICAgICAgIGluZGV4ID0gaTsKICAgICAgICB9CgogICAgICAgIGkrKzsKICAgIH0KCiAgICAvLyBib29sIHUgPSBJbUd1aTo6Q29tYm8obGFiZWwuY19zdHIoKSwgJmluZGV4LCBsaXN0LmNfc3RyKCkpOwogICAgaWYgKEltR3VpOjpCZWdpbkNvbWJvKExhYmVsLCBzX3N0YXRlc1tpbmRleF0uY19zdHIoKSkpIHsKICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbWFwLnNpemUoKTsgaSsrKSB7CiAgICAgICAgICAgIGNvbnN0IGJvb2wgaXNfc2VsZWN0ZWQgPSAoaW5kZXggPT0gaSk7CiAgICAgICAgICAgIGlmIChJbUd1aTo6U2VsZWN0YWJsZShzX3N0YXRlc1tpXS5jX3N0cigpLCBpc19zZWxlY3RlZCkpIHsKICAgICAgICAgICAgICAgIGluZGV4ID0gaTsKICAgICAgICAgICAgfQogICAgICAgICAgICAvLyBTZXQgdGhlIGluaXRpYWwgZm9jdXMgd2hlbiBvcGVuaW5nIHRoZSBjb21ibwogICAgICAgICAgICAvLyAoc2Nyb2xsaW5nICsga2V5Ym9hcmQgbmF2aWdhdGlvbiBmb2N1cykKICAgICAgICAgICAgaWYgKGlzX3NlbGVjdGVkKSB7CiAgICAgICAgICAgICAgICBJbUd1aTo6U2V0SXRlbURlZmF1bHRGb2N1cygpOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBJbUd1aTo6RW5kQ29tYm8oKTsKICAgIH0KCiAgICBzdGF0ZSA9IHN0YXRlc1tpbmRleF07CgogICAgcmV0dXJuIHRydWU7Cn0KCi8vIEluZGljYXRvcnMKIC8vIHsgTnVtZXJpY2FsLCBTdHJpbmcsIExFRCwgUGxvdCB9Owp0ZW1wbGF0ZTxTdHJpbmdMaXRlcmFsIExhYmVsLCB0eXBlbmFtZSBJbnB1dFR5cGU+CnJlcXVpcmVzIHN0ZDo6aXNfZmxvYXRpbmdfcG9pbnRfdjxJbnB1dFR5cGU+IHx8IHN0ZDo6aXNfaW50ZWdyYWxfdjxJbnB1dFR5cGU+CnZvaWQgTnVtZXJpY2FsKGNvbnN0IEluZGljYXRvcjxJbmRpY2F0b3JUeXBlczo6TnVtZXJpY2FsLCBMYWJlbD4mIGluZGljYXRvciwKICAgIGNvbnN0IElucHV0VHlwZSYgaW5fdmFsdWUpIHsKICAgIGNvbnN0IGF1dG8mIGxhYmVsX25hbWUgPSBMYWJlbC52YWx1ZTsKICAgIGNvbnN0IGF1dG8mIGZvcm1hdCA9IGluZGljYXRvci5EcmF3T3B0aW9ucy5Gb3JtYXQ7CiAgICBJbUd1aTo6UHVzaFN0eWxlQ29sb3IoSW1HdWlDb2xfQnV0dG9uLAogICAgICAgIGluZGljYXRvci5EcmF3T3B0aW9ucy5Db2xvcik7CiAgICBJbUd1aTo6UHVzaFN0eWxlQ29sb3IoSW1HdWlDb2xfQnV0dG9uSG92ZXJlZCwKICAgICAgICBpbmRpY2F0b3IuRHJhd09wdGlvbnMuSG92ZXJlZENvbG9yKTsKICAgIEltR3VpOjpQdXNoU3R5bGVDb2xvcihJbUd1aUNvbF9CdXR0b25BY3RpdmUsCiAgICAgICAgaW5kaWNhdG9yLkRyYXdPcHRpb25zLkFjdGl2ZUNvbG9yKTsKCiAgICBpZiAobm90IGluZGljYXRvci5EcmF3T3B0aW9ucy5Gb3JtYXQuc3RhcnRzX3dpdGgoIiUiKSkgewogICAgICAgIHRocm93ICJOb3QgYSB2YWxpZCBmb3JtYXQgc3RyaW5nLiBJdCBtdXN0IHN0YXJ0IHdpdGggJSI7CiAgICB9CgogICAgaWYgY29uc3RleHByIChzdGQ6OmlzX2ludGVncmFsX3Y8SW5wdXRUeXBlPikgewogICAgICAgIEltR3VpOjpCdXR0b24oZm10Ojpmb3JtYXQoInt9IyN7fSIsIGluX3ZhbHVlLCBsYWJlbF9uYW1lKS5jX3N0cigpLAogICAgICAgICAgICAgICAgICAgICAgaW5kaWNhdG9yLkRyYXdPcHRpb25zLlNpemUpOwogICAgfSBlbHNlIGlmIChzdGQ6OmlzX2Zsb2F0aW5nX3BvaW50X3Y8SW5wdXRUeXBlPikgewogICAgICAgIC8vIFNvIGluZWZmaWNpZW50IQogICAgICAgIGF1dG8gZm9ybWF0X3N0cmluZyA9ICJ7OiIgKyBzdGQ6OnN0cmluZyhmb3JtYXQpLnN1YnN0cigxKSArICJ9IyN7fSI7CiAgICAgICAgSW1HdWk6OkJ1dHRvbihmbXQ6OmZvcm1hdCgie30jI3t9IiwgaW5fdmFsdWUsIGxhYmVsX25hbWUpLmNfc3RyKCksCiAgICAgICAgICAgICAgICAgICAgICBpbmRpY2F0b3IuRHJhd09wdGlvbnMuU2l6ZSk7CiAgICB9CgogICAgSW1HdWk6OlBvcFN0eWxlQ29sb3IoMyk7Cn0KCnRlbXBsYXRlPFN0cmluZ0xpdGVyYWwgTGFiZWw+CnZvaWQgU3RyaW5nKGNvbnN0IEluZGljYXRvcjxJbmRpY2F0b3JUeXBlczo6U3RyaW5nLCBMYWJlbD4mIGluZGljYXRvciwKICAgIHN0ZDo6c3RyaW5nX3ZpZXcgaW5fdmFsdWUpIHsKICAgIGNvbnN0IGF1dG8mIGxhYmVsX25hbWUgPSBMYWJlbC52YWx1ZTsKICAgIEltR3VpOjpQdXNoU3R5bGVDb2xvcihJbUd1aUNvbF9CdXR0b24sCiAgICAgICAgaW5kaWNhdG9yLkRyYXdPcHRpb25zLkNvbG9yKTsKICAgIEltR3VpOjpQdXNoU3R5bGVDb2xvcihJbUd1aUNvbF9CdXR0b25Ib3ZlcmVkLAogICAgICAgIGluZGljYXRvci5EcmF3T3B0aW9ucy5Ib3ZlcmVkQ29sb3IpOwogICAgSW1HdWk6OlB1c2hTdHlsZUNvbG9yKEltR3VpQ29sX0J1dHRvbkFjdGl2ZSwKICAgICAgICBpbmRpY2F0b3IuRHJhd09wdGlvbnMuQWN0aXZlQ29sb3IpOwoKICAgIEltR3VpOjpCdXR0b24oZm10Ojpmb3JtYXQoInt9IyN7fSIsIGluX3ZhbHVlLCBsYWJlbF9uYW1lKS5jX3N0cigpLAogICAgICAgIGluZGljYXRvci5EcmF3T3B0aW9ucy5TaXplKTsKCiAgICBJbUd1aTo6UG9wU3R5bGVDb2xvcigzKTsKfQoKLy8gTEVEIGluZGljYXRvciBpbiBhIGJvb2xlYW4gaXMgcGFzc2VkIGRvd24gYW5kIHRoZSBjb2xvciBvZiB0aGUgaW5kaWNhdG9yCi8vIHJlZmxlY3RzIGlmIGl0cyBvbiBvciBvZmYuIE9GRiBmb3Igbm93IGlzIGFsd2F5cyByZWQuIEhTViA9IDAsIDAuNiwgMC42CnRlbXBsYXRlPFN0cmluZ0xpdGVyYWwgTGFiZWw+CnZvaWQgTEVEKGNvbnN0IEluZGljYXRvcjxJbmRpY2F0b3JUeXBlczo6TEVELCBMYWJlbD4mIGluZGljYXRvciwKICAgIGNvbnN0IGJvb2wmIGluX3ZhbHVlKSB7CiAgICBjb25zdCBhdXRvJiBsYWJlbF9uYW1lID0gTGFiZWwudmFsdWU7CgogICAgaWYgKGluX3ZhbHVlKSB7CiAgICAgICAgSW1HdWk6OlB1c2hTdHlsZUNvbG9yKEltR3VpQ29sX0J1dHRvbiwKICAgICAgICAgICAgaW5kaWNhdG9yLkRyYXdPcHRpb25zLkNvbG9yKTsKICAgICAgICBJbUd1aTo6UHVzaFN0eWxlQ29sb3IoSW1HdWlDb2xfQnV0dG9uSG92ZXJlZCwKICAgICAgICAgICAgaW5kaWNhdG9yLkRyYXdPcHRpb25zLkhvdmVyZWRDb2xvcik7CiAgICAgICAgSW1HdWk6OlB1c2hTdHlsZUNvbG9yKEltR3VpQ29sX0J1dHRvbkFjdGl2ZSwKICAgICAgICAgICAgaW5kaWNhdG9yLkRyYXdPcHRpb25zLkFjdGl2ZUNvbG9yKTsKICAgIH0gZWxzZSB7CiAgICAgICAgY29uc3QgYXV0byBvZmZfY29sb3IgPQogICAgICAgICAgICBzdGF0aWNfY2FzdDxJbVZlYzQ+KEltQ29sb3I6OkhTVigwLjBmLCAwLjZmLCAwLjZmKSk7CiAgICAgICAgSW1HdWk6OlB1c2hTdHlsZUNvbG9yKEltR3VpQ29sX0J1dHRvbiwgb2ZmX2NvbG9yKTsKICAgICAgICBJbUd1aTo6UHVzaFN0eWxlQ29sb3IoSW1HdWlDb2xfQnV0dG9uSG92ZXJlZCwgb2ZmX2NvbG9yKTsKICAgICAgICBJbUd1aTo6UHVzaFN0eWxlQ29sb3IoSW1HdWlDb2xfQnV0dG9uQWN0aXZlLCBvZmZfY29sb3IpOwogICAgfQoKICAgIEltR3VpOjpCdXR0b24oZm10Ojpmb3JtYXQoIiMje30iLCBsYWJlbF9uYW1lKS5jX3N0cigpLAogICAgICAgIGluZGljYXRvci5EcmF3T3B0aW9ucy5TaXplKTsKCiAgICBJbUd1aTo6UG9wU3R5bGVDb2xvcigzKTsKfQoKLy8gTEVEIGluZGljYXRvciBpbiB3aGljaCBhbiBhcmJpdHJhcnkgdmFsdWUgY2FuIGJlIHBhc3NlZCBkb3duIGFuZCBhIHBhaXJpbmcKLy8gZnVuY3Rpb24gdG8gdHVybiBpdCBpbnRvIGEgYm9vbGVhbi4KdGVtcGxhdGU8U3RyaW5nTGl0ZXJhbCBMYWJlbCwgdHlwZW5hbWUgSW5wdXRUeXBlLAogICAgdHlwZW5hbWUgQ29uZGl0aW9uRnVuYyA9IHN0ZDo6ZnVuY3Rpb248Ym9vbChjb25zdCBJbnB1dFR5cGUmKT4+CnZvaWQgTEVEKGNvbnN0IEluZGljYXRvcjxJbmRpY2F0b3JUeXBlczo6TEVELCBMYWJlbD4mIGluZGljYXRvciwKICAgIGNvbnN0IElucHV0VHlwZSYgaW5fdmFsdWUsIENvbmRpdGlvbkZ1bmMmJiBjb25kaXRpb24pIHsKICAgIExFRDxMYWJlbD4oaW5kaWNhdG9yLCBjb25kaXRpb24oaW5fdmFsdWUpKTsKfQoKdGVtcGxhdGU8U3RyaW5nTGl0ZXJhbCBMYWJlbCwgc2l6ZV90IE5QbG90cywgc2l6ZV90IE5ZQXhpcz4Kdm9pZCBQbG90KGNvbnN0IFBsb3RJbmRpY2F0b3I8TGFiZWwsIE5QbG90cywgTllBeGlzPiYgcGxvdCwKICAgIGNvbnN0IFBsb3REYXRhQnVmZmVyPE5QbG90cz4mIHBsb3RfZGF0YSkgewogICAgaWYgKEltUGxvdDo6QmVnaW5QbG90KExhYmVsLnZhbHVlLCBwbG90LkRyYXdPcHRpb25zLlNpemUpKSB7CiAgICAgICAgSW1QbG90OjpTZXR1cEF4aXNTY2FsZShJbUF4aXNfWDEsIHBsb3QuUGxvdERyYXdPcHRpb25zLlhBeGlzU2NhbGUpOwogICAgICAgIEltUGxvdDo6U2V0dXBBeGVzKAogICAgICAgICAgICBzdGQ6OnN0cmluZyhwbG90LlBsb3REcmF3T3B0aW9ucy5YQXhpc0xhYmVsCiAgICAgICAgICAgICAgICAgICAgICAgICsgcGxvdC5QbG90RHJhd09wdGlvbnMuWEF4aXNVbml0KS5jX3N0cigpLAogICAgICAgICAgICBzdGQ6OnN0cmluZyhwbG90LlBsb3REcmF3T3B0aW9ucy5ZQXhpc0xhYmVsc1swXQogICAgICAgICAgICAgICAgICAgICAgICArIHBsb3QuUGxvdERyYXdPcHRpb25zLllBeGlzVW5pdHNbMF0pLmNfc3RyKCksCiAgICAgICAgICAgIHBsb3QuUGxvdERyYXdPcHRpb25zLlhBeGlzRmxhZ3MsCiAgICAgICAgICAgIHBsb3QuUGxvdERyYXdPcHRpb25zLllBeGlzRmxhZ3NbMF0pOwoKICAgICAgICBpZiBjb25zdGV4cHIgKE5ZQXhpcyA9PSAyKSB7CiAgICAgICAgICAgIEltUGxvdDo6U2V0dXBBeGlzKEltQXhpc19ZMiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxvdC5QbG90RHJhd09wdGlvbnMuWUF4aXNMYWJlbHNbMV0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsb3QuUGxvdERyYXdPcHRpb25zLllBeGlzRmxhZ3NbMV0pOwogICAgICAgIH0gZWxzZSBpZiBjb25zdGV4cHIgKE5ZQXhpcyA9PSAzKSB7CiAgICAgICAgICAgIEltUGxvdDo6U2V0dXBBeGlzKEltQXhpc19ZMiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxvdC5QbG90RHJhd09wdGlvbnMuWUF4aXNMYWJlbHNbMV0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsb3QuUGxvdERyYXdPcHRpb25zLllBeGlzRmxhZ3NbMV0pOwogICAgICAgICAgICBJbVBsb3Q6OlNldHVwQXhpcyhJbUF4aXNfWTMsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsb3QuUGxvdERyYXdPcHRpb25zLllBeGlzTGFiZWxzWzFdLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbG90LlBsb3REcmF3T3B0aW9ucy5ZQXhpc0ZsYWdzWzJdKTsKICAgICAgICB9CgogICAgICAgIHN0YXRpYyBhdXRvIHRyYW5zZm9ybSA9IFtdKHN0ZDo6c2l6ZV90IGkpCiAgICAgICAgewogICAgICAgICAgICByZXR1cm4gW19pID0gaV0oaW50IGlkeCwgdm9pZCogZGF0YSkgewogICAgICAgICAgICAgICAgYXV0byBteURhdGEgPSBzdGF0aWNfY2FzdDxQbG90RGF0YUJ1ZmZlcjxOUGxvdHM+Kj4oZGF0YSk7CiAgICAgICAgICAgICAgICBhdXRvIGRhdGFfY29sdW1uID0gKCpteURhdGEpW2lkeF07CiAgICAgICAgICAgICAgICByZXR1cm4gSW1QbG90UG9pbnQoZGF0YV9jb2x1bW4oMCksIGRhdGFfY29sdW1uKF9pKSk7CiAgICAgICAgICAgIH07CiAgICAgICAgfTsKCiAgICAgICAgZm9yIChzdGQ6OnNpemVfdCBpID0gMTsgaSA8IE5QbG90czsgaSsrKSB7CiAgICAgICAgICAgIHN3aXRjaCAocGxvdC5QbG90RHJhd09wdGlvbnMuUGxvdEdyb3VwaW5nc1tpXSkgewogICAgICAgICAgICBjYXNlIFBsb3RHcm91cGluZ3NFbnVtOjpUd286CiAgICAgICAgICAgICAgICBJbVBsb3Q6OlNldEF4ZXMoSW1BeGlzX1gxLCBJbUF4aXNfWTIpOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSBQbG90R3JvdXBpbmdzRW51bTo6VGhyZWU6CiAgICAgICAgICAgICAgICBJbVBsb3Q6OlNldEF4ZXMoSW1BeGlzX1gxLCBJbUF4aXNfWTMpOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgICAgIEltUGxvdDo6U2V0QXhlcyhJbUF4aXNfWDEsIEltQXhpc19ZMSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHN3aXRjaCAocGxvdC5QbG90RHJhd09wdGlvbnMuUGxvdFR5cGUpIHsKICAgICAgICAgICAgY2FzZSBQbG90VHlwZUVudW06OlNjYXR0ZXI6CiAgICAgICAgICAgICAgICBJbVBsb3Q6OlBsb3RTY2F0dGVyRyhwbG90LlBsb3REcmF3T3B0aW9ucy5QbG90TGFiZWxzW2ldLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtKGkpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJnBsb3RfZGF0YSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsb3RfZGF0YS5zaXplKCkpOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSBQbG90VHlwZUVudW06OkxpbmU6CiAgICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgICAgICBJbVBsb3Q6OlBsb3RMaW5lRyhwbG90LlBsb3REcmF3T3B0aW9ucy5QbG90TGFiZWxzW2ldLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtKGkpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJnBsb3RfZGF0YSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsb3RfZGF0YS5zaXplKCkpOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgSW1QbG90OjpFbmRQbG90KCk7CiAgICB9Cn0KCnRlbXBsYXRlPENvbnRyb2xUeXBlcyBULCBTdHJpbmdMaXRlcmFsIExhYmVsLCB0eXBlbmFtZS4uLiBUeXBlcz4KY29uc3RleHByIHN0YXRpYyBhdXRvIGdldF9jb250cm9sKGNvbnN0IHN0ZDo6dHVwbGU8VHlwZXMuLi4+JiBsaXN0KSB7CiAgICByZXR1cm4gc3RkOjpnZXQ8Q29udHJvbDxULCBMYWJlbD4+KGxpc3QpOwp9Cgp0ZW1wbGF0ZTxJbmRpY2F0b3JUeXBlcyBULCBTdHJpbmdMaXRlcmFsIExhYmVsLCB0eXBlbmFtZS4uLiBUeXBlcz4KY29uc3RleHByIHN0YXRpYyBhdXRvIGdldF9pbmRpY2F0b3IoY29uc3Qgc3RkOjp0dXBsZTxUeXBlcy4uLj4mIGxpc3QpIHsKICAgIHJldHVybiBzdGQ6OmdldDxJbmRpY2F0b3I8VCwgTGFiZWw+PihsaXN0KTsKfQoKdGVtcGxhdGU8U3RyaW5nTGl0ZXJhbCBMYWJlbCwKICAgICAgICAgc2l6ZV90IE5QbG90cyA9IDEsCiAgICAgICAgIHNpemVfdCBOWUF4aXMgPSAxLAogICAgICAgICB0eXBlbmFtZS4uLiBUeXBlcz4KY29uc3RleHByIHN0YXRpYyBhdXRvIGdldF9wbG90KGNvbnN0IHN0ZDo6dHVwbGU8VHlwZXMuLi4+JiBsaXN0KSB7CiAgICByZXR1cm4gc3RkOjpnZXQ8UGxvdEluZGljYXRvcjxMYWJlbD4+KGxpc3QpOwp9Cgp0ZW1wbGF0ZTxDb250cm9sVHlwZXMgVCwgU3RyaW5nTGl0ZXJhbCBMYWJlbCwKICAgICAgICAgdHlwZW5hbWUgT3V0VHlwZSwgdHlwZW5hbWUuLi4gQXJncz4KY29uc3RleHByIGJvb2wgZ2V0X2RyYXdfZnVuY3Rpb24oY29uc3QgQ29udHJvbDxULCBMYWJlbD4mIGNvbnRyb2wsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE91dFR5cGUmIG91dCwgQXJncyYmLi4uIGFyZ3MpIHsKICAgIGlmIGNvbnN0ZXhwciAoVCA9PSBDb250cm9sVHlwZXM6OkJ1dHRvbikgewogICAgICAgIHJldHVybiBCdXR0b248TGFiZWw+KGNvbnRyb2wsIG91dCk7CiAgICB9IGVsc2UgaWYgY29uc3RleHByKFQgPT0gQ29udHJvbFR5cGVzOjpDaGVja2JveCkgewogICAgICAgIHJldHVybiBDaGVja2JveDxMYWJlbD4oY29udHJvbCwgb3V0KTsKICAgIH0gZWxzZSBpZiBjb25zdGV4cHIoVCAgPT0gQ29udHJvbFR5cGVzOjpJbnB1dEludCkgewogICAgICAgIHJldHVybiBJbnB1dEludDxMYWJlbD4oY29udHJvbCwgb3V0KTsKICAgIH0gZWxzZSBpZiBjb25zdGV4cHIoVCAgPT0gIENvbnRyb2xUeXBlczo6SW5wdXRGbG9hdCkgewogICAgICAgIHJldHVybiBJbnB1dEZsb2F0PExhYmVsPihjb250cm9sLCBvdXQpOwogICAgfSBlbHNlIGlmIGNvbnN0ZXhwcihUICA9PSAgQ29udHJvbFR5cGVzOjpJbnB1dERvdWJsZSkgewogICAgICAgIHJldHVybiBJbnB1dERvdWJsZTxMYWJlbD4oY29udHJvbCwgb3V0KTsKICAgIH0gZWxzZSBpZiBjb25zdGV4cHIoVCAgPT0gIENvbnRyb2xUeXBlczo6Q29tYm9Cb3gpIHsKICAgICAgICByZXR1cm4gQ29tYm9Cb3g8TGFiZWw+KGNvbnRyb2wsIG91dCwgYXJncy4uLik7CiAgICB9IGVsc2UgaWYgY29uc3RleHByKFQgID09ICBDb250cm9sVHlwZXM6OklucHV0SU5UOCkgewogICAgICAgIHJldHVybiBJbnB1dElOVDg8TGFiZWw+KGNvbnRyb2wsIG91dCk7CiAgICB9IGVsc2UgaWYgY29uc3RleHByKFQgID09ICBDb250cm9sVHlwZXM6OklucHV0VUlOVDgpIHsKICAgICAgICByZXR1cm4gSW5wdXRVSU5UODxMYWJlbD4oY29udHJvbCwgb3V0KTsKICAgIH0gZWxzZSBpZiBjb25zdGV4cHIoVCAgPT0gIENvbnRyb2xUeXBlczo6SW5wdXRJTlQxNikgewogICAgICAgIHJldHVybiBJbnB1dElOVDE2PExhYmVsPihjb250cm9sLCBvdXQpOwogICAgfSBlbHNlIGlmIGNvbnN0ZXhwcihUICA9PSAgQ29udHJvbFR5cGVzOjpJbnB1dFVJTlQxNikgewogICAgICAgIHJldHVybiBJbnB1dFVJTlQxNjxMYWJlbD4oY29udHJvbCwgb3V0KTsKICAgIH0gZWxzZSBpZiBjb25zdGV4cHIoVCAgPT0gIENvbnRyb2xUeXBlczo6SW5wdXRJTlQzMikgewogICAgICAgIHJldHVybiBJbnB1dElOVDMyPExhYmVsPihjb250cm9sLCBvdXQpOwogICAgfSBlbHNlIGlmIGNvbnN0ZXhwcihUICA9PSAgQ29udHJvbFR5cGVzOjpJbnB1dFVJTlQzMikgewogICAgICAgIHJldHVybiBJbnB1dFVJTlQzMjxMYWJlbD4oY29udHJvbCwgb3V0KTsKICAgIH0gZWxzZSBpZiBjb25zdGV4cHIoVCAgPT0gIENvbnRyb2xUeXBlczo6SW5wdXRJTlQ2NCkgewogICAgICAgIHJldHVybiBJbnB1dElOVDY0PExhYmVsPihjb250cm9sLCBvdXQpOwogICAgfSBlbHNlIGlmIGNvbnN0ZXhwcihUICA9PSAgQ29udHJvbFR5cGVzOjpJbnB1dFVJTlQ2NCkgewogICAgICAgIHJldHVybiBJbnB1dFVJTlQ2NDxMYWJlbD4oY29udHJvbCwgb3V0KTsKICAgIH0gZWxzZSBpZiBjb25zdGV4cHIoVCAgPT0gIENvbnRyb2xUeXBlczo6SW5wdXRUZXh0KSB7CiAgICAgICAgcmV0dXJuIElucHV0VGV4dDxMYWJlbD4oY29udHJvbCwgb3V0KTsKICAgIH0KCiAgICB0aHJvdygiRHJhdyBmdW5jdGlvbiBub3Qgc3VwcG9ydGVkIik7Cn0KCnRlbXBsYXRlPEluZGljYXRvclR5cGVzIFQsIFN0cmluZ0xpdGVyYWwgTGFiZWwsCiAgICAgICAgIHR5cGVuYW1lIEluVHlwZSwgdHlwZW5hbWUuLi4gQXJncz4KY29uc3RleHByIHZvaWQgZ2V0X2RyYXdfZnVuY3Rpb24oY29uc3QgSW5kaWNhdG9yPFQsIExhYmVsPiYgaW5kaWNhdG9yLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBJblR5cGUmIGluLCBBcmdzJiYuLi4gYXJncykgewogICAgaWYgY29uc3RleHByIChUID09IEluZGljYXRvclR5cGVzOjpOdW1lcmljYWwpIHsKICAgICAgICBOdW1lcmljYWwoaW5kaWNhdG9yLCBpbik7CiAgICB9IGVsc2UgaWYgY29uc3RleHByIChUID09IEluZGljYXRvclR5cGVzOjpTdHJpbmcpIHsKICAgICAgICBTdHJpbmcoaW5kaWNhdG9yLCBpbik7CiAgICB9IGVsc2UgaWYgY29uc3RleHByIChUID09IEluZGljYXRvclR5cGVzOjpMRUQpIHsKICAgICAgICBzdGF0aWNfYXNzZXJ0KHNpemVvZi4uLihhcmdzKSA+IDEgJiYgbm90IHN0ZDo6aXNfc2FtZV92PEluVHlwZSwgYm9vbD4sCiAgICAgICAgICAgICJMRUQgaW5kaWNhdG9yIGRvZXMgbm90IHRha2UiCiAgICAgICAgICAgICJtb3JlIHRoYW4gMSBvcHRpb25hbCBhcmd1bWVudCBpZiBJblR5cGUgaXMgbm90IGJvb2wiKTsKCiAgICAgICAgLy8gSWYgY2FsbGVkIHdpdGggMCBleHRyYSBhcmd1bWVudHMsIHRoZSBpbiB0eXBlIHNob3VsZCBiZSBib29sCiAgICAgICAgc3RhdGljX2Fzc2VydChzaXplb2YuLi4oYXJncykgPT0gMCAmJiBzdGQ6OmlzX3NhbWVfdjxJblR5cGUsIGJvb2w+LAogICAgICAgICAgICAiTEVEIGluIHR5cGUgc2hvdWxkIGJlIGJvb2wgaWYgbm8gdHJhbnNmb3JtYXRpb24gIgogICAgICAgICAgICAiZnVuY3Rpb24gaXMgcGFzc2VkIik7CgogICAgICAgIGlmIGNvbnN0ZXhwciAoc2l6ZW9mLi4uKGFyZ3MpID09IDAgJiYgc3RkOjppc19zYW1lX3Y8SW5UeXBlLCBib29sPikgewogICAgICAgICAgICBMRUQoaW5kaWNhdG9yLCBpbik7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9IGVsc2UgaWYgY29uc3RleHByIChzaXplb2YuLi4oYXJncykgPT0gMSkgewogICAgICAgICAgICBMRUQoaW5kaWNhdG9yLCBpbiwgYXJncy4uLik7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICB9Cn0KCnRlbXBsYXRlPHR5cGVuYW1lIERyYXdJdGVtPgp2b2lkIF9fZHJhd19pbWd1aV9iZWdpbihjb25zdCBEcmF3SXRlbSYgaXRlbSkgewogICAgc3dpdGNoIChpdGVtLkRyYXdPcHRpb25zLlRleHRQb3NpdGlvbikgewogICAgY2FzZSBUZXh0UG9zaXRpb25FbnVtOjpMZWZ0OgogICAgICAgIEltR3VpOjpUZXh0KCIlcyIsIHN0ZDo6c3RyaW5nKGl0ZW0uVGV4dCkuY19zdHIoKSk7IEltR3VpOjpTYW1lTGluZSgpOwogICAgICAgIGJyZWFrOwogICAgY2FzZSBUZXh0UG9zaXRpb25FbnVtOjpUb3A6CiAgICAgICAgSW1HdWk6OlRleHQoIiVzIiwgc3RkOjpzdHJpbmcoaXRlbS5UZXh0KS5jX3N0cigpKTsKICAgICAgICBicmVhazsKICAgIGRlZmF1bHQ6CiAgICAgICAgYnJlYWs7CiAgICB9Cn0KCnRlbXBsYXRlPHR5cGVuYW1lIERyYXdJdGVtPgp2b2lkIF9fZHJhd19pbWd1aV9lbmQoY29uc3QgRHJhd0l0ZW0mIGl0ZW0pIHsKICAgIGlmIChJbUd1aTo6SXNJdGVtSG92ZXJlZCgpIGFuZCBub3QgaXRlbS5IZWxwVGV4dC5lbXB0eSgpKSB7CiAgICAgICAgSW1HdWk6OlNldFRvb2x0aXAoIiVzIiwgc3RkOjpzdHJpbmcoaXRlbS5IZWxwVGV4dCkuY19zdHIoKSk7CiAgICB9CgogICAgc3dpdGNoIChpdGVtLkRyYXdPcHRpb25zLlRleHRQb3NpdGlvbikgewogICAgY2FzZSBUZXh0UG9zaXRpb25FbnVtOjpSaWdodDoKICAgICAgICBJbUd1aTo6U2FtZUxpbmUoKTsKICAgICAgICBJbUd1aTo6VGV4dCgiJXMiLCBzdGQ6OnN0cmluZyhpdGVtLlRleHQpLmNfc3RyKCkpOwogICAgICAgIGJyZWFrOwogICAgY2FzZSBUZXh0UG9zaXRpb25FbnVtOjpCb3R0b206CiAgICAgICAgSW1HdWk6OlRleHQoIiVzIiwgc3RkOjpzdHJpbmcoaXRlbS5UZXh0KS5jX3N0cigpKTsKICAgICAgICBicmVhazsKICAgIGRlZmF1bHQ6CiAgICAgICAgYnJlYWs7CiAgICB9Cn0KCnRlbXBsYXRlPENvbnRyb2xUeXBlcyBULCBTdHJpbmdMaXRlcmFsIExhYmVsLAogICAgdHlwZW5hbWUgRGF0YVR5cGUsCiAgICB0eXBlbmFtZSBPdXRUeXBlLAogICAgdHlwZW5hbWUgQ2FsbGJhY2sgPSBzdGQ6OmZ1bmN0aW9uPHZvaWQoRGF0YVR5cGUmKT4sCiAgICB0eXBlbmFtZS4uLiBBcmdzPgpib29sIGRyYXdfY29udHJvbChjb25zdCBDb250cm9sPFQsIExhYmVsPiYgY29udHJvbCwKICAgIERhdGFUeXBlJiBkb2UsIE91dFR5cGUmIG91dCwKICAgIHN0ZDo6ZnVuY3Rpb248Ym9vbCh2b2lkKT4mJiBjb25kaXRpb24sCiAgICBDYWxsYmFjayYmIGNhbGxiYWNrLCBjb25zdCBBcmdzJi4uLiBhcmdzKSB7CiAgICBib29sIGltZ3VpX291dF9zdGF0ZSA9IGZhbHNlOwoKICAgIF9fZHJhd19pbWd1aV9iZWdpbihjb250cm9sKTsKICAgIGltZ3VpX291dF9zdGF0ZSA9IGdldF9kcmF3X2Z1bmN0aW9uPFQ+KGNvbnRyb2wsIG91dCwgYXJncy4uLik7CiAgICBfX2RyYXdfaW1ndWlfZW5kKGNvbnRyb2wpOwoKICAgIGlmIChjb25kaXRpb24oKSkgewogICAgICAgIHNwZGxvZzo6aW5mbygiSSIpOwogICAgICAgIGRvZS5DYWxsYmFjayA9IGNhbGxiYWNrOwogICAgICAgIGRvZS5DaGFuZ2VkID0gdHJ1ZTsKICAgIH0KCiAgICByZXR1cm4gaW1ndWlfb3V0X3N0YXRlOwp9Cgp0ZW1wbGF0ZTxJbmRpY2F0b3JUeXBlcyBULCBTdHJpbmdMaXRlcmFsIExhYmVsLAogICAgdHlwZW5hbWUgSW5UeXBlLAogICAgdHlwZW5hbWUuLi4gQXJncz4Kdm9pZCBkcmF3X2luZGljYXRvcihjb25zdCBJbmRpY2F0b3I8VCwgTGFiZWw+JiBpbmRpY2F0b3IsCiAgICBJblR5cGUmIGluLCBjb25zdCBBcmdzJi4uLiBhcmdzKSB7CiAgICBfX2RyYXdfaW1ndWlfYmVnaW4oaW5kaWNhdG9yKTsKICAgIGdldF9kcmF3X2Z1bmN0aW9uKGluZGljYXRvciwgaW4sIGFyZ3MuLi4pOwoKICAgIGlmIGNvbnN0ZXhwcihUID09IEluZGljYXRvclR5cGVzOjpOdW1lcmljYWwpewogICAgICAgIEltR3VpOjpTYW1lTGluZSgpOwogICAgICAgIEltR3VpOjpUZXh0KCIlcyIsIHN0ZDo6c3RyaW5nKGluZGljYXRvci5Vbml0VGV4dCkuY19zdHIoKSk7CiAgICB9CiAgICBfX2RyYXdfaW1ndWlfZW5kKGluZGljYXRvcik7Cn0KCgp9ICAvLyBuYW1lc3BhY2UgU0JDUXVlZW5zCiNlbmRpZgoAAAAAAAAAAE8mAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAaEMAAAAAAABoQwAAAAAAAAAAAAAAAPC/"
				],
				[
					542,
					1,
					"insert",
					{
						"characters": "ImGui::"
					},
					"BwAAAE8mAAAAAAAAUCYAAAAAAAAAAAAAUCYAAAAAAABRJgAAAAAAAAAAAABRJgAAAAAAAFImAAAAAAAAAAAAAFImAAAAAAAAUyYAAAAAAAAAAAAAUyYAAAAAAABUJgAAAAAAAAAAAABUJgAAAAAAAFUmAAAAAAAAAAAAAFUmAAAAAAAAViYAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAATyYAAAAAAABPJgAAAAAAAAAAAAAAAPC/"
				],
				[
					543,
					1,
					"insert",
					{
						"characters": "INputHe"
					},
					"BwAAAFYmAAAAAAAAVyYAAAAAAAAAAAAAVyYAAAAAAABYJgAAAAAAAAAAAABYJgAAAAAAAFkmAAAAAAAAAAAAAFkmAAAAAAAAWiYAAAAAAAAAAAAAWiYAAAAAAABbJgAAAAAAAAAAAABbJgAAAAAAAFwmAAAAAAAAAAAAAFwmAAAAAAAAXSYAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAViYAAAAAAABWJgAAAAAAAAAAAAAAAPC/"
				],
				[
					549,
					2,
					"left_delete",
					null,
					"AgAAAE8mAAAAAAAATyYAAAAAAAAOAAAASW1HdWk6OklOcHV0SGVOJgAAAAAAAE4mAAAAAAAAAQAAAAo",
					"AQAAAAAAAAABAAAAXSYAAAAAAABPJgAAAAAAAAAAAAAAAPC/"
				],
				[
					551,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAABOJgAAI2lmbmRlZiBJTUdVSUhFTFBFUlNfSAojZGVmaW5lIElNR1VJSEVMUEVSU19ICiNwcmFnbWEgb25jZQoKLy8gQyBTVEQgaW5jbHVkZXMKLy8gQyAzcmQgcGFydHkgaW5jbHVkZXMKI2luY2x1ZGUgPGltZ3VpLmg+CiNpbmNsdWRlIDxpbXBsb3QuaD4KCi8vIEMrKyBTVEQgaW5jbHVkZXMKI2luY2x1ZGUgPG1lbW9yeT4KI2luY2x1ZGUgPG9wdGlvbmFsPgojaW5jbHVkZSA8c3RyaW5nPgojaW5jbHVkZSA8dHlwZV90cmFpdHM+CiNpbmNsdWRlIDx1bm9yZGVyZWRfbWFwPgojaW5jbHVkZSA8dXRpbGl0eT4KI2luY2x1ZGUgPHZlY3Rvcj4KI2luY2x1ZGUgPGZ1bmN0aW9uYWw+CiNpbmNsdWRlIDxhbnk+CgovLyBDKysgM3JkIHBhcnR5IGluY2x1ZGVzCiNpbmNsdWRlIDxtaXNjL2NwcC9pbWd1aV9zdGRsaWIuaD4gLy8gZm9yIHVzZSB3aXRoIHN0ZDo6c3RyaW5nCiNpbmNsdWRlIDxyZWFkZXJ3cml0ZXJxdWV1ZS5oPgojaW5jbHVkZSA8c3BkbG9nL3NwZGxvZy5oPgojaW5jbHVkZSA8dG9tbC5ocHA+CgpuYW1lc3BhY2UgU0JDUXVlZW5zIHsKCi8vIFRoaXMgaXMgdGhlIGludGVyZmFjZSBjbGFzcyBvZiBhbGwgdGhlIGNvbnRyb2xzCnRlbXBsYXRlPHR5cGVuYW1lIFF1ZXVlRnVuYz4KY2xhc3MgQ29udHJvbCB7CiBwdWJsaWM6CiAgICB2aXJ0dWFsIH5Db250cm9sKCkge30KCiAgICAvLyBObyBtb3ZpbmcKICAgIENvbnRyb2woQ29udHJvbCYmKSA9IGRlbGV0ZTsKCiAgICAvLyBObyBjb3B5aW5nCiAgICBDb250cm9sKGNvbnN0IENvbnRyb2wmJikgPSBkZWxldGU7CgogICAgLy8gWWVzIHJlZmVyZW5jaW5nCiAgICBDb250cm9sKENvbnRyb2wmKSA9IGRlZmF1bHQ7CiAgICBDb250cm9sJiBvcGVyYXRvcj0oQ29udHJvbCYpID0gZGVmYXVsdDsKCiBwcm90ZWN0ZWQ6CiAgICBDb250cm9sKCkge30KCiAgICAvLyBEZWZhdWx0IGNvbnN0cnVjdG9yCiAgICAvLyBsYWJlbCBpcyAuLi4gdGhlIGxhYmVsIG9mIHRoZSBjb250cm9sCiAgICAvLyB0ZXh0IGlzIG5hbWUgb3IgdGV4dCB0byBzaG93IGluIEltR1VJCiAgICAvLyBxIGlzIHRoZSBRdWV1ZSBzZW5kIGZ1bmN0aW9uCiAgICBDb250cm9sKGNvbnN0IHN0ZDo6c3RyaW5nJiBsYWJlbCwgY29uc3Qgc3RkOjpzdHJpbmcmIHRleHQsIFF1ZXVlRnVuYyYmIHEpCiAgICAgICAgOiBfbGFiZWwobGFiZWwpLCBfaW1ndWlfdGV4dCh0ZXh0KSwgX3EocSkge30KCgogICAgLy8gdG9tbCBpbmkgZmlsZSBjb25zdHJ1Y3RvcgogICAgLy8gQWxsb3dzIGZvciBpdHMgaW5pdGlhbCB2YWx1ZSB0byBiZSBkZWZpbmVkIHVzaW5nIHRoZSB0b21sIGZpbGUKICAgIC8vIG5vdCB0byBiZSB1c2VkIHRvIGRlZmluZSB0aGUgR1VJCiAgICAvLyBsYWJlbCBpcyAuLi4gdGhlIGxhYmVsIG9mIHRoZSBjb250cm9sCiAgICAvLyB0ZXh0IGlzIG5hbWUgb3IgdGV4dCB0byBzaG93IGluIEltR1VJCiAgICAvLyBxIGlzIHRoZSBRdWV1ZSBzZW5kIGZ1bmN0aW9uCiAgICBDb250cm9sKAogICAgICAgIGNvbnN0IHN0ZDo6c3RyaW5nJiBsYWJlbCwgY29uc3Qgc3RkOjpzdHJpbmcmIHRleHQsIFF1ZXVlRnVuYyYmIHEsCiAgICAgICAgdG9tbDo6bm9kZV92aWV3PHRvbWw6Om5vZGU+IHRvbWxfbm9kZSkKICAgICAgICA6IF9sYWJlbChsYWJlbCksIF9pbWd1aV90ZXh0KHRleHQpLCBfcShxKSB7fQoKICAgIHN0ZDo6c3RyaW5nIF9sYWJlbDsKICAgIHN0ZDo6c3RyaW5nIF9pbWd1aV90ZXh0OwoKICAgIFF1ZXVlRnVuYyBfcTsKfTsKCi8vIFF1ZXVlIGlzIHRoZSBjb25jdXJyZW50IHF1ZXVlIHVzZWQgdG8gY29tbXVuaWNhdGUgYmV0d2VlbiBtdWx0aS10aHJlYWRlZAovLyBwcm9ncmFtcywgYW5kIFF1ZXVlVHlwZSBpcyB0aGUgZnVuY3Rpb24gdHlwZSB0aGF0IHNlbmRzIGluZm9ybWF0aW9uIGFyb3VuZAp0ZW1wbGF0ZTx0eXBlbmFtZSBRdWV1ZT4KY2xhc3MgQ29udHJvbExpbmsgewogcHJpdmF0ZToKICAgIFF1ZXVlJiBfcTsKCiBwdWJsaWM6CiAgICB1c2luZyBRdWV1ZVR5cGUgPSB0eXBlbmFtZSBRdWV1ZTo6dmFsdWVfdHlwZTsKICAgIHVzaW5nIFF1ZXVlRnVuYyA9IHN0ZDo6ZnVuY3Rpb248Ym9vbChRdWV1ZVR5cGUmJik+OwoKICAgIC8vIGYgLT4gcmVmZXJlbmNlIHRvIHRoZSBjb25jdXJyZW50IHF1ZXVlCiAgICAvLyBub2RlIC0+IHRvbWwgbm9kZSBhc3NvY2lhdGVkIHdpdGggdGhpcyBmYWN0b3J5CiAgICBleHBsaWNpdCBDb250cm9sTGluayhRdWV1ZSYgcSkKICAgICAgICA6IF9xKHEpIHsgfQoKICAgIC8vIE5vIG1vdmluZyBub3IgY29weWluZwogICAgQ29udHJvbExpbmsoQ29udHJvbExpbmsmJikgPSBkZWxldGU7CiAgICBDb250cm9sTGluayhjb25zdCBDb250cm9sTGluayYpID0gZGVsZXRlOwoKICAgIC8vIFdoZW4gZXZlbnQgaXMgdHJ1ZSwgY2FsbGJhY2sgaXMgYWRkZWQgdG8gdGhlIHF1ZXVlCiAgICAvLyBJZiB0aGUgQ2FsbGJhY2sgY2Fubm90IGJlIGFkZGVkIHRvIHRoZSBxdWV1ZSwgdGhlbiBpdCBjYWxscyBjYWxsYmFjawogICAgdGVtcGxhdGU8dHlwZW5hbWUgQ29uZGl0aW9uLCB0eXBlbmFtZSBDYWxsYmFjaz4KICAgIGJvb2wgSW5wdXRUZXh0KGNvbnN0IHN0ZDo6c3RyaW5nJiBsYWJlbCwgc3RkOjpzdHJpbmcmIHZhbHVlLAogICAgICAgIENvbmRpdGlvbiYmIGNvbmRpdGlvbiwgQ2FsbGJhY2smJiBjYWxsYmFjaykgewogICAgICAgIC8vIEZpcnN0IGNhbGwgdGhlIEltR1VJIEFQSQogICAgICAgIGJvb2wgdSA9IEltR3VpOjpJbnB1dFRleHQobGFiZWwuY19zdHIoKSwgJnZhbHVlKTsKICAgICAgICAvLyBUaGUgaWYgbXVzdCBjb21lIGFmdGVyIHRoZSBJbUdVSSBBUEkgY2FsbCBpZiBub3QsIGl0IHdpbGwgbm90IHdvcmsKICAgICAgICBpZiAoY29uZGl0aW9uKCkpIHsKICAgICAgICAgICAgLy8gQ2hlY2tzIGlmIFF1ZXVlRnVuYyBpcyBjYWxsYWJsZSB3aXRoIGlucHV0IENhbGxiYWNrCiAgICAgICAgICAgIGlmIGNvbnN0ZXhwciAoIHN0ZDo6aXNfaW52b2NhYmxlX3Y8UXVldWVGdW5jLCBDYWxsYmFjaz4gKSB7CiAgICAgICAgICAgICAgICBfcS50cnlfZW5xdWV1ZShzdGQ6OmZvcndhcmQ8Q2FsbGJhY2s+KGNhbGxiYWNrKSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBjYWxsYmFjaygpOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAvLyBSZXR1cm4gdGhlIEltR1VJIGJvb2wKICAgICAgICByZXR1cm4gdTsKICAgIH0KCiAgICB0ZW1wbGF0ZTx0eXBlbmFtZSBDYWxsYmFjaz4KICAgIGJvb2wgQnV0dG9uKGNvbnN0IHN0ZDo6c3RyaW5nJiBsYWJlbCwgQ2FsbGJhY2smJiBjYWxsYmFjaykgewogICAgICAgIGJvb2wgc3RhdGUgPSBJbUd1aTo6QnV0dG9uKGxhYmVsLmNfc3RyKCkpOwoKICAgICAgICAvLyBUaGUgaWYgbXVzdCBjb21lIGFmdGVyIHRoZSBJbUdVSSBBUEkgY2FsbCBpZiBub3QsCiAgICAgICAgLy8gaXQgd2lsbCBub3Qgd29yawogICAgICAgIGlmIChzdGF0ZSkgewogICAgICAgICAgICAvLyBDaGVja3MgaWYgUXVldWVGdW5jIGlzIGNhbGxhYmxlIHdpdGggaW5wdXQgQ2FsbGJhY2sKICAgICAgICAgICAgaWYgY29uc3RleHByICggc3RkOjppc19pbnZvY2FibGVfdjxRdWV1ZUZ1bmMsIENhbGxiYWNrPiApIHsKICAgICAgICAgICAgICAgIF9xLnRyeV9lbnF1ZXVlKHN0ZDo6Zm9yd2FyZDxDYWxsYmFjaz4oY2FsbGJhY2spKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHJldHVybiBzdGF0ZTsKICAgIH0KCiAgICB0ZW1wbGF0ZTx0eXBlbmFtZSBDb25kaXRpb24sIHR5cGVuYW1lIENhbGxiYWNrPgogICAgYm9vbCBDaGVja2JveChjb25zdCBzdGQ6OnN0cmluZyYgbGFiZWwsIGJvb2wmIHZhbHVlLAogICAgICAgIENvbmRpdGlvbiYmIGNvbmRpdGlvbiwgQ2FsbGJhY2smJiBjYWxsYmFjaykgewogICAgICAgIGJvb2wgdSA9IEltR3VpOjpDaGVja2JveChsYWJlbC5jX3N0cigpLCAmdmFsdWUpOwoKICAgICAgICAvLyBUaGUgaWYgbXVzdCBjb21lIGFmdGVyIHRoZSBJbUdVSSBBUEkgY2FsbCBpZiBub3QsCiAgICAgICAgLy8gaXQgd2lsbCBub3Qgd29yawogICAgICAgIGlmIChjb25kaXRpb24oKSkgewogICAgICAgICAgICAvLyBDaGVja3MgaWYgUXVldWVGdW5jIGlzIGNhbGxhYmxlIHdpdGggaW5wdXQgQ2FsbGJhY2sKICAgICAgICAgICAgaWYgY29uc3RleHByICggc3RkOjppc19pbnZvY2FibGVfdjxRdWV1ZUZ1bmMsIENhbGxiYWNrPiApIHsKICAgICAgICAgICAgICAgIF9xLnRyeV9lbnF1ZXVlKHN0ZDo6Zm9yd2FyZDxDYWxsYmFjaz4oY2FsbGJhY2spKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHJldHVybiB1OwogICAgfQoKICAgIHRlbXBsYXRlPHR5cGVuYW1lIENvbmRpdGlvbiwgdHlwZW5hbWUgQ2FsbGJhY2s+CiAgICBib29sIElucHV0RmxvYXQoY29uc3Qgc3RkOjpzdHJpbmcmIGxhYmVsLCBmbG9hdCYgdmFsdWUsCiAgICAgICAgY29uc3QgZmxvYXQmIHN0ZXAsIGNvbnN0IGZsb2F0JiBzdGVwX2Zhc3QsCiAgICAgICAgY29uc3Qgc3RkOjpzdHJpbmcmIGZvcm1hdCwKICAgICAgICBDb25kaXRpb24mJiBjb25kaXRpb24sIENhbGxiYWNrJiYgY2FsbGJhY2spIHsKICAgICAgICBib29sIHUgPSBJbUd1aTo6SW5wdXRGbG9hdChsYWJlbC5jX3N0cigpLAogICAgICAgICAgICAmdmFsdWUsIHN0ZXAsIHN0ZXBfZmFzdCwgZm9ybWF0LmNfc3RyKCkpOwoKICAgICAgICAvLyBUaGUgaWYgbXVzdCBjb21lIGFmdGVyIHRoZSBJbUdVSSBBUEkgY2FsbCBpZiBub3QsIGl0IHdpbGwgbm90IHdvcmsKICAgICAgICBpZiAoY29uZGl0aW9uKCkpIHsKICAgICAgICAgICAgaWYgY29uc3RleHByICggc3RkOjppc19pbnZvY2FibGVfdjxRdWV1ZUZ1bmMsIENhbGxiYWNrPiApIHsKICAgICAgICAgICAgICAgIF9xLnRyeV9lbnF1ZXVlKHN0ZDo6Zm9yd2FyZDxDYWxsYmFjaz4oY2FsbGJhY2spKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHJldHVybiB1OwogICAgfQoKICAgIHRlbXBsYXRlPHR5cGVuYW1lIFQsIHR5cGVuYW1lIENvbmRpdGlvbiwgdHlwZW5hbWUgQ2FsbGJhY2s+CiAgICBib29sIElucHV0U2NhbGFyKGNvbnN0IHN0ZDo6c3RyaW5nJiBsYWJlbCwgVCYgdmFsdWUsCiAgICAgICAgQ29uZGl0aW9uJiYgY29uZGl0aW9uLCBDYWxsYmFjayYmIGNhbGxiYWNrKSB7CiAgICAgICAgSW1HdWlEYXRhVHlwZV8gdHlwZSA9IEltR3VpRGF0YVR5cGVfUzg7CiAgICAgICAgaWYgY29uc3RleHByICggc3RkOjppc19zYW1lX3Y8VCwgaW50OF90PikgewogICAgICAgICAgICB0eXBlID0gSW1HdWlEYXRhVHlwZV9TODsKICAgICAgICB9IGVsc2UgaWYgY29uc3RleHByICggc3RkOjppc19zYW1lX3Y8VCwgdWludDhfdD4pIHsKICAgICAgICAgICAgdHlwZSA9IEltR3VpRGF0YVR5cGVfVTg7CiAgICAgICAgfSBlbHNlIGlmIGNvbnN0ZXhwciAoIHN0ZDo6aXNfc2FtZV92PFQsIGludDE2X3Q+KSB7CiAgICAgICAgICAgIHR5cGUgPSBJbUd1aURhdGFUeXBlX1MxNjsKICAgICAgICB9IGVsc2UgaWYgY29uc3RleHByICggc3RkOjppc19zYW1lX3Y8VCwgdWludDE2X3Q+KSB7CiAgICAgICAgICAgIHR5cGUgPSBJbUd1aURhdGFUeXBlX1UxNjsKICAgICAgICB9IGVsc2UgaWYgY29uc3RleHByICggc3RkOjppc19zYW1lX3Y8VCwgaW50MzJfdD4pIHsKICAgICAgICAgICAgdHlwZSA9IEltR3VpRGF0YVR5cGVfUzMyOwogICAgICAgIH0gZWxzZSBpZiBjb25zdGV4cHIgKCBzdGQ6OmlzX3NhbWVfdjxULCB1aW50MzJfdD4pIHsKICAgICAgICAgICAgdHlwZSA9IEltR3VpRGF0YVR5cGVfVTMyOwogICAgICAgIH0gZWxzZSBpZiBjb25zdGV4cHIgKCBzdGQ6OmlzX3NhbWVfdjxULCBpbnQ2NF90PikgewogICAgICAgICAgICB0eXBlID0gSW1HdWlEYXRhVHlwZV9TNjQ7CiAgICAgICAgfSBlbHNlIGlmIGNvbnN0ZXhwciAoIHN0ZDo6aXNfc2FtZV92PFQsIHVpbnQ2NF90PikgewogICAgICAgICAgICB0eXBlID0gSW1HdWlEYXRhVHlwZV9VNjQ7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgYXNzZXJ0KGZhbHNlKTsKICAgICAgICB9CgogICAgICAgIGJvb2wgdSA9IEltR3VpOjpJbnB1dFNjYWxhcihsYWJlbC5jX3N0cigpLCB0eXBlLCAmdmFsdWUpOwoKICAgICAgICAvLyBUaGUgaWYgbXVzdCBjb21lIGFmdGVyIHRoZSBJbUdVSSBBUEkgY2FsbCBpZiBub3QsIGl0IHdpbGwgbm90IHdvcmsKICAgICAgICBpZiAoY29uZGl0aW9uKCkpIHsKICAgICAgICAgICAgaWYgY29uc3RleHByICggc3RkOjppc19pbnZvY2FibGVfdjxRdWV1ZUZ1bmMsIENhbGxiYWNrPiApIHsKICAgICAgICAgICAgICAgIF9xLnRyeV9lbnF1ZXVlKHN0ZDo6Zm9yd2FyZDxDYWxsYmFjaz4oY2FsbGJhY2spKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHJldHVybiB1OwogICAgfQoKICAgIHRlbXBsYXRlPHR5cGVuYW1lIFQsIHR5cGVuYW1lIENvbmRpdGlvbiwgdHlwZW5hbWUgQ2FsbGJhY2s+CiAgICBib29sIENvbWJvQm94KGNvbnN0IHN0ZDo6c3RyaW5nJiBsYWJlbCwKICAgICAgICBUJiBzdGF0ZSwKICAgICAgICBjb25zdCBzdGQ6OnVub3JkZXJlZF9tYXA8VCwgc3RkOjpzdHJpbmc+JiBtYXAsCiAgICAgICAgQ29uZGl0aW9uJiYgY29uZGl0aW9uLCBDYWxsYmFjayYmIGNhbGxiYWNrKSB7CiAgICAgICAgc3RhdGljIHNpemVfdCBpbmRleCA9IDA7CiAgICAgICAgc2l6ZV90IGkgPSAwOwoKICAgICAgICBzdGQ6OnZlY3RvcjxUPiBzdGF0ZXM7CiAgICAgICAgc3RkOjp2ZWN0b3I8c3RkOjpzdHJpbmc+IHNfc3RhdGVzOwoKICAgICAgICBmb3IgKGF1dG8gcGFpciA6IG1hcCkgewogICAgICAgICAgICBzdGF0ZXMucHVzaF9iYWNrKHBhaXIuZmlyc3QpOwogICAgICAgICAgICBzX3N0YXRlcy5wdXNoX2JhY2socGFpci5zZWNvbmQpOwoKICAgICAgICAgICAgLy8gVGhpcyBpcyB0byBtYWtlIHN1cmUgdGhlIGN1cnJlbnQgc2VsZWN0ZWQgaXRlbSBpcyB0aGUgb25lCiAgICAgICAgICAgIC8vIHRoYXQgaXMgYWxyZWFkeSBzYXZlZCBpbiBzdGF0ZQogICAgICAgICAgICBpZiAoc3RhdGUgPT0gcGFpci5maXJzdCkgewogICAgICAgICAgICAgICAgaW5kZXggPSBpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpKys7CiAgICAgICAgfQoKICAgICAgICAvLyBib29sIHUgPSBJbUd1aTo6Q29tYm8obGFiZWwuY19zdHIoKSwgJmluZGV4LCBsaXN0LmNfc3RyKCkpOwogICAgICAgIGlmIChJbUd1aTo6QmVnaW5Db21ibyhsYWJlbC5jX3N0cigpLCBzX3N0YXRlc1tpbmRleF0uY19zdHIoKSkpIHsKICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IHNfc3RhdGVzLnNpemUoKTsgaSsrKSB7CiAgICAgICAgICAgICAgICBjb25zdCBib29sIGlzX3NlbGVjdGVkID0gKGluZGV4ID09IGkpOwogICAgICAgICAgICAgICAgaWYgKEltR3VpOjpTZWxlY3RhYmxlKHNfc3RhdGVzW2ldLmNfc3RyKCksIGlzX3NlbGVjdGVkKSkgewogICAgICAgICAgICAgICAgICAgIGluZGV4ID0gaTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIC8vIFNldCB0aGUgaW5pdGlhbCBmb2N1cyB3aGVuIG9wZW5pbmcgdGhlIGNvbWJvCiAgICAgICAgICAgICAgICAvLyAoc2Nyb2xsaW5nICsga2V5Ym9hcmQgbmF2aWdhdGlvbiBmb2N1cykKICAgICAgICAgICAgICAgIGlmIChpc19zZWxlY3RlZCkgewogICAgICAgICAgICAgICAgICAgIEltR3VpOjpTZXRJdGVtRGVmYXVsdEZvY3VzKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIEltR3VpOjpFbmRDb21ibygpOwogICAgICAgIH0KCiAgICAgICAgc3RhdGUgPSBzdGF0ZXNbaW5kZXhdOwoKICAgICAgICBpZiAoY29uZGl0aW9uKCkpIHsKICAgICAgICAgICAgaWYgY29uc3RleHByICggc3RkOjppc19pbnZvY2FibGVfdjxRdWV1ZUZ1bmMsIENhbGxiYWNrPiApIHsKICAgICAgICAgICAgICAgIF9xLnRyeV9lbnF1ZXVlKHN0ZDo6Zm9yd2FyZDxDYWxsYmFjaz4oY2FsbGJhY2spKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIHRlbXBsYXRlPHR5cGVuYW1lIFQsIHR5cGVuYW1lIENvbmRpdGlvbiwgdHlwZW5hbWUgQ2FsbGJhY2s+CiAgICBib29sIENvbWJvQm94KGNvbnN0IHN0ZDo6c3RyaW5nJiBsYWJlbCwKICAgICAgICBUJiBzdGF0ZSwKICAgICAgICBjb25zdCBzdGQ6OnVub3JkZXJlZF9tYXA8c3RkOjpzdHJpbmcsIFQ+JiBtYXAsCiAgICAgICAgQ29uZGl0aW9uJiYgY29uZGl0aW9uLCBDYWxsYmFjayYmIGNhbGxiYWNrKSB7CiAgICAgICAgc3RhdGljIHNpemVfdCBpbmRleCA9IDA7CiAgICAgICAgc2l6ZV90IGkgPSAwOwoKICAgICAgICBzdGQ6OnZlY3RvcjxUPiBzdGF0ZXM7CiAgICAgICAgc3RkOjp2ZWN0b3I8c3RkOjpzdHJpbmc+IHNfc3RhdGVzOwogICAgICAgIGZvciAoYXV0byBwYWlyIDogbWFwKSB7CiAgICAgICAgICAgIHN0YXRlcy5wdXNoX2JhY2socGFpci5zZWNvbmQpOwogICAgICAgICAgICBzX3N0YXRlcy5wdXNoX2JhY2socGFpci5maXJzdCk7CgogICAgICAgICAgICBpZiAoc3RhdGUgPT0gcGFpci5zZWNvbmQpIHsKICAgICAgICAgICAgICAgIGluZGV4ID0gaTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaSsrOwogICAgICAgIH0KCiAgICAgICAgLy8gYm9vbCB1ID0gSW1HdWk6OkNvbWJvKGxhYmVsLmNfc3RyKCksICZpbmRleCwgbGlzdC5jX3N0cigpKTsKICAgICAgICBpZiAoSW1HdWk6OkJlZ2luQ29tYm8obGFiZWwuY19zdHIoKSwgc19zdGF0ZXNbaW5kZXhdLmNfc3RyKCkpKSB7CiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBzX3N0YXRlcy5zaXplKCk7IGkrKykgewogICAgICAgICAgICAgICAgY29uc3QgYm9vbCBpc19zZWxlY3RlZCA9IChpbmRleCA9PSBpKTsKICAgICAgICAgICAgICAgIGlmIChJbUd1aTo6U2VsZWN0YWJsZShzX3N0YXRlc1tpXS5jX3N0cigpLCBpc19zZWxlY3RlZCkpIHsKICAgICAgICAgICAgICAgICAgICBpbmRleCA9IGk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAvLyBTZXQgdGhlIGluaXRpYWwgZm9jdXMgd2hlbiBvcGVuaW5nIHRoZSBjb21ibwogICAgICAgICAgICAgICAgLy8gKHNjcm9sbGluZyArIGtleWJvYXJkIG5hdmlnYXRpb24gZm9jdXMpCiAgICAgICAgICAgICAgICBpZiAoaXNfc2VsZWN0ZWQpIHsKICAgICAgICAgICAgICAgICAgICBJbUd1aTo6U2V0SXRlbURlZmF1bHRGb2N1cygpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICBJbUd1aTo6RW5kQ29tYm8oKTsKICAgICAgICB9CgogICAgICAgIHN0YXRlID0gc3RhdGVzW2luZGV4XTsKCiAgICAgICAgaWYgKGNvbmRpdGlvbigpKSB7CiAgICAgICAgICAgIGlmIGNvbnN0ZXhwciAoIHN0ZDo6aXNfaW52b2NhYmxlX3Y8UXVldWVGdW5jLCBDYWxsYmFjaz4gKSB7CiAgICAgICAgICAgICAgICBfcS50cnlfZW5xdWV1ZShzdGQ6OmZvcndhcmQ8Q2FsbGJhY2s+KGNhbGxiYWNrKSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBjYWxsYmFjaygpOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KfTsKfSAgLy8gbmFtZXNwYWNlIFNCQ1F1ZWVucwojZW5kaWYAAAAAAAAAALlmAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAATiYAAAAAAABOJgAAAAAAAAAAAAAAAPC/"
				]
			]
		},
		{
			"file": "include/sbcqueens-gui/implot_helpers.hpp",
			"settings":
			{
				"buffer_size": 20842,
				"line_ending": "Unix"
			},
			"undo_stack":
			[
				[
					712,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAABsfAAAAAAAAHB8AAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAbHwAAAAAAABsfAAAAAAAAAAAAAAAA8L8"
				],
				[
					713,
					1,
					"left_delete",
					null,
					"AQAAABsfAAAAAAAAGx8AAAAAAAABAAAAIA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAcHwAAAAAAABwfAAAAAAAAAAAAAAAA8L8"
				],
				[
					714,
					1,
					"insert_snippet",
					{
						"contents": "{$0}"
					},
					"AQAAABsfAAAAAAAAHR8AAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAbHwAAAAAAABsfAAAAAAAAAAAAAAAA8L8"
				],
				[
					715,
					1,
					"run_macro_file",
					{
						"file": "res://Packages/Default/Add Line in Braces.sublime-macro"
					},
					"BgAAABwfAAAAAAAAHR8AAAAAAAAAAAAAHR8AAAAAAAAhHwAAAAAAAAAAAAAhHwAAAAAAACIfAAAAAAAAAAAAACIfAAAAAAAAJh8AAAAAAAAAAAAAHR8AAAAAAAAdHwAAAAAAAAQAAAAgICAgHR8AAAAAAAAiHwAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAcHwAAAAAAABwfAAAAAAAAAAAAAAAA8L8"
				],
				[
					723,
					1,
					"insert",
					{
						"characters": "return"
					},
					"BgAAACIfAAAAAAAAIx8AAAAAAAAAAAAAIx8AAAAAAAAkHwAAAAAAAAAAAAAkHwAAAAAAACUfAAAAAAAAAAAAACUfAAAAAAAAJh8AAAAAAAAAAAAAJh8AAAAAAAAnHwAAAAAAAAAAAAAnHwAAAAAAACgfAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAiHwAAAAAAACIfAAAAAAAAAAAAAAAA8L8"
				],
				[
					724,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAACgfAAAAAAAAKR8AAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAoHwAAAAAAACgfAAAAAAAAAAAAAAAA8L8"
				],
				[
					725,
					1,
					"paste",
					null,
					"AQAAACkfAAAAAAAALh8AAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAApHwAAAAAAACkfAAAAAAAAAAAAAAAA8L8"
				],
				[
					726,
					1,
					"insert",
					{
						"characters": ";"
					},
					"AQAAAC4fAAAAAAAALx8AAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAuHwAAAAAAAC4fAAAAAAAAAAAAAAAA8L8"
				],
				[
					745,
					1,
					"insert",
					{
						"characters": "\nstatic_asse"
					},
					"DQAAAFkaAAAAAAAAWhoAAAAAAAAAAAAAWhoAAAAAAABbGgAAAAAAAAAAAABbGgAAAAAAAFwaAAAAAAAAAAAAAFwaAAAAAAAAXRoAAAAAAAAAAAAAXRoAAAAAAABeGgAAAAAAAAAAAABeGgAAAAAAAF8aAAAAAAAAAAAAAF8aAAAAAAAAYBoAAAAAAAAAAAAAYBoAAAAAAABhGgAAAAAAAAAAAABhGgAAAAAAAGIaAAAAAAAAAAAAAGIaAAAAAAAAYxoAAAAAAAAAAAAAYxoAAAAAAABkGgAAAAAAAAAAAABkGgAAAAAAAGUaAAAAAAAAAAAAAGUaAAAAAAAAZhoAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABZGgAAAAAAAFkaAAAAAAAAAAAAAAAA8L8"
				],
				[
					746,
					1,
					"insert",
					{
						"characters": "rt"
					},
					"AgAAAGYaAAAAAAAAZxoAAAAAAAAAAAAAZxoAAAAAAABoGgAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABmGgAAAAAAAGYaAAAAAAAAAAAAAAAA8L8"
				],
				[
					747,
					1,
					"insert_snippet",
					{
						"contents": "($0)"
					},
					"AQAAAGgaAAAAAAAAahoAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABoGgAAAAAAAGgaAAAAAAAAAAAAAAAA8L8"
				],
				[
					758,
					1,
					"paste",
					null,
					"AQAAAGkaAAAAAAAAcRoAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABpGgAAAAAAAGkaAAAAAAAAAAAAAAAA8L8"
				],
				[
					759,
					1,
					"insert",
					{
						"characters": " >"
					},
					"AgAAAHEaAAAAAAAAchoAAAAAAAAAAAAAchoAAAAAAABzGgAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABxGgAAAAAAAHEaAAAAAAAAAAAAAAAA8L8"
				],
				[
					760,
					1,
					"insert",
					{
						"characters": " 0,"
					},
					"AwAAAHMaAAAAAAAAdBoAAAAAAAAAAAAAdBoAAAAAAAB1GgAAAAAAAAAAAAB1GgAAAAAAAHYaAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABzGgAAAAAAAHMaAAAAAAAAAAAAAAAA8L8"
				],
				[
					761,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAHYaAAAAAAAAdxoAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAB2GgAAAAAAAHYaAAAAAAAAAAAAAAAA8L8"
				],
				[
					762,
					1,
					"insert_snippet",
					{
						"contents": "\"$0\""
					},
					"AQAAAHcaAAAAAAAAeRoAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAB3GgAAAAAAAHcaAAAAAAAAAAAAAAAA8L8"
				],
				[
					763,
					1,
					"insert",
					{
						"characters": "There"
					},
					"BQAAAHgaAAAAAAAAeRoAAAAAAAAAAAAAeRoAAAAAAAB6GgAAAAAAAAAAAAB6GgAAAAAAAHsaAAAAAAAAAAAAAHsaAAAAAAAAfBoAAAAAAAAAAAAAfBoAAAAAAAB9GgAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAB4GgAAAAAAAHgaAAAAAAAAAAAAAAAA8L8"
				],
				[
					764,
					1,
					"insert",
					{
						"characters": " must"
					},
					"BQAAAH0aAAAAAAAAfhoAAAAAAAAAAAAAfhoAAAAAAAB/GgAAAAAAAAAAAAB/GgAAAAAAAIAaAAAAAAAAAAAAAIAaAAAAAAAAgRoAAAAAAAAAAAAAgRoAAAAAAACCGgAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAB9GgAAAAAAAH0aAAAAAAAAAAAAAAAA8L8"
				],
				[
					765,
					1,
					"insert",
					{
						"characters": " be"
					},
					"AwAAAIIaAAAAAAAAgxoAAAAAAAAAAAAAgxoAAAAAAACEGgAAAAAAAAAAAACEGgAAAAAAAIUaAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACCGgAAAAAAAIIaAAAAAAAAAAAAAAAA8L8"
				],
				[
					766,
					1,
					"insert",
					{
						"characters": " a"
					},
					"AgAAAIUaAAAAAAAAhhoAAAAAAAAAAAAAhhoAAAAAAACHGgAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACFGgAAAAAAAIUaAAAAAAAAAAAAAAAA8L8"
				],
				[
					767,
					1,
					"insert",
					{
						"characters": " least"
					},
					"BgAAAIcaAAAAAAAAiBoAAAAAAAAAAAAAiBoAAAAAAACJGgAAAAAAAAAAAACJGgAAAAAAAIoaAAAAAAAAAAAAAIoaAAAAAAAAixoAAAAAAAAAAAAAixoAAAAAAACMGgAAAAAAAAAAAACMGgAAAAAAAI0aAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACHGgAAAAAAAIcaAAAAAAAAAAAAAAAA8L8"
				],
				[
					768,
					1,
					"insert",
					{
						"characters": " one"
					},
					"BAAAAI0aAAAAAAAAjhoAAAAAAAAAAAAAjhoAAAAAAACPGgAAAAAAAAAAAACPGgAAAAAAAJAaAAAAAAAAAAAAAJAaAAAAAAAAkRoAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACNGgAAAAAAAI0aAAAAAAAAAAAAAAAA8L8"
				],
				[
					769,
					1,
					"insert",
					{
						"characters": " plot!"
					},
					"BgAAAJEaAAAAAAAAkhoAAAAAAAAAAAAAkhoAAAAAAACTGgAAAAAAAAAAAACTGgAAAAAAAJQaAAAAAAAAAAAAAJQaAAAAAAAAlRoAAAAAAAAAAAAAlRoAAAAAAACWGgAAAAAAAAAAAACWGgAAAAAAAJcaAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACRGgAAAAAAAJEaAAAAAAAAAAAAAAAA8L8"
				],
				[
					771,
					1,
					"insert",
					{
						"characters": ";"
					},
					"AQAAAJkaAAAAAAAAmhoAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACZGgAAAAAAAJkaAAAAAAAAAAAAAAAA8L8"
				],
				[
					772,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AgAAAJoaAAAAAAAAmxoAAAAAAAAAAAAAmxoAAAAAAACcGgAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACaGgAAAAAAAJoaAAAAAAAAAAAAAAAA8L8"
				],
				[
					774,
					1,
					"trim_trailing_white_space",
					null,
					"AQAAAJsaAAAAAAAAmxoAAAAAAAABAAAACQ",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACcGgAAAAAAAJwaAAAAAAAAAAAAAAAA8L8"
				],
				[
					782,
					1,
					"insert",
					{
						"characters": " +"
					},
					"AgAAAHsbAAAAAAAAfBsAAAAAAAAAAAAAfBsAAAAAAAB9GwAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAB7GwAAAAAAAHsbAAAAAAAAAAAAAAAA8L8"
				],
				[
					783,
					1,
					"insert",
					{
						"characters": " 1"
					},
					"AgAAAH0bAAAAAAAAfhsAAAAAAAAAAAAAfhsAAAAAAAB/GwAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAB9GwAAAAAAAH0bAAAAAAAAAAAAAAAA8L8"
				],
				[
					790,
					1,
					"insert",
					{
						"characters": " +"
					},
					"AgAAAJgeAAAAAAAAmR4AAAAAAAAAAAAAmR4AAAAAAACaHgAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACYHgAAAAAAAJgeAAAAAAAAAAAAAAAA8L8"
				],
				[
					791,
					1,
					"insert",
					{
						"characters": " 1"
					},
					"AgAAAJoeAAAAAAAAmx4AAAAAAAAAAAAAmx4AAAAAAACcHgAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACaHgAAAAAAAJoeAAAAAAAAAAAAAAAA8L8"
				],
				[
					794,
					1,
					"insert",
					{
						"characters": " +"
					},
					"AgAAAPgeAAAAAAAA+R4AAAAAAAAAAAAA+R4AAAAAAAD6HgAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAD4HgAAAAAAAPgeAAAAAAAAAAAAAAAA8L8"
				],
				[
					795,
					1,
					"insert",
					{
						"characters": " 1"
					},
					"AgAAAPoeAAAAAAAA+x4AAAAAAAAAAAAA+x4AAAAAAAD8HgAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAD6HgAAAAAAAPoeAAAAAAAAAAAAAAAA8L8"
				],
				[
					801,
					1,
					"revert",
					null,
					"AwAAAAAAAAAAAAAAAAAAAAAAAABmSwAAI2lmbmRlZiBJTVBMT1RIRUxQRVJTX0gKI2RlZmluZSBJTVBMT1RIRUxQRVJTX0gKI3ByYWdtYSBvbmNlCgovLyAvLyBDIDNyZCBwYXJ0eSBpbmNsdWRlcwovLyAjaW5jbHVkZSA8aW1ndWkuaD4KLy8gI2luY2x1ZGUgPGltcGxvdC5oPgovLyAjaW5jbHVkZSA8c3BkbG9nL3NwZGxvZy5oPgovLyAjaW5jbHVkZSA8cmVhZGVyd3JpdGVycXVldWUuaD4KLy8gI2luY2x1ZGUgPGNvbmN1cnJlbnRxdWV1ZS5oPgoKLy8gLy8gQysrIFNURCBpbmNsdWRlcwovLyAjaW5jbHVkZSA8YWxnb3JpdGhtPgovLyAjaW5jbHVkZSA8Y3N0ZGRlZj4KLy8gI2luY2x1ZGUgPGNzdGRpbnQ+Ci8vICNpbmNsdWRlIDxmdW5jdGlvbmFsPgovLyAjaW5jbHVkZSA8aW9zPgovLyAjaW5jbHVkZSA8bWVtb3J5PgovLyAjaW5jbHVkZSA8c3RyaW5nPgovLyAjaW5jbHVkZSA8dW5vcmRlcmVkX21hcD4KLy8gI2luY2x1ZGUgPHV0aWxpdHk+Ci8vICNpbmNsdWRlIDx2ZWN0b3I+Ci8vICNpbmNsdWRlIDxzc3RyZWFtPgovLyAjaW5jbHVkZSA8ZGVxdWU+CgovLyBDKysgM3JkIHBhcnR5IGluY2x1ZGVzCiNpbmNsdWRlIDxhcm1hZGlsbG8+CgovLyAvLyBteSBpbmNsdWRlcwoKbmFtZXNwYWNlIFNCQ1F1ZWVucyB7CgovLyB0ZW1wbGF0ZTx0eXBlbmFtZSBULCB0eXBlbmFtZSBEQVRBID0gZG91YmxlPgovLyBjbGFzcyBJbmRpY2F0b3JSZWNlaXZlcjsKLy8gdGVtcGxhdGU8dHlwZW5hbWUgVCwgdHlwZW5hbWUgREFUQSA9IGRvdWJsZT4KLy8gY2xhc3MgSW5kaWNhdG9yU2VuZGVyOwoKLy8gLy8gV2VsbCwgSSB3aWxsIGxlYXZlIHRoaXMgYXMgdGhpcyB1bnRpbCBJIGNhbiBjb21lIHVwIHdpdGgKLy8gLy8gYSBiZXR0ZXIgc29sdXRpb24uCi8vIC8vIEltUGxvdHMgYXJlIDJEIGJ5IGRlZmF1bHQuIFgsIFkgYXJlIHRoZSB0eXBlcyBvZiB0aG9zZSB0d28KLy8gLy8gYXhpcyB3aGljaCBieSBkZWZhdWx0IGFyZSBmbG9hdCBidXQgdGhleSBjYW4gYmUgY2hhbmdlZC4KLy8gLy8gdW5zaWduZWQgaW50IGlzIGEgbnVtYmVyIHRoYXQgaW5zdHJ1Y3RzIHRoZSBjb25zdW1lcgovLyAvLyB0byB3aGljaCBncmFwaCBpcyBzaG91bGQgZ28gdG8uCi8vIC8vIFQgaXMgcmVzZXJ2ZWQgZm9yIHRoZSB1c2VyLCBpdCBjb3VsZCBiZSBhbiBlbnVtIHR5cGUgKG15IHByZWZlcmVuY2UpCi8vIC8vIG9yIGFueXRoaW5nIHRoZXkgd2FudCB0byBkaXN0aW5ndWlzaCB0aGVtLgovLyB0ZW1wbGF0ZTx0eXBlbmFtZSBULCB0eXBlbmFtZSBEQVRBID0gZG91YmxlPgovLyBzdHJ1Y3QgSW5kaWNhdG9yVmVjdG9yIHsKLy8gICAgIHVzaW5nIHR5cGUgPSBUOwovLyAgICAgdXNpbmcgZGF0YV90eXBlID0gREFUQTsKCi8vICAgICBJbmRpY2F0b3JWZWN0b3IoKSB7fQovLyAgICAgSW5kaWNhdG9yVmVjdG9yKGNvbnN0IFQmIGlkLCBjb25zdCBEQVRBJiB4LCBjb25zdCBEQVRBJiB5KQovLyAgICAgICAgIDogSUQoaWQpLCBYKHgpLCBZKHkpIHt9Ci8vICAgICBJbmRpY2F0b3JWZWN0b3IoY29uc3QgVCYgaWQsIGNvbnN0IERBVEEmIHgpCi8vICAgICAgICAgOiBJRChpZCksIFgoeCkge30KCi8vICAgICBUIElEOwovLyAgICAgREFUQSBYOwovLyAgICAgREFUQSBZOwovLyB9OwoKLy8gdGVtcGxhdGU8dHlwZW5hbWUgVCwgdHlwZW5hbWUgREFUQSA9IGRvdWJsZT4KLy8gdXNpbmcgSW5kaWNhdG9yc1F1ZXVlCi8vICAgICA9IHN0ZDo6c2hhcmVkX3B0cjxtb29keWNhbWVsOjpDb25jdXJyZW50UXVldWU8IEluZGljYXRvclZlY3RvcjxULCBEQVRBPiA+PjsKCi8vIHN0cnVjdCBQbG90RmxhZ3MgewovLyAgICAgYm9vbCBDbGVhck9uTmV3RGF0YTsKLy8gfTsKCi8vIGVudW0gY2xhc3MgTnVtZXJpY0Zvcm1hdCB7Ci8vICAgICBEZWZhdWx0LCBTY2llbnRpZmljLCBIZXhGbG9hdCwgRml4ZWQKLy8gfTsKCi8vIC8vIEFuIGluZGljYXRvciBpcyBhIEltR1VJIGJ1dHRvbiB0aGF0IGhhcyBiZWVuIG1vZGlmaWVkIHRvIGFjdAovLyAvLyBsaWtlIGFuIGluZGljYXRvci4KLy8gLy8gQXMgZm9yIG5vdywgdGhpcyBpbmRpY2F0b3IgaGFzIHNvbWUgcGFyYW1ldGVycyBzdWNoIGFzCi8vIC8vIHByZWNpc2lvbiBvZiB0aGUgbnVtYmVyIHRvIGRpc3BsYXksIGFuZCBmb3JtYXQgb2YgdGhlIG51bWJlcgovLyB0ZW1wbGF0ZTx0eXBlbmFtZSBUPgovLyBjbGFzcyBJbmRpY2F0b3IgewovLyAgcHJvdGVjdGVkOgovLyAgICAgVCBJRDsKLy8gICAgIC8vIF9pbWd1aV9zdGFjayBleGlzdHMgdG8gZ2l2ZSB0aGlzIGJ1dHRvbiBhbiB1bmlxdWUgaWQKLy8gICAgIC8vIGZvciB0aGUgSW1HVUkgQVBJLiBJZiB0aGlzIHdlcmUgbm90IHRoZXJlLCBpdCB3b3VsZCBzaGFyZQovLyAgICAgLy8gYW4gSUQgd2l0aCBhbGwgdGhlIGVtcHR5IG9yIHNhbWUgaW5kaWNhdG9ycy4KLy8gICAgIHN0ZDo6c3RyaW5nIF9pbWd1aV9zdGFjazsKCi8vICBwcml2YXRlOgovLyAgICAgLy8gQWN0dWFsIHN0cmluZyB0aGF0IGdldHMgZGlzcGxheWVkCi8vICAgICBzdGQ6OnN0cmluZyBfZGlzcGxheTsKCi8vICAgICAvLyBGb3JtYXQgcGFyYW1ldGVycwovLyAgICAgdW5zaWduZWQgaW50IF9wcmVjaXNpb247Ci8vICAgICBOdW1lcmljRm9ybWF0IF9mb3JtYXQ7CgovLyAgICAgZG91YmxlIF92YWw7CgovLyAgcHVibGljOgovLyAgICAgZXhwbGljaXQgSW5kaWNhdG9yKGNvbnN0IFQmIGlkLCBjb25zdCB1bnNpZ25lZCBpbnQmIHByZWNpc2lvbiA9IDYsCi8vICAgICAgICAgY29uc3QgTnVtZXJpY0Zvcm1hdCYgZm9ybWF0ID0gTnVtZXJpY0Zvcm1hdDo6RGVmYXVsdCkKLy8gICAgICAgICA6ICAgSUQoaWQpLAovLyAgICAgICAgICAgICBfaW1ndWlfc3RhY2soIiMjIiArIHN0ZDo6dG9fc3RyaW5nKHN0YXRpY19jYXN0PGludD4oaWQpKSksCi8vICAgICAgICAgICAgIF9kaXNwbGF5KF9pbWd1aV9zdGFjayksIF9wcmVjaXNpb24ocHJlY2lzaW9uKSwgX2Zvcm1hdChmb3JtYXQpLAovLyAgICAgICAgICAgICBfdmFsKDAuMCkKLy8gICAgICAgICB7IH0KCi8vICAgICAvLyBNb3ZpbmcgYWxsb3dlZAovLyAgICAgSW5kaWNhdG9yKEluZGljYXRvciYmKSA9IGRlZmF1bHQ7Ci8vICAgICBJbmRpY2F0b3ImIG9wZXJhdG9yPShJbmRpY2F0b3ImJikgPSBkZWZhdWx0OwoKLy8gICAgIC8vIE5vIGNvcHlpbmcKLy8gICAgIEluZGljYXRvcihjb25zdCBJbmRpY2F0b3ImKSA9IGRlbGV0ZTsKCi8vICAgICB2aXJ0dWFsIH5JbmRpY2F0b3IoKSB7fQoKLy8gICAgIHRlbXBsYXRlPHR5cGVuYW1lIE9GRkRBVEE+Ci8vICAgICAvLyBBZGRzIGVsZW1lbnQgbmV3VmFsLnggdG8gc2hvdyBpbiB0aGlzIGluZGljYXRvci4KLy8gICAgIC8vIG5ld1ZhbC55IGlzIGlnbm9yZWQKLy8gICAgIHZvaWQgYWRkKGNvbnN0IEluZGljYXRvclZlY3RvcjxULCBPRkZEQVRBPiYgbmV3VmFsKSB7Ci8vICAgICAgICAgaWYgKG5ld1ZhbC5JRCA9PSBJRCkgewovLyAgICAgICAgICAgICBzdGQ6Om9zdHJpbmdzdHJlYW0gb3V0OwovLyAgICAgICAgICAgICBvdXQucHJlY2lzaW9uKF9wcmVjaXNpb24pOwovLyAgICAgICAgICAgICBpZiAoX2Zvcm1hdCA9PSBOdW1lcmljRm9ybWF0OjpTY2llbnRpZmljKSB7Ci8vICAgICAgICAgICAgICAgICBvdXQgPDwgc3RkOjpzY2llbnRpZmljOwovLyAgICAgICAgICAgICB9IGVsc2UgaWYgKF9mb3JtYXQgPT0gTnVtZXJpY0Zvcm1hdDo6SGV4RmxvYXQpIHsKLy8gICAgICAgICAgICAgICAgIG91dCA8PCBzdGQ6OmhleGZsb2F0OwovLyAgICAgICAgICAgICB9IGVsc2UgaWYgKF9mb3JtYXQgPT0gTnVtZXJpY0Zvcm1hdDo6Rml4ZWQpIHsKLy8gICAgICAgICAgICAgICAgIG91dCA8PCBzdGQ6OmZpeGVkOwovLyAgICAgICAgICAgICB9CgovLyAgICAgICAgICAgICBvdXQgPDwgbmV3VmFsLlg7Ci8vICAgICAgICAgICAgIF9kaXNwbGF5ID0gIiI7CgovLyAgICAgICAgICAgICBpZiAoIW91dC5zdHIoKS5lbXB0eSgpKSB7Ci8vICAgICAgICAgICAgICAgICBfZGlzcGxheSA9IG91dC5zdHIoKTsKLy8gICAgICAgICAgICAgfQoKLy8gICAgICAgICAgICAgX2Rpc3BsYXkgKz0gX2ltZ3VpX3N0YWNrOwoKLy8gICAgICAgICAgICAgX3ZhbCA9IHN0YXRpY19jYXN0PGRvdWJsZT4obmV3VmFsLlgpOwovLyAgICAgICAgIH0KLy8gICAgIH0KCi8vICAgICB0ZW1wbGF0ZTx0eXBlbmFtZSBPRkZEQVRBPgovLyAgICAgdm9pZCBvcGVyYXRvcigpKGNvbnN0IHN0ZDo6c3RyaW5nJiBsYWJlbCwgT0ZGREFUQSYgb3V0LAovLyAgICAgICAgIGNvbnN0IGZsb2F0JiBvZmZzZXQgPSAwKSB7Ci8vICAgICAgICAgSW1HdWk6OlRleHQoIiVzIiwgbGFiZWwuY19zdHIoKSk7IEltR3VpOjpTYW1lTGluZShvZmZzZXQpOwovLyAgICAgICAgIEltR3VpOjpCdXR0b24oX2Rpc3BsYXkuY19zdHIoKSk7Ci8vICAgICAgICAgb3V0ID0gc3RhdGljX2Nhc3Q8T0ZGREFUQT4oX3ZhbCk7Ci8vICAgICB9CgovLyAgICAgdGVtcGxhdGU8dHlwZW5hbWUgT0ZGREFUQT4KLy8gICAgIHZvaWQgRHJhdyhjb25zdCBzdGQ6OnN0cmluZyYgbGFiZWwsIE9GRkRBVEEmIG91dCwgY29uc3QgZmxvYXQmIG9mZnNldCA9IDApIHsKLy8gICAgICAgICB0aGlzLT5vcGVyYXRvcigpKGxhYmVsLCBvdXQsIG9mZnNldCk7Ci8vICAgICB9CgovLyAgICAgLy8gRm9yIGluZGljYXRvcnMsIGl0IGRvZXMgbm90aGluZy4KLy8gICAgIHZpcnR1YWwgdm9pZCBFeGVjdXRlQXR0cmlidXRlcygpIHsgfQoKLy8gICAgIC8vIEZvciBpbmRpY2F0b3JzLCBpdCBkb2VzIG5vdGhpbmcuCi8vICAgICB2aXJ0dWFsIHZvaWQgQ2xlYXJBdHRyaWJ1dGVzKCkgeyB9CgovLyAgICAgdmlydHVhbCBUIEdldElEKCkgY29uc3QgewovLyAgICAgICAgIHJldHVybiBJRDsKLy8gICAgIH0KLy8gfTsKCi8vIHRlbXBsYXRlPHR5cGVuYW1lIFQ+Ci8vIGNsYXNzIEJvb2xlYW5JbmRpY2F0b3IgOiBwdWJsaWMgSW5kaWNhdG9yPFQ+IHsKLy8gICAgIHN0ZDo6ZnVuY3Rpb248Ym9vbChjb25zdCBkb3VibGUmKT4gX2Y7Ci8vICAgICBJbVZlYzQgX29mZl9jb2xvcjsKLy8gICAgIEltVmVjNCBfb25fY29sb3I7Ci8vICAgICBJbVZlYzQgX2N1cnJlbnRfY29sb3I7Ci8vICAgICBib29sIF9pc19vbjsKCi8vICBwdWJsaWM6Ci8vICAgICBleHBsaWNpdCBCb29sZWFuSW5kaWNhdG9yKGNvbnN0IFQmIGlkLAovLyAgICAgICAgIHN0ZDo6ZnVuY3Rpb248Ym9vbChjb25zdCBkb3VibGUmKT4mJiBmKQovLyAgICAgICAgIDogSW5kaWNhdG9yPFQ+KGlkKSwgX2YoZiksCi8vICAgICAgICAgX29mZl9jb2xvcihzdGF0aWNfY2FzdDxJbVZlYzQ+KEltQ29sb3I6OkhTVigwLjBmLCAwLjZmLCAwLjZmKSkpLAovLyAgICAgICAgIF9vbl9jb2xvcihzdGF0aWNfY2FzdDxJbVZlYzQ+KEltQ29sb3I6OkhTVigyLjBmIC8gNy4wZiwgMC42ZiwgMC42ZikpKSwKLy8gICAgICAgICBfY3VycmVudF9jb2xvcihfb2ZmX2NvbG9yKSwgX2lzX29uKGZhbHNlKSB7Ci8vICAgICB9CgovLyAgICAgLy8gTW92aW5nIGFsbG93ZWQKLy8gICAgIEJvb2xlYW5JbmRpY2F0b3IoQm9vbGVhbkluZGljYXRvciYmKSA9IGRlZmF1bHQ7Ci8vICAgICBCb29sZWFuSW5kaWNhdG9yJiBvcGVyYXRvcj0oQm9vbGVhbkluZGljYXRvciYmKSA9IGRlZmF1bHQ7CgovLyAgICAgLy8gTm8gY29weWluZwovLyAgICAgQm9vbGVhbkluZGljYXRvcihjb25zdCBCb29sZWFuSW5kaWNhdG9yJikgPSBkZWxldGU7CgovLyAgICAgdGVtcGxhdGU8dHlwZW5hbWUgT0ZGREFUQT4KLy8gICAgIC8vIFVzZXMgbmV3VmFsLnggdG8gaW5kaWNhdGUgdGhlIGVxdWFsaXR5Ci8vICAgICB2b2lkIGFkZChjb25zdCBJbmRpY2F0b3JWZWN0b3I8VCwgT0ZGREFUQT4mIG5ld1ZhbCkgewovLyAgICAgICAgIF9pc19vbiA9IF9mKHN0YXRpY19jYXN0PGRvdWJsZT4obmV3VmFsLlgpKTsKLy8gICAgICAgICBfY3VycmVudF9jb2xvciA9IF9pc19vbiA/IF9vbl9jb2xvciA6IF9vZmZfY29sb3I7Ci8vICAgICB9CgovLyAgICAgdm9pZCBvcGVyYXRvcigpKGNvbnN0IHN0ZDo6c3RyaW5nJiBsYWJlbCwgYm9vbCYgb3V0LAovLyAgICAgICAgIGNvbnN0IGZsb2F0JiBvZmZzZXQgPSAwKSB7Ci8vICAgICAgICAgb3V0ID0gX2lzX29uOwovLyAgICAgICAgIEltR3VpOjpUZXh0KCIlcyIsIGxhYmVsLmNfc3RyKCkpOyBJbUd1aTo6U2FtZUxpbmUob2Zmc2V0KTsKCi8vICAgICAgICAgSW1HdWk6OlB1c2hTdHlsZUNvbG9yKEltR3VpQ29sX0J1dHRvbiwgX2N1cnJlbnRfY29sb3IpOwovLyAgICAgICAgIEltR3VpOjpQdXNoU3R5bGVDb2xvcihJbUd1aUNvbF9CdXR0b25Ib3ZlcmVkLCBfY3VycmVudF9jb2xvcik7Ci8vICAgICAgICAgSW1HdWk6OlB1c2hTdHlsZUNvbG9yKEltR3VpQ29sX0J1dHRvbkFjdGl2ZSwgX2N1cnJlbnRfY29sb3IpOwoKLy8gICAgICAgICBJbUd1aTo6QnV0dG9uKEluZGljYXRvcjxUPjo6X2ltZ3VpX3N0YWNrLmNfc3RyKCksIEltVmVjMigxNSwgMTUpKTsKCi8vICAgICAgICAgSW1HdWk6OlBvcFN0eWxlQ29sb3IoMyk7Ci8vICAgICB9CgovLyAgICAgdm9pZCBEcmF3KGNvbnN0IHN0ZDo6c3RyaW5nJiBsYWJlbCwgYm9vbCYgb3V0LCBjb25zdCBmbG9hdCYgb2Zmc2V0ID0gMCkgewovLyAgICAgICAgIHRoaXMtPm9wZXJhdG9yKCkobGFiZWwsIG91dCwgb2Zmc2V0KTsKLy8gICAgIH0KLy8gfTsKCi8vIC8vIEludGVybmFsIHN0cnVjdHVyZSB0byBiZSB1c2VkIGZvciBQbG90IGNsYXNzLiBTZXJ2ZXJzIGFzIGFuIGludGVyZmFjZQovLyAvLyBiZXR3ZWVuIHRoaXMgQVBJIGFuZCBJbVBsb3QKdGVtcGxhdGU8c2l6ZV90IE51bVBsb3RzID0gMT4KY2xhc3MgUGxvdERhdGFCdWZmZXIgewoJc3RhdGljX2Fzc2VydChOdW1QbG90cyA+IDAsICJUaGVyZSBtdXN0IGJlIGEgbGVhc3Qgb25lIHBsb3QhIik7CgogICAgYXJtYTo6dXdvcmQgTjsKICAgIGFybWE6OnV3b3JkIF9zdGFydCA9IDA7CiAgICBhcm1hOjp1d29yZCBfc2l6ZSA9IDA7CiAgICBhcm1hOjp1d29yZCBfY3VycmVudF9pbmRleCA9IDA7CgogICAgYXJtYTo6bWF0IERhdGE7CiBwdWJsaWM6CiAgICBleHBsaWNpdCBQbG90RGF0YUJ1ZmZlcihjb25zdCBhcm1hOjp1d29yZCYgbWF4KQogICAgICAgIDogTihtYXgpLCBEYXRhKE51bVBsb3RzICsgMSwgTiwgYXJtYTo6ZmlsbDo6emVyb3MpIHt9CgogICAgYXV0byBvcGVyYXRvcltdKGNvbnN0IGFybWE6OnV3b3JkJiBpKSB7CiAgICAgICAgYXJtYTo6dXdvcmQgaW5kZXggPSAoaSArIF9zdGFydCkgJSBfc2l6ZTsKICAgICAgICByZXR1cm4gRGF0YS51bnNhZmVfY29sKCBpbmRleCApOwogICAgfQoKICAgIHZvaWQgb3BlcmF0b3IoKShjb25zdCBkb3VibGUmIHgsIGNvbnN0IGRvdWJsZSYgeSkgewogICAgICAgIERhdGEuY29sKF9jdXJyZW50X2luZGV4KSA9IHt4LCB5fTsKCiAgICAgICAgaWYgKF9zaXplIDwgTikgewogICAgICAgICAgICBfc2l6ZSsrOwogICAgICAgICAgICBfY3VycmVudF9pbmRleCA9IF9zaXplID09IE4gPyAwIDogX2N1cnJlbnRfaW5kZXggKyAxOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIF9zdGFydCA9IChfc3RhcnQgKyAxKSAlIF9zaXplOwogICAgICAgICAgICBfY3VycmVudF9pbmRleCA9IF9zdGFydDsKICAgICAgICB9CiAgICB9CgogICAgLy8gUmVzaXplcyB0aGUgaW50ZXJuYWwgZGF0YSBidWZmZXIgd2l0aCBuZXdfc2l6ZS4gQ2xlYXJzIHRoZSBkYXRhIChmYXN0ZXIpCiAgICAvLyBpZiBjbGVhcl9kYXRhIGlzIHRydWUsIG90aGVyd2lzZSwgaXQga2VlcHMgdGhlIGRhdGEgKHNsb3dlcikKICAgIHZvaWQgcmVzaXplKGNvbnN0IGFybWE6OnV3b3JkJiBuZXdfc2l6ZSwgY29uc3QgYm9vbCYgY2xlYXJfZGF0YSA9IGZhbHNlKSB7CiAgICAJTiA9IG5ld19zaXplOwogICAgCWlmIChjbGVhcl9kYXRhKSB7CiAgICAJCURhdGEuc2V0X3NpemUoTnVtUGxvdHMgKyAxLCBOKTsKCQkgICAgX3NpemUgPSAwOwogICAgICAgIAlfY3VycmVudF9pbmRleCA9IDA7CiAgICAJfSBlbHNlIHsKICAgIAkJRGF0YS5yZXNpemUoTnVtUGxvdHMgKyAxLCBOKTsKICAgIAl9CiAgICB9CgogICAgdm9pZCBjbGVhcigpIHsKCSAgICBfc2l6ZSA9IDA7CiAgICAJX2N1cnJlbnRfaW5kZXggPSAwOwogICAgfQoKICAgIGF1dG8gc2l6ZSgpIGNvbnN0IHsKICAgIAlyZXR1cm4gX3NpemU7CiAgICB9Cn07CgovLyBlbnVtIGNsYXNzIFBsb3RTdHlsZSB7Ci8vICAgICBMaW5lLAovLyAgICAgU2NhdHRlcgovLyB9OwovLyAvLyBBIHBsb3QgaW5kaWNhdG9yLiBJdCBpbmhlcml0cyBmcm9tIGluZGljYXRvciwgYnV0IG1vcmUgb3V0IG9mIG5lY2Vzc2l0eS4KLy8gLy8gSXQga2VlcHMgdGhlIGNvZGUgY2xlYW4sIGJ1dCBpdCB3YXMgcmVhbGx5IG5vdCBuZWNlc3NhcnkuCi8vIC8vIE9yaWdpbmFsbHksIGEgcGxvdCBjb3VsZCBiZSBhbnkgdHlwZSB0aGF0IHdhcyBub3QgZG91YmxlIGJ1dAovLyAvLyBJbVBsb3Qgb25seSBzaG93cyBkb3VibGUgbnVtYmVycyBvciB0cmFuc2Zvcm1zIHRoZW0gdG8gZG91YmxlcwovLyAvLyBpbnRlcm5hbGx5LiBBbHNvLCB4IGFuZCB5IGhhdmUgdG8gYmUgdGhlIHNhbWUgdHlwZS4KLy8gdGVtcGxhdGU8dHlwZW5hbWUgVD4KLy8gY2xhc3MgUGxvdCA6IHB1YmxpYyBJbmRpY2F0b3I8VD4gewovLyAgICAgYm9vbCBDbGVhcmVkID0gZmFsc2U7Ci8vICAgICBib29sIENsZWFyT25OZXdEYXRhID0gZmFsc2U7CgoKLy8gICAgIGNvbnN0IHN0ZDo6c2l6ZV90IE1heFNhbXBsZXM7Ci8vICAgICBQbG90RGF0YUJ1ZmZlciBwbG90RGF0YTsKCi8vICBwdWJsaWM6Ci8vICAgICB1c2luZyB0eXBlID0gVDsKLy8gICAgIHVzaW5nIGRhdGFfdHlwZSA9IGRvdWJsZTsKCi8vICAgICBleHBsaWNpdCBQbG90KGNvbnN0IFQmIGlkLCBjb25zdCBib29sJiBjbGVhck9uTmV3RGF0YSA9IGZhbHNlLAovLyAgICAgICAgIGNvbnN0IHN0ZDo6c2l6ZV90JiBtYXhTYW1wbGVzID0gMTAwZTMpIDogSW5kaWNhdG9yPFQ+KGlkKSwKLy8gICAgICAgICBDbGVhck9uTmV3RGF0YShjbGVhck9uTmV3RGF0YSksIE1heFNhbXBsZXMobWF4U2FtcGxlcyksCi8vICAgICAgICAgcGxvdERhdGEobWF4U2FtcGxlcykgewovLyAgICAgfQoKLy8gICAgIC8vIE5vIG1vdmluZwovLyAgICAgUGxvdChQbG90JiYpID0gZGVmYXVsdDsKLy8gICAgIFBsb3QmIG9wZXJhdG9yPShQbG90JiYpID0gZGVmYXVsdDsKCi8vICAgICAvLyBObyBjb3B5aW5nCi8vICAgICBQbG90KGNvbnN0IFBsb3QmKSA9IGRlbGV0ZTsKCi8vICAgICB0ZW1wbGF0ZTx0eXBlbmFtZSBPRkZEQVRBPgovLyAgICAgdm9pZCBhZGQoY29uc3QgSW5kaWNhdG9yVmVjdG9yPFQsIE9GRkRBVEE+JiB2KSB7Ci8vICAgICAgICAgaWYgKHYuSUQgPT0gSW5kaWNhdG9yPFQ+OjpJRCkgewovLyAgICAgICAgICAgICBwbG90RGF0YSh2LlgsIHYuWSk7Ci8vICAgICAgICAgfQovLyAgICAgfQoKLy8gICAgIHRlbXBsYXRlPHR5cGVuYW1lIE9GRkRBVEE+Ci8vICAgICB2b2lkIGFkZChjb25zdCBPRkZEQVRBJiB4LCBjb25zdCBPRkZEQVRBJiB5KSB7Ci8vICAgICAgICAgcGxvdERhdGEoeCwgeSk7Ci8vICAgICB9CgovLyAgICAgdm9pZCBjbGVhcigpIHsKLy8gICAgICAgICBwbG90RGF0YS5TaXplID0gMDsKLy8gICAgICAgICBwbG90RGF0YS5DdXJyZW50SW5kZXggPSAwOwovLyAgICAgfQoKLy8gICAgIC8vIEV4ZWN1dGVzIGF0dHJpYnV0ZXMuIEZvciBwbG90cywgaXQgY2xlYXJzIG9uIG5ldyBkYXRhLgovLyAgICAgdm9pZCBFeGVjdXRlQXR0cmlidXRlcygpIHsKLy8gICAgICAgICBpZiAoQ2xlYXJPbk5ld0RhdGEpIHsKLy8gICAgICAgICAgICAgaWYgKCFDbGVhcmVkKSB7Ci8vICAgICAgICAgICAgICAgICBjbGVhcigpOwovLyAgICAgICAgICAgICAgICAgQ2xlYXJlZCA9IHRydWU7Ci8vICAgICAgICAgICAgIH0KLy8gICAgICAgICB9Ci8vICAgICB9CgovLyAgICAgLy8gQ2xlYXJzIGF0dHJpYnV0ZXMuIEZvciBwbG90cywgaXQgcmVzZXRzIGlmIGl0IHNob3VsZCBjbGVhci4KLy8gICAgIC8vIG9uIG5ldyBkYXRhLgovLyAgICAgdm9pZCBDbGVhckF0dHJpYnV0ZXMoKSB7Ci8vICAgICAgICAgQ2xlYXJlZCA9IGZhbHNlOwovLyAgICAgfQoKLy8gICAgIC8vIFdyYXBzIEltUGxvdDo6UGxvdExpbmUKLy8gICAgIHZvaWQgb3BlcmF0b3IoKShjb25zdCBzdGQ6OnN0cmluZyYgbGFiZWwsCi8vICAgICAgICAgY29uc3QgUGxvdFN0eWxlJiBzdHlsZSA9IFBsb3RTdHlsZTo6TGluZSkgewovLyAgICAgICAgIC8vIHN0YXRpYyBJbVBsb3RHZXR0ZXIgZ2V0dGVyID0gc3RhdGljX2Nhc3Q8SW1QbG90R2V0dGVyPihfdHJhbnNmb3JtKTsKLy8gICAgICAgICBzdGF0aWMgYXV0byB0cmFuc2Zvcm0gPSBbXShpbnQgaWR4LCB2b2lkKiBkYXRhKSB7Ci8vICAgICAgICAgICAgIGF1dG8gbXlEYXRhID0gc3RhdGljX2Nhc3Q8UGxvdERhdGFCdWZmZXIqPihkYXRhKTsKLy8gICAgICAgICAgICAgYXV0byBwYWlyID0gKCpteURhdGEpW2lkeF07Ci8vICAgICAgICAgICAgIHJldHVybiBJbVBsb3RQb2ludChwYWlyLmZpcnN0LCBwYWlyLnNlY29uZCk7Ci8vICAgICAgICAgfTsKCi8vICAgICAgICAgc3dpdGNoIChzdHlsZSkgewovLyAgICAgICAgICAgICBjYXNlIFBsb3RTdHlsZTo6U2NhdHRlcjoKLy8gICAgICAgICAgICAgICAgIEltUGxvdDo6UGxvdFNjYXR0ZXJHKGxhYmVsLmNfc3RyKCksIHRyYW5zZm9ybSwgJnBsb3REYXRhLCBwbG90RGF0YS5TaXplKTsKLy8gICAgICAgICAgICAgYnJlYWs7Ci8vICAgICAgICAgICAgIGNhc2UgUGxvdFN0eWxlOjpMaW5lOgovLyAgICAgICAgICAgICBkZWZhdWx0OgovLyAgICAgICAgICAgICAgICAgSW1QbG90OjpQbG90TGluZUcobGFiZWwuY19zdHIoKSwgdHJhbnNmb3JtLCAmcGxvdERhdGEsIHBsb3REYXRhLlNpemUpOwovLyAgICAgICAgICAgICBicmVhazsKLy8gICAgICAgICB9CgovLyAgICAgfQoKLy8gICAgIHZvaWQgRHJhdyhjb25zdCBzdGQ6OnN0cmluZyYgbGFiZWwsCi8vICAgICAgICAgY29uc3QgUGxvdFN0eWxlJiBzdHlsZSA9IFBsb3RTdHlsZTo6TGluZSkgewovLyAgICAgICAgIHRoaXMtPm9wZXJhdG9yKCkobGFiZWwsIHN0eWxlKTsKLy8gICAgIH0KCi8vICBwcml2YXRlOgovLyB9OwoKLy8gLy8gVGhpcyBjbGFzcyBpcyBtZWFudCB0byBiZSBjcmVhdGVkIG9uY2UgaW4gdGhlIHJlY2VpdmVyL2NvbnN1bWVyIHRocmVhZAovLyAvLyBJdCB3aWxsIHVwZGF0ZSBhbGwgb2YgdGhlIGluZGljYXRvcnMgdmFsdWVzIG9uY2UgaW5mb3JtYXRpb24gaXMgc2VudAovLyB0ZW1wbGF0ZTx0eXBlbmFtZSBULCB0eXBlbmFtZSBEQVRBPgovLyBjbGFzcyBJbmRpY2F0b3JSZWNlaXZlciAgewovLyAgICAgSW5kaWNhdG9yc1F1ZXVlPFQsIERBVEE+IF9xOwovLyAgICAgc3RkOjp1bm9yZGVyZWRfbWFwPFQsIHN0ZDo6dW5pcXVlX3B0cjxJbmRpY2F0b3I8VD4+PiBfaW5kaWNhdG9yczsKCi8vIHB1YmxpYzoKLy8gICAgIHVzaW5nIHR5cGUgPSBUOwovLyAgICAgdXNpbmcgZGF0YV90eXBlID0gREFUQTsKCi8vICAgICBleHBsaWNpdCBJbmRpY2F0b3JSZWNlaXZlcihJbmRpY2F0b3JzUXVldWU8VCwgREFUQT4gcSkgOiBfcShxKSB7IH0KCi8vICAgICAvLyBObyBjb3B5aW5nCi8vICAgICBJbmRpY2F0b3JSZWNlaXZlcihjb25zdCBJbmRpY2F0b3JSZWNlaXZlciYpID0gZGVsZXRlOwovLyAgICAgSW5kaWNhdG9yUmVjZWl2ZXIgb3BlcmF0b3I9KGNvbnN0IEluZGljYXRvclJlY2VpdmVyJikgPSBkZWxldGU7CgovLyAgICAgLy8gVGhpcyBpcyBtZWFudCB0byBiZSBydW4gaW4gdGhlIHNpbmdsZSBjb25zdW1lci4KLy8gICAgIC8vIFVwZGF0ZXMgYWxsIHRoZSBwbG90cyBhcnJheXMgZnJvbSB0aGUgcXVldWUuCi8vICAgICB2b2lkIG9wZXJhdG9yKCkoKSB7Ci8vICAgICAgICAgYXV0byBhcHByb3hfbGVuZ3RoID0gX3Euc2l6ZV9hcHByb3goKTsKLy8gICAgICAgICBzdGQ6OnZlY3RvcjwgSW5kaWNhdG9yVmVjdG9yPFQsIERBVEE+ID4gdGVtcF9pdGVtcyhhcHByb3hfbGVuZ3RoKTsKLy8gICAgICAgICBfcS50cnlfZGVxdWV1ZV9idWxrKHRlbXBfaXRlbXMuZGF0YSgpLCBhcHByb3hfbGVuZ3RoKTsKCi8vICAgICAgICAgZm9yIChJbmRpY2F0b3JWZWN0b3I8VCwgREFUQT4gaXRlbSA6IHRlbXBfaXRlbXMpIHsKLy8gICAgICAgICAgICAgLy8gSWYgaXQgY29udGFpbnMgb25lIGl0ZW0sIHRoZW4gaXQgaXMgYSBpbmRpY2F0b3IKLy8gICAgICAgICAgICAgaWYgKF9pbmRpY2F0b3JzLmNvdW50KGl0ZW0uSUQpKSB7Ci8vICAgICAgICAgICAgICAgICBhdXRvJiBpbmRpY2F0b3IgPSBfaW5kaWNhdG9ycy5hdChpdGVtLklEKTsKLy8gICAgICAgICAgICAgICAgIGluZGljYXRvci0+RXhlY3V0ZUF0dHJpYnV0ZXMoKTsKCi8vICAgICAgICAgICAgICAgICBQbG90PFQ+KiBwbHQgPSBkeW5hbWljX2Nhc3Q8UGxvdDxUPio+KGluZGljYXRvci5nZXQoKSk7Ci8vICAgICAgICAgICAgICAgICBCb29sZWFuSW5kaWNhdG9yPFQ+KiBiaW5kCi8vICAgICAgICAgICAgICAgICAgICAgPSBkeW5hbWljX2Nhc3Q8Qm9vbGVhbkluZGljYXRvcjxUPio+KGluZGljYXRvci5nZXQoKSk7Ci8vICAgICAgICAgICAgICAgICBpZiAocGx0KSB7Ci8vICAgICAgICAgICAgICAgICAgICAgcGx0LT5hZGQoaXRlbSk7Ci8vICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGJpbmQpIHsKLy8gICAgICAgICAgICAgICAgICAgICBiaW5kLT5hZGQoaXRlbSk7Ci8vICAgICAgICAgICAgICAgICB9IGVsc2UgewovLyAgICAgICAgICAgICAgICAgICAgIGluZGljYXRvci0+YWRkKGl0ZW0pOwovLyAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICB9Ci8vICAgICAgICAgfQoKLy8gICAgICAgICBmb3IgKGF1dG8mIGluZGljYXRvciA6IF9pbmRpY2F0b3JzKSB7Ci8vICAgICAgICAgICAgIGluZGljYXRvci5zZWNvbmQtPkNsZWFyQXR0cmlidXRlcygpOwovLyAgICAgICAgIH0KLy8gICAgIH0KCi8vICAgICB2b2lkIG9wZXJhdG9yKCkoY29uc3QgVCYga2V5LCBjb25zdCBEQVRBJiB4LCBjb25zdCBEQVRBJiB5KSB7Ci8vICAgICAgICAgSW5kaWNhdG9yVmVjdG9yPFQsIERBVEE+IG5ld1Aoa2V5LCB4LCB5KTsKLy8gICAgICAgICBfcS5lbnF1ZXVlKG5ld1ApOwovLyAgICAgfQoKLy8gICAgIHRlbXBsYXRlPHR5cGVuYW1lIE9GRkRBVEE+Ci8vICAgICBhdXRvJiBpbmRpY2F0b3IoY29uc3QgVCYgaWQsIGNvbnN0IHN0ZDo6c3RyaW5nJiBsYWJlbCwgT0ZGREFUQSYgb3V0LAovLyAgICAgICAgIGNvbnN0IGZsb2F0JiBvZmZzZXQgPSAwLAovLyAgICAgICAgIGNvbnN0IHVuc2lnbmVkIGludCYgcHJlY2lzaW9uID0gNiwKLy8gICAgICAgICBjb25zdCBOdW1lcmljRm9ybWF0JiBmb3JtYXQgPSBOdW1lcmljRm9ybWF0OjpEZWZhdWx0KSB7Ci8vICAgICAgICAgX2luZGljYXRvcnMudHJ5X2VtcGxhY2UoaWQsCi8vICAgICAgICAgICAgIHN0ZDo6bWFrZV91bmlxdWU8SW5kaWNhdG9yPFQ+PihpZCwgcHJlY2lzaW9uLCBmb3JtYXQpKTsKCi8vICAgICAgICAgYXV0byYgaW5kID0gX2luZGljYXRvcnMuYXQoaWQpOwoKLy8gICAgICAgICBpbmQtPkRyYXcobGFiZWwsIG91dCwgb2Zmc2V0KTsKCi8vICAgICAgICAgcmV0dXJuIGluZDsKLy8gICAgIH0KCi8vICAgICBhdXRvJiBpbmRpY2F0b3IoY29uc3QgVCYgaWQsCi8vICAgICAgICAgY29uc3Qgc3RkOjpzdHJpbmcmIGxhYmVsLAovLyAgICAgICAgIGNvbnN0IGZsb2F0JiBvZmZzZXQgPSAwLAovLyAgICAgICAgIGNvbnN0IHVuc2lnbmVkIGludCYgcHJlY2lzaW9uID0gNiwKLy8gICAgICAgICBjb25zdCBOdW1lcmljRm9ybWF0JiBmb3JtYXQgPSBOdW1lcmljRm9ybWF0OjpEZWZhdWx0KSB7CgovLyAgICAgICAgIF9pbmRpY2F0b3JzLnRyeV9lbXBsYWNlKGlkLAovLyAgICAgICAgICAgICBzdGQ6Om1ha2VfdW5pcXVlPEluZGljYXRvcjxUPj4oaWQsIHByZWNpc2lvbiwgZm9ybWF0KSk7Ci8vICAgICAgICAgYXV0byYgaW5kID0gX2luZGljYXRvcnMuYXQoaWQpOwoKLy8gICAgICAgICBkb3VibGUgdG1wOwovLyAgICAgICAgIGluZC0+RHJhdyhsYWJlbCwgdG1wLCBvZmZzZXQpOwoKLy8gICAgICAgICByZXR1cm4gaW5kOwovLyAgICAgfQoKLy8gICAgIGF1dG8mIGJvb2xlYW5JbmRpY2F0b3IoY29uc3QgVCYgaWQsIGNvbnN0IHN0ZDo6c3RyaW5nJiBsYWJlbCwKLy8gICAgICAgICBzdGQ6OmZ1bmN0aW9uPGJvb2woY29uc3QgZG91YmxlJik+JiYgZiwgY29uc3QgZmxvYXQmIG9mZnNldCA9IDApIHsKLy8gICAgICAgICBfaW5kaWNhdG9ycy50cnlfZW1wbGFjZShpZCwKLy8gICAgICAgICAgICAgc3RkOjptYWtlX3VuaXF1ZTxCb29sZWFuSW5kaWNhdG9yPFQ+PihpZCwKLy8gICAgICAgICAgICAgICAgIHN0ZDo6Zm9yd2FyZDxzdGQ6OmZ1bmN0aW9uPGJvb2woY29uc3QgZG91YmxlJik+PihmKSkpOwoKLy8gICAgICAgICBhdXRvJiBpbmQgPSBfaW5kaWNhdG9ycy5hdChpZCk7CgovLyAgICAgICAgIGF1dG8gYiA9IGR5bmFtaWNfY2FzdDxCb29sZWFuSW5kaWNhdG9yPFQ+Kj4oaW5kLmdldCgpKTsKLy8gICAgICAgICBpZiAoYikgewovLyAgICAgICAgICAgICBiLT5EcmF3KGxhYmVsLCBvZmZzZXQpOwovLyAgICAgICAgIH0KCi8vICAgICAgICAgcmV0dXJuIGluZDsKLy8gICAgIH0KCi8vICAgICBhdXRvJiBib29sZWFuSW5kaWNhdG9yKGNvbnN0IFQmIGlkLCBjb25zdCBzdGQ6OnN0cmluZyYgbGFiZWwsIGJvb2wmIG91dCwKLy8gICAgICAgICBzdGQ6OmZ1bmN0aW9uPGJvb2woY29uc3QgZG91YmxlJik+JiYgZiwgY29uc3QgZmxvYXQmIG9mZnNldCA9IDApIHsKLy8gICAgICAgICBfaW5kaWNhdG9ycy50cnlfZW1wbGFjZShpZCwKLy8gICAgICAgICAgICAgc3RkOjptYWtlX3VuaXF1ZTxCb29sZWFuSW5kaWNhdG9yPFQ+PihpZCwKLy8gICAgICAgICAgICAgICAgIHN0ZDo6Zm9yd2FyZDxzdGQ6OmZ1bmN0aW9uPGJvb2woY29uc3QgZG91YmxlJik+PihmKSkpOwoKLy8gICAgICAgICBhdXRvJiBpbmQgPSBfaW5kaWNhdG9ycy5hdChpZCk7CgovLyAgICAgICAgIGF1dG8gYiA9IGR5bmFtaWNfY2FzdDxCb29sZWFuSW5kaWNhdG9yPFQ+Kj4oaW5kLmdldCgpKTsKLy8gICAgICAgICBpZiAoYikgewovLyAgICAgICAgICAgICBiLT5EcmF3KGxhYmVsLCBvdXQsIG9mZnNldCk7Ci8vICAgICAgICAgfQoKLy8gICAgICAgICByZXR1cm4gaW5kOwovLyAgICAgfQoKLy8gICAgIC8vIGF1dG8mIG1ha2VfcGxvdChjb25zdCBUJiBpZCkgewovLyAgICAgLy8gIF9pbmRpY2F0b3JzLnRyeV9lbXBsYWNlKGlkLAovLyAgICAgLy8gICAgICBzdGQ6Om1ha2VfdW5pcXVlPFBsb3Q8VD4+KGlkKSk7CgovLyAgICAgLy8gIHJldHVybiBfcGxvdHMuYXQoaWQpOwovLyAgICAgLy8gfQoKLy8gICAgIC8vIEFkZHMgcGxvdCB3aXRoIElELCBhbmQgZHJhd3MgaXQgYXQgdGhlIHBsYWNlZCBsb2NhdGlvbiBpZiBleGlzdHMKLy8gICAgIC8vIEl0IHJldHVybnMgYSBzbWFydCBwb2ludGVyIHRvIHRoZSBpbmRpY2F0b3IgKG5vdCBwbG90KQovLyAgICAgYXV0byYgcGxvdChjb25zdCBUJiBpZCwgY29uc3Qgc3RkOjpzdHJpbmcmIGxhYmVsLAovLyAgICAgICAgIGNvbnN0IFBsb3RTdHlsZSBzdHlsZSA9IFBsb3RTdHlsZTo6TGluZSwgYm9vbCBjbGVhck9uTmV3RGF0YSA9IGZhbHNlKSB7Ci8vICAgICAgICAgX2luZGljYXRvcnMudHJ5X2VtcGxhY2UoaWQsCi8vICAgICAgICAgICAgIHN0ZDo6bWFrZV91bmlxdWU8UGxvdDxUPj4oaWQsIGNsZWFyT25OZXdEYXRhKSk7CgovLyAgICAgICAgIGF1dG8mIGluZCA9IF9pbmRpY2F0b3JzLmF0KGlkKTsKCi8vICAgICAgICAgUGxvdDxUPiogcGx0ID0gZHluYW1pY19jYXN0PFBsb3Q8VD4qPihpbmQuZ2V0KCkpOwovLyAgICAgICAgIGlmIChwbHQpIHsKLy8gICAgICAgICAgICAgcGx0LT5EcmF3KGxhYmVsLCBzdHlsZSk7Ci8vICAgICAgICAgfQoKLy8gICAgICAgICByZXR1cm4gaW5kOwovLyAgICAgfQoKLy8gICAgIHZvaWQgQ2xlYXJQbG90KGNvbnN0IFQmIGlkKSB7Ci8vICAgICAgICAgYXV0byBzZWFyY2ggPSBfaW5kaWNhdG9ycy5maW5kKGlkKTsKLy8gICAgICAgICBpZiAoc2VhcmNoICE9IF9pbmRpY2F0b3JzLmVuZCgpKSB7Ci8vICAgICAgICAgICAgIFBsb3Q8VD4qIHBsdCA9IGR5bmFtaWNfY2FzdDxQbG90PFQ+Kj4oCi8vICAgICAgICAgICAgICAgICBfaW5kaWNhdG9ycy5hdChpZCkuZ2V0KCkpOwovLyAgICAgICAgICAgICBwbHQtPmNsZWFyKCk7Ci8vICAgICAgICAgfQovLyAgICAgfQovLyB9OwoKLy8gLy8gVGhlIEluZGljYXRvclNlbmRlciBjbGFzcyBpcyBtZWFudCB0byBiZSBydW4gaW4gdGhlIHByb2R1Y2VyIHRocmVhZHMKLy8gLy8gVGhlIHByb2R1Y2VyIHRocmVhZCBjYW4gYWRkIGEgbmV3IEluZGljYXRvclZlY3RvciB0byB0aGlzIGNsYXNzCi8vIC8vIGFuZCB0aGlzIHdpbGwgc2VuZCBpdCBmb3J3YXJkLgovLyAvLyBJdCB1c2VzIGVudW1zIHNvIHRoZSBwcm9kdWNlciB0aHJlYWRzIGRvIG5vdCBuZWVkIHRvIGtub3cgaWYgdGhlCi8vIC8vIGluZGljYXRvci9wbG90IGFzc29jaWF0ZWQgd2l0aCB0aGF0IGVudW0gZXhpc3RzLgovLyB0ZW1wbGF0ZTx0eXBlbmFtZSBULCB0eXBlbmFtZSBEQVRBPgovLyBjbGFzcyBJbmRpY2F0b3JTZW5kZXIgewovLyAgICAgSW5kaWNhdG9yc1F1ZXVlPFQsIERBVEE+JiBfcTsKCi8vICBwdWJsaWM6Ci8vICAgICB1c2luZyB0eXBlID0gVDsKLy8gICAgIHVzaW5nIGRhdGFfdHlwZSA9IERBVEE7CgovLyAgICAgZXhwbGljaXQgSW5kaWNhdG9yU2VuZGVyKEluZGljYXRvcnNRdWV1ZTxULCBEQVRBPiYgcSkgOiBfcShxKSB7IH0KCi8vICAgICAvLyBObyBjb3B5aW5nCi8vICAgICBJbmRpY2F0b3JTZW5kZXIoY29uc3QgSW5kaWNhdG9yU2VuZGVyJikgPSBkZWxldGU7CgovLyAgICAgLy8gU2VuZHMgdmFsdWUgeCB0byBpbmRpY2F0b3Igb2YgdHlwZSBUCi8vICAgICB2b2lkIG9wZXJhdG9yKCkoY29uc3QgVCYga2V5LCBjb25zdCBEQVRBJiB4KSB7Ci8vICAgICAgICAgSW5kaWNhdG9yVmVjdG9yPFQsIERBVEE+IG5ld1Aoa2V5LCB4KTsKLy8gICAgICAgICBfcS5lbnF1ZXVlKG5ld1ApOwovLyAgICAgfQoKLy8gICAgIC8vIFNlbmRzIHZhbHVlIHBhaXIgKHgseSkgdG8gcGxvdC9pbmRpY2F0b3Igb2YgdHlwZSBUCi8vICAgICB2b2lkIG9wZXJhdG9yKCkoY29uc3QgVCYga2V5LCBjb25zdCBEQVRBJiB4LCBjb25zdCBEQVRBJiB5KSB7Ci8vICAgICAgICAgSW5kaWNhdG9yVmVjdG9yPFQsIERBVEE+IG5ld1Aoa2V5LCB4LCB5KTsKLy8gICAgICAgICBfcS5lbnF1ZXVlKG5ld1ApOwovLyAgICAgfQoKLy8gICAgIC8vIFNlbmRzIHZhbHVlIHBhaXIgKHgseSkgdG8gcGxvdC9pbmRpY2F0b3Igb2YgdHlwZSBUCi8vICAgICAvLyBOb3RlIGlmIGFuIGluZGljYXRvciBpcyBzZWxlY3RlZCwgb25seSB0aGUgbGF0ZXN0IHZhbHVlCi8vICAgICAvLyB3aWxsIGJlIHNob3duCi8vICAgICB2b2lkIG9wZXJhdG9yKCkoY29uc3QgSW5kaWNhdG9yVmVjdG9yPFQsIERBVEE+JiBwdikgewovLyAgICAgICAgIF9xLmVucXVldWUocHYpOwovLyAgICAgfQoKLy8gICAgIC8vIFNlbmRzIGEgbGlzdCBvZiBwYWlycyAoeCx5KSB0byBwbG90L2luZGljYXRvciBvZiB0eXBlIFQKLy8gICAgIC8vIE5vdGUgaWYgYW4gaW5kaWNhdG9yIGlzIHNlbGVjdGVkLCBvbmx5IHRoZSBsYXRlc3QgdmFsdWUKLy8gICAgIC8vIHdpbGwgYmUgc2hvd24gYW5kIHRoZSBsaXN0IHkgd2lsbCBiZSBpZ25vcmVkCi8vICAgICB0ZW1wbGF0ZTx0eXBlbmFtZSBPRkZEQVRBPgovLyAgICAgdm9pZCBvcGVyYXRvcigpKGNvbnN0IFQmIGtleSwgY29uc3Qgc3RkOjp2ZWN0b3I8T0ZGREFUQT4mIHgsCi8vICAgICAgICAgY29uc3Qgc3RkOjp2ZWN0b3I8T0ZGREFUQT4mIHkpIHsKLy8gICAgICAgICBzdGQ6OnZlY3RvcjwgSW5kaWNhdG9yVmVjdG9yPFQsIERBVEE+ID4gaXRlbXMoeC5zaXplKCkpOwovLyAgICAgICAgIGZvciAodW5zaWduZWQgaW50IGkgPSAwOyBpIDwgeC5zaXplKCk7IGkrKykgewovLyAgICAgICAgICAgICBpdGVtc1tpXSA9IEluZGljYXRvclZlY3RvcjxULCBEQVRBPihrZXksCi8vICAgICAgICAgICAgICAgICBzdGF0aWNfY2FzdDxEQVRBPih4W2ldKSwKLy8gICAgICAgICAgICAgICAgIHN0YXRpY19jYXN0PERBVEE+KHlbaV0pKTsKLy8gICAgICAgICB9CgovLyAgICAgICAgIF9xLmVucXVldWVfYnVsayhpdGVtcy5iZWdpbigpLCBpdGVtcy5zaXplKCkpOwovLyAgICAgfQoKLy8gICAgIC8vIFNlbmRzIGEgbGlzdCBvZiBwYWlycyAoeCx5KSB0byBwbG90L2luZGljYXRvciBvZiB0eXBlIFQKLy8gICAgIC8vIE5vdGUgaWYgYW4gaW5kaWNhdG9yIGlzIHNlbGVjdGVkLCBvbmx5IHRoZSBsYXRlc3QgdmFsdWUKLy8gICAgIC8vIHdpbGwgYmUgc2hvd24gYW5kIHRoZSBsaXN0IHkgd2lsbCBiZSBpZ25vcmVkCi8vICAgICB0ZW1wbGF0ZTx0eXBlbmFtZSBPRkZEQVRBPgovLyAgICAgdm9pZCBvcGVyYXRvcigpKGNvbnN0IFQmIGtleSwgT0ZGREFUQSogeF9kYXRhLCBPRkZEQVRBKiB5X2RhdGEsCi8vICAgICAgICAgY29uc3Qgc2l6ZV90JiBzaXplKSB7Ci8vICAgICAgICAgc3RkOjp2ZWN0b3I8IEluZGljYXRvclZlY3RvcjxULCBEQVRBPiA+IGl0ZW1zKHNpemUpOwovLyAgICAgICAgIGZvciAodW5zaWduZWQgaW50IGkgPSAwOyBpIDwgc2l6ZTsgaSsrKSB7Ci8vICAgICAgICAgICAgIGl0ZW1zW2ldID0gSW5kaWNhdG9yVmVjdG9yPFQsIERBVEE+KGtleSwKLy8gICAgICAgICAgICAgICAgIHN0YXRpY19jYXN0PERBVEE+KHhfZGF0YVtpXSksCi8vICAgICAgICAgICAgICAgICBzdGF0aWNfY2FzdDxEQVRBPih5X2RhdGFbaV0pKTsKLy8gICAgICAgICB9CgovLyAgICAgICAgIF9xLmVucXVldWVfYnVsayhpdGVtcy5iZWdpbigpLCBpdGVtcy5zaXplKCkpOwovLyAgICAgfQovLyB9OwoKCi8vIHRlbXBsYXRlPHR5cGVuYW1lIFQ+Ci8vIC8vIENyZWF0ZXMgaW5kaWNhdG9yIHdpdGggS2V5IGFuZCBhZGRzIGl0IHRvIFJlY2VpdmVyIHEKLy8gaW5saW5lIEluZGljYXRvcjxUPiBtYWtlX2luZGljYXRvcihUJiYga2V5LCB1bnNpZ25lZCBpbnQmJiBwcmVjaXNpb24gPSA2LAovLyAgICAgICAgIE51bWVyaWNGb3JtYXQmJiBmb3JtYXQgPSBOdW1lcmljRm9ybWF0OjpEZWZhdWx0KSB7Ci8vICAgICByZXR1cm4gSW5kaWNhdG9yPFQ+KHN0ZDo6Zm9yd2FyZDxUPihrZXkpLAovLyAgICAgICAgIHN0ZDo6Zm9yd2FyZDx1bnNpZ25lZCBpbnQ+KHByZWNpc2lvbiksCi8vICAgICAgICAgc3RkOjpmb3J3YXJkPE51bWVyaWNGb3JtYXQ+KGZvcm1hdCkpOwovLyB9CgovLyB0ZW1wbGF0ZTx0eXBlbmFtZSBUPgovLyBpbmxpbmUgUGxvdDxUPiBtYWtlX3Bsb3QoVCYmIGtleSkgewovLyAgICAgcmV0dXJuIFBsb3Q8VD4oc3RkOjpmb3J3YXJkPFQ+KGtleSkpOwovLyB9CgoKfSAgLy8gbmFtZXNwYWNlIFNCQ1F1ZWVucwojZW5kaWYKAAAAAAAAAABmSwAAAAAAAAAAAAAAAAAAAAAAAGZLAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACaGgAAAAAAAFsaAAAAAAAAAAAAAAAA8L8"
				],
				[
					1,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAABmSwAAI2lmbmRlZiBJTVBMT1RIRUxQRVJTX0gKI2RlZmluZSBJTVBMT1RIRUxQRVJTX0gKI3ByYWdtYSBvbmNlCgovLyAvLyBDIDNyZCBwYXJ0eSBpbmNsdWRlcwovLyAjaW5jbHVkZSA8aW1ndWkuaD4KLy8gI2luY2x1ZGUgPGltcGxvdC5oPgovLyAjaW5jbHVkZSA8c3BkbG9nL3NwZGxvZy5oPgovLyAjaW5jbHVkZSA8cmVhZGVyd3JpdGVycXVldWUuaD4KLy8gI2luY2x1ZGUgPGNvbmN1cnJlbnRxdWV1ZS5oPgoKLy8gLy8gQysrIFNURCBpbmNsdWRlcwovLyAjaW5jbHVkZSA8YWxnb3JpdGhtPgovLyAjaW5jbHVkZSA8Y3N0ZGRlZj4KLy8gI2luY2x1ZGUgPGNzdGRpbnQ+Ci8vICNpbmNsdWRlIDxmdW5jdGlvbmFsPgovLyAjaW5jbHVkZSA8aW9zPgovLyAjaW5jbHVkZSA8bWVtb3J5PgovLyAjaW5jbHVkZSA8c3RyaW5nPgovLyAjaW5jbHVkZSA8dW5vcmRlcmVkX21hcD4KLy8gI2luY2x1ZGUgPHV0aWxpdHk+Ci8vICNpbmNsdWRlIDx2ZWN0b3I+Ci8vICNpbmNsdWRlIDxzc3RyZWFtPgovLyAjaW5jbHVkZSA8ZGVxdWU+CgovLyBDKysgM3JkIHBhcnR5IGluY2x1ZGVzCiNpbmNsdWRlIDxhcm1hZGlsbG8+CgovLyAvLyBteSBpbmNsdWRlcwoKbmFtZXNwYWNlIFNCQ1F1ZWVucyB7CgovLyB0ZW1wbGF0ZTx0eXBlbmFtZSBULCB0eXBlbmFtZSBEQVRBID0gZG91YmxlPgovLyBjbGFzcyBJbmRpY2F0b3JSZWNlaXZlcjsKLy8gdGVtcGxhdGU8dHlwZW5hbWUgVCwgdHlwZW5hbWUgREFUQSA9IGRvdWJsZT4KLy8gY2xhc3MgSW5kaWNhdG9yU2VuZGVyOwoKLy8gLy8gV2VsbCwgSSB3aWxsIGxlYXZlIHRoaXMgYXMgdGhpcyB1bnRpbCBJIGNhbiBjb21lIHVwIHdpdGgKLy8gLy8gYSBiZXR0ZXIgc29sdXRpb24uCi8vIC8vIEltUGxvdHMgYXJlIDJEIGJ5IGRlZmF1bHQuIFgsIFkgYXJlIHRoZSB0eXBlcyBvZiB0aG9zZSB0d28KLy8gLy8gYXhpcyB3aGljaCBieSBkZWZhdWx0IGFyZSBmbG9hdCBidXQgdGhleSBjYW4gYmUgY2hhbmdlZC4KLy8gLy8gdW5zaWduZWQgaW50IGlzIGEgbnVtYmVyIHRoYXQgaW5zdHJ1Y3RzIHRoZSBjb25zdW1lcgovLyAvLyB0byB3aGljaCBncmFwaCBpcyBzaG91bGQgZ28gdG8uCi8vIC8vIFQgaXMgcmVzZXJ2ZWQgZm9yIHRoZSB1c2VyLCBpdCBjb3VsZCBiZSBhbiBlbnVtIHR5cGUgKG15IHByZWZlcmVuY2UpCi8vIC8vIG9yIGFueXRoaW5nIHRoZXkgd2FudCB0byBkaXN0aW5ndWlzaCB0aGVtLgovLyB0ZW1wbGF0ZTx0eXBlbmFtZSBULCB0eXBlbmFtZSBEQVRBID0gZG91YmxlPgovLyBzdHJ1Y3QgSW5kaWNhdG9yVmVjdG9yIHsKLy8gICAgIHVzaW5nIHR5cGUgPSBUOwovLyAgICAgdXNpbmcgZGF0YV90eXBlID0gREFUQTsKCi8vICAgICBJbmRpY2F0b3JWZWN0b3IoKSB7fQovLyAgICAgSW5kaWNhdG9yVmVjdG9yKGNvbnN0IFQmIGlkLCBjb25zdCBEQVRBJiB4LCBjb25zdCBEQVRBJiB5KQovLyAgICAgICAgIDogSUQoaWQpLCBYKHgpLCBZKHkpIHt9Ci8vICAgICBJbmRpY2F0b3JWZWN0b3IoY29uc3QgVCYgaWQsIGNvbnN0IERBVEEmIHgpCi8vICAgICAgICAgOiBJRChpZCksIFgoeCkge30KCi8vICAgICBUIElEOwovLyAgICAgREFUQSBYOwovLyAgICAgREFUQSBZOwovLyB9OwoKLy8gdGVtcGxhdGU8dHlwZW5hbWUgVCwgdHlwZW5hbWUgREFUQSA9IGRvdWJsZT4KLy8gdXNpbmcgSW5kaWNhdG9yc1F1ZXVlCi8vICAgICA9IHN0ZDo6c2hhcmVkX3B0cjxtb29keWNhbWVsOjpDb25jdXJyZW50UXVldWU8IEluZGljYXRvclZlY3RvcjxULCBEQVRBPiA+PjsKCi8vIHN0cnVjdCBQbG90RmxhZ3MgewovLyAgICAgYm9vbCBDbGVhck9uTmV3RGF0YTsKLy8gfTsKCi8vIGVudW0gY2xhc3MgTnVtZXJpY0Zvcm1hdCB7Ci8vICAgICBEZWZhdWx0LCBTY2llbnRpZmljLCBIZXhGbG9hdCwgRml4ZWQKLy8gfTsKCi8vIC8vIEFuIGluZGljYXRvciBpcyBhIEltR1VJIGJ1dHRvbiB0aGF0IGhhcyBiZWVuIG1vZGlmaWVkIHRvIGFjdAovLyAvLyBsaWtlIGFuIGluZGljYXRvci4KLy8gLy8gQXMgZm9yIG5vdywgdGhpcyBpbmRpY2F0b3IgaGFzIHNvbWUgcGFyYW1ldGVycyBzdWNoIGFzCi8vIC8vIHByZWNpc2lvbiBvZiB0aGUgbnVtYmVyIHRvIGRpc3BsYXksIGFuZCBmb3JtYXQgb2YgdGhlIG51bWJlcgovLyB0ZW1wbGF0ZTx0eXBlbmFtZSBUPgovLyBjbGFzcyBJbmRpY2F0b3IgewovLyAgcHJvdGVjdGVkOgovLyAgICAgVCBJRDsKLy8gICAgIC8vIF9pbWd1aV9zdGFjayBleGlzdHMgdG8gZ2l2ZSB0aGlzIGJ1dHRvbiBhbiB1bmlxdWUgaWQKLy8gICAgIC8vIGZvciB0aGUgSW1HVUkgQVBJLiBJZiB0aGlzIHdlcmUgbm90IHRoZXJlLCBpdCB3b3VsZCBzaGFyZQovLyAgICAgLy8gYW4gSUQgd2l0aCBhbGwgdGhlIGVtcHR5IG9yIHNhbWUgaW5kaWNhdG9ycy4KLy8gICAgIHN0ZDo6c3RyaW5nIF9pbWd1aV9zdGFjazsKCi8vICBwcml2YXRlOgovLyAgICAgLy8gQWN0dWFsIHN0cmluZyB0aGF0IGdldHMgZGlzcGxheWVkCi8vICAgICBzdGQ6OnN0cmluZyBfZGlzcGxheTsKCi8vICAgICAvLyBGb3JtYXQgcGFyYW1ldGVycwovLyAgICAgdW5zaWduZWQgaW50IF9wcmVjaXNpb247Ci8vICAgICBOdW1lcmljRm9ybWF0IF9mb3JtYXQ7CgovLyAgICAgZG91YmxlIF92YWw7CgovLyAgcHVibGljOgovLyAgICAgZXhwbGljaXQgSW5kaWNhdG9yKGNvbnN0IFQmIGlkLCBjb25zdCB1bnNpZ25lZCBpbnQmIHByZWNpc2lvbiA9IDYsCi8vICAgICAgICAgY29uc3QgTnVtZXJpY0Zvcm1hdCYgZm9ybWF0ID0gTnVtZXJpY0Zvcm1hdDo6RGVmYXVsdCkKLy8gICAgICAgICA6ICAgSUQoaWQpLAovLyAgICAgICAgICAgICBfaW1ndWlfc3RhY2soIiMjIiArIHN0ZDo6dG9fc3RyaW5nKHN0YXRpY19jYXN0PGludD4oaWQpKSksCi8vICAgICAgICAgICAgIF9kaXNwbGF5KF9pbWd1aV9zdGFjayksIF9wcmVjaXNpb24ocHJlY2lzaW9uKSwgX2Zvcm1hdChmb3JtYXQpLAovLyAgICAgICAgICAgICBfdmFsKDAuMCkKLy8gICAgICAgICB7IH0KCi8vICAgICAvLyBNb3ZpbmcgYWxsb3dlZAovLyAgICAgSW5kaWNhdG9yKEluZGljYXRvciYmKSA9IGRlZmF1bHQ7Ci8vICAgICBJbmRpY2F0b3ImIG9wZXJhdG9yPShJbmRpY2F0b3ImJikgPSBkZWZhdWx0OwoKLy8gICAgIC8vIE5vIGNvcHlpbmcKLy8gICAgIEluZGljYXRvcihjb25zdCBJbmRpY2F0b3ImKSA9IGRlbGV0ZTsKCi8vICAgICB2aXJ0dWFsIH5JbmRpY2F0b3IoKSB7fQoKLy8gICAgIHRlbXBsYXRlPHR5cGVuYW1lIE9GRkRBVEE+Ci8vICAgICAvLyBBZGRzIGVsZW1lbnQgbmV3VmFsLnggdG8gc2hvdyBpbiB0aGlzIGluZGljYXRvci4KLy8gICAgIC8vIG5ld1ZhbC55IGlzIGlnbm9yZWQKLy8gICAgIHZvaWQgYWRkKGNvbnN0IEluZGljYXRvclZlY3RvcjxULCBPRkZEQVRBPiYgbmV3VmFsKSB7Ci8vICAgICAgICAgaWYgKG5ld1ZhbC5JRCA9PSBJRCkgewovLyAgICAgICAgICAgICBzdGQ6Om9zdHJpbmdzdHJlYW0gb3V0OwovLyAgICAgICAgICAgICBvdXQucHJlY2lzaW9uKF9wcmVjaXNpb24pOwovLyAgICAgICAgICAgICBpZiAoX2Zvcm1hdCA9PSBOdW1lcmljRm9ybWF0OjpTY2llbnRpZmljKSB7Ci8vICAgICAgICAgICAgICAgICBvdXQgPDwgc3RkOjpzY2llbnRpZmljOwovLyAgICAgICAgICAgICB9IGVsc2UgaWYgKF9mb3JtYXQgPT0gTnVtZXJpY0Zvcm1hdDo6SGV4RmxvYXQpIHsKLy8gICAgICAgICAgICAgICAgIG91dCA8PCBzdGQ6OmhleGZsb2F0OwovLyAgICAgICAgICAgICB9IGVsc2UgaWYgKF9mb3JtYXQgPT0gTnVtZXJpY0Zvcm1hdDo6Rml4ZWQpIHsKLy8gICAgICAgICAgICAgICAgIG91dCA8PCBzdGQ6OmZpeGVkOwovLyAgICAgICAgICAgICB9CgovLyAgICAgICAgICAgICBvdXQgPDwgbmV3VmFsLlg7Ci8vICAgICAgICAgICAgIF9kaXNwbGF5ID0gIiI7CgovLyAgICAgICAgICAgICBpZiAoIW91dC5zdHIoKS5lbXB0eSgpKSB7Ci8vICAgICAgICAgICAgICAgICBfZGlzcGxheSA9IG91dC5zdHIoKTsKLy8gICAgICAgICAgICAgfQoKLy8gICAgICAgICAgICAgX2Rpc3BsYXkgKz0gX2ltZ3VpX3N0YWNrOwoKLy8gICAgICAgICAgICAgX3ZhbCA9IHN0YXRpY19jYXN0PGRvdWJsZT4obmV3VmFsLlgpOwovLyAgICAgICAgIH0KLy8gICAgIH0KCi8vICAgICB0ZW1wbGF0ZTx0eXBlbmFtZSBPRkZEQVRBPgovLyAgICAgdm9pZCBvcGVyYXRvcigpKGNvbnN0IHN0ZDo6c3RyaW5nJiBsYWJlbCwgT0ZGREFUQSYgb3V0LAovLyAgICAgICAgIGNvbnN0IGZsb2F0JiBvZmZzZXQgPSAwKSB7Ci8vICAgICAgICAgSW1HdWk6OlRleHQoIiVzIiwgbGFiZWwuY19zdHIoKSk7IEltR3VpOjpTYW1lTGluZShvZmZzZXQpOwovLyAgICAgICAgIEltR3VpOjpCdXR0b24oX2Rpc3BsYXkuY19zdHIoKSk7Ci8vICAgICAgICAgb3V0ID0gc3RhdGljX2Nhc3Q8T0ZGREFUQT4oX3ZhbCk7Ci8vICAgICB9CgovLyAgICAgdGVtcGxhdGU8dHlwZW5hbWUgT0ZGREFUQT4KLy8gICAgIHZvaWQgRHJhdyhjb25zdCBzdGQ6OnN0cmluZyYgbGFiZWwsIE9GRkRBVEEmIG91dCwgY29uc3QgZmxvYXQmIG9mZnNldCA9IDApIHsKLy8gICAgICAgICB0aGlzLT5vcGVyYXRvcigpKGxhYmVsLCBvdXQsIG9mZnNldCk7Ci8vICAgICB9CgovLyAgICAgLy8gRm9yIGluZGljYXRvcnMsIGl0IGRvZXMgbm90aGluZy4KLy8gICAgIHZpcnR1YWwgdm9pZCBFeGVjdXRlQXR0cmlidXRlcygpIHsgfQoKLy8gICAgIC8vIEZvciBpbmRpY2F0b3JzLCBpdCBkb2VzIG5vdGhpbmcuCi8vICAgICB2aXJ0dWFsIHZvaWQgQ2xlYXJBdHRyaWJ1dGVzKCkgeyB9CgovLyAgICAgdmlydHVhbCBUIEdldElEKCkgY29uc3QgewovLyAgICAgICAgIHJldHVybiBJRDsKLy8gICAgIH0KLy8gfTsKCi8vIHRlbXBsYXRlPHR5cGVuYW1lIFQ+Ci8vIGNsYXNzIEJvb2xlYW5JbmRpY2F0b3IgOiBwdWJsaWMgSW5kaWNhdG9yPFQ+IHsKLy8gICAgIHN0ZDo6ZnVuY3Rpb248Ym9vbChjb25zdCBkb3VibGUmKT4gX2Y7Ci8vICAgICBJbVZlYzQgX29mZl9jb2xvcjsKLy8gICAgIEltVmVjNCBfb25fY29sb3I7Ci8vICAgICBJbVZlYzQgX2N1cnJlbnRfY29sb3I7Ci8vICAgICBib29sIF9pc19vbjsKCi8vICBwdWJsaWM6Ci8vICAgICBleHBsaWNpdCBCb29sZWFuSW5kaWNhdG9yKGNvbnN0IFQmIGlkLAovLyAgICAgICAgIHN0ZDo6ZnVuY3Rpb248Ym9vbChjb25zdCBkb3VibGUmKT4mJiBmKQovLyAgICAgICAgIDogSW5kaWNhdG9yPFQ+KGlkKSwgX2YoZiksCi8vICAgICAgICAgX29mZl9jb2xvcihzdGF0aWNfY2FzdDxJbVZlYzQ+KEltQ29sb3I6OkhTVigwLjBmLCAwLjZmLCAwLjZmKSkpLAovLyAgICAgICAgIF9vbl9jb2xvcihzdGF0aWNfY2FzdDxJbVZlYzQ+KEltQ29sb3I6OkhTVigyLjBmIC8gNy4wZiwgMC42ZiwgMC42ZikpKSwKLy8gICAgICAgICBfY3VycmVudF9jb2xvcihfb2ZmX2NvbG9yKSwgX2lzX29uKGZhbHNlKSB7Ci8vICAgICB9CgovLyAgICAgLy8gTW92aW5nIGFsbG93ZWQKLy8gICAgIEJvb2xlYW5JbmRpY2F0b3IoQm9vbGVhbkluZGljYXRvciYmKSA9IGRlZmF1bHQ7Ci8vICAgICBCb29sZWFuSW5kaWNhdG9yJiBvcGVyYXRvcj0oQm9vbGVhbkluZGljYXRvciYmKSA9IGRlZmF1bHQ7CgovLyAgICAgLy8gTm8gY29weWluZwovLyAgICAgQm9vbGVhbkluZGljYXRvcihjb25zdCBCb29sZWFuSW5kaWNhdG9yJikgPSBkZWxldGU7CgovLyAgICAgdGVtcGxhdGU8dHlwZW5hbWUgT0ZGREFUQT4KLy8gICAgIC8vIFVzZXMgbmV3VmFsLnggdG8gaW5kaWNhdGUgdGhlIGVxdWFsaXR5Ci8vICAgICB2b2lkIGFkZChjb25zdCBJbmRpY2F0b3JWZWN0b3I8VCwgT0ZGREFUQT4mIG5ld1ZhbCkgewovLyAgICAgICAgIF9pc19vbiA9IF9mKHN0YXRpY19jYXN0PGRvdWJsZT4obmV3VmFsLlgpKTsKLy8gICAgICAgICBfY3VycmVudF9jb2xvciA9IF9pc19vbiA/IF9vbl9jb2xvciA6IF9vZmZfY29sb3I7Ci8vICAgICB9CgovLyAgICAgdm9pZCBvcGVyYXRvcigpKGNvbnN0IHN0ZDo6c3RyaW5nJiBsYWJlbCwgYm9vbCYgb3V0LAovLyAgICAgICAgIGNvbnN0IGZsb2F0JiBvZmZzZXQgPSAwKSB7Ci8vICAgICAgICAgb3V0ID0gX2lzX29uOwovLyAgICAgICAgIEltR3VpOjpUZXh0KCIlcyIsIGxhYmVsLmNfc3RyKCkpOyBJbUd1aTo6U2FtZUxpbmUob2Zmc2V0KTsKCi8vICAgICAgICAgSW1HdWk6OlB1c2hTdHlsZUNvbG9yKEltR3VpQ29sX0J1dHRvbiwgX2N1cnJlbnRfY29sb3IpOwovLyAgICAgICAgIEltR3VpOjpQdXNoU3R5bGVDb2xvcihJbUd1aUNvbF9CdXR0b25Ib3ZlcmVkLCBfY3VycmVudF9jb2xvcik7Ci8vICAgICAgICAgSW1HdWk6OlB1c2hTdHlsZUNvbG9yKEltR3VpQ29sX0J1dHRvbkFjdGl2ZSwgX2N1cnJlbnRfY29sb3IpOwoKLy8gICAgICAgICBJbUd1aTo6QnV0dG9uKEluZGljYXRvcjxUPjo6X2ltZ3VpX3N0YWNrLmNfc3RyKCksIEltVmVjMigxNSwgMTUpKTsKCi8vICAgICAgICAgSW1HdWk6OlBvcFN0eWxlQ29sb3IoMyk7Ci8vICAgICB9CgovLyAgICAgdm9pZCBEcmF3KGNvbnN0IHN0ZDo6c3RyaW5nJiBsYWJlbCwgYm9vbCYgb3V0LCBjb25zdCBmbG9hdCYgb2Zmc2V0ID0gMCkgewovLyAgICAgICAgIHRoaXMtPm9wZXJhdG9yKCkobGFiZWwsIG91dCwgb2Zmc2V0KTsKLy8gICAgIH0KLy8gfTsKCi8vIC8vIEludGVybmFsIHN0cnVjdHVyZSB0byBiZSB1c2VkIGZvciBQbG90IGNsYXNzLiBTZXJ2ZXJzIGFzIGFuIGludGVyZmFjZQovLyAvLyBiZXR3ZWVuIHRoaXMgQVBJIGFuZCBJbVBsb3QKdGVtcGxhdGU8c2l6ZV90IE51bVBsb3RzID0gMT4KY2xhc3MgUGxvdERhdGFCdWZmZXIgewoJc3RhdGljX2Fzc2VydChOdW1QbG90cyA+IDAsICJUaGVyZSBtdXN0IGJlIGEgbGVhc3Qgb25lIHBsb3QhIik7CgogICAgYXJtYTo6dXdvcmQgTjsKICAgIGFybWE6OnV3b3JkIF9zdGFydCA9IDA7CiAgICBhcm1hOjp1d29yZCBfc2l6ZSA9IDA7CiAgICBhcm1hOjp1d29yZCBfY3VycmVudF9pbmRleCA9IDA7CgogICAgYXJtYTo6bWF0IERhdGE7CiBwdWJsaWM6CiAgICBleHBsaWNpdCBQbG90RGF0YUJ1ZmZlcihjb25zdCBhcm1hOjp1d29yZCYgbWF4KQogICAgICAgIDogTihtYXgpLCBEYXRhKE51bVBsb3RzICsgMSwgTiwgYXJtYTo6ZmlsbDo6emVyb3MpIHt9CgogICAgYXV0byBvcGVyYXRvcltdKGNvbnN0IGFybWE6OnV3b3JkJiBpKSB7CiAgICAgICAgYXJtYTo6dXdvcmQgaW5kZXggPSAoaSArIF9zdGFydCkgJSBfc2l6ZTsKICAgICAgICByZXR1cm4gRGF0YS51bnNhZmVfY29sKCBpbmRleCApOwogICAgfQoKICAgIHZvaWQgb3BlcmF0b3IoKShjb25zdCBkb3VibGUmIHgsIGNvbnN0IGRvdWJsZSYgeSkgewogICAgICAgIERhdGEuY29sKF9jdXJyZW50X2luZGV4KSA9IHt4LCB5fTsKCiAgICAgICAgaWYgKF9zaXplIDwgTikgewogICAgICAgICAgICBfc2l6ZSsrOwogICAgICAgICAgICBfY3VycmVudF9pbmRleCA9IF9zaXplID09IE4gPyAwIDogX2N1cnJlbnRfaW5kZXggKyAxOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIF9zdGFydCA9IChfc3RhcnQgKyAxKSAlIF9zaXplOwogICAgICAgICAgICBfY3VycmVudF9pbmRleCA9IF9zdGFydDsKICAgICAgICB9CiAgICB9CgogICAgLy8gUmVzaXplcyB0aGUgaW50ZXJuYWwgZGF0YSBidWZmZXIgd2l0aCBuZXdfc2l6ZS4gQ2xlYXJzIHRoZSBkYXRhIChmYXN0ZXIpCiAgICAvLyBpZiBjbGVhcl9kYXRhIGlzIHRydWUsIG90aGVyd2lzZSwgaXQga2VlcHMgdGhlIGRhdGEgKHNsb3dlcikKICAgIHZvaWQgcmVzaXplKGNvbnN0IGFybWE6OnV3b3JkJiBuZXdfc2l6ZSwgY29uc3QgYm9vbCYgY2xlYXJfZGF0YSA9IGZhbHNlKSB7CiAgICAJTiA9IG5ld19zaXplOwogICAgCWlmIChjbGVhcl9kYXRhKSB7CiAgICAJCURhdGEuc2V0X3NpemUoTnVtUGxvdHMgKyAxLCBOKTsKCQkgICAgX3NpemUgPSAwOwogICAgICAgIAlfY3VycmVudF9pbmRleCA9IDA7CiAgICAJfSBlbHNlIHsKICAgIAkJRGF0YS5yZXNpemUoTnVtUGxvdHMgKyAxLCBOKTsKICAgIAl9CiAgICB9CgogICAgdm9pZCBjbGVhcigpIHsKCSAgICBfc2l6ZSA9IDA7CiAgICAJX2N1cnJlbnRfaW5kZXggPSAwOwogICAgfQoKICAgIGF1dG8gc2l6ZSgpIGNvbnN0IHsKICAgIAlyZXR1cm4gX3NpemU7CiAgICB9Cn07CgovLyBlbnVtIGNsYXNzIFBsb3RTdHlsZSB7Ci8vICAgICBMaW5lLAovLyAgICAgU2NhdHRlcgovLyB9OwovLyAvLyBBIHBsb3QgaW5kaWNhdG9yLiBJdCBpbmhlcml0cyBmcm9tIGluZGljYXRvciwgYnV0IG1vcmUgb3V0IG9mIG5lY2Vzc2l0eS4KLy8gLy8gSXQga2VlcHMgdGhlIGNvZGUgY2xlYW4sIGJ1dCBpdCB3YXMgcmVhbGx5IG5vdCBuZWNlc3NhcnkuCi8vIC8vIE9yaWdpbmFsbHksIGEgcGxvdCBjb3VsZCBiZSBhbnkgdHlwZSB0aGF0IHdhcyBub3QgZG91YmxlIGJ1dAovLyAvLyBJbVBsb3Qgb25seSBzaG93cyBkb3VibGUgbnVtYmVycyBvciB0cmFuc2Zvcm1zIHRoZW0gdG8gZG91YmxlcwovLyAvLyBpbnRlcm5hbGx5LiBBbHNvLCB4IGFuZCB5IGhhdmUgdG8gYmUgdGhlIHNhbWUgdHlwZS4KLy8gdGVtcGxhdGU8dHlwZW5hbWUgVD4KLy8gY2xhc3MgUGxvdCA6IHB1YmxpYyBJbmRpY2F0b3I8VD4gewovLyAgICAgYm9vbCBDbGVhcmVkID0gZmFsc2U7Ci8vICAgICBib29sIENsZWFyT25OZXdEYXRhID0gZmFsc2U7CgoKLy8gICAgIGNvbnN0IHN0ZDo6c2l6ZV90IE1heFNhbXBsZXM7Ci8vICAgICBQbG90RGF0YUJ1ZmZlciBwbG90RGF0YTsKCi8vICBwdWJsaWM6Ci8vICAgICB1c2luZyB0eXBlID0gVDsKLy8gICAgIHVzaW5nIGRhdGFfdHlwZSA9IGRvdWJsZTsKCi8vICAgICBleHBsaWNpdCBQbG90KGNvbnN0IFQmIGlkLCBjb25zdCBib29sJiBjbGVhck9uTmV3RGF0YSA9IGZhbHNlLAovLyAgICAgICAgIGNvbnN0IHN0ZDo6c2l6ZV90JiBtYXhTYW1wbGVzID0gMTAwZTMpIDogSW5kaWNhdG9yPFQ+KGlkKSwKLy8gICAgICAgICBDbGVhck9uTmV3RGF0YShjbGVhck9uTmV3RGF0YSksIE1heFNhbXBsZXMobWF4U2FtcGxlcyksCi8vICAgICAgICAgcGxvdERhdGEobWF4U2FtcGxlcykgewovLyAgICAgfQoKLy8gICAgIC8vIE5vIG1vdmluZwovLyAgICAgUGxvdChQbG90JiYpID0gZGVmYXVsdDsKLy8gICAgIFBsb3QmIG9wZXJhdG9yPShQbG90JiYpID0gZGVmYXVsdDsKCi8vICAgICAvLyBObyBjb3B5aW5nCi8vICAgICBQbG90KGNvbnN0IFBsb3QmKSA9IGRlbGV0ZTsKCi8vICAgICB0ZW1wbGF0ZTx0eXBlbmFtZSBPRkZEQVRBPgovLyAgICAgdm9pZCBhZGQoY29uc3QgSW5kaWNhdG9yVmVjdG9yPFQsIE9GRkRBVEE+JiB2KSB7Ci8vICAgICAgICAgaWYgKHYuSUQgPT0gSW5kaWNhdG9yPFQ+OjpJRCkgewovLyAgICAgICAgICAgICBwbG90RGF0YSh2LlgsIHYuWSk7Ci8vICAgICAgICAgfQovLyAgICAgfQoKLy8gICAgIHRlbXBsYXRlPHR5cGVuYW1lIE9GRkRBVEE+Ci8vICAgICB2b2lkIGFkZChjb25zdCBPRkZEQVRBJiB4LCBjb25zdCBPRkZEQVRBJiB5KSB7Ci8vICAgICAgICAgcGxvdERhdGEoeCwgeSk7Ci8vICAgICB9CgovLyAgICAgdm9pZCBjbGVhcigpIHsKLy8gICAgICAgICBwbG90RGF0YS5TaXplID0gMDsKLy8gICAgICAgICBwbG90RGF0YS5DdXJyZW50SW5kZXggPSAwOwovLyAgICAgfQoKLy8gICAgIC8vIEV4ZWN1dGVzIGF0dHJpYnV0ZXMuIEZvciBwbG90cywgaXQgY2xlYXJzIG9uIG5ldyBkYXRhLgovLyAgICAgdm9pZCBFeGVjdXRlQXR0cmlidXRlcygpIHsKLy8gICAgICAgICBpZiAoQ2xlYXJPbk5ld0RhdGEpIHsKLy8gICAgICAgICAgICAgaWYgKCFDbGVhcmVkKSB7Ci8vICAgICAgICAgICAgICAgICBjbGVhcigpOwovLyAgICAgICAgICAgICAgICAgQ2xlYXJlZCA9IHRydWU7Ci8vICAgICAgICAgICAgIH0KLy8gICAgICAgICB9Ci8vICAgICB9CgovLyAgICAgLy8gQ2xlYXJzIGF0dHJpYnV0ZXMuIEZvciBwbG90cywgaXQgcmVzZXRzIGlmIGl0IHNob3VsZCBjbGVhci4KLy8gICAgIC8vIG9uIG5ldyBkYXRhLgovLyAgICAgdm9pZCBDbGVhckF0dHJpYnV0ZXMoKSB7Ci8vICAgICAgICAgQ2xlYXJlZCA9IGZhbHNlOwovLyAgICAgfQoKLy8gICAgIC8vIFdyYXBzIEltUGxvdDo6UGxvdExpbmUKLy8gICAgIHZvaWQgb3BlcmF0b3IoKShjb25zdCBzdGQ6OnN0cmluZyYgbGFiZWwsCi8vICAgICAgICAgY29uc3QgUGxvdFN0eWxlJiBzdHlsZSA9IFBsb3RTdHlsZTo6TGluZSkgewovLyAgICAgICAgIC8vIHN0YXRpYyBJbVBsb3RHZXR0ZXIgZ2V0dGVyID0gc3RhdGljX2Nhc3Q8SW1QbG90R2V0dGVyPihfdHJhbnNmb3JtKTsKLy8gICAgICAgICBzdGF0aWMgYXV0byB0cmFuc2Zvcm0gPSBbXShpbnQgaWR4LCB2b2lkKiBkYXRhKSB7Ci8vICAgICAgICAgICAgIGF1dG8gbXlEYXRhID0gc3RhdGljX2Nhc3Q8UGxvdERhdGFCdWZmZXIqPihkYXRhKTsKLy8gICAgICAgICAgICAgYXV0byBwYWlyID0gKCpteURhdGEpW2lkeF07Ci8vICAgICAgICAgICAgIHJldHVybiBJbVBsb3RQb2ludChwYWlyLmZpcnN0LCBwYWlyLnNlY29uZCk7Ci8vICAgICAgICAgfTsKCi8vICAgICAgICAgc3dpdGNoIChzdHlsZSkgewovLyAgICAgICAgICAgICBjYXNlIFBsb3RTdHlsZTo6U2NhdHRlcjoKLy8gICAgICAgICAgICAgICAgIEltUGxvdDo6UGxvdFNjYXR0ZXJHKGxhYmVsLmNfc3RyKCksIHRyYW5zZm9ybSwgJnBsb3REYXRhLCBwbG90RGF0YS5TaXplKTsKLy8gICAgICAgICAgICAgYnJlYWs7Ci8vICAgICAgICAgICAgIGNhc2UgUGxvdFN0eWxlOjpMaW5lOgovLyAgICAgICAgICAgICBkZWZhdWx0OgovLyAgICAgICAgICAgICAgICAgSW1QbG90OjpQbG90TGluZUcobGFiZWwuY19zdHIoKSwgdHJhbnNmb3JtLCAmcGxvdERhdGEsIHBsb3REYXRhLlNpemUpOwovLyAgICAgICAgICAgICBicmVhazsKLy8gICAgICAgICB9CgovLyAgICAgfQoKLy8gICAgIHZvaWQgRHJhdyhjb25zdCBzdGQ6OnN0cmluZyYgbGFiZWwsCi8vICAgICAgICAgY29uc3QgUGxvdFN0eWxlJiBzdHlsZSA9IFBsb3RTdHlsZTo6TGluZSkgewovLyAgICAgICAgIHRoaXMtPm9wZXJhdG9yKCkobGFiZWwsIHN0eWxlKTsKLy8gICAgIH0KCi8vICBwcml2YXRlOgovLyB9OwoKLy8gLy8gVGhpcyBjbGFzcyBpcyBtZWFudCB0byBiZSBjcmVhdGVkIG9uY2UgaW4gdGhlIHJlY2VpdmVyL2NvbnN1bWVyIHRocmVhZAovLyAvLyBJdCB3aWxsIHVwZGF0ZSBhbGwgb2YgdGhlIGluZGljYXRvcnMgdmFsdWVzIG9uY2UgaW5mb3JtYXRpb24gaXMgc2VudAovLyB0ZW1wbGF0ZTx0eXBlbmFtZSBULCB0eXBlbmFtZSBEQVRBPgovLyBjbGFzcyBJbmRpY2F0b3JSZWNlaXZlciAgewovLyAgICAgSW5kaWNhdG9yc1F1ZXVlPFQsIERBVEE+IF9xOwovLyAgICAgc3RkOjp1bm9yZGVyZWRfbWFwPFQsIHN0ZDo6dW5pcXVlX3B0cjxJbmRpY2F0b3I8VD4+PiBfaW5kaWNhdG9yczsKCi8vIHB1YmxpYzoKLy8gICAgIHVzaW5nIHR5cGUgPSBUOwovLyAgICAgdXNpbmcgZGF0YV90eXBlID0gREFUQTsKCi8vICAgICBleHBsaWNpdCBJbmRpY2F0b3JSZWNlaXZlcihJbmRpY2F0b3JzUXVldWU8VCwgREFUQT4gcSkgOiBfcShxKSB7IH0KCi8vICAgICAvLyBObyBjb3B5aW5nCi8vICAgICBJbmRpY2F0b3JSZWNlaXZlcihjb25zdCBJbmRpY2F0b3JSZWNlaXZlciYpID0gZGVsZXRlOwovLyAgICAgSW5kaWNhdG9yUmVjZWl2ZXIgb3BlcmF0b3I9KGNvbnN0IEluZGljYXRvclJlY2VpdmVyJikgPSBkZWxldGU7CgovLyAgICAgLy8gVGhpcyBpcyBtZWFudCB0byBiZSBydW4gaW4gdGhlIHNpbmdsZSBjb25zdW1lci4KLy8gICAgIC8vIFVwZGF0ZXMgYWxsIHRoZSBwbG90cyBhcnJheXMgZnJvbSB0aGUgcXVldWUuCi8vICAgICB2b2lkIG9wZXJhdG9yKCkoKSB7Ci8vICAgICAgICAgYXV0byBhcHByb3hfbGVuZ3RoID0gX3Euc2l6ZV9hcHByb3goKTsKLy8gICAgICAgICBzdGQ6OnZlY3RvcjwgSW5kaWNhdG9yVmVjdG9yPFQsIERBVEE+ID4gdGVtcF9pdGVtcyhhcHByb3hfbGVuZ3RoKTsKLy8gICAgICAgICBfcS50cnlfZGVxdWV1ZV9idWxrKHRlbXBfaXRlbXMuZGF0YSgpLCBhcHByb3hfbGVuZ3RoKTsKCi8vICAgICAgICAgZm9yIChJbmRpY2F0b3JWZWN0b3I8VCwgREFUQT4gaXRlbSA6IHRlbXBfaXRlbXMpIHsKLy8gICAgICAgICAgICAgLy8gSWYgaXQgY29udGFpbnMgb25lIGl0ZW0sIHRoZW4gaXQgaXMgYSBpbmRpY2F0b3IKLy8gICAgICAgICAgICAgaWYgKF9pbmRpY2F0b3JzLmNvdW50KGl0ZW0uSUQpKSB7Ci8vICAgICAgICAgICAgICAgICBhdXRvJiBpbmRpY2F0b3IgPSBfaW5kaWNhdG9ycy5hdChpdGVtLklEKTsKLy8gICAgICAgICAgICAgICAgIGluZGljYXRvci0+RXhlY3V0ZUF0dHJpYnV0ZXMoKTsKCi8vICAgICAgICAgICAgICAgICBQbG90PFQ+KiBwbHQgPSBkeW5hbWljX2Nhc3Q8UGxvdDxUPio+KGluZGljYXRvci5nZXQoKSk7Ci8vICAgICAgICAgICAgICAgICBCb29sZWFuSW5kaWNhdG9yPFQ+KiBiaW5kCi8vICAgICAgICAgICAgICAgICAgICAgPSBkeW5hbWljX2Nhc3Q8Qm9vbGVhbkluZGljYXRvcjxUPio+KGluZGljYXRvci5nZXQoKSk7Ci8vICAgICAgICAgICAgICAgICBpZiAocGx0KSB7Ci8vICAgICAgICAgICAgICAgICAgICAgcGx0LT5hZGQoaXRlbSk7Ci8vICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGJpbmQpIHsKLy8gICAgICAgICAgICAgICAgICAgICBiaW5kLT5hZGQoaXRlbSk7Ci8vICAgICAgICAgICAgICAgICB9IGVsc2UgewovLyAgICAgICAgICAgICAgICAgICAgIGluZGljYXRvci0+YWRkKGl0ZW0pOwovLyAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICB9Ci8vICAgICAgICAgfQoKLy8gICAgICAgICBmb3IgKGF1dG8mIGluZGljYXRvciA6IF9pbmRpY2F0b3JzKSB7Ci8vICAgICAgICAgICAgIGluZGljYXRvci5zZWNvbmQtPkNsZWFyQXR0cmlidXRlcygpOwovLyAgICAgICAgIH0KLy8gICAgIH0KCi8vICAgICB2b2lkIG9wZXJhdG9yKCkoY29uc3QgVCYga2V5LCBjb25zdCBEQVRBJiB4LCBjb25zdCBEQVRBJiB5KSB7Ci8vICAgICAgICAgSW5kaWNhdG9yVmVjdG9yPFQsIERBVEE+IG5ld1Aoa2V5LCB4LCB5KTsKLy8gICAgICAgICBfcS5lbnF1ZXVlKG5ld1ApOwovLyAgICAgfQoKLy8gICAgIHRlbXBsYXRlPHR5cGVuYW1lIE9GRkRBVEE+Ci8vICAgICBhdXRvJiBpbmRpY2F0b3IoY29uc3QgVCYgaWQsIGNvbnN0IHN0ZDo6c3RyaW5nJiBsYWJlbCwgT0ZGREFUQSYgb3V0LAovLyAgICAgICAgIGNvbnN0IGZsb2F0JiBvZmZzZXQgPSAwLAovLyAgICAgICAgIGNvbnN0IHVuc2lnbmVkIGludCYgcHJlY2lzaW9uID0gNiwKLy8gICAgICAgICBjb25zdCBOdW1lcmljRm9ybWF0JiBmb3JtYXQgPSBOdW1lcmljRm9ybWF0OjpEZWZhdWx0KSB7Ci8vICAgICAgICAgX2luZGljYXRvcnMudHJ5X2VtcGxhY2UoaWQsCi8vICAgICAgICAgICAgIHN0ZDo6bWFrZV91bmlxdWU8SW5kaWNhdG9yPFQ+PihpZCwgcHJlY2lzaW9uLCBmb3JtYXQpKTsKCi8vICAgICAgICAgYXV0byYgaW5kID0gX2luZGljYXRvcnMuYXQoaWQpOwoKLy8gICAgICAgICBpbmQtPkRyYXcobGFiZWwsIG91dCwgb2Zmc2V0KTsKCi8vICAgICAgICAgcmV0dXJuIGluZDsKLy8gICAgIH0KCi8vICAgICBhdXRvJiBpbmRpY2F0b3IoY29uc3QgVCYgaWQsCi8vICAgICAgICAgY29uc3Qgc3RkOjpzdHJpbmcmIGxhYmVsLAovLyAgICAgICAgIGNvbnN0IGZsb2F0JiBvZmZzZXQgPSAwLAovLyAgICAgICAgIGNvbnN0IHVuc2lnbmVkIGludCYgcHJlY2lzaW9uID0gNiwKLy8gICAgICAgICBjb25zdCBOdW1lcmljRm9ybWF0JiBmb3JtYXQgPSBOdW1lcmljRm9ybWF0OjpEZWZhdWx0KSB7CgovLyAgICAgICAgIF9pbmRpY2F0b3JzLnRyeV9lbXBsYWNlKGlkLAovLyAgICAgICAgICAgICBzdGQ6Om1ha2VfdW5pcXVlPEluZGljYXRvcjxUPj4oaWQsIHByZWNpc2lvbiwgZm9ybWF0KSk7Ci8vICAgICAgICAgYXV0byYgaW5kID0gX2luZGljYXRvcnMuYXQoaWQpOwoKLy8gICAgICAgICBkb3VibGUgdG1wOwovLyAgICAgICAgIGluZC0+RHJhdyhsYWJlbCwgdG1wLCBvZmZzZXQpOwoKLy8gICAgICAgICByZXR1cm4gaW5kOwovLyAgICAgfQoKLy8gICAgIGF1dG8mIGJvb2xlYW5JbmRpY2F0b3IoY29uc3QgVCYgaWQsIGNvbnN0IHN0ZDo6c3RyaW5nJiBsYWJlbCwKLy8gICAgICAgICBzdGQ6OmZ1bmN0aW9uPGJvb2woY29uc3QgZG91YmxlJik+JiYgZiwgY29uc3QgZmxvYXQmIG9mZnNldCA9IDApIHsKLy8gICAgICAgICBfaW5kaWNhdG9ycy50cnlfZW1wbGFjZShpZCwKLy8gICAgICAgICAgICAgc3RkOjptYWtlX3VuaXF1ZTxCb29sZWFuSW5kaWNhdG9yPFQ+PihpZCwKLy8gICAgICAgICAgICAgICAgIHN0ZDo6Zm9yd2FyZDxzdGQ6OmZ1bmN0aW9uPGJvb2woY29uc3QgZG91YmxlJik+PihmKSkpOwoKLy8gICAgICAgICBhdXRvJiBpbmQgPSBfaW5kaWNhdG9ycy5hdChpZCk7CgovLyAgICAgICAgIGF1dG8gYiA9IGR5bmFtaWNfY2FzdDxCb29sZWFuSW5kaWNhdG9yPFQ+Kj4oaW5kLmdldCgpKTsKLy8gICAgICAgICBpZiAoYikgewovLyAgICAgICAgICAgICBiLT5EcmF3KGxhYmVsLCBvZmZzZXQpOwovLyAgICAgICAgIH0KCi8vICAgICAgICAgcmV0dXJuIGluZDsKLy8gICAgIH0KCi8vICAgICBhdXRvJiBib29sZWFuSW5kaWNhdG9yKGNvbnN0IFQmIGlkLCBjb25zdCBzdGQ6OnN0cmluZyYgbGFiZWwsIGJvb2wmIG91dCwKLy8gICAgICAgICBzdGQ6OmZ1bmN0aW9uPGJvb2woY29uc3QgZG91YmxlJik+JiYgZiwgY29uc3QgZmxvYXQmIG9mZnNldCA9IDApIHsKLy8gICAgICAgICBfaW5kaWNhdG9ycy50cnlfZW1wbGFjZShpZCwKLy8gICAgICAgICAgICAgc3RkOjptYWtlX3VuaXF1ZTxCb29sZWFuSW5kaWNhdG9yPFQ+PihpZCwKLy8gICAgICAgICAgICAgICAgIHN0ZDo6Zm9yd2FyZDxzdGQ6OmZ1bmN0aW9uPGJvb2woY29uc3QgZG91YmxlJik+PihmKSkpOwoKLy8gICAgICAgICBhdXRvJiBpbmQgPSBfaW5kaWNhdG9ycy5hdChpZCk7CgovLyAgICAgICAgIGF1dG8gYiA9IGR5bmFtaWNfY2FzdDxCb29sZWFuSW5kaWNhdG9yPFQ+Kj4oaW5kLmdldCgpKTsKLy8gICAgICAgICBpZiAoYikgewovLyAgICAgICAgICAgICBiLT5EcmF3KGxhYmVsLCBvdXQsIG9mZnNldCk7Ci8vICAgICAgICAgfQoKLy8gICAgICAgICByZXR1cm4gaW5kOwovLyAgICAgfQoKLy8gICAgIC8vIGF1dG8mIG1ha2VfcGxvdChjb25zdCBUJiBpZCkgewovLyAgICAgLy8gIF9pbmRpY2F0b3JzLnRyeV9lbXBsYWNlKGlkLAovLyAgICAgLy8gICAgICBzdGQ6Om1ha2VfdW5pcXVlPFBsb3Q8VD4+KGlkKSk7CgovLyAgICAgLy8gIHJldHVybiBfcGxvdHMuYXQoaWQpOwovLyAgICAgLy8gfQoKLy8gICAgIC8vIEFkZHMgcGxvdCB3aXRoIElELCBhbmQgZHJhd3MgaXQgYXQgdGhlIHBsYWNlZCBsb2NhdGlvbiBpZiBleGlzdHMKLy8gICAgIC8vIEl0IHJldHVybnMgYSBzbWFydCBwb2ludGVyIHRvIHRoZSBpbmRpY2F0b3IgKG5vdCBwbG90KQovLyAgICAgYXV0byYgcGxvdChjb25zdCBUJiBpZCwgY29uc3Qgc3RkOjpzdHJpbmcmIGxhYmVsLAovLyAgICAgICAgIGNvbnN0IFBsb3RTdHlsZSBzdHlsZSA9IFBsb3RTdHlsZTo6TGluZSwgYm9vbCBjbGVhck9uTmV3RGF0YSA9IGZhbHNlKSB7Ci8vICAgICAgICAgX2luZGljYXRvcnMudHJ5X2VtcGxhY2UoaWQsCi8vICAgICAgICAgICAgIHN0ZDo6bWFrZV91bmlxdWU8UGxvdDxUPj4oaWQsIGNsZWFyT25OZXdEYXRhKSk7CgovLyAgICAgICAgIGF1dG8mIGluZCA9IF9pbmRpY2F0b3JzLmF0KGlkKTsKCi8vICAgICAgICAgUGxvdDxUPiogcGx0ID0gZHluYW1pY19jYXN0PFBsb3Q8VD4qPihpbmQuZ2V0KCkpOwovLyAgICAgICAgIGlmIChwbHQpIHsKLy8gICAgICAgICAgICAgcGx0LT5EcmF3KGxhYmVsLCBzdHlsZSk7Ci8vICAgICAgICAgfQoKLy8gICAgICAgICByZXR1cm4gaW5kOwovLyAgICAgfQoKLy8gICAgIHZvaWQgQ2xlYXJQbG90KGNvbnN0IFQmIGlkKSB7Ci8vICAgICAgICAgYXV0byBzZWFyY2ggPSBfaW5kaWNhdG9ycy5maW5kKGlkKTsKLy8gICAgICAgICBpZiAoc2VhcmNoICE9IF9pbmRpY2F0b3JzLmVuZCgpKSB7Ci8vICAgICAgICAgICAgIFBsb3Q8VD4qIHBsdCA9IGR5bmFtaWNfY2FzdDxQbG90PFQ+Kj4oCi8vICAgICAgICAgICAgICAgICBfaW5kaWNhdG9ycy5hdChpZCkuZ2V0KCkpOwovLyAgICAgICAgICAgICBwbHQtPmNsZWFyKCk7Ci8vICAgICAgICAgfQovLyAgICAgfQovLyB9OwoKLy8gLy8gVGhlIEluZGljYXRvclNlbmRlciBjbGFzcyBpcyBtZWFudCB0byBiZSBydW4gaW4gdGhlIHByb2R1Y2VyIHRocmVhZHMKLy8gLy8gVGhlIHByb2R1Y2VyIHRocmVhZCBjYW4gYWRkIGEgbmV3IEluZGljYXRvclZlY3RvciB0byB0aGlzIGNsYXNzCi8vIC8vIGFuZCB0aGlzIHdpbGwgc2VuZCBpdCBmb3J3YXJkLgovLyAvLyBJdCB1c2VzIGVudW1zIHNvIHRoZSBwcm9kdWNlciB0aHJlYWRzIGRvIG5vdCBuZWVkIHRvIGtub3cgaWYgdGhlCi8vIC8vIGluZGljYXRvci9wbG90IGFzc29jaWF0ZWQgd2l0aCB0aGF0IGVudW0gZXhpc3RzLgovLyB0ZW1wbGF0ZTx0eXBlbmFtZSBULCB0eXBlbmFtZSBEQVRBPgovLyBjbGFzcyBJbmRpY2F0b3JTZW5kZXIgewovLyAgICAgSW5kaWNhdG9yc1F1ZXVlPFQsIERBVEE+JiBfcTsKCi8vICBwdWJsaWM6Ci8vICAgICB1c2luZyB0eXBlID0gVDsKLy8gICAgIHVzaW5nIGRhdGFfdHlwZSA9IERBVEE7CgovLyAgICAgZXhwbGljaXQgSW5kaWNhdG9yU2VuZGVyKEluZGljYXRvcnNRdWV1ZTxULCBEQVRBPiYgcSkgOiBfcShxKSB7IH0KCi8vICAgICAvLyBObyBjb3B5aW5nCi8vICAgICBJbmRpY2F0b3JTZW5kZXIoY29uc3QgSW5kaWNhdG9yU2VuZGVyJikgPSBkZWxldGU7CgovLyAgICAgLy8gU2VuZHMgdmFsdWUgeCB0byBpbmRpY2F0b3Igb2YgdHlwZSBUCi8vICAgICB2b2lkIG9wZXJhdG9yKCkoY29uc3QgVCYga2V5LCBjb25zdCBEQVRBJiB4KSB7Ci8vICAgICAgICAgSW5kaWNhdG9yVmVjdG9yPFQsIERBVEE+IG5ld1Aoa2V5LCB4KTsKLy8gICAgICAgICBfcS5lbnF1ZXVlKG5ld1ApOwovLyAgICAgfQoKLy8gICAgIC8vIFNlbmRzIHZhbHVlIHBhaXIgKHgseSkgdG8gcGxvdC9pbmRpY2F0b3Igb2YgdHlwZSBUCi8vICAgICB2b2lkIG9wZXJhdG9yKCkoY29uc3QgVCYga2V5LCBjb25zdCBEQVRBJiB4LCBjb25zdCBEQVRBJiB5KSB7Ci8vICAgICAgICAgSW5kaWNhdG9yVmVjdG9yPFQsIERBVEE+IG5ld1Aoa2V5LCB4LCB5KTsKLy8gICAgICAgICBfcS5lbnF1ZXVlKG5ld1ApOwovLyAgICAgfQoKLy8gICAgIC8vIFNlbmRzIHZhbHVlIHBhaXIgKHgseSkgdG8gcGxvdC9pbmRpY2F0b3Igb2YgdHlwZSBUCi8vICAgICAvLyBOb3RlIGlmIGFuIGluZGljYXRvciBpcyBzZWxlY3RlZCwgb25seSB0aGUgbGF0ZXN0IHZhbHVlCi8vICAgICAvLyB3aWxsIGJlIHNob3duCi8vICAgICB2b2lkIG9wZXJhdG9yKCkoY29uc3QgSW5kaWNhdG9yVmVjdG9yPFQsIERBVEE+JiBwdikgewovLyAgICAgICAgIF9xLmVucXVldWUocHYpOwovLyAgICAgfQoKLy8gICAgIC8vIFNlbmRzIGEgbGlzdCBvZiBwYWlycyAoeCx5KSB0byBwbG90L2luZGljYXRvciBvZiB0eXBlIFQKLy8gICAgIC8vIE5vdGUgaWYgYW4gaW5kaWNhdG9yIGlzIHNlbGVjdGVkLCBvbmx5IHRoZSBsYXRlc3QgdmFsdWUKLy8gICAgIC8vIHdpbGwgYmUgc2hvd24gYW5kIHRoZSBsaXN0IHkgd2lsbCBiZSBpZ25vcmVkCi8vICAgICB0ZW1wbGF0ZTx0eXBlbmFtZSBPRkZEQVRBPgovLyAgICAgdm9pZCBvcGVyYXRvcigpKGNvbnN0IFQmIGtleSwgY29uc3Qgc3RkOjp2ZWN0b3I8T0ZGREFUQT4mIHgsCi8vICAgICAgICAgY29uc3Qgc3RkOjp2ZWN0b3I8T0ZGREFUQT4mIHkpIHsKLy8gICAgICAgICBzdGQ6OnZlY3RvcjwgSW5kaWNhdG9yVmVjdG9yPFQsIERBVEE+ID4gaXRlbXMoeC5zaXplKCkpOwovLyAgICAgICAgIGZvciAodW5zaWduZWQgaW50IGkgPSAwOyBpIDwgeC5zaXplKCk7IGkrKykgewovLyAgICAgICAgICAgICBpdGVtc1tpXSA9IEluZGljYXRvclZlY3RvcjxULCBEQVRBPihrZXksCi8vICAgICAgICAgICAgICAgICBzdGF0aWNfY2FzdDxEQVRBPih4W2ldKSwKLy8gICAgICAgICAgICAgICAgIHN0YXRpY19jYXN0PERBVEE+KHlbaV0pKTsKLy8gICAgICAgICB9CgovLyAgICAgICAgIF9xLmVucXVldWVfYnVsayhpdGVtcy5iZWdpbigpLCBpdGVtcy5zaXplKCkpOwovLyAgICAgfQoKLy8gICAgIC8vIFNlbmRzIGEgbGlzdCBvZiBwYWlycyAoeCx5KSB0byBwbG90L2luZGljYXRvciBvZiB0eXBlIFQKLy8gICAgIC8vIE5vdGUgaWYgYW4gaW5kaWNhdG9yIGlzIHNlbGVjdGVkLCBvbmx5IHRoZSBsYXRlc3QgdmFsdWUKLy8gICAgIC8vIHdpbGwgYmUgc2hvd24gYW5kIHRoZSBsaXN0IHkgd2lsbCBiZSBpZ25vcmVkCi8vICAgICB0ZW1wbGF0ZTx0eXBlbmFtZSBPRkZEQVRBPgovLyAgICAgdm9pZCBvcGVyYXRvcigpKGNvbnN0IFQmIGtleSwgT0ZGREFUQSogeF9kYXRhLCBPRkZEQVRBKiB5X2RhdGEsCi8vICAgICAgICAgY29uc3Qgc2l6ZV90JiBzaXplKSB7Ci8vICAgICAgICAgc3RkOjp2ZWN0b3I8IEluZGljYXRvclZlY3RvcjxULCBEQVRBPiA+IGl0ZW1zKHNpemUpOwovLyAgICAgICAgIGZvciAodW5zaWduZWQgaW50IGkgPSAwOyBpIDwgc2l6ZTsgaSsrKSB7Ci8vICAgICAgICAgICAgIGl0ZW1zW2ldID0gSW5kaWNhdG9yVmVjdG9yPFQsIERBVEE+KGtleSwKLy8gICAgICAgICAgICAgICAgIHN0YXRpY19jYXN0PERBVEE+KHhfZGF0YVtpXSksCi8vICAgICAgICAgICAgICAgICBzdGF0aWNfY2FzdDxEQVRBPih5X2RhdGFbaV0pKTsKLy8gICAgICAgICB9CgovLyAgICAgICAgIF9xLmVucXVldWVfYnVsayhpdGVtcy5iZWdpbigpLCBpdGVtcy5zaXplKCkpOwovLyAgICAgfQovLyB9OwoKCi8vIHRlbXBsYXRlPHR5cGVuYW1lIFQ+Ci8vIC8vIENyZWF0ZXMgaW5kaWNhdG9yIHdpdGggS2V5IGFuZCBhZGRzIGl0IHRvIFJlY2VpdmVyIHEKLy8gaW5saW5lIEluZGljYXRvcjxUPiBtYWtlX2luZGljYXRvcihUJiYga2V5LCB1bnNpZ25lZCBpbnQmJiBwcmVjaXNpb24gPSA2LAovLyAgICAgICAgIE51bWVyaWNGb3JtYXQmJiBmb3JtYXQgPSBOdW1lcmljRm9ybWF0OjpEZWZhdWx0KSB7Ci8vICAgICByZXR1cm4gSW5kaWNhdG9yPFQ+KHN0ZDo6Zm9yd2FyZDxUPihrZXkpLAovLyAgICAgICAgIHN0ZDo6Zm9yd2FyZDx1bnNpZ25lZCBpbnQ+KHByZWNpc2lvbiksCi8vICAgICAgICAgc3RkOjpmb3J3YXJkPE51bWVyaWNGb3JtYXQ+KGZvcm1hdCkpOwovLyB9CgovLyB0ZW1wbGF0ZTx0eXBlbmFtZSBUPgovLyBpbmxpbmUgUGxvdDxUPiBtYWtlX3Bsb3QoVCYmIGtleSkgewovLyAgICAgcmV0dXJuIFBsb3Q8VD4oc3RkOjpmb3J3YXJkPFQ+KGtleSkpOwovLyB9CgoKfSAgLy8gbmFtZXNwYWNlIFNCQ1F1ZWVucwojZW5kaWYKAAAAAAAAAACFQwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAmhoAAAAAAABbGgAAAAAAAAAAAAAAAPC/"
				],
				[
					2,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAACFQwAAI2lmbmRlZiBJTVBMT1RIRUxQRVJTX0gKI2RlZmluZSBJTVBMT1RIRUxQRVJTX0gKI3ByYWdtYSBvbmNlCgovLyBDIDNyZCBwYXJ0eSBpbmNsdWRlcwojaW5jbHVkZSA8aW1ndWkuaD4KI2luY2x1ZGUgPGltcGxvdC5oPgojaW5jbHVkZSA8c3BkbG9nL3NwZGxvZy5oPgojaW5jbHVkZSA8cmVhZGVyd3JpdGVycXVldWUuaD4KI2luY2x1ZGUgPGNvbmN1cnJlbnRxdWV1ZS5oPgoKLy8gQysrIFNURCBpbmNsdWRlcwojaW5jbHVkZSA8YWxnb3JpdGhtPgojaW5jbHVkZSA8Y3N0ZGRlZj4KI2luY2x1ZGUgPGNzdGRpbnQ+CiNpbmNsdWRlIDxmdW5jdGlvbmFsPgojaW5jbHVkZSA8aW9zPgojaW5jbHVkZSA8bWVtb3J5PgojaW5jbHVkZSA8c3RyaW5nPgojaW5jbHVkZSA8dW5vcmRlcmVkX21hcD4KI2luY2x1ZGUgPHV0aWxpdHk+CiNpbmNsdWRlIDx2ZWN0b3I+CiNpbmNsdWRlIDxzc3RyZWFtPgojaW5jbHVkZSA8ZGVxdWU+CgovLyBteSBpbmNsdWRlcwoKbmFtZXNwYWNlIFNCQ1F1ZWVucyB7Cgp0ZW1wbGF0ZTx0eXBlbmFtZSBULCB0eXBlbmFtZSBEQVRBID0gZG91YmxlPgpjbGFzcyBJbmRpY2F0b3JSZWNlaXZlcjsKdGVtcGxhdGU8dHlwZW5hbWUgVCwgdHlwZW5hbWUgREFUQSA9IGRvdWJsZT4KY2xhc3MgSW5kaWNhdG9yU2VuZGVyOwoKLy8gV2VsbCwgSSB3aWxsIGxlYXZlIHRoaXMgYXMgdGhpcyB1bnRpbCBJIGNhbiBjb21lIHVwIHdpdGgKLy8gYSBiZXR0ZXIgc29sdXRpb24uCi8vIEltUGxvdHMgYXJlIDJEIGJ5IGRlZmF1bHQuIFgsIFkgYXJlIHRoZSB0eXBlcyBvZiB0aG9zZSB0d28KLy8gYXhpcyB3aGljaCBieSBkZWZhdWx0IGFyZSBmbG9hdCBidXQgdGhleSBjYW4gYmUgY2hhbmdlZC4KLy8gdW5zaWduZWQgaW50IGlzIGEgbnVtYmVyIHRoYXQgaW5zdHJ1Y3RzIHRoZSBjb25zdW1lcgovLyB0byB3aGljaCBncmFwaCBpcyBzaG91bGQgZ28gdG8uCi8vIFQgaXMgcmVzZXJ2ZWQgZm9yIHRoZSB1c2VyLCBpdCBjb3VsZCBiZSBhbiBlbnVtIHR5cGUgKG15IHByZWZlcmVuY2UpCi8vIG9yIGFueXRoaW5nIHRoZXkgd2FudCB0byBkaXN0aW5ndWlzaCB0aGVtLgp0ZW1wbGF0ZTx0eXBlbmFtZSBULCB0eXBlbmFtZSBEQVRBID0gZG91YmxlPgpzdHJ1Y3QgSW5kaWNhdG9yVmVjdG9yIHsKICAgIHVzaW5nIHR5cGUgPSBUOwogICAgdXNpbmcgZGF0YV90eXBlID0gREFUQTsKCiAgICBJbmRpY2F0b3JWZWN0b3IoKSB7fQogICAgSW5kaWNhdG9yVmVjdG9yKGNvbnN0IFQmIGlkLCBjb25zdCBEQVRBJiB4LCBjb25zdCBEQVRBJiB5KQogICAgICAgIDogSUQoaWQpLCBYKHgpLCBZKHkpIHt9CiAgICBJbmRpY2F0b3JWZWN0b3IoY29uc3QgVCYgaWQsIGNvbnN0IERBVEEmIHgpCiAgICAgICAgOiBJRChpZCksIFgoeCkge30KCiAgICBUIElEOwogICAgREFUQSBYOwogICAgREFUQSBZOwp9OwoKdGVtcGxhdGU8dHlwZW5hbWUgVCwgdHlwZW5hbWUgREFUQSA9IGRvdWJsZT4KdXNpbmcgSW5kaWNhdG9yc1F1ZXVlCiAgICA9IG1vb2R5Y2FtZWw6OkNvbmN1cnJlbnRRdWV1ZTwgSW5kaWNhdG9yVmVjdG9yPFQsIERBVEE+ID47CgpzdHJ1Y3QgUGxvdEZsYWdzIHsKICAgIGJvb2wgQ2xlYXJPbk5ld0RhdGE7Cn07CgplbnVtIGNsYXNzIE51bWVyaWNGb3JtYXQgewogICAgRGVmYXVsdCwgU2NpZW50aWZpYywgSGV4RmxvYXQsIEZpeGVkCn07CgovLyBBbiBpbmRpY2F0b3IgaXMgYSBJbUdVSSBidXR0b24gdGhhdCBoYXMgYmVlbiBtb2RpZmllZCB0byBhY3QKLy8gbGlrZSBhbiBpbmRpY2F0b3IuCi8vIEFzIGZvciBub3csIHRoaXMgaW5kaWNhdG9yIGhhcyBzb21lIHBhcmFtZXRlcnMgc3VjaCBhcwovLyBwcmVjaXNpb24gb2YgdGhlIG51bWJlciB0byBkaXNwbGF5LCBhbmQgZm9ybWF0IG9mIHRoZSBudW1iZXIKdGVtcGxhdGU8dHlwZW5hbWUgVD4KY2xhc3MgSW5kaWNhdG9yIHsKIHByb3RlY3RlZDoKICAgIFQgSUQ7CiAgICAvLyBfaW1ndWlfc3RhY2sgZXhpc3RzIHRvIGdpdmUgdGhpcyBidXR0b24gYW4gdW5pcXVlIGlkCiAgICAvLyBmb3IgdGhlIEltR1VJIEFQSS4gSWYgdGhpcyB3ZXJlIG5vdCB0aGVyZSwgaXQgd291bGQgc2hhcmUKICAgIC8vIGFuIElEIHdpdGggYWxsIHRoZSBlbXB0eSBvciBzYW1lIGluZGljYXRvcnMuCiAgICBzdGQ6OnN0cmluZyBfaW1ndWlfc3RhY2s7CgogcHJpdmF0ZToKICAgIC8vIEFjdHVhbCBzdHJpbmcgdGhhdCBnZXRzIGRpc3BsYXllZAogICAgc3RkOjpzdHJpbmcgX2Rpc3BsYXk7CgogICAgLy8gRm9ybWF0IHBhcmFtZXRlcnMKICAgIHVuc2lnbmVkIGludCBfcHJlY2lzaW9uOwogICAgTnVtZXJpY0Zvcm1hdCBfZm9ybWF0OwoKICAgIGRvdWJsZSBfdmFsOwoKIHB1YmxpYzoKICAgIGV4cGxpY2l0IEluZGljYXRvcihjb25zdCBUJiBpZCwgY29uc3QgdW5zaWduZWQgaW50JiBwcmVjaXNpb24gPSA2LAogICAgICAgIGNvbnN0IE51bWVyaWNGb3JtYXQmIGZvcm1hdCA9IE51bWVyaWNGb3JtYXQ6OkRlZmF1bHQpCiAgICAgICAgOiAgIElEKGlkKSwKICAgICAgICAgICAgX2ltZ3VpX3N0YWNrKCIjIyIgKyBzdGQ6OnRvX3N0cmluZyhzdGF0aWNfY2FzdDxpbnQ+KGlkKSkpLAogICAgICAgICAgICBfZGlzcGxheShfaW1ndWlfc3RhY2spLCBfcHJlY2lzaW9uKHByZWNpc2lvbiksIF9mb3JtYXQoZm9ybWF0KSwKICAgICAgICAgICAgX3ZhbCgwLjApCiAgICAgICAgeyB9CgogICAgLy8gTW92aW5nIGFsbG93ZWQKICAgIEluZGljYXRvcihJbmRpY2F0b3ImJikgPSBkZWZhdWx0OwogICAgSW5kaWNhdG9yJiBvcGVyYXRvcj0oSW5kaWNhdG9yJiYpID0gZGVmYXVsdDsKCiAgICAvLyBObyBjb3B5aW5nCiAgICBJbmRpY2F0b3IoY29uc3QgSW5kaWNhdG9yJikgPSBkZWxldGU7CgogICAgdmlydHVhbCB+SW5kaWNhdG9yKCkge30KCiAgICB0ZW1wbGF0ZTx0eXBlbmFtZSBPRkZEQVRBPgogICAgLy8gQWRkcyBlbGVtZW50IG5ld1ZhbC54IHRvIHNob3cgaW4gdGhpcyBpbmRpY2F0b3IuIG5ld1ZhbC55IGlzIGlnbm9yZWQKICAgIHZvaWQgYWRkKGNvbnN0IEluZGljYXRvclZlY3RvcjxULCBPRkZEQVRBPiYgbmV3VmFsKSB7CiAgICAgICAgaWYgKG5ld1ZhbC5JRCA9PSBJRCkgewogICAgICAgICAgICBzdGQ6Om9zdHJpbmdzdHJlYW0gb3V0OwogICAgICAgICAgICBvdXQucHJlY2lzaW9uKF9wcmVjaXNpb24pOwogICAgICAgICAgICBpZiAoX2Zvcm1hdCA9PSBOdW1lcmljRm9ybWF0OjpTY2llbnRpZmljKSB7CiAgICAgICAgICAgICAgICBvdXQgPDwgc3RkOjpzY2llbnRpZmljOwogICAgICAgICAgICB9IGVsc2UgaWYgKF9mb3JtYXQgPT0gTnVtZXJpY0Zvcm1hdDo6SGV4RmxvYXQpIHsKICAgICAgICAgICAgICAgIG91dCA8PCBzdGQ6OmhleGZsb2F0OwogICAgICAgICAgICB9IGVsc2UgaWYgKF9mb3JtYXQgPT0gTnVtZXJpY0Zvcm1hdDo6Rml4ZWQpIHsKICAgICAgICAgICAgICAgIG91dCA8PCBzdGQ6OmZpeGVkOwogICAgICAgICAgICB9CgogICAgICAgICAgICBvdXQgPDwgbmV3VmFsLlg7CiAgICAgICAgICAgIF9kaXNwbGF5ID0gIiI7CgogICAgICAgICAgICBpZiAoIW91dC5zdHIoKS5lbXB0eSgpKSB7CiAgICAgICAgICAgICAgICBfZGlzcGxheSA9IG91dC5zdHIoKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgX2Rpc3BsYXkgKz0gX2ltZ3VpX3N0YWNrOwoKICAgICAgICAgICAgX3ZhbCA9IHN0YXRpY19jYXN0PGRvdWJsZT4obmV3VmFsLlgpOwogICAgICAgIH0KICAgIH0KCiAgICB0ZW1wbGF0ZTx0eXBlbmFtZSBPRkZEQVRBPgogICAgdm9pZCBvcGVyYXRvcigpKGNvbnN0IHN0ZDo6c3RyaW5nJiBsYWJlbCwgT0ZGREFUQSYgb3V0LAogICAgICAgIGNvbnN0IGZsb2F0JiBvZmZzZXQgPSAwKSB7CiAgICAgICAgSW1HdWk6OlRleHQoIiVzIiwgbGFiZWwuY19zdHIoKSk7IEltR3VpOjpTYW1lTGluZShvZmZzZXQpOwogICAgICAgIEltR3VpOjpCdXR0b24oX2Rpc3BsYXkuY19zdHIoKSk7CiAgICAgICAgb3V0ID0gc3RhdGljX2Nhc3Q8T0ZGREFUQT4oX3ZhbCk7CiAgICB9CgogICAgdGVtcGxhdGU8dHlwZW5hbWUgT0ZGREFUQT4KICAgIHZvaWQgRHJhdyhjb25zdCBzdGQ6OnN0cmluZyYgbGFiZWwsIE9GRkRBVEEmIG91dCwgY29uc3QgZmxvYXQmIG9mZnNldCA9IDApIHsKICAgICAgICB0aGlzLT5vcGVyYXRvcigpKGxhYmVsLCBvdXQsIG9mZnNldCk7CiAgICB9CgogICAgLy8gRm9yIGluZGljYXRvcnMsIGl0IGRvZXMgbm90aGluZy4KICAgIHZpcnR1YWwgdm9pZCBFeGVjdXRlQXR0cmlidXRlcygpIHsgfQoKICAgIC8vIEZvciBpbmRpY2F0b3JzLCBpdCBkb2VzIG5vdGhpbmcuCiAgICB2aXJ0dWFsIHZvaWQgQ2xlYXJBdHRyaWJ1dGVzKCkgeyB9CgogICAgdmlydHVhbCBUIEdldElEKCkgY29uc3QgewogICAgICAgIHJldHVybiBJRDsKICAgIH0KfTsKCnRlbXBsYXRlPHR5cGVuYW1lIFQ+CmNsYXNzIEJvb2xlYW5JbmRpY2F0b3IgOiBwdWJsaWMgSW5kaWNhdG9yPFQ+IHsKICAgIHN0ZDo6ZnVuY3Rpb248Ym9vbChjb25zdCBkb3VibGUmKT4gX2Y7CiAgICBJbVZlYzQgX29mZl9jb2xvcjsKICAgIEltVmVjNCBfb25fY29sb3I7CiAgICBJbVZlYzQgX2N1cnJlbnRfY29sb3I7CiAgICBib29sIF9pc19vbjsKCiBwdWJsaWM6CiAgICBleHBsaWNpdCBCb29sZWFuSW5kaWNhdG9yKGNvbnN0IFQmIGlkLAogICAgICAgIHN0ZDo6ZnVuY3Rpb248Ym9vbChjb25zdCBkb3VibGUmKT4mJiBmKQogICAgICAgIDogSW5kaWNhdG9yPFQ+KGlkKSwgX2YoZiksCiAgICAgICAgX29mZl9jb2xvcihzdGF0aWNfY2FzdDxJbVZlYzQ+KEltQ29sb3I6OkhTVigwLjBmLCAwLjZmLCAwLjZmKSkpLAogICAgICAgIF9vbl9jb2xvcihzdGF0aWNfY2FzdDxJbVZlYzQ+KEltQ29sb3I6OkhTVigyLjBmIC8gNy4wZiwgMC42ZiwgMC42ZikpKSwKICAgICAgICBfY3VycmVudF9jb2xvcihfb2ZmX2NvbG9yKSwgX2lzX29uKGZhbHNlKSB7CiAgICB9CgogICAgLy8gTW92aW5nIGFsbG93ZWQKICAgIEJvb2xlYW5JbmRpY2F0b3IoQm9vbGVhbkluZGljYXRvciYmKSA9IGRlZmF1bHQ7CiAgICBCb29sZWFuSW5kaWNhdG9yJiBvcGVyYXRvcj0oQm9vbGVhbkluZGljYXRvciYmKSA9IGRlZmF1bHQ7CgogICAgLy8gTm8gY29weWluZwogICAgQm9vbGVhbkluZGljYXRvcihjb25zdCBCb29sZWFuSW5kaWNhdG9yJikgPSBkZWxldGU7CgogICAgdGVtcGxhdGU8dHlwZW5hbWUgT0ZGREFUQT4KICAgIC8vIFVzZXMgbmV3VmFsLnggdG8gaW5kaWNhdGUgdGhlIGVxdWFsaXR5CiAgICB2b2lkIGFkZChjb25zdCBJbmRpY2F0b3JWZWN0b3I8VCwgT0ZGREFUQT4mIG5ld1ZhbCkgewogICAgICAgIF9pc19vbiA9IF9mKHN0YXRpY19jYXN0PGRvdWJsZT4obmV3VmFsLlgpKTsKICAgICAgICBfY3VycmVudF9jb2xvciA9IF9pc19vbiA/IF9vbl9jb2xvciA6IF9vZmZfY29sb3I7CiAgICB9CgogICAgdm9pZCBvcGVyYXRvcigpKGNvbnN0IHN0ZDo6c3RyaW5nJiBsYWJlbCwgYm9vbCYgb3V0LAogICAgICAgIGNvbnN0IGZsb2F0JiBvZmZzZXQgPSAwKSB7CiAgICAgICAgb3V0ID0gX2lzX29uOwogICAgICAgIEltR3VpOjpUZXh0KCIlcyIsIGxhYmVsLmNfc3RyKCkpOyBJbUd1aTo6U2FtZUxpbmUob2Zmc2V0KTsKCiAgICAgICAgSW1HdWk6OlB1c2hTdHlsZUNvbG9yKEltR3VpQ29sX0J1dHRvbiwgX2N1cnJlbnRfY29sb3IpOwogICAgICAgIEltR3VpOjpQdXNoU3R5bGVDb2xvcihJbUd1aUNvbF9CdXR0b25Ib3ZlcmVkLCBfY3VycmVudF9jb2xvcik7CiAgICAgICAgSW1HdWk6OlB1c2hTdHlsZUNvbG9yKEltR3VpQ29sX0J1dHRvbkFjdGl2ZSwgX2N1cnJlbnRfY29sb3IpOwoKICAgICAgICBJbUd1aTo6QnV0dG9uKEluZGljYXRvcjxUPjo6X2ltZ3VpX3N0YWNrLmNfc3RyKCksIEltVmVjMigxNSwgMTUpKTsKCiAgICAgICAgSW1HdWk6OlBvcFN0eWxlQ29sb3IoMyk7CiAgICB9CgogICAgdm9pZCBEcmF3KGNvbnN0IHN0ZDo6c3RyaW5nJiBsYWJlbCwgYm9vbCYgb3V0LCBjb25zdCBmbG9hdCYgb2Zmc2V0ID0gMCkgewogICAgICAgIHRoaXMtPm9wZXJhdG9yKCkobGFiZWwsIG91dCwgb2Zmc2V0KTsKICAgIH0KfTsKCi8vIEludGVybmFsIHN0cnVjdHVyZSB0byBiZSB1c2VkIGZvciBQbG90IGNsYXNzLiBTZXJ2ZXJzIGFzIGFuIGludGVyZmFjZQovLyBiZXR3ZWVuIHRoaXMgQVBJIGFuZCBJbVBsb3QKc3RydWN0IFBsb3REYXRhQnVmZmVyIHsKICAgIGNvbnN0IHN0ZDo6c2l6ZV90IE47CiAgICBzdGQ6OnNpemVfdCBTdGFydCA9IDA7CiAgICBzdGQ6OnNpemVfdCBTaXplID0gMDsKICAgIHN0ZDo6c2l6ZV90IEN1cnJlbnRJbmRleCA9IDA7CgogICAgc3RkOjp2ZWN0b3I8IHN0ZDo6cGFpciA8ZG91YmxlLCBkb3VibGU+ID4gRGF0YTsKCiAgICBleHBsaWNpdCBQbG90RGF0YUJ1ZmZlcihjb25zdCBzdGQ6OnNpemVfdCYgbWF4KQogICAgICAgIDogTihtYXgpLCBEYXRhKG1heCkge30KCiAgICBzdGQ6OnBhaXI8ZG91YmxlLCBkb3VibGU+JiBvcGVyYXRvcltdKGNvbnN0IHN0ZDo6c2l6ZV90JiBpKSB7CiAgICAgICAgc3RkOjpzaXplX3QgaW5kZXggPSAoaSArIFN0YXJ0KSAlIFNpemU7CiAgICAgICAgcmV0dXJuIERhdGFbaW5kZXhdOwogICAgfQoKICAgIHZvaWQgb3BlcmF0b3IoKShjb25zdCBkb3VibGUmIHgsIGNvbnN0IGRvdWJsZSYgeSkgewogICAgICAgIERhdGFbQ3VycmVudEluZGV4XSA9IHN0ZDo6bWFrZV9wYWlyKAogICAgICAgICAgICAgICAgc3RhdGljX2Nhc3Q8ZG91YmxlPih4KSwKICAgICAgICAgICAgICAgIHN0YXRpY19jYXN0PGRvdWJsZT4oeSkpOwoKICAgICAgICBpZiAoU2l6ZSA8IE4pIHsKICAgICAgICAgICAgU2l6ZSsrOwogICAgICAgICAgICBDdXJyZW50SW5kZXggPSBTaXplID09IE4gPyAwIDogQ3VycmVudEluZGV4ICsgMTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBTdGFydCA9IChTdGFydCArIDEpICUgU2l6ZTsKICAgICAgICAgICAgQ3VycmVudEluZGV4ID0gU3RhcnQ7CiAgICAgICAgfQogICAgfQp9OwoKZW51bSBjbGFzcyBQbG90U3R5bGUgewogICAgTGluZSwKICAgIFNjYXR0ZXIKfTsKLy8gQSBwbG90IGluZGljYXRvci4gSXQgaW5oZXJpdHMgZnJvbSBpbmRpY2F0b3IsIGJ1dCBtb3JlIG91dCBvZiBuZWNlc3NpdHkuCi8vIEl0IGtlZXBzIHRoZSBjb2RlIGNsZWFuLCBidXQgaXQgd2FzIHJlYWxseSBub3QgbmVjZXNzYXJ5LgovLyBPcmlnaW5hbGx5LCBhIHBsb3QgY291bGQgYmUgYW55IHR5cGUgdGhhdCB3YXMgbm90IGRvdWJsZSBidXQKLy8gSW1QbG90IG9ubHkgc2hvd3MgZG91YmxlIG51bWJlcnMgb3IgdHJhbnNmb3JtcyB0aGVtIHRvIGRvdWJsZXMKLy8gaW50ZXJuYWxseS4gQWxzbywgeCBhbmQgeSBoYXZlIHRvIGJlIHRoZSBzYW1lIHR5cGUuCnRlbXBsYXRlPHR5cGVuYW1lIFQ+CmNsYXNzIFBsb3QgOiBwdWJsaWMgSW5kaWNhdG9yPFQ+IHsKICAgIGJvb2wgQ2xlYXJlZCA9IGZhbHNlOwogICAgYm9vbCBDbGVhck9uTmV3RGF0YSA9IGZhbHNlOwoKCiAgICBjb25zdCBzdGQ6OnNpemVfdCBNYXhTYW1wbGVzOwogICAgUGxvdERhdGFCdWZmZXIgcGxvdERhdGE7CgogcHVibGljOgogICAgdXNpbmcgdHlwZSA9IFQ7CiAgICB1c2luZyBkYXRhX3R5cGUgPSBkb3VibGU7CgogICAgZXhwbGljaXQgUGxvdChjb25zdCBUJiBpZCwgY29uc3QgYm9vbCYgY2xlYXJPbk5ld0RhdGEgPSBmYWxzZSwKICAgICAgICBjb25zdCBzdGQ6OnNpemVfdCYgbWF4U2FtcGxlcyA9IDEwMGUzKSA6IEluZGljYXRvcjxUPihpZCksCiAgICAgICAgQ2xlYXJPbk5ld0RhdGEoY2xlYXJPbk5ld0RhdGEpLCBNYXhTYW1wbGVzKG1heFNhbXBsZXMpLAogICAgICAgIHBsb3REYXRhKG1heFNhbXBsZXMpIHsKICAgIH0KCiAgICAvLyBObyBtb3ZpbmcKICAgIFBsb3QoUGxvdCYmKSA9IGRlZmF1bHQ7CiAgICBQbG90JiBvcGVyYXRvcj0oUGxvdCYmKSA9IGRlZmF1bHQ7CgogICAgLy8gTm8gY29weWluZwogICAgUGxvdChjb25zdCBQbG90JikgPSBkZWxldGU7CgogICAgdGVtcGxhdGU8dHlwZW5hbWUgT0ZGREFUQT4KICAgIHZvaWQgYWRkKGNvbnN0IEluZGljYXRvclZlY3RvcjxULCBPRkZEQVRBPiYgdikgewogICAgICAgIGlmICh2LklEID09IEluZGljYXRvcjxUPjo6SUQpIHsKICAgICAgICAgICAgcGxvdERhdGEodi5YLCB2LlkpOwogICAgICAgIH0KICAgIH0KCiAgICB0ZW1wbGF0ZTx0eXBlbmFtZSBPRkZEQVRBPgogICAgdm9pZCBhZGQoY29uc3QgT0ZGREFUQSYgeCwgY29uc3QgT0ZGREFUQSYgeSkgewogICAgICAgIHBsb3REYXRhKHgsIHkpOwogICAgfQoKICAgIHZvaWQgY2xlYXIoKSB7CiAgICAgICAgcGxvdERhdGEuU2l6ZSA9IDA7CiAgICAgICAgcGxvdERhdGEuQ3VycmVudEluZGV4ID0gMDsKICAgIH0KCiAgICAvLyBFeGVjdXRlcyBhdHRyaWJ1dGVzLiBGb3IgcGxvdHMsIGl0IGNsZWFycyBvbiBuZXcgZGF0YS4KICAgIHZvaWQgRXhlY3V0ZUF0dHJpYnV0ZXMoKSB7CiAgICAgICAgaWYgKENsZWFyT25OZXdEYXRhKSB7CiAgICAgICAgICAgIGlmICghQ2xlYXJlZCkgewogICAgICAgICAgICAgICAgY2xlYXIoKTsKICAgICAgICAgICAgICAgIENsZWFyZWQgPSB0cnVlOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQoKICAgIC8vIENsZWFycyBhdHRyaWJ1dGVzLiBGb3IgcGxvdHMsIGl0IHJlc2V0cyBpZiBpdCBzaG91bGQgY2xlYXIuCiAgICAvLyBvbiBuZXcgZGF0YS4KICAgIHZvaWQgQ2xlYXJBdHRyaWJ1dGVzKCkgewogICAgICAgIENsZWFyZWQgPSBmYWxzZTsKICAgIH0KCiAgICAvLyBXcmFwcyBJbVBsb3Q6OlBsb3RMaW5lCiAgICB2b2lkIG9wZXJhdG9yKCkoY29uc3Qgc3RkOjpzdHJpbmcmIGxhYmVsLAogICAgICAgIGNvbnN0IFBsb3RTdHlsZSYgc3R5bGUgPSBQbG90U3R5bGU6OkxpbmUpIHsKICAgICAgICAvLyBzdGF0aWMgSW1QbG90R2V0dGVyIGdldHRlciA9IHN0YXRpY19jYXN0PEltUGxvdEdldHRlcj4oX3RyYW5zZm9ybSk7CiAgICAgICAgc3RhdGljIGF1dG8gdHJhbnNmb3JtID0gW10oaW50IGlkeCwgdm9pZCogZGF0YSkgewogICAgICAgICAgICBhdXRvIG15RGF0YSA9IHN0YXRpY19jYXN0PFBsb3REYXRhQnVmZmVyKj4oZGF0YSk7CiAgICAgICAgICAgIGF1dG8gcGFpciA9ICgqbXlEYXRhKVtpZHhdOwogICAgICAgICAgICByZXR1cm4gSW1QbG90UG9pbnQocGFpci5maXJzdCwgcGFpci5zZWNvbmQpOwogICAgICAgIH07CgogICAgICAgIHN3aXRjaCAoc3R5bGUpIHsKICAgICAgICAgICAgY2FzZSBQbG90U3R5bGU6OlNjYXR0ZXI6CiAgICAgICAgICAgICAgICBJbVBsb3Q6OlBsb3RTY2F0dGVyRyhsYWJlbC5jX3N0cigpLCB0cmFuc2Zvcm0sICZwbG90RGF0YSwgcGxvdERhdGEuU2l6ZSk7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlIFBsb3RTdHlsZTo6TGluZToKICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgICAgIEltUGxvdDo6UGxvdExpbmVHKGxhYmVsLmNfc3RyKCksIHRyYW5zZm9ybSwgJnBsb3REYXRhLCBwbG90RGF0YS5TaXplKTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgfQoKICAgIH0KCiAgICB2b2lkIERyYXcoY29uc3Qgc3RkOjpzdHJpbmcmIGxhYmVsLAogICAgICAgIGNvbnN0IFBsb3RTdHlsZSYgc3R5bGUgPSBQbG90U3R5bGU6OkxpbmUpIHsKICAgICAgICB0aGlzLT5vcGVyYXRvcigpKGxhYmVsLCBzdHlsZSk7CiAgICB9CgogcHJpdmF0ZToKfTsKCi8vIFRoaXMgY2xhc3MgaXMgbWVhbnQgdG8gYmUgY3JlYXRlZCBvbmNlIGluIHRoZSByZWNlaXZlci9jb25zdW1lciB0aHJlYWQKLy8gSXQgd2lsbCB1cGRhdGUgYWxsIG9mIHRoZSBpbmRpY2F0b3JzIHZhbHVlcyBvbmNlIGluZm9ybWF0aW9uIGlzIHNlbnQKdGVtcGxhdGU8dHlwZW5hbWUgVCwgdHlwZW5hbWUgREFUQT4KY2xhc3MgSW5kaWNhdG9yUmVjZWl2ZXIgIHsKICAgIEluZGljYXRvcnNRdWV1ZTxULCBEQVRBPiYgX3E7CiAgICBzdGQ6OnVub3JkZXJlZF9tYXA8VCwgc3RkOjp1bmlxdWVfcHRyPEluZGljYXRvcjxUPj4+IF9pbmRpY2F0b3JzOwoKcHVibGljOgogICAgdXNpbmcgdHlwZSA9IFQ7CiAgICB1c2luZyBkYXRhX3R5cGUgPSBEQVRBOwoKICAgIGV4cGxpY2l0IEluZGljYXRvclJlY2VpdmVyKEluZGljYXRvcnNRdWV1ZTxULCBEQVRBPiYgcSkgOiBfcShxKSB7IH0KCgogICAgLy8gTm8gY29weWluZwogICAgSW5kaWNhdG9yUmVjZWl2ZXIoY29uc3QgSW5kaWNhdG9yUmVjZWl2ZXImKSA9IGRlbGV0ZTsKCiAgICAvLyBUaGlzIGlzIG1lYW50IHRvIGJlIHJ1biBpbiB0aGUgc2luZ2xlIGNvbnN1bWVyLgogICAgLy8gVXBkYXRlcyBhbGwgdGhlIHBsb3RzIGFycmF5cyBmcm9tIHRoZSBxdWV1ZS4KICAgIHZvaWQgb3BlcmF0b3IoKSgpIHsKICAgICAgICBhdXRvIGFwcHJveF9sZW5ndGggPSBfcS5zaXplX2FwcHJveCgpOwogICAgICAgIHN0ZDo6dmVjdG9yPCBJbmRpY2F0b3JWZWN0b3I8VCwgREFUQT4gPiB0ZW1wX2l0ZW1zKGFwcHJveF9sZW5ndGgpOwogICAgICAgIF9xLnRyeV9kZXF1ZXVlX2J1bGsodGVtcF9pdGVtcy5kYXRhKCksIGFwcHJveF9sZW5ndGgpOwoKICAgICAgICBmb3IgKEluZGljYXRvclZlY3RvcjxULCBEQVRBPiBpdGVtIDogdGVtcF9pdGVtcykgewogICAgICAgICAgICAvLyBJZiBpdCBjb250YWlucyBvbmUgaXRlbSwgdGhlbiBpdCBpcyBhIGluZGljYXRvcgogICAgICAgICAgICBpZiAoX2luZGljYXRvcnMuY291bnQoaXRlbS5JRCkpIHsKICAgICAgICAgICAgICAgIGF1dG8mIGluZGljYXRvciA9IF9pbmRpY2F0b3JzLmF0KGl0ZW0uSUQpOwogICAgICAgICAgICAgICAgaW5kaWNhdG9yLT5FeGVjdXRlQXR0cmlidXRlcygpOwoKICAgICAgICAgICAgICAgIFBsb3Q8VD4qIHBsdCA9IGR5bmFtaWNfY2FzdDxQbG90PFQ+Kj4oaW5kaWNhdG9yLmdldCgpKTsKICAgICAgICAgICAgICAgIEJvb2xlYW5JbmRpY2F0b3I8VD4qIGJpbmQKICAgICAgICAgICAgICAgICAgICA9IGR5bmFtaWNfY2FzdDxCb29sZWFuSW5kaWNhdG9yPFQ+Kj4oaW5kaWNhdG9yLmdldCgpKTsKICAgICAgICAgICAgICAgIGlmIChwbHQpIHsKICAgICAgICAgICAgICAgICAgICBwbHQtPmFkZChpdGVtKTsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYmluZCkgewogICAgICAgICAgICAgICAgICAgIGJpbmQtPmFkZChpdGVtKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgaW5kaWNhdG9yLT5hZGQoaXRlbSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGZvciAoYXV0byYgaW5kaWNhdG9yIDogX2luZGljYXRvcnMpIHsKICAgICAgICAgICAgaW5kaWNhdG9yLnNlY29uZC0+Q2xlYXJBdHRyaWJ1dGVzKCk7CiAgICAgICAgfQogICAgfQoKICAgIHZvaWQgb3BlcmF0b3IoKShjb25zdCBUJiBrZXksIGNvbnN0IERBVEEmIHgsIGNvbnN0IERBVEEmIHkpIHsKICAgICAgICBJbmRpY2F0b3JWZWN0b3I8VCwgREFUQT4gbmV3UChrZXksIHgsIHkpOwogICAgICAgIF9xLmVucXVldWUobmV3UCk7CiAgICB9CgogICAgdGVtcGxhdGU8dHlwZW5hbWUgT0ZGREFUQT4KICAgIGF1dG8mIGluZGljYXRvcihjb25zdCBUJiBpZCwgY29uc3Qgc3RkOjpzdHJpbmcmIGxhYmVsLCBPRkZEQVRBJiBvdXQsCiAgICAgICAgY29uc3QgZmxvYXQmIG9mZnNldCA9IDAsCiAgICAgICAgY29uc3QgdW5zaWduZWQgaW50JiBwcmVjaXNpb24gPSA2LAogICAgICAgIGNvbnN0IE51bWVyaWNGb3JtYXQmIGZvcm1hdCA9IE51bWVyaWNGb3JtYXQ6OkRlZmF1bHQpIHsKICAgICAgICBfaW5kaWNhdG9ycy50cnlfZW1wbGFjZShpZCwKICAgICAgICAgICAgc3RkOjptYWtlX3VuaXF1ZTxJbmRpY2F0b3I8VD4+KGlkLCBwcmVjaXNpb24sIGZvcm1hdCkpOwoKICAgICAgICBhdXRvJiBpbmQgPSBfaW5kaWNhdG9ycy5hdChpZCk7CgogICAgICAgIGluZC0+RHJhdyhsYWJlbCwgb3V0LCBvZmZzZXQpOwoKICAgICAgICByZXR1cm4gaW5kOwogICAgfQoKICAgIGF1dG8mIGluZGljYXRvcihjb25zdCBUJiBpZCwKICAgICAgICBjb25zdCBzdGQ6OnN0cmluZyYgbGFiZWwsCiAgICAgICAgY29uc3QgZmxvYXQmIG9mZnNldCA9IDAsCiAgICAgICAgY29uc3QgdW5zaWduZWQgaW50JiBwcmVjaXNpb24gPSA2LAogICAgICAgIGNvbnN0IE51bWVyaWNGb3JtYXQmIGZvcm1hdCA9IE51bWVyaWNGb3JtYXQ6OkRlZmF1bHQpIHsKCiAgICAgICAgX2luZGljYXRvcnMudHJ5X2VtcGxhY2UoaWQsCiAgICAgICAgICAgIHN0ZDo6bWFrZV91bmlxdWU8SW5kaWNhdG9yPFQ+PihpZCwgcHJlY2lzaW9uLCBmb3JtYXQpKTsKICAgICAgICBhdXRvJiBpbmQgPSBfaW5kaWNhdG9ycy5hdChpZCk7CgogICAgICAgIGRvdWJsZSB0bXA7CiAgICAgICAgaW5kLT5EcmF3KGxhYmVsLCB0bXAsIG9mZnNldCk7CgogICAgICAgIHJldHVybiBpbmQ7CiAgICB9CgogICAgYXV0byYgYm9vbGVhbkluZGljYXRvcihjb25zdCBUJiBpZCwgY29uc3Qgc3RkOjpzdHJpbmcmIGxhYmVsLAogICAgICAgIHN0ZDo6ZnVuY3Rpb248Ym9vbChjb25zdCBkb3VibGUmKT4mJiBmLCBjb25zdCBmbG9hdCYgb2Zmc2V0ID0gMCkgewogICAgICAgIF9pbmRpY2F0b3JzLnRyeV9lbXBsYWNlKGlkLAogICAgICAgICAgICBzdGQ6Om1ha2VfdW5pcXVlPEJvb2xlYW5JbmRpY2F0b3I8VD4+KGlkLAogICAgICAgICAgICAgICAgc3RkOjpmb3J3YXJkPHN0ZDo6ZnVuY3Rpb248Ym9vbChjb25zdCBkb3VibGUmKT4+KGYpKSk7CgogICAgICAgIGF1dG8mIGluZCA9IF9pbmRpY2F0b3JzLmF0KGlkKTsKCiAgICAgICAgYXV0byBiID0gZHluYW1pY19jYXN0PEJvb2xlYW5JbmRpY2F0b3I8VD4qPihpbmQuZ2V0KCkpOwogICAgICAgIGlmIChiKSB7CiAgICAgICAgICAgIGItPkRyYXcobGFiZWwsIG9mZnNldCk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gaW5kOwogICAgfQoKICAgIGF1dG8mIGJvb2xlYW5JbmRpY2F0b3IoY29uc3QgVCYgaWQsIGNvbnN0IHN0ZDo6c3RyaW5nJiBsYWJlbCwgYm9vbCYgb3V0LAogICAgICAgIHN0ZDo6ZnVuY3Rpb248Ym9vbChjb25zdCBkb3VibGUmKT4mJiBmLCBjb25zdCBmbG9hdCYgb2Zmc2V0ID0gMCkgewogICAgICAgIF9pbmRpY2F0b3JzLnRyeV9lbXBsYWNlKGlkLAogICAgICAgICAgICBzdGQ6Om1ha2VfdW5pcXVlPEJvb2xlYW5JbmRpY2F0b3I8VD4+KGlkLAogICAgICAgICAgICAgICAgc3RkOjpmb3J3YXJkPHN0ZDo6ZnVuY3Rpb248Ym9vbChjb25zdCBkb3VibGUmKT4+KGYpKSk7CgogICAgICAgIGF1dG8mIGluZCA9IF9pbmRpY2F0b3JzLmF0KGlkKTsKCiAgICAgICAgYXV0byBiID0gZHluYW1pY19jYXN0PEJvb2xlYW5JbmRpY2F0b3I8VD4qPihpbmQuZ2V0KCkpOwogICAgICAgIGlmIChiKSB7CiAgICAgICAgICAgIGItPkRyYXcobGFiZWwsIG91dCwgb2Zmc2V0KTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBpbmQ7CiAgICB9CgogICAgLy8gYXV0byYgbWFrZV9wbG90KGNvbnN0IFQmIGlkKSB7CiAgICAvLyAgX2luZGljYXRvcnMudHJ5X2VtcGxhY2UoaWQsCiAgICAvLyAgICAgIHN0ZDo6bWFrZV91bmlxdWU8UGxvdDxUPj4oaWQpKTsKCiAgICAvLyAgcmV0dXJuIF9wbG90cy5hdChpZCk7CiAgICAvLyB9CgogICAgLy8gQWRkcyBwbG90IHdpdGggSUQsIGFuZCBkcmF3cyBpdCBhdCB0aGUgcGxhY2VkIGxvY2F0aW9uIGlmIGV4aXN0cwogICAgLy8gSXQgcmV0dXJucyBhIHNtYXJ0IHBvaW50ZXIgdG8gdGhlIGluZGljYXRvciAobm90IHBsb3QpCiAgICBhdXRvJiBwbG90KGNvbnN0IFQmIGlkLCBjb25zdCBzdGQ6OnN0cmluZyYgbGFiZWwsCiAgICAgICAgY29uc3QgUGxvdFN0eWxlIHN0eWxlID0gUGxvdFN0eWxlOjpMaW5lLCBib29sIGNsZWFyT25OZXdEYXRhID0gZmFsc2UpIHsKICAgICAgICBfaW5kaWNhdG9ycy50cnlfZW1wbGFjZShpZCwKICAgICAgICAgICAgc3RkOjptYWtlX3VuaXF1ZTxQbG90PFQ+PihpZCwgY2xlYXJPbk5ld0RhdGEpKTsKCiAgICAgICAgYXV0byYgaW5kID0gX2luZGljYXRvcnMuYXQoaWQpOwoKICAgICAgICBQbG90PFQ+KiBwbHQgPSBkeW5hbWljX2Nhc3Q8UGxvdDxUPio+KGluZC5nZXQoKSk7CiAgICAgICAgaWYgKHBsdCkgewogICAgICAgICAgICBwbHQtPkRyYXcobGFiZWwsIHN0eWxlKTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBpbmQ7CiAgICB9CgogICAgdm9pZCBDbGVhclBsb3QoY29uc3QgVCYgaWQpIHsKICAgICAgICBhdXRvIHNlYXJjaCA9IF9pbmRpY2F0b3JzLmZpbmQoaWQpOwogICAgICAgIGlmIChzZWFyY2ggIT0gX2luZGljYXRvcnMuZW5kKCkpIHsKICAgICAgICAgICAgUGxvdDxUPiogcGx0ID0gZHluYW1pY19jYXN0PFBsb3Q8VD4qPigKICAgICAgICAgICAgICAgIF9pbmRpY2F0b3JzLmF0KGlkKS5nZXQoKSk7CiAgICAgICAgICAgIHBsdC0+Y2xlYXIoKTsKICAgICAgICB9CiAgICB9Cn07CgovLyBUaGUgSW5kaWNhdG9yU2VuZGVyIGNsYXNzIGlzIG1lYW50IHRvIGJlIHJ1biBpbiB0aGUgcHJvZHVjZXIgdGhyZWFkcwovLyBUaGUgcHJvZHVjZXIgdGhyZWFkIGNhbiBhZGQgYSBuZXcgSW5kaWNhdG9yVmVjdG9yIHRvIHRoaXMgY2xhc3MKLy8gYW5kIHRoaXMgd2lsbCBzZW5kIGl0IGZvcndhcmQuCi8vIEl0IHVzZXMgZW51bXMgc28gdGhlIHByb2R1Y2VyIHRocmVhZHMgZG8gbm90IG5lZWQgdG8ga25vdyBpZiB0aGUKLy8gaW5kaWNhdG9yL3Bsb3QgYXNzb2NpYXRlZCB3aXRoIHRoYXQgZW51bSBleGlzdHMuCnRlbXBsYXRlPHR5cGVuYW1lIFQsIHR5cGVuYW1lIERBVEE+CmNsYXNzIEluZGljYXRvclNlbmRlciB7CiAgICBJbmRpY2F0b3JzUXVldWU8VCwgREFUQT4mIF9xOwoKIHB1YmxpYzoKICAgIHVzaW5nIHR5cGUgPSBUOwogICAgdXNpbmcgZGF0YV90eXBlID0gREFUQTsKCiAgICBleHBsaWNpdCBJbmRpY2F0b3JTZW5kZXIoSW5kaWNhdG9yc1F1ZXVlPFQsIERBVEE+JiBxKSA6IF9xKHEpIHsgfQoKICAgIC8vIE5vIGNvcHlpbmcKICAgIEluZGljYXRvclNlbmRlcihjb25zdCBJbmRpY2F0b3JTZW5kZXImKSA9IGRlbGV0ZTsKCiAgICAvLyBTZW5kcyB2YWx1ZSB4IHRvIGluZGljYXRvciBvZiB0eXBlIFQKICAgIHZvaWQgb3BlcmF0b3IoKShjb25zdCBUJiBrZXksIGNvbnN0IERBVEEmIHgpIHsKICAgICAgICBJbmRpY2F0b3JWZWN0b3I8VCwgREFUQT4gbmV3UChrZXksIHgpOwogICAgICAgIF9xLmVucXVldWUobmV3UCk7CiAgICB9CgogICAgLy8gU2VuZHMgdmFsdWUgcGFpciAoeCx5KSB0byBwbG90L2luZGljYXRvciBvZiB0eXBlIFQKICAgIHZvaWQgb3BlcmF0b3IoKShjb25zdCBUJiBrZXksIGNvbnN0IERBVEEmIHgsIGNvbnN0IERBVEEmIHkpIHsKICAgICAgICBJbmRpY2F0b3JWZWN0b3I8VCwgREFUQT4gbmV3UChrZXksIHgsIHkpOwogICAgICAgIF9xLmVucXVldWUobmV3UCk7CiAgICB9CgogICAgLy8gU2VuZHMgdmFsdWUgcGFpciAoeCx5KSB0byBwbG90L2luZGljYXRvciBvZiB0eXBlIFQKICAgIC8vIE5vdGUgaWYgYW4gaW5kaWNhdG9yIGlzIHNlbGVjdGVkLCBvbmx5IHRoZSBsYXRlc3QgdmFsdWUKICAgIC8vIHdpbGwgYmUgc2hvd24KICAgIHZvaWQgb3BlcmF0b3IoKShjb25zdCBJbmRpY2F0b3JWZWN0b3I8VCwgREFUQT4mIHB2KSB7CiAgICAgICAgX3EuZW5xdWV1ZShwdik7CiAgICB9CgogICAgLy8gU2VuZHMgYSBsaXN0IG9mIHBhaXJzICh4LHkpIHRvIHBsb3QvaW5kaWNhdG9yIG9mIHR5cGUgVAogICAgLy8gTm90ZSBpZiBhbiBpbmRpY2F0b3IgaXMgc2VsZWN0ZWQsIG9ubHkgdGhlIGxhdGVzdCB2YWx1ZQogICAgLy8gd2lsbCBiZSBzaG93biBhbmQgdGhlIGxpc3QgeSB3aWxsIGJlIGlnbm9yZWQKICAgIHRlbXBsYXRlPHR5cGVuYW1lIE9GRkRBVEE+CiAgICB2b2lkIG9wZXJhdG9yKCkoY29uc3QgVCYga2V5LCBjb25zdCBzdGQ6OnZlY3RvcjxPRkZEQVRBPiYgeCwKICAgICAgICBjb25zdCBzdGQ6OnZlY3RvcjxPRkZEQVRBPiYgeSkgewogICAgICAgIHN0ZDo6dmVjdG9yPCBJbmRpY2F0b3JWZWN0b3I8VCwgREFUQT4gPiBpdGVtcyh4LnNpemUoKSk7CiAgICAgICAgZm9yICh1bnNpZ25lZCBpbnQgaSA9IDA7IGkgPCB4LnNpemUoKTsgaSsrKSB7CiAgICAgICAgICAgIGl0ZW1zW2ldID0gSW5kaWNhdG9yVmVjdG9yPFQsIERBVEE+KGtleSwKICAgICAgICAgICAgICAgIHN0YXRpY19jYXN0PERBVEE+KHhbaV0pLAogICAgICAgICAgICAgICAgc3RhdGljX2Nhc3Q8REFUQT4oeVtpXSkpOwogICAgICAgIH0KCiAgICAgICAgX3EuZW5xdWV1ZV9idWxrKGl0ZW1zLmJlZ2luKCksIGl0ZW1zLnNpemUoKSk7CiAgICB9CgogICAgLy8gU2VuZHMgYSBsaXN0IG9mIHBhaXJzICh4LHkpIHRvIHBsb3QvaW5kaWNhdG9yIG9mIHR5cGUgVAogICAgLy8gTm90ZSBpZiBhbiBpbmRpY2F0b3IgaXMgc2VsZWN0ZWQsIG9ubHkgdGhlIGxhdGVzdCB2YWx1ZQogICAgLy8gd2lsbCBiZSBzaG93biBhbmQgdGhlIGxpc3QgeSB3aWxsIGJlIGlnbm9yZWQKICAgIHRlbXBsYXRlPHR5cGVuYW1lIE9GRkRBVEE+CiAgICB2b2lkIG9wZXJhdG9yKCkoY29uc3QgVCYga2V5LCBPRkZEQVRBKiB4X2RhdGEsIE9GRkRBVEEqIHlfZGF0YSwKICAgICAgICBjb25zdCBzaXplX3QmIHNpemUpIHsKICAgICAgICBzdGQ6OnZlY3RvcjwgSW5kaWNhdG9yVmVjdG9yPFQsIERBVEE+ID4gaXRlbXMoc2l6ZSk7CiAgICAgICAgZm9yICh1bnNpZ25lZCBpbnQgaSA9IDA7IGkgPCBzaXplOyBpKyspIHsKICAgICAgICAgICAgaXRlbXNbaV0gPSBJbmRpY2F0b3JWZWN0b3I8VCwgREFUQT4oa2V5LAogICAgICAgICAgICAgICAgc3RhdGljX2Nhc3Q8REFUQT4oeF9kYXRhW2ldKSwKICAgICAgICAgICAgICAgIHN0YXRpY19jYXN0PERBVEE+KHlfZGF0YVtpXSkpOwogICAgICAgIH0KCiAgICAgICAgX3EuZW5xdWV1ZV9idWxrKGl0ZW1zLmJlZ2luKCksIGl0ZW1zLnNpemUoKSk7CiAgICB9Cn07CgoKdGVtcGxhdGU8dHlwZW5hbWUgVD4KLy8gQ3JlYXRlcyBpbmRpY2F0b3Igd2l0aCBLZXkgYW5kIGFkZHMgaXQgdG8gUmVjZWl2ZXIgcQppbmxpbmUgSW5kaWNhdG9yPFQ+IG1ha2VfaW5kaWNhdG9yKFQmJiBrZXksIHVuc2lnbmVkIGludCYmIHByZWNpc2lvbiA9IDYsCiAgICAgICAgTnVtZXJpY0Zvcm1hdCYmIGZvcm1hdCA9IE51bWVyaWNGb3JtYXQ6OkRlZmF1bHQpIHsKICAgIHJldHVybiBJbmRpY2F0b3I8VD4oc3RkOjpmb3J3YXJkPFQ+KGtleSksCiAgICAgICAgc3RkOjpmb3J3YXJkPHVuc2lnbmVkIGludD4ocHJlY2lzaW9uKSwKICAgICAgICBzdGQ6OmZvcndhcmQ8TnVtZXJpY0Zvcm1hdD4oZm9ybWF0KSk7Cn0KCnRlbXBsYXRlPHR5cGVuYW1lIFQ+CmlubGluZSBQbG90PFQ+IG1ha2VfcGxvdChUJiYga2V5KSB7CiAgICByZXR1cm4gUGxvdDxUPihzdGQ6OmZvcndhcmQ8VD4oa2V5KSk7Cn0KCgp9ICAvLyBuYW1lc3BhY2UgU0JDUXVlZW5zCiNlbmRpZgoAAAAAAAAAAGZLAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAmhoAAAAAAABbGgAAAAAAAAAAAAAAAPC/"
				],
				[
					5,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAABmSwAAI2lmbmRlZiBJTVBMT1RIRUxQRVJTX0gKI2RlZmluZSBJTVBMT1RIRUxQRVJTX0gKI3ByYWdtYSBvbmNlCgovLyAvLyBDIDNyZCBwYXJ0eSBpbmNsdWRlcwovLyAjaW5jbHVkZSA8aW1ndWkuaD4KLy8gI2luY2x1ZGUgPGltcGxvdC5oPgovLyAjaW5jbHVkZSA8c3BkbG9nL3NwZGxvZy5oPgovLyAjaW5jbHVkZSA8cmVhZGVyd3JpdGVycXVldWUuaD4KLy8gI2luY2x1ZGUgPGNvbmN1cnJlbnRxdWV1ZS5oPgoKLy8gLy8gQysrIFNURCBpbmNsdWRlcwovLyAjaW5jbHVkZSA8YWxnb3JpdGhtPgovLyAjaW5jbHVkZSA8Y3N0ZGRlZj4KLy8gI2luY2x1ZGUgPGNzdGRpbnQ+Ci8vICNpbmNsdWRlIDxmdW5jdGlvbmFsPgovLyAjaW5jbHVkZSA8aW9zPgovLyAjaW5jbHVkZSA8bWVtb3J5PgovLyAjaW5jbHVkZSA8c3RyaW5nPgovLyAjaW5jbHVkZSA8dW5vcmRlcmVkX21hcD4KLy8gI2luY2x1ZGUgPHV0aWxpdHk+Ci8vICNpbmNsdWRlIDx2ZWN0b3I+Ci8vICNpbmNsdWRlIDxzc3RyZWFtPgovLyAjaW5jbHVkZSA8ZGVxdWU+CgovLyBDKysgM3JkIHBhcnR5IGluY2x1ZGVzCiNpbmNsdWRlIDxhcm1hZGlsbG8+CgovLyAvLyBteSBpbmNsdWRlcwoKbmFtZXNwYWNlIFNCQ1F1ZWVucyB7CgovLyB0ZW1wbGF0ZTx0eXBlbmFtZSBULCB0eXBlbmFtZSBEQVRBID0gZG91YmxlPgovLyBjbGFzcyBJbmRpY2F0b3JSZWNlaXZlcjsKLy8gdGVtcGxhdGU8dHlwZW5hbWUgVCwgdHlwZW5hbWUgREFUQSA9IGRvdWJsZT4KLy8gY2xhc3MgSW5kaWNhdG9yU2VuZGVyOwoKLy8gLy8gV2VsbCwgSSB3aWxsIGxlYXZlIHRoaXMgYXMgdGhpcyB1bnRpbCBJIGNhbiBjb21lIHVwIHdpdGgKLy8gLy8gYSBiZXR0ZXIgc29sdXRpb24uCi8vIC8vIEltUGxvdHMgYXJlIDJEIGJ5IGRlZmF1bHQuIFgsIFkgYXJlIHRoZSB0eXBlcyBvZiB0aG9zZSB0d28KLy8gLy8gYXhpcyB3aGljaCBieSBkZWZhdWx0IGFyZSBmbG9hdCBidXQgdGhleSBjYW4gYmUgY2hhbmdlZC4KLy8gLy8gdW5zaWduZWQgaW50IGlzIGEgbnVtYmVyIHRoYXQgaW5zdHJ1Y3RzIHRoZSBjb25zdW1lcgovLyAvLyB0byB3aGljaCBncmFwaCBpcyBzaG91bGQgZ28gdG8uCi8vIC8vIFQgaXMgcmVzZXJ2ZWQgZm9yIHRoZSB1c2VyLCBpdCBjb3VsZCBiZSBhbiBlbnVtIHR5cGUgKG15IHByZWZlcmVuY2UpCi8vIC8vIG9yIGFueXRoaW5nIHRoZXkgd2FudCB0byBkaXN0aW5ndWlzaCB0aGVtLgovLyB0ZW1wbGF0ZTx0eXBlbmFtZSBULCB0eXBlbmFtZSBEQVRBID0gZG91YmxlPgovLyBzdHJ1Y3QgSW5kaWNhdG9yVmVjdG9yIHsKLy8gICAgIHVzaW5nIHR5cGUgPSBUOwovLyAgICAgdXNpbmcgZGF0YV90eXBlID0gREFUQTsKCi8vICAgICBJbmRpY2F0b3JWZWN0b3IoKSB7fQovLyAgICAgSW5kaWNhdG9yVmVjdG9yKGNvbnN0IFQmIGlkLCBjb25zdCBEQVRBJiB4LCBjb25zdCBEQVRBJiB5KQovLyAgICAgICAgIDogSUQoaWQpLCBYKHgpLCBZKHkpIHt9Ci8vICAgICBJbmRpY2F0b3JWZWN0b3IoY29uc3QgVCYgaWQsIGNvbnN0IERBVEEmIHgpCi8vICAgICAgICAgOiBJRChpZCksIFgoeCkge30KCi8vICAgICBUIElEOwovLyAgICAgREFUQSBYOwovLyAgICAgREFUQSBZOwovLyB9OwoKLy8gdGVtcGxhdGU8dHlwZW5hbWUgVCwgdHlwZW5hbWUgREFUQSA9IGRvdWJsZT4KLy8gdXNpbmcgSW5kaWNhdG9yc1F1ZXVlCi8vICAgICA9IHN0ZDo6c2hhcmVkX3B0cjxtb29keWNhbWVsOjpDb25jdXJyZW50UXVldWU8IEluZGljYXRvclZlY3RvcjxULCBEQVRBPiA+PjsKCi8vIHN0cnVjdCBQbG90RmxhZ3MgewovLyAgICAgYm9vbCBDbGVhck9uTmV3RGF0YTsKLy8gfTsKCi8vIGVudW0gY2xhc3MgTnVtZXJpY0Zvcm1hdCB7Ci8vICAgICBEZWZhdWx0LCBTY2llbnRpZmljLCBIZXhGbG9hdCwgRml4ZWQKLy8gfTsKCi8vIC8vIEFuIGluZGljYXRvciBpcyBhIEltR1VJIGJ1dHRvbiB0aGF0IGhhcyBiZWVuIG1vZGlmaWVkIHRvIGFjdAovLyAvLyBsaWtlIGFuIGluZGljYXRvci4KLy8gLy8gQXMgZm9yIG5vdywgdGhpcyBpbmRpY2F0b3IgaGFzIHNvbWUgcGFyYW1ldGVycyBzdWNoIGFzCi8vIC8vIHByZWNpc2lvbiBvZiB0aGUgbnVtYmVyIHRvIGRpc3BsYXksIGFuZCBmb3JtYXQgb2YgdGhlIG51bWJlcgovLyB0ZW1wbGF0ZTx0eXBlbmFtZSBUPgovLyBjbGFzcyBJbmRpY2F0b3IgewovLyAgcHJvdGVjdGVkOgovLyAgICAgVCBJRDsKLy8gICAgIC8vIF9pbWd1aV9zdGFjayBleGlzdHMgdG8gZ2l2ZSB0aGlzIGJ1dHRvbiBhbiB1bmlxdWUgaWQKLy8gICAgIC8vIGZvciB0aGUgSW1HVUkgQVBJLiBJZiB0aGlzIHdlcmUgbm90IHRoZXJlLCBpdCB3b3VsZCBzaGFyZQovLyAgICAgLy8gYW4gSUQgd2l0aCBhbGwgdGhlIGVtcHR5IG9yIHNhbWUgaW5kaWNhdG9ycy4KLy8gICAgIHN0ZDo6c3RyaW5nIF9pbWd1aV9zdGFjazsKCi8vICBwcml2YXRlOgovLyAgICAgLy8gQWN0dWFsIHN0cmluZyB0aGF0IGdldHMgZGlzcGxheWVkCi8vICAgICBzdGQ6OnN0cmluZyBfZGlzcGxheTsKCi8vICAgICAvLyBGb3JtYXQgcGFyYW1ldGVycwovLyAgICAgdW5zaWduZWQgaW50IF9wcmVjaXNpb247Ci8vICAgICBOdW1lcmljRm9ybWF0IF9mb3JtYXQ7CgovLyAgICAgZG91YmxlIF92YWw7CgovLyAgcHVibGljOgovLyAgICAgZXhwbGljaXQgSW5kaWNhdG9yKGNvbnN0IFQmIGlkLCBjb25zdCB1bnNpZ25lZCBpbnQmIHByZWNpc2lvbiA9IDYsCi8vICAgICAgICAgY29uc3QgTnVtZXJpY0Zvcm1hdCYgZm9ybWF0ID0gTnVtZXJpY0Zvcm1hdDo6RGVmYXVsdCkKLy8gICAgICAgICA6ICAgSUQoaWQpLAovLyAgICAgICAgICAgICBfaW1ndWlfc3RhY2soIiMjIiArIHN0ZDo6dG9fc3RyaW5nKHN0YXRpY19jYXN0PGludD4oaWQpKSksCi8vICAgICAgICAgICAgIF9kaXNwbGF5KF9pbWd1aV9zdGFjayksIF9wcmVjaXNpb24ocHJlY2lzaW9uKSwgX2Zvcm1hdChmb3JtYXQpLAovLyAgICAgICAgICAgICBfdmFsKDAuMCkKLy8gICAgICAgICB7IH0KCi8vICAgICAvLyBNb3ZpbmcgYWxsb3dlZAovLyAgICAgSW5kaWNhdG9yKEluZGljYXRvciYmKSA9IGRlZmF1bHQ7Ci8vICAgICBJbmRpY2F0b3ImIG9wZXJhdG9yPShJbmRpY2F0b3ImJikgPSBkZWZhdWx0OwoKLy8gICAgIC8vIE5vIGNvcHlpbmcKLy8gICAgIEluZGljYXRvcihjb25zdCBJbmRpY2F0b3ImKSA9IGRlbGV0ZTsKCi8vICAgICB2aXJ0dWFsIH5JbmRpY2F0b3IoKSB7fQoKLy8gICAgIHRlbXBsYXRlPHR5cGVuYW1lIE9GRkRBVEE+Ci8vICAgICAvLyBBZGRzIGVsZW1lbnQgbmV3VmFsLnggdG8gc2hvdyBpbiB0aGlzIGluZGljYXRvci4KLy8gICAgIC8vIG5ld1ZhbC55IGlzIGlnbm9yZWQKLy8gICAgIHZvaWQgYWRkKGNvbnN0IEluZGljYXRvclZlY3RvcjxULCBPRkZEQVRBPiYgbmV3VmFsKSB7Ci8vICAgICAgICAgaWYgKG5ld1ZhbC5JRCA9PSBJRCkgewovLyAgICAgICAgICAgICBzdGQ6Om9zdHJpbmdzdHJlYW0gb3V0OwovLyAgICAgICAgICAgICBvdXQucHJlY2lzaW9uKF9wcmVjaXNpb24pOwovLyAgICAgICAgICAgICBpZiAoX2Zvcm1hdCA9PSBOdW1lcmljRm9ybWF0OjpTY2llbnRpZmljKSB7Ci8vICAgICAgICAgICAgICAgICBvdXQgPDwgc3RkOjpzY2llbnRpZmljOwovLyAgICAgICAgICAgICB9IGVsc2UgaWYgKF9mb3JtYXQgPT0gTnVtZXJpY0Zvcm1hdDo6SGV4RmxvYXQpIHsKLy8gICAgICAgICAgICAgICAgIG91dCA8PCBzdGQ6OmhleGZsb2F0OwovLyAgICAgICAgICAgICB9IGVsc2UgaWYgKF9mb3JtYXQgPT0gTnVtZXJpY0Zvcm1hdDo6Rml4ZWQpIHsKLy8gICAgICAgICAgICAgICAgIG91dCA8PCBzdGQ6OmZpeGVkOwovLyAgICAgICAgICAgICB9CgovLyAgICAgICAgICAgICBvdXQgPDwgbmV3VmFsLlg7Ci8vICAgICAgICAgICAgIF9kaXNwbGF5ID0gIiI7CgovLyAgICAgICAgICAgICBpZiAoIW91dC5zdHIoKS5lbXB0eSgpKSB7Ci8vICAgICAgICAgICAgICAgICBfZGlzcGxheSA9IG91dC5zdHIoKTsKLy8gICAgICAgICAgICAgfQoKLy8gICAgICAgICAgICAgX2Rpc3BsYXkgKz0gX2ltZ3VpX3N0YWNrOwoKLy8gICAgICAgICAgICAgX3ZhbCA9IHN0YXRpY19jYXN0PGRvdWJsZT4obmV3VmFsLlgpOwovLyAgICAgICAgIH0KLy8gICAgIH0KCi8vICAgICB0ZW1wbGF0ZTx0eXBlbmFtZSBPRkZEQVRBPgovLyAgICAgdm9pZCBvcGVyYXRvcigpKGNvbnN0IHN0ZDo6c3RyaW5nJiBsYWJlbCwgT0ZGREFUQSYgb3V0LAovLyAgICAgICAgIGNvbnN0IGZsb2F0JiBvZmZzZXQgPSAwKSB7Ci8vICAgICAgICAgSW1HdWk6OlRleHQoIiVzIiwgbGFiZWwuY19zdHIoKSk7IEltR3VpOjpTYW1lTGluZShvZmZzZXQpOwovLyAgICAgICAgIEltR3VpOjpCdXR0b24oX2Rpc3BsYXkuY19zdHIoKSk7Ci8vICAgICAgICAgb3V0ID0gc3RhdGljX2Nhc3Q8T0ZGREFUQT4oX3ZhbCk7Ci8vICAgICB9CgovLyAgICAgdGVtcGxhdGU8dHlwZW5hbWUgT0ZGREFUQT4KLy8gICAgIHZvaWQgRHJhdyhjb25zdCBzdGQ6OnN0cmluZyYgbGFiZWwsIE9GRkRBVEEmIG91dCwgY29uc3QgZmxvYXQmIG9mZnNldCA9IDApIHsKLy8gICAgICAgICB0aGlzLT5vcGVyYXRvcigpKGxhYmVsLCBvdXQsIG9mZnNldCk7Ci8vICAgICB9CgovLyAgICAgLy8gRm9yIGluZGljYXRvcnMsIGl0IGRvZXMgbm90aGluZy4KLy8gICAgIHZpcnR1YWwgdm9pZCBFeGVjdXRlQXR0cmlidXRlcygpIHsgfQoKLy8gICAgIC8vIEZvciBpbmRpY2F0b3JzLCBpdCBkb2VzIG5vdGhpbmcuCi8vICAgICB2aXJ0dWFsIHZvaWQgQ2xlYXJBdHRyaWJ1dGVzKCkgeyB9CgovLyAgICAgdmlydHVhbCBUIEdldElEKCkgY29uc3QgewovLyAgICAgICAgIHJldHVybiBJRDsKLy8gICAgIH0KLy8gfTsKCi8vIHRlbXBsYXRlPHR5cGVuYW1lIFQ+Ci8vIGNsYXNzIEJvb2xlYW5JbmRpY2F0b3IgOiBwdWJsaWMgSW5kaWNhdG9yPFQ+IHsKLy8gICAgIHN0ZDo6ZnVuY3Rpb248Ym9vbChjb25zdCBkb3VibGUmKT4gX2Y7Ci8vICAgICBJbVZlYzQgX29mZl9jb2xvcjsKLy8gICAgIEltVmVjNCBfb25fY29sb3I7Ci8vICAgICBJbVZlYzQgX2N1cnJlbnRfY29sb3I7Ci8vICAgICBib29sIF9pc19vbjsKCi8vICBwdWJsaWM6Ci8vICAgICBleHBsaWNpdCBCb29sZWFuSW5kaWNhdG9yKGNvbnN0IFQmIGlkLAovLyAgICAgICAgIHN0ZDo6ZnVuY3Rpb248Ym9vbChjb25zdCBkb3VibGUmKT4mJiBmKQovLyAgICAgICAgIDogSW5kaWNhdG9yPFQ+KGlkKSwgX2YoZiksCi8vICAgICAgICAgX29mZl9jb2xvcihzdGF0aWNfY2FzdDxJbVZlYzQ+KEltQ29sb3I6OkhTVigwLjBmLCAwLjZmLCAwLjZmKSkpLAovLyAgICAgICAgIF9vbl9jb2xvcihzdGF0aWNfY2FzdDxJbVZlYzQ+KEltQ29sb3I6OkhTVigyLjBmIC8gNy4wZiwgMC42ZiwgMC42ZikpKSwKLy8gICAgICAgICBfY3VycmVudF9jb2xvcihfb2ZmX2NvbG9yKSwgX2lzX29uKGZhbHNlKSB7Ci8vICAgICB9CgovLyAgICAgLy8gTW92aW5nIGFsbG93ZWQKLy8gICAgIEJvb2xlYW5JbmRpY2F0b3IoQm9vbGVhbkluZGljYXRvciYmKSA9IGRlZmF1bHQ7Ci8vICAgICBCb29sZWFuSW5kaWNhdG9yJiBvcGVyYXRvcj0oQm9vbGVhbkluZGljYXRvciYmKSA9IGRlZmF1bHQ7CgovLyAgICAgLy8gTm8gY29weWluZwovLyAgICAgQm9vbGVhbkluZGljYXRvcihjb25zdCBCb29sZWFuSW5kaWNhdG9yJikgPSBkZWxldGU7CgovLyAgICAgdGVtcGxhdGU8dHlwZW5hbWUgT0ZGREFUQT4KLy8gICAgIC8vIFVzZXMgbmV3VmFsLnggdG8gaW5kaWNhdGUgdGhlIGVxdWFsaXR5Ci8vICAgICB2b2lkIGFkZChjb25zdCBJbmRpY2F0b3JWZWN0b3I8VCwgT0ZGREFUQT4mIG5ld1ZhbCkgewovLyAgICAgICAgIF9pc19vbiA9IF9mKHN0YXRpY19jYXN0PGRvdWJsZT4obmV3VmFsLlgpKTsKLy8gICAgICAgICBfY3VycmVudF9jb2xvciA9IF9pc19vbiA/IF9vbl9jb2xvciA6IF9vZmZfY29sb3I7Ci8vICAgICB9CgovLyAgICAgdm9pZCBvcGVyYXRvcigpKGNvbnN0IHN0ZDo6c3RyaW5nJiBsYWJlbCwgYm9vbCYgb3V0LAovLyAgICAgICAgIGNvbnN0IGZsb2F0JiBvZmZzZXQgPSAwKSB7Ci8vICAgICAgICAgb3V0ID0gX2lzX29uOwovLyAgICAgICAgIEltR3VpOjpUZXh0KCIlcyIsIGxhYmVsLmNfc3RyKCkpOyBJbUd1aTo6U2FtZUxpbmUob2Zmc2V0KTsKCi8vICAgICAgICAgSW1HdWk6OlB1c2hTdHlsZUNvbG9yKEltR3VpQ29sX0J1dHRvbiwgX2N1cnJlbnRfY29sb3IpOwovLyAgICAgICAgIEltR3VpOjpQdXNoU3R5bGVDb2xvcihJbUd1aUNvbF9CdXR0b25Ib3ZlcmVkLCBfY3VycmVudF9jb2xvcik7Ci8vICAgICAgICAgSW1HdWk6OlB1c2hTdHlsZUNvbG9yKEltR3VpQ29sX0J1dHRvbkFjdGl2ZSwgX2N1cnJlbnRfY29sb3IpOwoKLy8gICAgICAgICBJbUd1aTo6QnV0dG9uKEluZGljYXRvcjxUPjo6X2ltZ3VpX3N0YWNrLmNfc3RyKCksIEltVmVjMigxNSwgMTUpKTsKCi8vICAgICAgICAgSW1HdWk6OlBvcFN0eWxlQ29sb3IoMyk7Ci8vICAgICB9CgovLyAgICAgdm9pZCBEcmF3KGNvbnN0IHN0ZDo6c3RyaW5nJiBsYWJlbCwgYm9vbCYgb3V0LCBjb25zdCBmbG9hdCYgb2Zmc2V0ID0gMCkgewovLyAgICAgICAgIHRoaXMtPm9wZXJhdG9yKCkobGFiZWwsIG91dCwgb2Zmc2V0KTsKLy8gICAgIH0KLy8gfTsKCi8vIC8vIEludGVybmFsIHN0cnVjdHVyZSB0byBiZSB1c2VkIGZvciBQbG90IGNsYXNzLiBTZXJ2ZXJzIGFzIGFuIGludGVyZmFjZQovLyAvLyBiZXR3ZWVuIHRoaXMgQVBJIGFuZCBJbVBsb3QKdGVtcGxhdGU8c2l6ZV90IE51bVBsb3RzID0gMT4KY2xhc3MgUGxvdERhdGFCdWZmZXIgewoJc3RhdGljX2Fzc2VydChOdW1QbG90cyA+IDAsICJUaGVyZSBtdXN0IGJlIGEgbGVhc3Qgb25lIHBsb3QhIik7CgogICAgYXJtYTo6dXdvcmQgTjsKICAgIGFybWE6OnV3b3JkIF9zdGFydCA9IDA7CiAgICBhcm1hOjp1d29yZCBfc2l6ZSA9IDA7CiAgICBhcm1hOjp1d29yZCBfY3VycmVudF9pbmRleCA9IDA7CgogICAgYXJtYTo6bWF0IERhdGE7CiBwdWJsaWM6CiAgICBleHBsaWNpdCBQbG90RGF0YUJ1ZmZlcihjb25zdCBhcm1hOjp1d29yZCYgbWF4KQogICAgICAgIDogTihtYXgpLCBEYXRhKE51bVBsb3RzICsgMSwgTiwgYXJtYTo6ZmlsbDo6emVyb3MpIHt9CgogICAgYXV0byBvcGVyYXRvcltdKGNvbnN0IGFybWE6OnV3b3JkJiBpKSB7CiAgICAgICAgYXJtYTo6dXdvcmQgaW5kZXggPSAoaSArIF9zdGFydCkgJSBfc2l6ZTsKICAgICAgICByZXR1cm4gRGF0YS51bnNhZmVfY29sKCBpbmRleCApOwogICAgfQoKICAgIHZvaWQgb3BlcmF0b3IoKShjb25zdCBkb3VibGUmIHgsIGNvbnN0IGRvdWJsZSYgeSkgewogICAgICAgIERhdGEuY29sKF9jdXJyZW50X2luZGV4KSA9IHt4LCB5fTsKCiAgICAgICAgaWYgKF9zaXplIDwgTikgewogICAgICAgICAgICBfc2l6ZSsrOwogICAgICAgICAgICBfY3VycmVudF9pbmRleCA9IF9zaXplID09IE4gPyAwIDogX2N1cnJlbnRfaW5kZXggKyAxOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIF9zdGFydCA9IChfc3RhcnQgKyAxKSAlIF9zaXplOwogICAgICAgICAgICBfY3VycmVudF9pbmRleCA9IF9zdGFydDsKICAgICAgICB9CiAgICB9CgogICAgLy8gUmVzaXplcyB0aGUgaW50ZXJuYWwgZGF0YSBidWZmZXIgd2l0aCBuZXdfc2l6ZS4gQ2xlYXJzIHRoZSBkYXRhIChmYXN0ZXIpCiAgICAvLyBpZiBjbGVhcl9kYXRhIGlzIHRydWUsIG90aGVyd2lzZSwgaXQga2VlcHMgdGhlIGRhdGEgKHNsb3dlcikKICAgIHZvaWQgcmVzaXplKGNvbnN0IGFybWE6OnV3b3JkJiBuZXdfc2l6ZSwgY29uc3QgYm9vbCYgY2xlYXJfZGF0YSA9IGZhbHNlKSB7CiAgICAJTiA9IG5ld19zaXplOwogICAgCWlmIChjbGVhcl9kYXRhKSB7CiAgICAJCURhdGEuc2V0X3NpemUoTnVtUGxvdHMgKyAxLCBOKTsKCQkgICAgX3NpemUgPSAwOwogICAgICAgIAlfY3VycmVudF9pbmRleCA9IDA7CiAgICAJfSBlbHNlIHsKICAgIAkJRGF0YS5yZXNpemUoTnVtUGxvdHMgKyAxLCBOKTsKICAgIAl9CiAgICB9CgogICAgdm9pZCBjbGVhcigpIHsKCSAgICBfc2l6ZSA9IDA7CiAgICAJX2N1cnJlbnRfaW5kZXggPSAwOwogICAgfQoKICAgIGF1dG8gc2l6ZSgpIGNvbnN0IHsKICAgIAlyZXR1cm4gX3NpemU7CiAgICB9Cn07CgovLyBlbnVtIGNsYXNzIFBsb3RTdHlsZSB7Ci8vICAgICBMaW5lLAovLyAgICAgU2NhdHRlcgovLyB9OwovLyAvLyBBIHBsb3QgaW5kaWNhdG9yLiBJdCBpbmhlcml0cyBmcm9tIGluZGljYXRvciwgYnV0IG1vcmUgb3V0IG9mIG5lY2Vzc2l0eS4KLy8gLy8gSXQga2VlcHMgdGhlIGNvZGUgY2xlYW4sIGJ1dCBpdCB3YXMgcmVhbGx5IG5vdCBuZWNlc3NhcnkuCi8vIC8vIE9yaWdpbmFsbHksIGEgcGxvdCBjb3VsZCBiZSBhbnkgdHlwZSB0aGF0IHdhcyBub3QgZG91YmxlIGJ1dAovLyAvLyBJbVBsb3Qgb25seSBzaG93cyBkb3VibGUgbnVtYmVycyBvciB0cmFuc2Zvcm1zIHRoZW0gdG8gZG91YmxlcwovLyAvLyBpbnRlcm5hbGx5LiBBbHNvLCB4IGFuZCB5IGhhdmUgdG8gYmUgdGhlIHNhbWUgdHlwZS4KLy8gdGVtcGxhdGU8dHlwZW5hbWUgVD4KLy8gY2xhc3MgUGxvdCA6IHB1YmxpYyBJbmRpY2F0b3I8VD4gewovLyAgICAgYm9vbCBDbGVhcmVkID0gZmFsc2U7Ci8vICAgICBib29sIENsZWFyT25OZXdEYXRhID0gZmFsc2U7CgoKLy8gICAgIGNvbnN0IHN0ZDo6c2l6ZV90IE1heFNhbXBsZXM7Ci8vICAgICBQbG90RGF0YUJ1ZmZlciBwbG90RGF0YTsKCi8vICBwdWJsaWM6Ci8vICAgICB1c2luZyB0eXBlID0gVDsKLy8gICAgIHVzaW5nIGRhdGFfdHlwZSA9IGRvdWJsZTsKCi8vICAgICBleHBsaWNpdCBQbG90KGNvbnN0IFQmIGlkLCBjb25zdCBib29sJiBjbGVhck9uTmV3RGF0YSA9IGZhbHNlLAovLyAgICAgICAgIGNvbnN0IHN0ZDo6c2l6ZV90JiBtYXhTYW1wbGVzID0gMTAwZTMpIDogSW5kaWNhdG9yPFQ+KGlkKSwKLy8gICAgICAgICBDbGVhck9uTmV3RGF0YShjbGVhck9uTmV3RGF0YSksIE1heFNhbXBsZXMobWF4U2FtcGxlcyksCi8vICAgICAgICAgcGxvdERhdGEobWF4U2FtcGxlcykgewovLyAgICAgfQoKLy8gICAgIC8vIE5vIG1vdmluZwovLyAgICAgUGxvdChQbG90JiYpID0gZGVmYXVsdDsKLy8gICAgIFBsb3QmIG9wZXJhdG9yPShQbG90JiYpID0gZGVmYXVsdDsKCi8vICAgICAvLyBObyBjb3B5aW5nCi8vICAgICBQbG90KGNvbnN0IFBsb3QmKSA9IGRlbGV0ZTsKCi8vICAgICB0ZW1wbGF0ZTx0eXBlbmFtZSBPRkZEQVRBPgovLyAgICAgdm9pZCBhZGQoY29uc3QgSW5kaWNhdG9yVmVjdG9yPFQsIE9GRkRBVEE+JiB2KSB7Ci8vICAgICAgICAgaWYgKHYuSUQgPT0gSW5kaWNhdG9yPFQ+OjpJRCkgewovLyAgICAgICAgICAgICBwbG90RGF0YSh2LlgsIHYuWSk7Ci8vICAgICAgICAgfQovLyAgICAgfQoKLy8gICAgIHRlbXBsYXRlPHR5cGVuYW1lIE9GRkRBVEE+Ci8vICAgICB2b2lkIGFkZChjb25zdCBPRkZEQVRBJiB4LCBjb25zdCBPRkZEQVRBJiB5KSB7Ci8vICAgICAgICAgcGxvdERhdGEoeCwgeSk7Ci8vICAgICB9CgovLyAgICAgdm9pZCBjbGVhcigpIHsKLy8gICAgICAgICBwbG90RGF0YS5TaXplID0gMDsKLy8gICAgICAgICBwbG90RGF0YS5DdXJyZW50SW5kZXggPSAwOwovLyAgICAgfQoKLy8gICAgIC8vIEV4ZWN1dGVzIGF0dHJpYnV0ZXMuIEZvciBwbG90cywgaXQgY2xlYXJzIG9uIG5ldyBkYXRhLgovLyAgICAgdm9pZCBFeGVjdXRlQXR0cmlidXRlcygpIHsKLy8gICAgICAgICBpZiAoQ2xlYXJPbk5ld0RhdGEpIHsKLy8gICAgICAgICAgICAgaWYgKCFDbGVhcmVkKSB7Ci8vICAgICAgICAgICAgICAgICBjbGVhcigpOwovLyAgICAgICAgICAgICAgICAgQ2xlYXJlZCA9IHRydWU7Ci8vICAgICAgICAgICAgIH0KLy8gICAgICAgICB9Ci8vICAgICB9CgovLyAgICAgLy8gQ2xlYXJzIGF0dHJpYnV0ZXMuIEZvciBwbG90cywgaXQgcmVzZXRzIGlmIGl0IHNob3VsZCBjbGVhci4KLy8gICAgIC8vIG9uIG5ldyBkYXRhLgovLyAgICAgdm9pZCBDbGVhckF0dHJpYnV0ZXMoKSB7Ci8vICAgICAgICAgQ2xlYXJlZCA9IGZhbHNlOwovLyAgICAgfQoKLy8gICAgIC8vIFdyYXBzIEltUGxvdDo6UGxvdExpbmUKLy8gICAgIHZvaWQgb3BlcmF0b3IoKShjb25zdCBzdGQ6OnN0cmluZyYgbGFiZWwsCi8vICAgICAgICAgY29uc3QgUGxvdFN0eWxlJiBzdHlsZSA9IFBsb3RTdHlsZTo6TGluZSkgewovLyAgICAgICAgIC8vIHN0YXRpYyBJbVBsb3RHZXR0ZXIgZ2V0dGVyID0gc3RhdGljX2Nhc3Q8SW1QbG90R2V0dGVyPihfdHJhbnNmb3JtKTsKLy8gICAgICAgICBzdGF0aWMgYXV0byB0cmFuc2Zvcm0gPSBbXShpbnQgaWR4LCB2b2lkKiBkYXRhKSB7Ci8vICAgICAgICAgICAgIGF1dG8gbXlEYXRhID0gc3RhdGljX2Nhc3Q8UGxvdERhdGFCdWZmZXIqPihkYXRhKTsKLy8gICAgICAgICAgICAgYXV0byBwYWlyID0gKCpteURhdGEpW2lkeF07Ci8vICAgICAgICAgICAgIHJldHVybiBJbVBsb3RQb2ludChwYWlyLmZpcnN0LCBwYWlyLnNlY29uZCk7Ci8vICAgICAgICAgfTsKCi8vICAgICAgICAgc3dpdGNoIChzdHlsZSkgewovLyAgICAgICAgICAgICBjYXNlIFBsb3RTdHlsZTo6U2NhdHRlcjoKLy8gICAgICAgICAgICAgICAgIEltUGxvdDo6UGxvdFNjYXR0ZXJHKGxhYmVsLmNfc3RyKCksIHRyYW5zZm9ybSwgJnBsb3REYXRhLCBwbG90RGF0YS5TaXplKTsKLy8gICAgICAgICAgICAgYnJlYWs7Ci8vICAgICAgICAgICAgIGNhc2UgUGxvdFN0eWxlOjpMaW5lOgovLyAgICAgICAgICAgICBkZWZhdWx0OgovLyAgICAgICAgICAgICAgICAgSW1QbG90OjpQbG90TGluZUcobGFiZWwuY19zdHIoKSwgdHJhbnNmb3JtLCAmcGxvdERhdGEsIHBsb3REYXRhLlNpemUpOwovLyAgICAgICAgICAgICBicmVhazsKLy8gICAgICAgICB9CgovLyAgICAgfQoKLy8gICAgIHZvaWQgRHJhdyhjb25zdCBzdGQ6OnN0cmluZyYgbGFiZWwsCi8vICAgICAgICAgY29uc3QgUGxvdFN0eWxlJiBzdHlsZSA9IFBsb3RTdHlsZTo6TGluZSkgewovLyAgICAgICAgIHRoaXMtPm9wZXJhdG9yKCkobGFiZWwsIHN0eWxlKTsKLy8gICAgIH0KCi8vICBwcml2YXRlOgovLyB9OwoKLy8gLy8gVGhpcyBjbGFzcyBpcyBtZWFudCB0byBiZSBjcmVhdGVkIG9uY2UgaW4gdGhlIHJlY2VpdmVyL2NvbnN1bWVyIHRocmVhZAovLyAvLyBJdCB3aWxsIHVwZGF0ZSBhbGwgb2YgdGhlIGluZGljYXRvcnMgdmFsdWVzIG9uY2UgaW5mb3JtYXRpb24gaXMgc2VudAovLyB0ZW1wbGF0ZTx0eXBlbmFtZSBULCB0eXBlbmFtZSBEQVRBPgovLyBjbGFzcyBJbmRpY2F0b3JSZWNlaXZlciAgewovLyAgICAgSW5kaWNhdG9yc1F1ZXVlPFQsIERBVEE+IF9xOwovLyAgICAgc3RkOjp1bm9yZGVyZWRfbWFwPFQsIHN0ZDo6dW5pcXVlX3B0cjxJbmRpY2F0b3I8VD4+PiBfaW5kaWNhdG9yczsKCi8vIHB1YmxpYzoKLy8gICAgIHVzaW5nIHR5cGUgPSBUOwovLyAgICAgdXNpbmcgZGF0YV90eXBlID0gREFUQTsKCi8vICAgICBleHBsaWNpdCBJbmRpY2F0b3JSZWNlaXZlcihJbmRpY2F0b3JzUXVldWU8VCwgREFUQT4gcSkgOiBfcShxKSB7IH0KCi8vICAgICAvLyBObyBjb3B5aW5nCi8vICAgICBJbmRpY2F0b3JSZWNlaXZlcihjb25zdCBJbmRpY2F0b3JSZWNlaXZlciYpID0gZGVsZXRlOwovLyAgICAgSW5kaWNhdG9yUmVjZWl2ZXIgb3BlcmF0b3I9KGNvbnN0IEluZGljYXRvclJlY2VpdmVyJikgPSBkZWxldGU7CgovLyAgICAgLy8gVGhpcyBpcyBtZWFudCB0byBiZSBydW4gaW4gdGhlIHNpbmdsZSBjb25zdW1lci4KLy8gICAgIC8vIFVwZGF0ZXMgYWxsIHRoZSBwbG90cyBhcnJheXMgZnJvbSB0aGUgcXVldWUuCi8vICAgICB2b2lkIG9wZXJhdG9yKCkoKSB7Ci8vICAgICAgICAgYXV0byBhcHByb3hfbGVuZ3RoID0gX3Euc2l6ZV9hcHByb3goKTsKLy8gICAgICAgICBzdGQ6OnZlY3RvcjwgSW5kaWNhdG9yVmVjdG9yPFQsIERBVEE+ID4gdGVtcF9pdGVtcyhhcHByb3hfbGVuZ3RoKTsKLy8gICAgICAgICBfcS50cnlfZGVxdWV1ZV9idWxrKHRlbXBfaXRlbXMuZGF0YSgpLCBhcHByb3hfbGVuZ3RoKTsKCi8vICAgICAgICAgZm9yIChJbmRpY2F0b3JWZWN0b3I8VCwgREFUQT4gaXRlbSA6IHRlbXBfaXRlbXMpIHsKLy8gICAgICAgICAgICAgLy8gSWYgaXQgY29udGFpbnMgb25lIGl0ZW0sIHRoZW4gaXQgaXMgYSBpbmRpY2F0b3IKLy8gICAgICAgICAgICAgaWYgKF9pbmRpY2F0b3JzLmNvdW50KGl0ZW0uSUQpKSB7Ci8vICAgICAgICAgICAgICAgICBhdXRvJiBpbmRpY2F0b3IgPSBfaW5kaWNhdG9ycy5hdChpdGVtLklEKTsKLy8gICAgICAgICAgICAgICAgIGluZGljYXRvci0+RXhlY3V0ZUF0dHJpYnV0ZXMoKTsKCi8vICAgICAgICAgICAgICAgICBQbG90PFQ+KiBwbHQgPSBkeW5hbWljX2Nhc3Q8UGxvdDxUPio+KGluZGljYXRvci5nZXQoKSk7Ci8vICAgICAgICAgICAgICAgICBCb29sZWFuSW5kaWNhdG9yPFQ+KiBiaW5kCi8vICAgICAgICAgICAgICAgICAgICAgPSBkeW5hbWljX2Nhc3Q8Qm9vbGVhbkluZGljYXRvcjxUPio+KGluZGljYXRvci5nZXQoKSk7Ci8vICAgICAgICAgICAgICAgICBpZiAocGx0KSB7Ci8vICAgICAgICAgICAgICAgICAgICAgcGx0LT5hZGQoaXRlbSk7Ci8vICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGJpbmQpIHsKLy8gICAgICAgICAgICAgICAgICAgICBiaW5kLT5hZGQoaXRlbSk7Ci8vICAgICAgICAgICAgICAgICB9IGVsc2UgewovLyAgICAgICAgICAgICAgICAgICAgIGluZGljYXRvci0+YWRkKGl0ZW0pOwovLyAgICAgICAgICAgICAgICAgfQovLyAgICAgICAgICAgICB9Ci8vICAgICAgICAgfQoKLy8gICAgICAgICBmb3IgKGF1dG8mIGluZGljYXRvciA6IF9pbmRpY2F0b3JzKSB7Ci8vICAgICAgICAgICAgIGluZGljYXRvci5zZWNvbmQtPkNsZWFyQXR0cmlidXRlcygpOwovLyAgICAgICAgIH0KLy8gICAgIH0KCi8vICAgICB2b2lkIG9wZXJhdG9yKCkoY29uc3QgVCYga2V5LCBjb25zdCBEQVRBJiB4LCBjb25zdCBEQVRBJiB5KSB7Ci8vICAgICAgICAgSW5kaWNhdG9yVmVjdG9yPFQsIERBVEE+IG5ld1Aoa2V5LCB4LCB5KTsKLy8gICAgICAgICBfcS5lbnF1ZXVlKG5ld1ApOwovLyAgICAgfQoKLy8gICAgIHRlbXBsYXRlPHR5cGVuYW1lIE9GRkRBVEE+Ci8vICAgICBhdXRvJiBpbmRpY2F0b3IoY29uc3QgVCYgaWQsIGNvbnN0IHN0ZDo6c3RyaW5nJiBsYWJlbCwgT0ZGREFUQSYgb3V0LAovLyAgICAgICAgIGNvbnN0IGZsb2F0JiBvZmZzZXQgPSAwLAovLyAgICAgICAgIGNvbnN0IHVuc2lnbmVkIGludCYgcHJlY2lzaW9uID0gNiwKLy8gICAgICAgICBjb25zdCBOdW1lcmljRm9ybWF0JiBmb3JtYXQgPSBOdW1lcmljRm9ybWF0OjpEZWZhdWx0KSB7Ci8vICAgICAgICAgX2luZGljYXRvcnMudHJ5X2VtcGxhY2UoaWQsCi8vICAgICAgICAgICAgIHN0ZDo6bWFrZV91bmlxdWU8SW5kaWNhdG9yPFQ+PihpZCwgcHJlY2lzaW9uLCBmb3JtYXQpKTsKCi8vICAgICAgICAgYXV0byYgaW5kID0gX2luZGljYXRvcnMuYXQoaWQpOwoKLy8gICAgICAgICBpbmQtPkRyYXcobGFiZWwsIG91dCwgb2Zmc2V0KTsKCi8vICAgICAgICAgcmV0dXJuIGluZDsKLy8gICAgIH0KCi8vICAgICBhdXRvJiBpbmRpY2F0b3IoY29uc3QgVCYgaWQsCi8vICAgICAgICAgY29uc3Qgc3RkOjpzdHJpbmcmIGxhYmVsLAovLyAgICAgICAgIGNvbnN0IGZsb2F0JiBvZmZzZXQgPSAwLAovLyAgICAgICAgIGNvbnN0IHVuc2lnbmVkIGludCYgcHJlY2lzaW9uID0gNiwKLy8gICAgICAgICBjb25zdCBOdW1lcmljRm9ybWF0JiBmb3JtYXQgPSBOdW1lcmljRm9ybWF0OjpEZWZhdWx0KSB7CgovLyAgICAgICAgIF9pbmRpY2F0b3JzLnRyeV9lbXBsYWNlKGlkLAovLyAgICAgICAgICAgICBzdGQ6Om1ha2VfdW5pcXVlPEluZGljYXRvcjxUPj4oaWQsIHByZWNpc2lvbiwgZm9ybWF0KSk7Ci8vICAgICAgICAgYXV0byYgaW5kID0gX2luZGljYXRvcnMuYXQoaWQpOwoKLy8gICAgICAgICBkb3VibGUgdG1wOwovLyAgICAgICAgIGluZC0+RHJhdyhsYWJlbCwgdG1wLCBvZmZzZXQpOwoKLy8gICAgICAgICByZXR1cm4gaW5kOwovLyAgICAgfQoKLy8gICAgIGF1dG8mIGJvb2xlYW5JbmRpY2F0b3IoY29uc3QgVCYgaWQsIGNvbnN0IHN0ZDo6c3RyaW5nJiBsYWJlbCwKLy8gICAgICAgICBzdGQ6OmZ1bmN0aW9uPGJvb2woY29uc3QgZG91YmxlJik+JiYgZiwgY29uc3QgZmxvYXQmIG9mZnNldCA9IDApIHsKLy8gICAgICAgICBfaW5kaWNhdG9ycy50cnlfZW1wbGFjZShpZCwKLy8gICAgICAgICAgICAgc3RkOjptYWtlX3VuaXF1ZTxCb29sZWFuSW5kaWNhdG9yPFQ+PihpZCwKLy8gICAgICAgICAgICAgICAgIHN0ZDo6Zm9yd2FyZDxzdGQ6OmZ1bmN0aW9uPGJvb2woY29uc3QgZG91YmxlJik+PihmKSkpOwoKLy8gICAgICAgICBhdXRvJiBpbmQgPSBfaW5kaWNhdG9ycy5hdChpZCk7CgovLyAgICAgICAgIGF1dG8gYiA9IGR5bmFtaWNfY2FzdDxCb29sZWFuSW5kaWNhdG9yPFQ+Kj4oaW5kLmdldCgpKTsKLy8gICAgICAgICBpZiAoYikgewovLyAgICAgICAgICAgICBiLT5EcmF3KGxhYmVsLCBvZmZzZXQpOwovLyAgICAgICAgIH0KCi8vICAgICAgICAgcmV0dXJuIGluZDsKLy8gICAgIH0KCi8vICAgICBhdXRvJiBib29sZWFuSW5kaWNhdG9yKGNvbnN0IFQmIGlkLCBjb25zdCBzdGQ6OnN0cmluZyYgbGFiZWwsIGJvb2wmIG91dCwKLy8gICAgICAgICBzdGQ6OmZ1bmN0aW9uPGJvb2woY29uc3QgZG91YmxlJik+JiYgZiwgY29uc3QgZmxvYXQmIG9mZnNldCA9IDApIHsKLy8gICAgICAgICBfaW5kaWNhdG9ycy50cnlfZW1wbGFjZShpZCwKLy8gICAgICAgICAgICAgc3RkOjptYWtlX3VuaXF1ZTxCb29sZWFuSW5kaWNhdG9yPFQ+PihpZCwKLy8gICAgICAgICAgICAgICAgIHN0ZDo6Zm9yd2FyZDxzdGQ6OmZ1bmN0aW9uPGJvb2woY29uc3QgZG91YmxlJik+PihmKSkpOwoKLy8gICAgICAgICBhdXRvJiBpbmQgPSBfaW5kaWNhdG9ycy5hdChpZCk7CgovLyAgICAgICAgIGF1dG8gYiA9IGR5bmFtaWNfY2FzdDxCb29sZWFuSW5kaWNhdG9yPFQ+Kj4oaW5kLmdldCgpKTsKLy8gICAgICAgICBpZiAoYikgewovLyAgICAgICAgICAgICBiLT5EcmF3KGxhYmVsLCBvdXQsIG9mZnNldCk7Ci8vICAgICAgICAgfQoKLy8gICAgICAgICByZXR1cm4gaW5kOwovLyAgICAgfQoKLy8gICAgIC8vIGF1dG8mIG1ha2VfcGxvdChjb25zdCBUJiBpZCkgewovLyAgICAgLy8gIF9pbmRpY2F0b3JzLnRyeV9lbXBsYWNlKGlkLAovLyAgICAgLy8gICAgICBzdGQ6Om1ha2VfdW5pcXVlPFBsb3Q8VD4+KGlkKSk7CgovLyAgICAgLy8gIHJldHVybiBfcGxvdHMuYXQoaWQpOwovLyAgICAgLy8gfQoKLy8gICAgIC8vIEFkZHMgcGxvdCB3aXRoIElELCBhbmQgZHJhd3MgaXQgYXQgdGhlIHBsYWNlZCBsb2NhdGlvbiBpZiBleGlzdHMKLy8gICAgIC8vIEl0IHJldHVybnMgYSBzbWFydCBwb2ludGVyIHRvIHRoZSBpbmRpY2F0b3IgKG5vdCBwbG90KQovLyAgICAgYXV0byYgcGxvdChjb25zdCBUJiBpZCwgY29uc3Qgc3RkOjpzdHJpbmcmIGxhYmVsLAovLyAgICAgICAgIGNvbnN0IFBsb3RTdHlsZSBzdHlsZSA9IFBsb3RTdHlsZTo6TGluZSwgYm9vbCBjbGVhck9uTmV3RGF0YSA9IGZhbHNlKSB7Ci8vICAgICAgICAgX2luZGljYXRvcnMudHJ5X2VtcGxhY2UoaWQsCi8vICAgICAgICAgICAgIHN0ZDo6bWFrZV91bmlxdWU8UGxvdDxUPj4oaWQsIGNsZWFyT25OZXdEYXRhKSk7CgovLyAgICAgICAgIGF1dG8mIGluZCA9IF9pbmRpY2F0b3JzLmF0KGlkKTsKCi8vICAgICAgICAgUGxvdDxUPiogcGx0ID0gZHluYW1pY19jYXN0PFBsb3Q8VD4qPihpbmQuZ2V0KCkpOwovLyAgICAgICAgIGlmIChwbHQpIHsKLy8gICAgICAgICAgICAgcGx0LT5EcmF3KGxhYmVsLCBzdHlsZSk7Ci8vICAgICAgICAgfQoKLy8gICAgICAgICByZXR1cm4gaW5kOwovLyAgICAgfQoKLy8gICAgIHZvaWQgQ2xlYXJQbG90KGNvbnN0IFQmIGlkKSB7Ci8vICAgICAgICAgYXV0byBzZWFyY2ggPSBfaW5kaWNhdG9ycy5maW5kKGlkKTsKLy8gICAgICAgICBpZiAoc2VhcmNoICE9IF9pbmRpY2F0b3JzLmVuZCgpKSB7Ci8vICAgICAgICAgICAgIFBsb3Q8VD4qIHBsdCA9IGR5bmFtaWNfY2FzdDxQbG90PFQ+Kj4oCi8vICAgICAgICAgICAgICAgICBfaW5kaWNhdG9ycy5hdChpZCkuZ2V0KCkpOwovLyAgICAgICAgICAgICBwbHQtPmNsZWFyKCk7Ci8vICAgICAgICAgfQovLyAgICAgfQovLyB9OwoKLy8gLy8gVGhlIEluZGljYXRvclNlbmRlciBjbGFzcyBpcyBtZWFudCB0byBiZSBydW4gaW4gdGhlIHByb2R1Y2VyIHRocmVhZHMKLy8gLy8gVGhlIHByb2R1Y2VyIHRocmVhZCBjYW4gYWRkIGEgbmV3IEluZGljYXRvclZlY3RvciB0byB0aGlzIGNsYXNzCi8vIC8vIGFuZCB0aGlzIHdpbGwgc2VuZCBpdCBmb3J3YXJkLgovLyAvLyBJdCB1c2VzIGVudW1zIHNvIHRoZSBwcm9kdWNlciB0aHJlYWRzIGRvIG5vdCBuZWVkIHRvIGtub3cgaWYgdGhlCi8vIC8vIGluZGljYXRvci9wbG90IGFzc29jaWF0ZWQgd2l0aCB0aGF0IGVudW0gZXhpc3RzLgovLyB0ZW1wbGF0ZTx0eXBlbmFtZSBULCB0eXBlbmFtZSBEQVRBPgovLyBjbGFzcyBJbmRpY2F0b3JTZW5kZXIgewovLyAgICAgSW5kaWNhdG9yc1F1ZXVlPFQsIERBVEE+JiBfcTsKCi8vICBwdWJsaWM6Ci8vICAgICB1c2luZyB0eXBlID0gVDsKLy8gICAgIHVzaW5nIGRhdGFfdHlwZSA9IERBVEE7CgovLyAgICAgZXhwbGljaXQgSW5kaWNhdG9yU2VuZGVyKEluZGljYXRvcnNRdWV1ZTxULCBEQVRBPiYgcSkgOiBfcShxKSB7IH0KCi8vICAgICAvLyBObyBjb3B5aW5nCi8vICAgICBJbmRpY2F0b3JTZW5kZXIoY29uc3QgSW5kaWNhdG9yU2VuZGVyJikgPSBkZWxldGU7CgovLyAgICAgLy8gU2VuZHMgdmFsdWUgeCB0byBpbmRpY2F0b3Igb2YgdHlwZSBUCi8vICAgICB2b2lkIG9wZXJhdG9yKCkoY29uc3QgVCYga2V5LCBjb25zdCBEQVRBJiB4KSB7Ci8vICAgICAgICAgSW5kaWNhdG9yVmVjdG9yPFQsIERBVEE+IG5ld1Aoa2V5LCB4KTsKLy8gICAgICAgICBfcS5lbnF1ZXVlKG5ld1ApOwovLyAgICAgfQoKLy8gICAgIC8vIFNlbmRzIHZhbHVlIHBhaXIgKHgseSkgdG8gcGxvdC9pbmRpY2F0b3Igb2YgdHlwZSBUCi8vICAgICB2b2lkIG9wZXJhdG9yKCkoY29uc3QgVCYga2V5LCBjb25zdCBEQVRBJiB4LCBjb25zdCBEQVRBJiB5KSB7Ci8vICAgICAgICAgSW5kaWNhdG9yVmVjdG9yPFQsIERBVEE+IG5ld1Aoa2V5LCB4LCB5KTsKLy8gICAgICAgICBfcS5lbnF1ZXVlKG5ld1ApOwovLyAgICAgfQoKLy8gICAgIC8vIFNlbmRzIHZhbHVlIHBhaXIgKHgseSkgdG8gcGxvdC9pbmRpY2F0b3Igb2YgdHlwZSBUCi8vICAgICAvLyBOb3RlIGlmIGFuIGluZGljYXRvciBpcyBzZWxlY3RlZCwgb25seSB0aGUgbGF0ZXN0IHZhbHVlCi8vICAgICAvLyB3aWxsIGJlIHNob3duCi8vICAgICB2b2lkIG9wZXJhdG9yKCkoY29uc3QgSW5kaWNhdG9yVmVjdG9yPFQsIERBVEE+JiBwdikgewovLyAgICAgICAgIF9xLmVucXVldWUocHYpOwovLyAgICAgfQoKLy8gICAgIC8vIFNlbmRzIGEgbGlzdCBvZiBwYWlycyAoeCx5KSB0byBwbG90L2luZGljYXRvciBvZiB0eXBlIFQKLy8gICAgIC8vIE5vdGUgaWYgYW4gaW5kaWNhdG9yIGlzIHNlbGVjdGVkLCBvbmx5IHRoZSBsYXRlc3QgdmFsdWUKLy8gICAgIC8vIHdpbGwgYmUgc2hvd24gYW5kIHRoZSBsaXN0IHkgd2lsbCBiZSBpZ25vcmVkCi8vICAgICB0ZW1wbGF0ZTx0eXBlbmFtZSBPRkZEQVRBPgovLyAgICAgdm9pZCBvcGVyYXRvcigpKGNvbnN0IFQmIGtleSwgY29uc3Qgc3RkOjp2ZWN0b3I8T0ZGREFUQT4mIHgsCi8vICAgICAgICAgY29uc3Qgc3RkOjp2ZWN0b3I8T0ZGREFUQT4mIHkpIHsKLy8gICAgICAgICBzdGQ6OnZlY3RvcjwgSW5kaWNhdG9yVmVjdG9yPFQsIERBVEE+ID4gaXRlbXMoeC5zaXplKCkpOwovLyAgICAgICAgIGZvciAodW5zaWduZWQgaW50IGkgPSAwOyBpIDwgeC5zaXplKCk7IGkrKykgewovLyAgICAgICAgICAgICBpdGVtc1tpXSA9IEluZGljYXRvclZlY3RvcjxULCBEQVRBPihrZXksCi8vICAgICAgICAgICAgICAgICBzdGF0aWNfY2FzdDxEQVRBPih4W2ldKSwKLy8gICAgICAgICAgICAgICAgIHN0YXRpY19jYXN0PERBVEE+KHlbaV0pKTsKLy8gICAgICAgICB9CgovLyAgICAgICAgIF9xLmVucXVldWVfYnVsayhpdGVtcy5iZWdpbigpLCBpdGVtcy5zaXplKCkpOwovLyAgICAgfQoKLy8gICAgIC8vIFNlbmRzIGEgbGlzdCBvZiBwYWlycyAoeCx5KSB0byBwbG90L2luZGljYXRvciBvZiB0eXBlIFQKLy8gICAgIC8vIE5vdGUgaWYgYW4gaW5kaWNhdG9yIGlzIHNlbGVjdGVkLCBvbmx5IHRoZSBsYXRlc3QgdmFsdWUKLy8gICAgIC8vIHdpbGwgYmUgc2hvd24gYW5kIHRoZSBsaXN0IHkgd2lsbCBiZSBpZ25vcmVkCi8vICAgICB0ZW1wbGF0ZTx0eXBlbmFtZSBPRkZEQVRBPgovLyAgICAgdm9pZCBvcGVyYXRvcigpKGNvbnN0IFQmIGtleSwgT0ZGREFUQSogeF9kYXRhLCBPRkZEQVRBKiB5X2RhdGEsCi8vICAgICAgICAgY29uc3Qgc2l6ZV90JiBzaXplKSB7Ci8vICAgICAgICAgc3RkOjp2ZWN0b3I8IEluZGljYXRvclZlY3RvcjxULCBEQVRBPiA+IGl0ZW1zKHNpemUpOwovLyAgICAgICAgIGZvciAodW5zaWduZWQgaW50IGkgPSAwOyBpIDwgc2l6ZTsgaSsrKSB7Ci8vICAgICAgICAgICAgIGl0ZW1zW2ldID0gSW5kaWNhdG9yVmVjdG9yPFQsIERBVEE+KGtleSwKLy8gICAgICAgICAgICAgICAgIHN0YXRpY19jYXN0PERBVEE+KHhfZGF0YVtpXSksCi8vICAgICAgICAgICAgICAgICBzdGF0aWNfY2FzdDxEQVRBPih5X2RhdGFbaV0pKTsKLy8gICAgICAgICB9CgovLyAgICAgICAgIF9xLmVucXVldWVfYnVsayhpdGVtcy5iZWdpbigpLCBpdGVtcy5zaXplKCkpOwovLyAgICAgfQovLyB9OwoKCi8vIHRlbXBsYXRlPHR5cGVuYW1lIFQ+Ci8vIC8vIENyZWF0ZXMgaW5kaWNhdG9yIHdpdGggS2V5IGFuZCBhZGRzIGl0IHRvIFJlY2VpdmVyIHEKLy8gaW5saW5lIEluZGljYXRvcjxUPiBtYWtlX2luZGljYXRvcihUJiYga2V5LCB1bnNpZ25lZCBpbnQmJiBwcmVjaXNpb24gPSA2LAovLyAgICAgICAgIE51bWVyaWNGb3JtYXQmJiBmb3JtYXQgPSBOdW1lcmljRm9ybWF0OjpEZWZhdWx0KSB7Ci8vICAgICByZXR1cm4gSW5kaWNhdG9yPFQ+KHN0ZDo6Zm9yd2FyZDxUPihrZXkpLAovLyAgICAgICAgIHN0ZDo6Zm9yd2FyZDx1bnNpZ25lZCBpbnQ+KHByZWNpc2lvbiksCi8vICAgICAgICAgc3RkOjpmb3J3YXJkPE51bWVyaWNGb3JtYXQ+KGZvcm1hdCkpOwovLyB9CgovLyB0ZW1wbGF0ZTx0eXBlbmFtZSBUPgovLyBpbmxpbmUgUGxvdDxUPiBtYWtlX3Bsb3QoVCYmIGtleSkgewovLyAgICAgcmV0dXJuIFBsb3Q8VD4oc3RkOjpmb3J3YXJkPFQ+KGtleSkpOwovLyB9CgoKfSAgLy8gbmFtZXNwYWNlIFNCQ1F1ZWVucwojZW5kaWYKAAAAAAAAAACFQwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAuiEAAAAAAAC6IQAAAAAAAAAAAAAAAPC/"
				],
				[
					6,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAACFQwAAI2lmbmRlZiBJTVBMT1RIRUxQRVJTX0gKI2RlZmluZSBJTVBMT1RIRUxQRVJTX0gKI3ByYWdtYSBvbmNlCgovLyBDIDNyZCBwYXJ0eSBpbmNsdWRlcwojaW5jbHVkZSA8aW1ndWkuaD4KI2luY2x1ZGUgPGltcGxvdC5oPgojaW5jbHVkZSA8c3BkbG9nL3NwZGxvZy5oPgojaW5jbHVkZSA8cmVhZGVyd3JpdGVycXVldWUuaD4KI2luY2x1ZGUgPGNvbmN1cnJlbnRxdWV1ZS5oPgoKLy8gQysrIFNURCBpbmNsdWRlcwojaW5jbHVkZSA8YWxnb3JpdGhtPgojaW5jbHVkZSA8Y3N0ZGRlZj4KI2luY2x1ZGUgPGNzdGRpbnQ+CiNpbmNsdWRlIDxmdW5jdGlvbmFsPgojaW5jbHVkZSA8aW9zPgojaW5jbHVkZSA8bWVtb3J5PgojaW5jbHVkZSA8c3RyaW5nPgojaW5jbHVkZSA8dW5vcmRlcmVkX21hcD4KI2luY2x1ZGUgPHV0aWxpdHk+CiNpbmNsdWRlIDx2ZWN0b3I+CiNpbmNsdWRlIDxzc3RyZWFtPgojaW5jbHVkZSA8ZGVxdWU+CgovLyBteSBpbmNsdWRlcwoKbmFtZXNwYWNlIFNCQ1F1ZWVucyB7Cgp0ZW1wbGF0ZTx0eXBlbmFtZSBULCB0eXBlbmFtZSBEQVRBID0gZG91YmxlPgpjbGFzcyBJbmRpY2F0b3JSZWNlaXZlcjsKdGVtcGxhdGU8dHlwZW5hbWUgVCwgdHlwZW5hbWUgREFUQSA9IGRvdWJsZT4KY2xhc3MgSW5kaWNhdG9yU2VuZGVyOwoKLy8gV2VsbCwgSSB3aWxsIGxlYXZlIHRoaXMgYXMgdGhpcyB1bnRpbCBJIGNhbiBjb21lIHVwIHdpdGgKLy8gYSBiZXR0ZXIgc29sdXRpb24uCi8vIEltUGxvdHMgYXJlIDJEIGJ5IGRlZmF1bHQuIFgsIFkgYXJlIHRoZSB0eXBlcyBvZiB0aG9zZSB0d28KLy8gYXhpcyB3aGljaCBieSBkZWZhdWx0IGFyZSBmbG9hdCBidXQgdGhleSBjYW4gYmUgY2hhbmdlZC4KLy8gdW5zaWduZWQgaW50IGlzIGEgbnVtYmVyIHRoYXQgaW5zdHJ1Y3RzIHRoZSBjb25zdW1lcgovLyB0byB3aGljaCBncmFwaCBpcyBzaG91bGQgZ28gdG8uCi8vIFQgaXMgcmVzZXJ2ZWQgZm9yIHRoZSB1c2VyLCBpdCBjb3VsZCBiZSBhbiBlbnVtIHR5cGUgKG15IHByZWZlcmVuY2UpCi8vIG9yIGFueXRoaW5nIHRoZXkgd2FudCB0byBkaXN0aW5ndWlzaCB0aGVtLgp0ZW1wbGF0ZTx0eXBlbmFtZSBULCB0eXBlbmFtZSBEQVRBID0gZG91YmxlPgpzdHJ1Y3QgSW5kaWNhdG9yVmVjdG9yIHsKICAgIHVzaW5nIHR5cGUgPSBUOwogICAgdXNpbmcgZGF0YV90eXBlID0gREFUQTsKCiAgICBJbmRpY2F0b3JWZWN0b3IoKSB7fQogICAgSW5kaWNhdG9yVmVjdG9yKGNvbnN0IFQmIGlkLCBjb25zdCBEQVRBJiB4LCBjb25zdCBEQVRBJiB5KQogICAgICAgIDogSUQoaWQpLCBYKHgpLCBZKHkpIHt9CiAgICBJbmRpY2F0b3JWZWN0b3IoY29uc3QgVCYgaWQsIGNvbnN0IERBVEEmIHgpCiAgICAgICAgOiBJRChpZCksIFgoeCkge30KCiAgICBUIElEOwogICAgREFUQSBYOwogICAgREFUQSBZOwp9OwoKdGVtcGxhdGU8dHlwZW5hbWUgVCwgdHlwZW5hbWUgREFUQSA9IGRvdWJsZT4KdXNpbmcgSW5kaWNhdG9yc1F1ZXVlCiAgICA9IG1vb2R5Y2FtZWw6OkNvbmN1cnJlbnRRdWV1ZTwgSW5kaWNhdG9yVmVjdG9yPFQsIERBVEE+ID47CgpzdHJ1Y3QgUGxvdEZsYWdzIHsKICAgIGJvb2wgQ2xlYXJPbk5ld0RhdGE7Cn07CgplbnVtIGNsYXNzIE51bWVyaWNGb3JtYXQgewogICAgRGVmYXVsdCwgU2NpZW50aWZpYywgSGV4RmxvYXQsIEZpeGVkCn07CgovLyBBbiBpbmRpY2F0b3IgaXMgYSBJbUdVSSBidXR0b24gdGhhdCBoYXMgYmVlbiBtb2RpZmllZCB0byBhY3QKLy8gbGlrZSBhbiBpbmRpY2F0b3IuCi8vIEFzIGZvciBub3csIHRoaXMgaW5kaWNhdG9yIGhhcyBzb21lIHBhcmFtZXRlcnMgc3VjaCBhcwovLyBwcmVjaXNpb24gb2YgdGhlIG51bWJlciB0byBkaXNwbGF5LCBhbmQgZm9ybWF0IG9mIHRoZSBudW1iZXIKdGVtcGxhdGU8dHlwZW5hbWUgVD4KY2xhc3MgSW5kaWNhdG9yIHsKIHByb3RlY3RlZDoKICAgIFQgSUQ7CiAgICAvLyBfaW1ndWlfc3RhY2sgZXhpc3RzIHRvIGdpdmUgdGhpcyBidXR0b24gYW4gdW5pcXVlIGlkCiAgICAvLyBmb3IgdGhlIEltR1VJIEFQSS4gSWYgdGhpcyB3ZXJlIG5vdCB0aGVyZSwgaXQgd291bGQgc2hhcmUKICAgIC8vIGFuIElEIHdpdGggYWxsIHRoZSBlbXB0eSBvciBzYW1lIGluZGljYXRvcnMuCiAgICBzdGQ6OnN0cmluZyBfaW1ndWlfc3RhY2s7CgogcHJpdmF0ZToKICAgIC8vIEFjdHVhbCBzdHJpbmcgdGhhdCBnZXRzIGRpc3BsYXllZAogICAgc3RkOjpzdHJpbmcgX2Rpc3BsYXk7CgogICAgLy8gRm9ybWF0IHBhcmFtZXRlcnMKICAgIHVuc2lnbmVkIGludCBfcHJlY2lzaW9uOwogICAgTnVtZXJpY0Zvcm1hdCBfZm9ybWF0OwoKICAgIGRvdWJsZSBfdmFsOwoKIHB1YmxpYzoKICAgIGV4cGxpY2l0IEluZGljYXRvcihjb25zdCBUJiBpZCwgY29uc3QgdW5zaWduZWQgaW50JiBwcmVjaXNpb24gPSA2LAogICAgICAgIGNvbnN0IE51bWVyaWNGb3JtYXQmIGZvcm1hdCA9IE51bWVyaWNGb3JtYXQ6OkRlZmF1bHQpCiAgICAgICAgOiAgIElEKGlkKSwKICAgICAgICAgICAgX2ltZ3VpX3N0YWNrKCIjIyIgKyBzdGQ6OnRvX3N0cmluZyhzdGF0aWNfY2FzdDxpbnQ+KGlkKSkpLAogICAgICAgICAgICBfZGlzcGxheShfaW1ndWlfc3RhY2spLCBfcHJlY2lzaW9uKHByZWNpc2lvbiksIF9mb3JtYXQoZm9ybWF0KSwKICAgICAgICAgICAgX3ZhbCgwLjApCiAgICAgICAgeyB9CgogICAgLy8gTW92aW5nIGFsbG93ZWQKICAgIEluZGljYXRvcihJbmRpY2F0b3ImJikgPSBkZWZhdWx0OwogICAgSW5kaWNhdG9yJiBvcGVyYXRvcj0oSW5kaWNhdG9yJiYpID0gZGVmYXVsdDsKCiAgICAvLyBObyBjb3B5aW5nCiAgICBJbmRpY2F0b3IoY29uc3QgSW5kaWNhdG9yJikgPSBkZWxldGU7CgogICAgdmlydHVhbCB+SW5kaWNhdG9yKCkge30KCiAgICB0ZW1wbGF0ZTx0eXBlbmFtZSBPRkZEQVRBPgogICAgLy8gQWRkcyBlbGVtZW50IG5ld1ZhbC54IHRvIHNob3cgaW4gdGhpcyBpbmRpY2F0b3IuIG5ld1ZhbC55IGlzIGlnbm9yZWQKICAgIHZvaWQgYWRkKGNvbnN0IEluZGljYXRvclZlY3RvcjxULCBPRkZEQVRBPiYgbmV3VmFsKSB7CiAgICAgICAgaWYgKG5ld1ZhbC5JRCA9PSBJRCkgewogICAgICAgICAgICBzdGQ6Om9zdHJpbmdzdHJlYW0gb3V0OwogICAgICAgICAgICBvdXQucHJlY2lzaW9uKF9wcmVjaXNpb24pOwogICAgICAgICAgICBpZiAoX2Zvcm1hdCA9PSBOdW1lcmljRm9ybWF0OjpTY2llbnRpZmljKSB7CiAgICAgICAgICAgICAgICBvdXQgPDwgc3RkOjpzY2llbnRpZmljOwogICAgICAgICAgICB9IGVsc2UgaWYgKF9mb3JtYXQgPT0gTnVtZXJpY0Zvcm1hdDo6SGV4RmxvYXQpIHsKICAgICAgICAgICAgICAgIG91dCA8PCBzdGQ6OmhleGZsb2F0OwogICAgICAgICAgICB9IGVsc2UgaWYgKF9mb3JtYXQgPT0gTnVtZXJpY0Zvcm1hdDo6Rml4ZWQpIHsKICAgICAgICAgICAgICAgIG91dCA8PCBzdGQ6OmZpeGVkOwogICAgICAgICAgICB9CgogICAgICAgICAgICBvdXQgPDwgbmV3VmFsLlg7CiAgICAgICAgICAgIF9kaXNwbGF5ID0gIiI7CgogICAgICAgICAgICBpZiAoIW91dC5zdHIoKS5lbXB0eSgpKSB7CiAgICAgICAgICAgICAgICBfZGlzcGxheSA9IG91dC5zdHIoKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgX2Rpc3BsYXkgKz0gX2ltZ3VpX3N0YWNrOwoKICAgICAgICAgICAgX3ZhbCA9IHN0YXRpY19jYXN0PGRvdWJsZT4obmV3VmFsLlgpOwogICAgICAgIH0KICAgIH0KCiAgICB0ZW1wbGF0ZTx0eXBlbmFtZSBPRkZEQVRBPgogICAgdm9pZCBvcGVyYXRvcigpKGNvbnN0IHN0ZDo6c3RyaW5nJiBsYWJlbCwgT0ZGREFUQSYgb3V0LAogICAgICAgIGNvbnN0IGZsb2F0JiBvZmZzZXQgPSAwKSB7CiAgICAgICAgSW1HdWk6OlRleHQoIiVzIiwgbGFiZWwuY19zdHIoKSk7IEltR3VpOjpTYW1lTGluZShvZmZzZXQpOwogICAgICAgIEltR3VpOjpCdXR0b24oX2Rpc3BsYXkuY19zdHIoKSk7CiAgICAgICAgb3V0ID0gc3RhdGljX2Nhc3Q8T0ZGREFUQT4oX3ZhbCk7CiAgICB9CgogICAgdGVtcGxhdGU8dHlwZW5hbWUgT0ZGREFUQT4KICAgIHZvaWQgRHJhdyhjb25zdCBzdGQ6OnN0cmluZyYgbGFiZWwsIE9GRkRBVEEmIG91dCwgY29uc3QgZmxvYXQmIG9mZnNldCA9IDApIHsKICAgICAgICB0aGlzLT5vcGVyYXRvcigpKGxhYmVsLCBvdXQsIG9mZnNldCk7CiAgICB9CgogICAgLy8gRm9yIGluZGljYXRvcnMsIGl0IGRvZXMgbm90aGluZy4KICAgIHZpcnR1YWwgdm9pZCBFeGVjdXRlQXR0cmlidXRlcygpIHsgfQoKICAgIC8vIEZvciBpbmRpY2F0b3JzLCBpdCBkb2VzIG5vdGhpbmcuCiAgICB2aXJ0dWFsIHZvaWQgQ2xlYXJBdHRyaWJ1dGVzKCkgeyB9CgogICAgdmlydHVhbCBUIEdldElEKCkgY29uc3QgewogICAgICAgIHJldHVybiBJRDsKICAgIH0KfTsKCnRlbXBsYXRlPHR5cGVuYW1lIFQ+CmNsYXNzIEJvb2xlYW5JbmRpY2F0b3IgOiBwdWJsaWMgSW5kaWNhdG9yPFQ+IHsKICAgIHN0ZDo6ZnVuY3Rpb248Ym9vbChjb25zdCBkb3VibGUmKT4gX2Y7CiAgICBJbVZlYzQgX29mZl9jb2xvcjsKICAgIEltVmVjNCBfb25fY29sb3I7CiAgICBJbVZlYzQgX2N1cnJlbnRfY29sb3I7CiAgICBib29sIF9pc19vbjsKCiBwdWJsaWM6CiAgICBleHBsaWNpdCBCb29sZWFuSW5kaWNhdG9yKGNvbnN0IFQmIGlkLAogICAgICAgIHN0ZDo6ZnVuY3Rpb248Ym9vbChjb25zdCBkb3VibGUmKT4mJiBmKQogICAgICAgIDogSW5kaWNhdG9yPFQ+KGlkKSwgX2YoZiksCiAgICAgICAgX29mZl9jb2xvcihzdGF0aWNfY2FzdDxJbVZlYzQ+KEltQ29sb3I6OkhTVigwLjBmLCAwLjZmLCAwLjZmKSkpLAogICAgICAgIF9vbl9jb2xvcihzdGF0aWNfY2FzdDxJbVZlYzQ+KEltQ29sb3I6OkhTVigyLjBmIC8gNy4wZiwgMC42ZiwgMC42ZikpKSwKICAgICAgICBfY3VycmVudF9jb2xvcihfb2ZmX2NvbG9yKSwgX2lzX29uKGZhbHNlKSB7CiAgICB9CgogICAgLy8gTW92aW5nIGFsbG93ZWQKICAgIEJvb2xlYW5JbmRpY2F0b3IoQm9vbGVhbkluZGljYXRvciYmKSA9IGRlZmF1bHQ7CiAgICBCb29sZWFuSW5kaWNhdG9yJiBvcGVyYXRvcj0oQm9vbGVhbkluZGljYXRvciYmKSA9IGRlZmF1bHQ7CgogICAgLy8gTm8gY29weWluZwogICAgQm9vbGVhbkluZGljYXRvcihjb25zdCBCb29sZWFuSW5kaWNhdG9yJikgPSBkZWxldGU7CgogICAgdGVtcGxhdGU8dHlwZW5hbWUgT0ZGREFUQT4KICAgIC8vIFVzZXMgbmV3VmFsLnggdG8gaW5kaWNhdGUgdGhlIGVxdWFsaXR5CiAgICB2b2lkIGFkZChjb25zdCBJbmRpY2F0b3JWZWN0b3I8VCwgT0ZGREFUQT4mIG5ld1ZhbCkgewogICAgICAgIF9pc19vbiA9IF9mKHN0YXRpY19jYXN0PGRvdWJsZT4obmV3VmFsLlgpKTsKICAgICAgICBfY3VycmVudF9jb2xvciA9IF9pc19vbiA/IF9vbl9jb2xvciA6IF9vZmZfY29sb3I7CiAgICB9CgogICAgdm9pZCBvcGVyYXRvcigpKGNvbnN0IHN0ZDo6c3RyaW5nJiBsYWJlbCwgYm9vbCYgb3V0LAogICAgICAgIGNvbnN0IGZsb2F0JiBvZmZzZXQgPSAwKSB7CiAgICAgICAgb3V0ID0gX2lzX29uOwogICAgICAgIEltR3VpOjpUZXh0KCIlcyIsIGxhYmVsLmNfc3RyKCkpOyBJbUd1aTo6U2FtZUxpbmUob2Zmc2V0KTsKCiAgICAgICAgSW1HdWk6OlB1c2hTdHlsZUNvbG9yKEltR3VpQ29sX0J1dHRvbiwgX2N1cnJlbnRfY29sb3IpOwogICAgICAgIEltR3VpOjpQdXNoU3R5bGVDb2xvcihJbUd1aUNvbF9CdXR0b25Ib3ZlcmVkLCBfY3VycmVudF9jb2xvcik7CiAgICAgICAgSW1HdWk6OlB1c2hTdHlsZUNvbG9yKEltR3VpQ29sX0J1dHRvbkFjdGl2ZSwgX2N1cnJlbnRfY29sb3IpOwoKICAgICAgICBJbUd1aTo6QnV0dG9uKEluZGljYXRvcjxUPjo6X2ltZ3VpX3N0YWNrLmNfc3RyKCksIEltVmVjMigxNSwgMTUpKTsKCiAgICAgICAgSW1HdWk6OlBvcFN0eWxlQ29sb3IoMyk7CiAgICB9CgogICAgdm9pZCBEcmF3KGNvbnN0IHN0ZDo6c3RyaW5nJiBsYWJlbCwgYm9vbCYgb3V0LCBjb25zdCBmbG9hdCYgb2Zmc2V0ID0gMCkgewogICAgICAgIHRoaXMtPm9wZXJhdG9yKCkobGFiZWwsIG91dCwgb2Zmc2V0KTsKICAgIH0KfTsKCi8vIEludGVybmFsIHN0cnVjdHVyZSB0byBiZSB1c2VkIGZvciBQbG90IGNsYXNzLiBTZXJ2ZXJzIGFzIGFuIGludGVyZmFjZQovLyBiZXR3ZWVuIHRoaXMgQVBJIGFuZCBJbVBsb3QKc3RydWN0IFBsb3REYXRhQnVmZmVyIHsKICAgIGNvbnN0IHN0ZDo6c2l6ZV90IE47CiAgICBzdGQ6OnNpemVfdCBTdGFydCA9IDA7CiAgICBzdGQ6OnNpemVfdCBTaXplID0gMDsKICAgIHN0ZDo6c2l6ZV90IEN1cnJlbnRJbmRleCA9IDA7CgogICAgc3RkOjp2ZWN0b3I8IHN0ZDo6cGFpciA8ZG91YmxlLCBkb3VibGU+ID4gRGF0YTsKCiAgICBleHBsaWNpdCBQbG90RGF0YUJ1ZmZlcihjb25zdCBzdGQ6OnNpemVfdCYgbWF4KQogICAgICAgIDogTihtYXgpLCBEYXRhKG1heCkge30KCiAgICBzdGQ6OnBhaXI8ZG91YmxlLCBkb3VibGU+JiBvcGVyYXRvcltdKGNvbnN0IHN0ZDo6c2l6ZV90JiBpKSB7CiAgICAgICAgc3RkOjpzaXplX3QgaW5kZXggPSAoaSArIFN0YXJ0KSAlIFNpemU7CiAgICAgICAgcmV0dXJuIERhdGFbaW5kZXhdOwogICAgfQoKICAgIHZvaWQgb3BlcmF0b3IoKShjb25zdCBkb3VibGUmIHgsIGNvbnN0IGRvdWJsZSYgeSkgewogICAgICAgIERhdGFbQ3VycmVudEluZGV4XSA9IHN0ZDo6bWFrZV9wYWlyKAogICAgICAgICAgICAgICAgc3RhdGljX2Nhc3Q8ZG91YmxlPih4KSwKICAgICAgICAgICAgICAgIHN0YXRpY19jYXN0PGRvdWJsZT4oeSkpOwoKICAgICAgICBpZiAoU2l6ZSA8IE4pIHsKICAgICAgICAgICAgU2l6ZSsrOwogICAgICAgICAgICBDdXJyZW50SW5kZXggPSBTaXplID09IE4gPyAwIDogQ3VycmVudEluZGV4ICsgMTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBTdGFydCA9IChTdGFydCArIDEpICUgU2l6ZTsKICAgICAgICAgICAgQ3VycmVudEluZGV4ID0gU3RhcnQ7CiAgICAgICAgfQogICAgfQp9OwoKZW51bSBjbGFzcyBQbG90U3R5bGUgewogICAgTGluZSwKICAgIFNjYXR0ZXIKfTsKLy8gQSBwbG90IGluZGljYXRvci4gSXQgaW5oZXJpdHMgZnJvbSBpbmRpY2F0b3IsIGJ1dCBtb3JlIG91dCBvZiBuZWNlc3NpdHkuCi8vIEl0IGtlZXBzIHRoZSBjb2RlIGNsZWFuLCBidXQgaXQgd2FzIHJlYWxseSBub3QgbmVjZXNzYXJ5LgovLyBPcmlnaW5hbGx5LCBhIHBsb3QgY291bGQgYmUgYW55IHR5cGUgdGhhdCB3YXMgbm90IGRvdWJsZSBidXQKLy8gSW1QbG90IG9ubHkgc2hvd3MgZG91YmxlIG51bWJlcnMgb3IgdHJhbnNmb3JtcyB0aGVtIHRvIGRvdWJsZXMKLy8gaW50ZXJuYWxseS4gQWxzbywgeCBhbmQgeSBoYXZlIHRvIGJlIHRoZSBzYW1lIHR5cGUuCnRlbXBsYXRlPHR5cGVuYW1lIFQ+CmNsYXNzIFBsb3QgOiBwdWJsaWMgSW5kaWNhdG9yPFQ+IHsKICAgIGJvb2wgQ2xlYXJlZCA9IGZhbHNlOwogICAgYm9vbCBDbGVhck9uTmV3RGF0YSA9IGZhbHNlOwoKCiAgICBjb25zdCBzdGQ6OnNpemVfdCBNYXhTYW1wbGVzOwogICAgUGxvdERhdGFCdWZmZXIgcGxvdERhdGE7CgogcHVibGljOgogICAgdXNpbmcgdHlwZSA9IFQ7CiAgICB1c2luZyBkYXRhX3R5cGUgPSBkb3VibGU7CgogICAgZXhwbGljaXQgUGxvdChjb25zdCBUJiBpZCwgY29uc3QgYm9vbCYgY2xlYXJPbk5ld0RhdGEgPSBmYWxzZSwKICAgICAgICBjb25zdCBzdGQ6OnNpemVfdCYgbWF4U2FtcGxlcyA9IDEwMGUzKSA6IEluZGljYXRvcjxUPihpZCksCiAgICAgICAgQ2xlYXJPbk5ld0RhdGEoY2xlYXJPbk5ld0RhdGEpLCBNYXhTYW1wbGVzKG1heFNhbXBsZXMpLAogICAgICAgIHBsb3REYXRhKG1heFNhbXBsZXMpIHsKICAgIH0KCiAgICAvLyBObyBtb3ZpbmcKICAgIFBsb3QoUGxvdCYmKSA9IGRlZmF1bHQ7CiAgICBQbG90JiBvcGVyYXRvcj0oUGxvdCYmKSA9IGRlZmF1bHQ7CgogICAgLy8gTm8gY29weWluZwogICAgUGxvdChjb25zdCBQbG90JikgPSBkZWxldGU7CgogICAgdGVtcGxhdGU8dHlwZW5hbWUgT0ZGREFUQT4KICAgIHZvaWQgYWRkKGNvbnN0IEluZGljYXRvclZlY3RvcjxULCBPRkZEQVRBPiYgdikgewogICAgICAgIGlmICh2LklEID09IEluZGljYXRvcjxUPjo6SUQpIHsKICAgICAgICAgICAgcGxvdERhdGEodi5YLCB2LlkpOwogICAgICAgIH0KICAgIH0KCiAgICB0ZW1wbGF0ZTx0eXBlbmFtZSBPRkZEQVRBPgogICAgdm9pZCBhZGQoY29uc3QgT0ZGREFUQSYgeCwgY29uc3QgT0ZGREFUQSYgeSkgewogICAgICAgIHBsb3REYXRhKHgsIHkpOwogICAgfQoKICAgIHZvaWQgY2xlYXIoKSB7CiAgICAgICAgcGxvdERhdGEuU2l6ZSA9IDA7CiAgICAgICAgcGxvdERhdGEuQ3VycmVudEluZGV4ID0gMDsKICAgIH0KCiAgICAvLyBFeGVjdXRlcyBhdHRyaWJ1dGVzLiBGb3IgcGxvdHMsIGl0IGNsZWFycyBvbiBuZXcgZGF0YS4KICAgIHZvaWQgRXhlY3V0ZUF0dHJpYnV0ZXMoKSB7CiAgICAgICAgaWYgKENsZWFyT25OZXdEYXRhKSB7CiAgICAgICAgICAgIGlmICghQ2xlYXJlZCkgewogICAgICAgICAgICAgICAgY2xlYXIoKTsKICAgICAgICAgICAgICAgIENsZWFyZWQgPSB0cnVlOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQoKICAgIC8vIENsZWFycyBhdHRyaWJ1dGVzLiBGb3IgcGxvdHMsIGl0IHJlc2V0cyBpZiBpdCBzaG91bGQgY2xlYXIuCiAgICAvLyBvbiBuZXcgZGF0YS4KICAgIHZvaWQgQ2xlYXJBdHRyaWJ1dGVzKCkgewogICAgICAgIENsZWFyZWQgPSBmYWxzZTsKICAgIH0KCiAgICAvLyBXcmFwcyBJbVBsb3Q6OlBsb3RMaW5lCiAgICB2b2lkIG9wZXJhdG9yKCkoY29uc3Qgc3RkOjpzdHJpbmcmIGxhYmVsLAogICAgICAgIGNvbnN0IFBsb3RTdHlsZSYgc3R5bGUgPSBQbG90U3R5bGU6OkxpbmUpIHsKICAgICAgICAvLyBzdGF0aWMgSW1QbG90R2V0dGVyIGdldHRlciA9IHN0YXRpY19jYXN0PEltUGxvdEdldHRlcj4oX3RyYW5zZm9ybSk7CiAgICAgICAgc3RhdGljIGF1dG8gdHJhbnNmb3JtID0gW10oaW50IGlkeCwgdm9pZCogZGF0YSkgewogICAgICAgICAgICBhdXRvIG15RGF0YSA9IHN0YXRpY19jYXN0PFBsb3REYXRhQnVmZmVyKj4oZGF0YSk7CiAgICAgICAgICAgIGF1dG8gcGFpciA9ICgqbXlEYXRhKVtpZHhdOwogICAgICAgICAgICByZXR1cm4gSW1QbG90UG9pbnQocGFpci5maXJzdCwgcGFpci5zZWNvbmQpOwogICAgICAgIH07CgogICAgICAgIHN3aXRjaCAoc3R5bGUpIHsKICAgICAgICAgICAgY2FzZSBQbG90U3R5bGU6OlNjYXR0ZXI6CiAgICAgICAgICAgICAgICBJbVBsb3Q6OlBsb3RTY2F0dGVyRyhsYWJlbC5jX3N0cigpLCB0cmFuc2Zvcm0sICZwbG90RGF0YSwgcGxvdERhdGEuU2l6ZSk7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlIFBsb3RTdHlsZTo6TGluZToKICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgICAgIEltUGxvdDo6UGxvdExpbmVHKGxhYmVsLmNfc3RyKCksIHRyYW5zZm9ybSwgJnBsb3REYXRhLCBwbG90RGF0YS5TaXplKTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgfQoKICAgIH0KCiAgICB2b2lkIERyYXcoY29uc3Qgc3RkOjpzdHJpbmcmIGxhYmVsLAogICAgICAgIGNvbnN0IFBsb3RTdHlsZSYgc3R5bGUgPSBQbG90U3R5bGU6OkxpbmUpIHsKICAgICAgICB0aGlzLT5vcGVyYXRvcigpKGxhYmVsLCBzdHlsZSk7CiAgICB9CgogcHJpdmF0ZToKfTsKCi8vIFRoaXMgY2xhc3MgaXMgbWVhbnQgdG8gYmUgY3JlYXRlZCBvbmNlIGluIHRoZSByZWNlaXZlci9jb25zdW1lciB0aHJlYWQKLy8gSXQgd2lsbCB1cGRhdGUgYWxsIG9mIHRoZSBpbmRpY2F0b3JzIHZhbHVlcyBvbmNlIGluZm9ybWF0aW9uIGlzIHNlbnQKdGVtcGxhdGU8dHlwZW5hbWUgVCwgdHlwZW5hbWUgREFUQT4KY2xhc3MgSW5kaWNhdG9yUmVjZWl2ZXIgIHsKICAgIEluZGljYXRvcnNRdWV1ZTxULCBEQVRBPiYgX3E7CiAgICBzdGQ6OnVub3JkZXJlZF9tYXA8VCwgc3RkOjp1bmlxdWVfcHRyPEluZGljYXRvcjxUPj4+IF9pbmRpY2F0b3JzOwoKcHVibGljOgogICAgdXNpbmcgdHlwZSA9IFQ7CiAgICB1c2luZyBkYXRhX3R5cGUgPSBEQVRBOwoKICAgIGV4cGxpY2l0IEluZGljYXRvclJlY2VpdmVyKEluZGljYXRvcnNRdWV1ZTxULCBEQVRBPiYgcSkgOiBfcShxKSB7IH0KCgogICAgLy8gTm8gY29weWluZwogICAgSW5kaWNhdG9yUmVjZWl2ZXIoY29uc3QgSW5kaWNhdG9yUmVjZWl2ZXImKSA9IGRlbGV0ZTsKCiAgICAvLyBUaGlzIGlzIG1lYW50IHRvIGJlIHJ1biBpbiB0aGUgc2luZ2xlIGNvbnN1bWVyLgogICAgLy8gVXBkYXRlcyBhbGwgdGhlIHBsb3RzIGFycmF5cyBmcm9tIHRoZSBxdWV1ZS4KICAgIHZvaWQgb3BlcmF0b3IoKSgpIHsKICAgICAgICBhdXRvIGFwcHJveF9sZW5ndGggPSBfcS5zaXplX2FwcHJveCgpOwogICAgICAgIHN0ZDo6dmVjdG9yPCBJbmRpY2F0b3JWZWN0b3I8VCwgREFUQT4gPiB0ZW1wX2l0ZW1zKGFwcHJveF9sZW5ndGgpOwogICAgICAgIF9xLnRyeV9kZXF1ZXVlX2J1bGsodGVtcF9pdGVtcy5kYXRhKCksIGFwcHJveF9sZW5ndGgpOwoKICAgICAgICBmb3IgKEluZGljYXRvclZlY3RvcjxULCBEQVRBPiBpdGVtIDogdGVtcF9pdGVtcykgewogICAgICAgICAgICAvLyBJZiBpdCBjb250YWlucyBvbmUgaXRlbSwgdGhlbiBpdCBpcyBhIGluZGljYXRvcgogICAgICAgICAgICBpZiAoX2luZGljYXRvcnMuY291bnQoaXRlbS5JRCkpIHsKICAgICAgICAgICAgICAgIGF1dG8mIGluZGljYXRvciA9IF9pbmRpY2F0b3JzLmF0KGl0ZW0uSUQpOwogICAgICAgICAgICAgICAgaW5kaWNhdG9yLT5FeGVjdXRlQXR0cmlidXRlcygpOwoKICAgICAgICAgICAgICAgIFBsb3Q8VD4qIHBsdCA9IGR5bmFtaWNfY2FzdDxQbG90PFQ+Kj4oaW5kaWNhdG9yLmdldCgpKTsKICAgICAgICAgICAgICAgIEJvb2xlYW5JbmRpY2F0b3I8VD4qIGJpbmQKICAgICAgICAgICAgICAgICAgICA9IGR5bmFtaWNfY2FzdDxCb29sZWFuSW5kaWNhdG9yPFQ+Kj4oaW5kaWNhdG9yLmdldCgpKTsKICAgICAgICAgICAgICAgIGlmIChwbHQpIHsKICAgICAgICAgICAgICAgICAgICBwbHQtPmFkZChpdGVtKTsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYmluZCkgewogICAgICAgICAgICAgICAgICAgIGJpbmQtPmFkZChpdGVtKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgaW5kaWNhdG9yLT5hZGQoaXRlbSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGZvciAoYXV0byYgaW5kaWNhdG9yIDogX2luZGljYXRvcnMpIHsKICAgICAgICAgICAgaW5kaWNhdG9yLnNlY29uZC0+Q2xlYXJBdHRyaWJ1dGVzKCk7CiAgICAgICAgfQogICAgfQoKICAgIHZvaWQgb3BlcmF0b3IoKShjb25zdCBUJiBrZXksIGNvbnN0IERBVEEmIHgsIGNvbnN0IERBVEEmIHkpIHsKICAgICAgICBJbmRpY2F0b3JWZWN0b3I8VCwgREFUQT4gbmV3UChrZXksIHgsIHkpOwogICAgICAgIF9xLmVucXVldWUobmV3UCk7CiAgICB9CgogICAgdGVtcGxhdGU8dHlwZW5hbWUgT0ZGREFUQT4KICAgIGF1dG8mIGluZGljYXRvcihjb25zdCBUJiBpZCwgY29uc3Qgc3RkOjpzdHJpbmcmIGxhYmVsLCBPRkZEQVRBJiBvdXQsCiAgICAgICAgY29uc3QgZmxvYXQmIG9mZnNldCA9IDAsCiAgICAgICAgY29uc3QgdW5zaWduZWQgaW50JiBwcmVjaXNpb24gPSA2LAogICAgICAgIGNvbnN0IE51bWVyaWNGb3JtYXQmIGZvcm1hdCA9IE51bWVyaWNGb3JtYXQ6OkRlZmF1bHQpIHsKICAgICAgICBfaW5kaWNhdG9ycy50cnlfZW1wbGFjZShpZCwKICAgICAgICAgICAgc3RkOjptYWtlX3VuaXF1ZTxJbmRpY2F0b3I8VD4+KGlkLCBwcmVjaXNpb24sIGZvcm1hdCkpOwoKICAgICAgICBhdXRvJiBpbmQgPSBfaW5kaWNhdG9ycy5hdChpZCk7CgogICAgICAgIGluZC0+RHJhdyhsYWJlbCwgb3V0LCBvZmZzZXQpOwoKICAgICAgICByZXR1cm4gaW5kOwogICAgfQoKICAgIGF1dG8mIGluZGljYXRvcihjb25zdCBUJiBpZCwKICAgICAgICBjb25zdCBzdGQ6OnN0cmluZyYgbGFiZWwsCiAgICAgICAgY29uc3QgZmxvYXQmIG9mZnNldCA9IDAsCiAgICAgICAgY29uc3QgdW5zaWduZWQgaW50JiBwcmVjaXNpb24gPSA2LAogICAgICAgIGNvbnN0IE51bWVyaWNGb3JtYXQmIGZvcm1hdCA9IE51bWVyaWNGb3JtYXQ6OkRlZmF1bHQpIHsKCiAgICAgICAgX2luZGljYXRvcnMudHJ5X2VtcGxhY2UoaWQsCiAgICAgICAgICAgIHN0ZDo6bWFrZV91bmlxdWU8SW5kaWNhdG9yPFQ+PihpZCwgcHJlY2lzaW9uLCBmb3JtYXQpKTsKICAgICAgICBhdXRvJiBpbmQgPSBfaW5kaWNhdG9ycy5hdChpZCk7CgogICAgICAgIGRvdWJsZSB0bXA7CiAgICAgICAgaW5kLT5EcmF3KGxhYmVsLCB0bXAsIG9mZnNldCk7CgogICAgICAgIHJldHVybiBpbmQ7CiAgICB9CgogICAgYXV0byYgYm9vbGVhbkluZGljYXRvcihjb25zdCBUJiBpZCwgY29uc3Qgc3RkOjpzdHJpbmcmIGxhYmVsLAogICAgICAgIHN0ZDo6ZnVuY3Rpb248Ym9vbChjb25zdCBkb3VibGUmKT4mJiBmLCBjb25zdCBmbG9hdCYgb2Zmc2V0ID0gMCkgewogICAgICAgIF9pbmRpY2F0b3JzLnRyeV9lbXBsYWNlKGlkLAogICAgICAgICAgICBzdGQ6Om1ha2VfdW5pcXVlPEJvb2xlYW5JbmRpY2F0b3I8VD4+KGlkLAogICAgICAgICAgICAgICAgc3RkOjpmb3J3YXJkPHN0ZDo6ZnVuY3Rpb248Ym9vbChjb25zdCBkb3VibGUmKT4+KGYpKSk7CgogICAgICAgIGF1dG8mIGluZCA9IF9pbmRpY2F0b3JzLmF0KGlkKTsKCiAgICAgICAgYXV0byBiID0gZHluYW1pY19jYXN0PEJvb2xlYW5JbmRpY2F0b3I8VD4qPihpbmQuZ2V0KCkpOwogICAgICAgIGlmIChiKSB7CiAgICAgICAgICAgIGItPkRyYXcobGFiZWwsIG9mZnNldCk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gaW5kOwogICAgfQoKICAgIGF1dG8mIGJvb2xlYW5JbmRpY2F0b3IoY29uc3QgVCYgaWQsIGNvbnN0IHN0ZDo6c3RyaW5nJiBsYWJlbCwgYm9vbCYgb3V0LAogICAgICAgIHN0ZDo6ZnVuY3Rpb248Ym9vbChjb25zdCBkb3VibGUmKT4mJiBmLCBjb25zdCBmbG9hdCYgb2Zmc2V0ID0gMCkgewogICAgICAgIF9pbmRpY2F0b3JzLnRyeV9lbXBsYWNlKGlkLAogICAgICAgICAgICBzdGQ6Om1ha2VfdW5pcXVlPEJvb2xlYW5JbmRpY2F0b3I8VD4+KGlkLAogICAgICAgICAgICAgICAgc3RkOjpmb3J3YXJkPHN0ZDo6ZnVuY3Rpb248Ym9vbChjb25zdCBkb3VibGUmKT4+KGYpKSk7CgogICAgICAgIGF1dG8mIGluZCA9IF9pbmRpY2F0b3JzLmF0KGlkKTsKCiAgICAgICAgYXV0byBiID0gZHluYW1pY19jYXN0PEJvb2xlYW5JbmRpY2F0b3I8VD4qPihpbmQuZ2V0KCkpOwogICAgICAgIGlmIChiKSB7CiAgICAgICAgICAgIGItPkRyYXcobGFiZWwsIG91dCwgb2Zmc2V0KTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBpbmQ7CiAgICB9CgogICAgLy8gYXV0byYgbWFrZV9wbG90KGNvbnN0IFQmIGlkKSB7CiAgICAvLyAgX2luZGljYXRvcnMudHJ5X2VtcGxhY2UoaWQsCiAgICAvLyAgICAgIHN0ZDo6bWFrZV91bmlxdWU8UGxvdDxUPj4oaWQpKTsKCiAgICAvLyAgcmV0dXJuIF9wbG90cy5hdChpZCk7CiAgICAvLyB9CgogICAgLy8gQWRkcyBwbG90IHdpdGggSUQsIGFuZCBkcmF3cyBpdCBhdCB0aGUgcGxhY2VkIGxvY2F0aW9uIGlmIGV4aXN0cwogICAgLy8gSXQgcmV0dXJucyBhIHNtYXJ0IHBvaW50ZXIgdG8gdGhlIGluZGljYXRvciAobm90IHBsb3QpCiAgICBhdXRvJiBwbG90KGNvbnN0IFQmIGlkLCBjb25zdCBzdGQ6OnN0cmluZyYgbGFiZWwsCiAgICAgICAgY29uc3QgUGxvdFN0eWxlIHN0eWxlID0gUGxvdFN0eWxlOjpMaW5lLCBib29sIGNsZWFyT25OZXdEYXRhID0gZmFsc2UpIHsKICAgICAgICBfaW5kaWNhdG9ycy50cnlfZW1wbGFjZShpZCwKICAgICAgICAgICAgc3RkOjptYWtlX3VuaXF1ZTxQbG90PFQ+PihpZCwgY2xlYXJPbk5ld0RhdGEpKTsKCiAgICAgICAgYXV0byYgaW5kID0gX2luZGljYXRvcnMuYXQoaWQpOwoKICAgICAgICBQbG90PFQ+KiBwbHQgPSBkeW5hbWljX2Nhc3Q8UGxvdDxUPio+KGluZC5nZXQoKSk7CiAgICAgICAgaWYgKHBsdCkgewogICAgICAgICAgICBwbHQtPkRyYXcobGFiZWwsIHN0eWxlKTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBpbmQ7CiAgICB9CgogICAgdm9pZCBDbGVhclBsb3QoY29uc3QgVCYgaWQpIHsKICAgICAgICBhdXRvIHNlYXJjaCA9IF9pbmRpY2F0b3JzLmZpbmQoaWQpOwogICAgICAgIGlmIChzZWFyY2ggIT0gX2luZGljYXRvcnMuZW5kKCkpIHsKICAgICAgICAgICAgUGxvdDxUPiogcGx0ID0gZHluYW1pY19jYXN0PFBsb3Q8VD4qPigKICAgICAgICAgICAgICAgIF9pbmRpY2F0b3JzLmF0KGlkKS5nZXQoKSk7CiAgICAgICAgICAgIHBsdC0+Y2xlYXIoKTsKICAgICAgICB9CiAgICB9Cn07CgovLyBUaGUgSW5kaWNhdG9yU2VuZGVyIGNsYXNzIGlzIG1lYW50IHRvIGJlIHJ1biBpbiB0aGUgcHJvZHVjZXIgdGhyZWFkcwovLyBUaGUgcHJvZHVjZXIgdGhyZWFkIGNhbiBhZGQgYSBuZXcgSW5kaWNhdG9yVmVjdG9yIHRvIHRoaXMgY2xhc3MKLy8gYW5kIHRoaXMgd2lsbCBzZW5kIGl0IGZvcndhcmQuCi8vIEl0IHVzZXMgZW51bXMgc28gdGhlIHByb2R1Y2VyIHRocmVhZHMgZG8gbm90IG5lZWQgdG8ga25vdyBpZiB0aGUKLy8gaW5kaWNhdG9yL3Bsb3QgYXNzb2NpYXRlZCB3aXRoIHRoYXQgZW51bSBleGlzdHMuCnRlbXBsYXRlPHR5cGVuYW1lIFQsIHR5cGVuYW1lIERBVEE+CmNsYXNzIEluZGljYXRvclNlbmRlciB7CiAgICBJbmRpY2F0b3JzUXVldWU8VCwgREFUQT4mIF9xOwoKIHB1YmxpYzoKICAgIHVzaW5nIHR5cGUgPSBUOwogICAgdXNpbmcgZGF0YV90eXBlID0gREFUQTsKCiAgICBleHBsaWNpdCBJbmRpY2F0b3JTZW5kZXIoSW5kaWNhdG9yc1F1ZXVlPFQsIERBVEE+JiBxKSA6IF9xKHEpIHsgfQoKICAgIC8vIE5vIGNvcHlpbmcKICAgIEluZGljYXRvclNlbmRlcihjb25zdCBJbmRpY2F0b3JTZW5kZXImKSA9IGRlbGV0ZTsKCiAgICAvLyBTZW5kcyB2YWx1ZSB4IHRvIGluZGljYXRvciBvZiB0eXBlIFQKICAgIHZvaWQgb3BlcmF0b3IoKShjb25zdCBUJiBrZXksIGNvbnN0IERBVEEmIHgpIHsKICAgICAgICBJbmRpY2F0b3JWZWN0b3I8VCwgREFUQT4gbmV3UChrZXksIHgpOwogICAgICAgIF9xLmVucXVldWUobmV3UCk7CiAgICB9CgogICAgLy8gU2VuZHMgdmFsdWUgcGFpciAoeCx5KSB0byBwbG90L2luZGljYXRvciBvZiB0eXBlIFQKICAgIHZvaWQgb3BlcmF0b3IoKShjb25zdCBUJiBrZXksIGNvbnN0IERBVEEmIHgsIGNvbnN0IERBVEEmIHkpIHsKICAgICAgICBJbmRpY2F0b3JWZWN0b3I8VCwgREFUQT4gbmV3UChrZXksIHgsIHkpOwogICAgICAgIF9xLmVucXVldWUobmV3UCk7CiAgICB9CgogICAgLy8gU2VuZHMgdmFsdWUgcGFpciAoeCx5KSB0byBwbG90L2luZGljYXRvciBvZiB0eXBlIFQKICAgIC8vIE5vdGUgaWYgYW4gaW5kaWNhdG9yIGlzIHNlbGVjdGVkLCBvbmx5IHRoZSBsYXRlc3QgdmFsdWUKICAgIC8vIHdpbGwgYmUgc2hvd24KICAgIHZvaWQgb3BlcmF0b3IoKShjb25zdCBJbmRpY2F0b3JWZWN0b3I8VCwgREFUQT4mIHB2KSB7CiAgICAgICAgX3EuZW5xdWV1ZShwdik7CiAgICB9CgogICAgLy8gU2VuZHMgYSBsaXN0IG9mIHBhaXJzICh4LHkpIHRvIHBsb3QvaW5kaWNhdG9yIG9mIHR5cGUgVAogICAgLy8gTm90ZSBpZiBhbiBpbmRpY2F0b3IgaXMgc2VsZWN0ZWQsIG9ubHkgdGhlIGxhdGVzdCB2YWx1ZQogICAgLy8gd2lsbCBiZSBzaG93biBhbmQgdGhlIGxpc3QgeSB3aWxsIGJlIGlnbm9yZWQKICAgIHRlbXBsYXRlPHR5cGVuYW1lIE9GRkRBVEE+CiAgICB2b2lkIG9wZXJhdG9yKCkoY29uc3QgVCYga2V5LCBjb25zdCBzdGQ6OnZlY3RvcjxPRkZEQVRBPiYgeCwKICAgICAgICBjb25zdCBzdGQ6OnZlY3RvcjxPRkZEQVRBPiYgeSkgewogICAgICAgIHN0ZDo6dmVjdG9yPCBJbmRpY2F0b3JWZWN0b3I8VCwgREFUQT4gPiBpdGVtcyh4LnNpemUoKSk7CiAgICAgICAgZm9yICh1bnNpZ25lZCBpbnQgaSA9IDA7IGkgPCB4LnNpemUoKTsgaSsrKSB7CiAgICAgICAgICAgIGl0ZW1zW2ldID0gSW5kaWNhdG9yVmVjdG9yPFQsIERBVEE+KGtleSwKICAgICAgICAgICAgICAgIHN0YXRpY19jYXN0PERBVEE+KHhbaV0pLAogICAgICAgICAgICAgICAgc3RhdGljX2Nhc3Q8REFUQT4oeVtpXSkpOwogICAgICAgIH0KCiAgICAgICAgX3EuZW5xdWV1ZV9idWxrKGl0ZW1zLmJlZ2luKCksIGl0ZW1zLnNpemUoKSk7CiAgICB9CgogICAgLy8gU2VuZHMgYSBsaXN0IG9mIHBhaXJzICh4LHkpIHRvIHBsb3QvaW5kaWNhdG9yIG9mIHR5cGUgVAogICAgLy8gTm90ZSBpZiBhbiBpbmRpY2F0b3IgaXMgc2VsZWN0ZWQsIG9ubHkgdGhlIGxhdGVzdCB2YWx1ZQogICAgLy8gd2lsbCBiZSBzaG93biBhbmQgdGhlIGxpc3QgeSB3aWxsIGJlIGlnbm9yZWQKICAgIHRlbXBsYXRlPHR5cGVuYW1lIE9GRkRBVEE+CiAgICB2b2lkIG9wZXJhdG9yKCkoY29uc3QgVCYga2V5LCBPRkZEQVRBKiB4X2RhdGEsIE9GRkRBVEEqIHlfZGF0YSwKICAgICAgICBjb25zdCBzaXplX3QmIHNpemUpIHsKICAgICAgICBzdGQ6OnZlY3RvcjwgSW5kaWNhdG9yVmVjdG9yPFQsIERBVEE+ID4gaXRlbXMoc2l6ZSk7CiAgICAgICAgZm9yICh1bnNpZ25lZCBpbnQgaSA9IDA7IGkgPCBzaXplOyBpKyspIHsKICAgICAgICAgICAgaXRlbXNbaV0gPSBJbmRpY2F0b3JWZWN0b3I8VCwgREFUQT4oa2V5LAogICAgICAgICAgICAgICAgc3RhdGljX2Nhc3Q8REFUQT4oeF9kYXRhW2ldKSwKICAgICAgICAgICAgICAgIHN0YXRpY19jYXN0PERBVEE+KHlfZGF0YVtpXSkpOwogICAgICAgIH0KCiAgICAgICAgX3EuZW5xdWV1ZV9idWxrKGl0ZW1zLmJlZ2luKCksIGl0ZW1zLnNpemUoKSk7CiAgICB9Cn07CgoKdGVtcGxhdGU8dHlwZW5hbWUgVD4KLy8gQ3JlYXRlcyBpbmRpY2F0b3Igd2l0aCBLZXkgYW5kIGFkZHMgaXQgdG8gUmVjZWl2ZXIgcQppbmxpbmUgSW5kaWNhdG9yPFQ+IG1ha2VfaW5kaWNhdG9yKFQmJiBrZXksIHVuc2lnbmVkIGludCYmIHByZWNpc2lvbiA9IDYsCiAgICAgICAgTnVtZXJpY0Zvcm1hdCYmIGZvcm1hdCA9IE51bWVyaWNGb3JtYXQ6OkRlZmF1bHQpIHsKICAgIHJldHVybiBJbmRpY2F0b3I8VD4oc3RkOjpmb3J3YXJkPFQ+KGtleSksCiAgICAgICAgc3RkOjpmb3J3YXJkPHVuc2lnbmVkIGludD4ocHJlY2lzaW9uKSwKICAgICAgICBzdGQ6OmZvcndhcmQ8TnVtZXJpY0Zvcm1hdD4oZm9ybWF0KSk7Cn0KCnRlbXBsYXRlPHR5cGVuYW1lIFQ+CmlubGluZSBQbG90PFQ+IG1ha2VfcGxvdChUJiYga2V5KSB7CiAgICByZXR1cm4gUGxvdDxUPihzdGQ6OmZvcndhcmQ8VD4oa2V5KSk7Cn0KCgp9ICAvLyBuYW1lc3BhY2UgU0JDUXVlZW5zCiNlbmRpZgoAAAAAAAAAAGpRAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAuiEAAAAAAAC6IQAAAAAAAAAAAAAAAPC/"
				]
			]
		},
		{
			"file": "include/sbcqueens-gui/gui_windows/IndicatorList.hpp",
			"settings":
			{
				"buffer_size": 2530,
				"encoding": "UTF-8",
				"line_ending": "Unix"
			},
			"undo_stack":
			[
				[
					3,
					1,
					"toggle_comment",
					{
						"block": false
					},
					"BwAAALIHAAAAAAAAsgcAAAAAAAADAAAALy8gkQcAAAAAAACRBwAAAAAAAAMAAAAvLyBxBwAAAAAAAHEHAAAAAAAAAwAAAC8vIEEHAAAAAAAAQQcAAAAAAAADAAAALy8gFgcAAAAAAAAWBwAAAAAAAAMAAAAvLyDxBgAAAAAAAPEGAAAAAAAAAwAAAC8vILoGAAAAAAAAugYAAAAAAAADAAAALy8g",
					"AQAAAAAAAAABAAAAtwcAAAAAAAC5BgAAAAAAAAAAAAAAAPC/"
				],
				[
					9,
					1,
					"insert",
					{
						"characters": "8"
					},
					"AgAAANIGAAAAAAAA0wYAAAAAAAAAAAAA0wYAAAAAAADTBgAAAAAAAAIAAAA2NA",
					"AQAAAAAAAAABAAAA0gYAAAAAAADUBgAAAAAAAAAAAAAAAPC/"
				],
				[
					14,
					1,
					"insert",
					{
						"characters": "Group"
					},
					"BgAAAMkGAAAAAAAAygYAAAAAAAAAAAAAygYAAAAAAADKBgAAAAAAAAYAAABQdWxzZXPKBgAAAAAAAMsGAAAAAAAAAAAAAMsGAAAAAAAAzAYAAAAAAAAAAAAAzAYAAAAAAADNBgAAAAAAAAAAAADNBgAAAAAAAM4GAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAyQYAAAAAAADPBgAAAAAAAAAAAAAAAPC/"
				],
				[
					15,
					1,
					"insert",
					{
						"characters": " 1"
					},
					"AgAAAM4GAAAAAAAAzwYAAAAAAAAAAAAAzwYAAAAAAADQBgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAzgYAAAAAAADOBgAAAAAAAAAAAAAAAPC/"
				],
				[
					19,
					1,
					"insert",
					{
						"characters": ","
					},
					"AQAAALgGAAAAAAAAuQYAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAuAYAAAAAAAC4BgAAAAAAAAAAAAAAAPC/"
				],
				[
					20,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"BAAAALkGAAAAAAAAugYAAAAAAAAAAAAAugYAAAAAAAC8BgAAAAAAAAAAAAC6BgAAAAAAALoGAAAAAAAAAgAAAAkJugYAAAAAAAC7BgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAuQYAAAAAAAC5BgAAAAAAAAAAAAAAAPC/"
				],
				[
					21,
					1,
					"trim_trailing_white_space",
					null,
					"AQAAALoGAAAAAAAAugYAAAAAAAABAAAACQ",
					"AQAAAAAAAAABAAAAuwYAAAAAAAC7BgAAAAAAAAAAAAAAAPC/"
				],
				[
					26,
					1,
					"insert",
					{
						"characters": "8"
					},
					"AgAAAOcGAAAAAAAA6AYAAAAAAAAAAAAA6AYAAAAAAADoBgAAAAAAAAIAAAA2NA",
					"AQAAAAAAAAABAAAA5wYAAAAAAADpBgAAAAAAAAAAAAAAAPC/"
				],
				[
					30,
					1,
					"insert",
					{
						"characters": "\n\n"
					},
					"AgAAAHkEAAAAAAAAegQAAAAAAAAAAAAAegQAAAAAAAB7BAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAeQQAAAAAAAB5BAAAAAAAAAAAAAAAAPC/"
				],
				[
					32,
					1,
					"insert",
					{
						"characters": "constexpr"
					},
					"CQAAAHoEAAAAAAAAewQAAAAAAAAAAAAAewQAAAAAAAB8BAAAAAAAAAAAAAB8BAAAAAAAAH0EAAAAAAAAAAAAAH0EAAAAAAAAfgQAAAAAAAAAAAAAfgQAAAAAAAB/BAAAAAAAAAAAAAB/BAAAAAAAAIAEAAAAAAAAAAAAAIAEAAAAAAAAgQQAAAAAAAAAAAAAgQQAAAAAAACCBAAAAAAAAAAAAACCBAAAAAAAAIMEAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAegQAAAAAAAB6BAAAAAAAAAAAAAAAAAAA"
				],
				[
					33,
					1,
					"insert",
					{
						"characters": " auto"
					},
					"BQAAAIMEAAAAAAAAhAQAAAAAAAAAAAAAhAQAAAAAAACFBAAAAAAAAAAAAACFBAAAAAAAAIYEAAAAAAAAAAAAAIYEAAAAAAAAhwQAAAAAAAAAAAAAhwQAAAAAAACIBAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAgwQAAAAAAACDBAAAAAAAAAAAAAAAAPC/"
				],
				[
					34,
					1,
					"insert",
					{
						"characters": " fill_same"
					},
					"CgAAAIgEAAAAAAAAiQQAAAAAAAAAAAAAiQQAAAAAAACKBAAAAAAAAAAAAACKBAAAAAAAAIsEAAAAAAAAAAAAAIsEAAAAAAAAjAQAAAAAAAAAAAAAjAQAAAAAAACNBAAAAAAAAAAAAACNBAAAAAAAAI4EAAAAAAAAAAAAAI4EAAAAAAAAjwQAAAAAAAAAAAAAjwQAAAAAAACQBAAAAAAAAAAAAACQBAAAAAAAAJEEAAAAAAAAAAAAAJEEAAAAAAAAkgQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAiAQAAAAAAACIBAAAAAAAAAAAAAAAAPC/"
				],
				[
					35,
					1,
					"insert_snippet",
					{
						"contents": "($0)"
					},
					"AQAAAJIEAAAAAAAAlAQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAkgQAAAAAAACSBAAAAAAAAAAAAAAAAPC/"
				],
				[
					36,
					1,
					"insert",
					{
						"characters": "*"
					},
					"AQAAAJMEAAAAAAAAlAQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAkwQAAAAAAACTBAAAAAAAAAAAAAAAAPC/"
				],
				[
					37,
					1,
					"left_delete",
					null,
					"AQAAAJMEAAAAAAAAkwQAAAAAAAABAAAAKg",
					"AQAAAAAAAAABAAAAlAQAAAAAAACUBAAAAAAAAAAAAAAAAPC/"
				],
				[
					39,
					1,
					"insert",
					{
						"characters": "\ntemplate<>"
					},
					"CwAAAHkEAAAAAAAAegQAAAAAAAAAAAAAegQAAAAAAAB7BAAAAAAAAAAAAAB7BAAAAAAAAHwEAAAAAAAAAAAAAHwEAAAAAAAAfQQAAAAAAAAAAAAAfQQAAAAAAAB+BAAAAAAAAAAAAAB+BAAAAAAAAH8EAAAAAAAAAAAAAH8EAAAAAAAAgAQAAAAAAAAAAAAAgAQAAAAAAACBBAAAAAAAAAAAAACBBAAAAAAAAIIEAAAAAAAAAAAAAIIEAAAAAAAAgwQAAAAAAAAAAAAAgwQAAAAAAACEBAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAeQQAAAAAAAB5BAAAAAAAAAAAAAAAAGlA"
				],
				[
					41,
					1,
					"insert",
					{
						"characters": "size_t"
					},
					"BgAAAIMEAAAAAAAAhAQAAAAAAAAAAAAAhAQAAAAAAACFBAAAAAAAAAAAAACFBAAAAAAAAIYEAAAAAAAAAAAAAIYEAAAAAAAAhwQAAAAAAAAAAAAAhwQAAAAAAACIBAAAAAAAAAAAAACIBAAAAAAAAIkEAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAgwQAAAAAAACDBAAAAAAAAAAAAAAAAPC/"
				],
				[
					42,
					1,
					"insert",
					{
						"characters": "..."
					},
					"AwAAAIkEAAAAAAAAigQAAAAAAAAAAAAAigQAAAAAAACLBAAAAAAAAAAAAACLBAAAAAAAAIwEAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAiQQAAAAAAACJBAAAAAAAAAAAAAAAAPC/"
				],
				[
					43,
					1,
					"insert",
					{
						"characters": " N"
					},
					"AgAAAIwEAAAAAAAAjQQAAAAAAAAAAAAAjQQAAAAAAACOBAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAjAQAAAAAAACMBAAAAAAAAAAAAAAAAPC/"
				],
				[
					44,
					1,
					"left_delete",
					null,
					"AQAAAI0EAAAAAAAAjQQAAAAAAAABAAAATg",
					"AQAAAAAAAAABAAAAjgQAAAAAAACOBAAAAAAAAAAAAAAAAPC/"
				],
				[
					45,
					1,
					"insert",
					{
						"characters": "Indexes"
					},
					"BwAAAI0EAAAAAAAAjgQAAAAAAAAAAAAAjgQAAAAAAACPBAAAAAAAAAAAAACPBAAAAAAAAJAEAAAAAAAAAAAAAJAEAAAAAAAAkQQAAAAAAAAAAAAAkQQAAAAAAACSBAAAAAAAAAAAAACSBAAAAAAAAJMEAAAAAAAAAAAAAJMEAAAAAAAAlAQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAjQQAAAAAAACNBAAAAAAAAAAAAAAAAPC/"
				],
				[
					48,
					1,
					"insert",
					{
						"characters": "size_t"
					},
					"BgAAAK8EAAAAAAAAsAQAAAAAAAAAAAAAsAQAAAAAAACxBAAAAAAAAAAAAACxBAAAAAAAALIEAAAAAAAAAAAAALIEAAAAAAAAswQAAAAAAAAAAAAAswQAAAAAAAC0BAAAAAAAAAAAAAC0BAAAAAAAALUEAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAArwQAAAAAAACvBAAAAAAAAAAAAAAAAPC/"
				],
				[
					49,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAALUEAAAAAAAAtgQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAtQQAAAAAAAC1BAAAAAAAAAAAAAAAAPC/"
				],
				[
					50,
					1,
					"left_delete",
					null,
					"AQAAALUEAAAAAAAAtQQAAAAAAAABAAAAIA",
					"AQAAAAAAAAABAAAAtgQAAAAAAAC2BAAAAAAAAAAAAAAAAPC/"
				],
				[
					51,
					1,
					"insert",
					{
						"characters": "..."
					},
					"AwAAALUEAAAAAAAAtgQAAAAAAAAAAAAAtgQAAAAAAAC3BAAAAAAAAAAAAAC3BAAAAAAAALgEAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAtQQAAAAAAAC1BAAAAAAAAAAAAAAAAPC/"
				],
				[
					52,
					1,
					"insert",
					{
						"characters": " i"
					},
					"AgAAALgEAAAAAAAAuQQAAAAAAAAAAAAAuQQAAAAAAAC6BAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAuAQAAAAAAAC4BAAAAAAAAAAAAAAAAPC/"
				],
				[
					53,
					1,
					"left_delete",
					null,
					"AQAAALkEAAAAAAAAuQQAAAAAAAABAAAAaQ",
					"AQAAAAAAAAABAAAAugQAAAAAAAC6BAAAAAAAAAAAAAAAAPC/"
				],
				[
					54,
					1,
					"insert",
					{
						"characters": "Indexes"
					},
					"BwAAALkEAAAAAAAAugQAAAAAAAAAAAAAugQAAAAAAAC7BAAAAAAAAAAAAAC7BAAAAAAAALwEAAAAAAAAAAAAALwEAAAAAAAAvQQAAAAAAAAAAAAAvQQAAAAAAAC+BAAAAAAAAAAAAAC+BAAAAAAAAL8EAAAAAAAAAAAAAL8EAAAAAAAAwAQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAuQQAAAAAAAC5BAAAAAAAAAAAAAAAAPC/"
				],
				[
					55,
					1,
					"left_delete",
					null,
					"AQAAAL8EAAAAAAAAvwQAAAAAAAABAAAAcw",
					"AQAAAAAAAAABAAAAwAQAAAAAAADABAAAAAAAAAAAAAAAAPC/"
				],
				[
					56,
					1,
					"insert",
					{
						"characters": "s"
					},
					"AQAAAL8EAAAAAAAAwAQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAvwQAAAAAAAC/BAAAAAAAAAAAAAAAAPC/"
				],
				[
					58,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAMEEAAAAAAAAwgQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAwQQAAAAAAADBBAAAAAAAAAAAAAAAAPC/"
				],
				[
					59,
					1,
					"insert_snippet",
					{
						"contents": "{$0}"
					},
					"AQAAAMIEAAAAAAAAxAQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAwgQAAAAAAADCBAAAAAAAAAAAAAAAAPC/"
				],
				[
					60,
					1,
					"run_macro_file",
					{
						"file": "res://Packages/Default/Add Line in Braces.sublime-macro"
					},
					"AwAAAMMEAAAAAAAAxAQAAAAAAAAAAAAAxAQAAAAAAADFBAAAAAAAAAAAAADEBAAAAAAAAMUEAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAwwQAAAAAAADDBAAAAAAAAAAAAAAAAPC/"
				],
				[
					65,
					1,
					"insert",
					{
						"characters": "typename"
					},
					"CQAAAIMEAAAAAAAAhAQAAAAAAAAAAAAAxQQAAAAAAADFBAAAAAAAAAEAAAAJhAQAAAAAAACFBAAAAAAAAAAAAACFBAAAAAAAAIYEAAAAAAAAAAAAAIYEAAAAAAAAhwQAAAAAAAAAAAAAhwQAAAAAAACIBAAAAAAAAAAAAACIBAAAAAAAAIkEAAAAAAAAAAAAAIkEAAAAAAAAigQAAAAAAAAAAAAAigQAAAAAAACLBAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAgwQAAAAAAACDBAAAAAAAAAAAAAAAAPC/"
				],
				[
					66,
					1,
					"insert",
					{
						"characters": " Value,"
					},
					"BwAAAIsEAAAAAAAAjAQAAAAAAAAAAAAAjAQAAAAAAACNBAAAAAAAAAAAAACNBAAAAAAAAI4EAAAAAAAAAAAAAI4EAAAAAAAAjwQAAAAAAAAAAAAAjwQAAAAAAACQBAAAAAAAAAAAAACQBAAAAAAAAJEEAAAAAAAAAAAAAJEEAAAAAAAAkgQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAiwQAAAAAAACLBAAAAAAAAAAAAAAAAPC/"
				],
				[
					67,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAJIEAAAAAAAAkwQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAkgQAAAAAAACSBAAAAAAAAAAAAAAAAPC/"
				],
				[
					70,
					1,
					"reindent",
					null,
					"AQAAANQEAAAAAAAA1QQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA1AQAAAAAAADUBAAAAAAAAAAAAAAAAPC/"
				],
				[
					71,
					1,
					"insert",
					{
						"characters": "return"
					},
					"BgAAANUEAAAAAAAA1gQAAAAAAAAAAAAA1gQAAAAAAADXBAAAAAAAAAAAAADXBAAAAAAAANgEAAAAAAAAAAAAANgEAAAAAAAA2QQAAAAAAAAAAAAA2QQAAAAAAADaBAAAAAAAAAAAAADaBAAAAAAAANsEAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA1QQAAAAAAADVBAAAAAAAAAAAAAAAAPC/"
				],
				[
					72,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAANsEAAAAAAAA3AQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA2wQAAAAAAADbBAAAAAAAAAAAAAAAAPC/"
				],
				[
					73,
					1,
					"insert_snippet",
					{
						"contents": "{$0}"
					},
					"AQAAANwEAAAAAAAA3gQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA3AQAAAAAAADcBAAAAAAAAAAAAAAAAPC/"
				],
				[
					74,
					1,
					"insert_snippet",
					{
						"contents": "[$0]"
					},
					"AQAAAN0EAAAAAAAA3wQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA3QQAAAAAAADdBAAAAAAAAAAAAAAAAPC/"
				],
				[
					76,
					1,
					"insert_snippet",
					{
						"contents": "($0)"
					},
					"AQAAAN8EAAAAAAAA4QQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA3wQAAAAAAADfBAAAAAAAAAAAAAAAAPC/"
				],
				[
					78,
					1,
					"insert_snippet",
					{
						"contents": "{$0}"
					},
					"AQAAAOEEAAAAAAAA4wQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA4QQAAAAAAADhBAAAAAAAAAAAAAAAAPC/"
				],
				[
					79,
					1,
					"insert",
					{
						"characters": " retu"
					},
					"BQAAAOIEAAAAAAAA4wQAAAAAAAAAAAAA4wQAAAAAAADkBAAAAAAAAAAAAADkBAAAAAAAAOUEAAAAAAAAAAAAAOUEAAAAAAAA5gQAAAAAAAAAAAAA5gQAAAAAAADnBAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA4gQAAAAAAADiBAAAAAAAAAAAAAAAAPC/"
				],
				[
					80,
					1,
					"left_delete",
					null,
					"AQAAAOYEAAAAAAAA5gQAAAAAAAABAAAAdQ",
					"AQAAAAAAAAABAAAA5wQAAAAAAADnBAAAAAAAAAAAAAAAAPC/"
				],
				[
					81,
					1,
					"insert",
					{
						"characters": "run"
					},
					"AwAAAOYEAAAAAAAA5wQAAAAAAAAAAAAA5wQAAAAAAADoBAAAAAAAAAAAAADoBAAAAAAAAOkEAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA5gQAAAAAAADmBAAAAAAAAAAAAAAAAPC/"
				],
				[
					82,
					3,
					"left_delete",
					null,
					"AwAAAOgEAAAAAAAA6AQAAAAAAAABAAAAbucEAAAAAAAA5wQAAAAAAAABAAAAdeYEAAAAAAAA5gQAAAAAAAABAAAAcg",
					"AQAAAAAAAAABAAAA6QQAAAAAAADpBAAAAAAAAAAAAAAAAPC/"
				],
				[
					83,
					1,
					"insert",
					{
						"characters": "turn"
					},
					"BAAAAOYEAAAAAAAA5wQAAAAAAAAAAAAA5wQAAAAAAADoBAAAAAAAAAAAAADoBAAAAAAAAOkEAAAAAAAAAAAAAOkEAAAAAAAA6gQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA5gQAAAAAAADmBAAAAAAAAAAAAAAAAPC/"
				],
				[
					84,
					3,
					"left_delete",
					null,
					"AwAAAOkEAAAAAAAA6QQAAAAAAAABAAAAbugEAAAAAAAA6AQAAAAAAAABAAAAcucEAAAAAAAA5wQAAAAAAAABAAAAdQ",
					"AQAAAAAAAAABAAAA6gQAAAAAAADqBAAAAAAAAAAAAAAAAPC/"
				],
				[
					87,
					1,
					"insert",
					{
						"characters": "\n\n"
					},
					"AgAAAHkEAAAAAAAAegQAAAAAAAAAAAAAegQAAAAAAAB7BAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAeQQAAAAAAAB5BAAAAAAAAAAAAAAAAPC/"
				],
				[
					89,
					1,
					"insert",
					{
						"characters": "constexp"
					},
					"CAAAAHoEAAAAAAAAewQAAAAAAAAAAAAAewQAAAAAAAB8BAAAAAAAAAAAAAB8BAAAAAAAAH0EAAAAAAAAAAAAAH0EAAAAAAAAfgQAAAAAAAAAAAAAfgQAAAAAAAB/BAAAAAAAAAAAAAB/BAAAAAAAAIAEAAAAAAAAAAAAAIAEAAAAAAAAgQQAAAAAAAAAAAAAgQQAAAAAAACCBAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAegQAAAAAAAB6BAAAAAAAAAAAAAAAAAAA"
				],
				[
					90,
					1,
					"insert",
					{
						"characters": "r"
					},
					"AQAAAIIEAAAAAAAAgwQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAggQAAAAAAACCBAAAAAAAAAAAAAAAAPC/"
				],
				[
					91,
					1,
					"insert",
					{
						"characters": " auto"
					},
					"BQAAAIMEAAAAAAAAhAQAAAAAAAAAAAAAhAQAAAAAAACFBAAAAAAAAAAAAACFBAAAAAAAAIYEAAAAAAAAAAAAAIYEAAAAAAAAhwQAAAAAAAAAAAAAhwQAAAAAAACIBAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAgwQAAAAAAACDBAAAAAAAAAAAAAAAAPC/"
				],
				[
					92,
					1,
					"insert",
					{
						"characters": " fill_same_he"
					},
					"DQAAAIgEAAAAAAAAiQQAAAAAAAAAAAAAiQQAAAAAAACKBAAAAAAAAAAAAACKBAAAAAAAAIsEAAAAAAAAAAAAAIsEAAAAAAAAjAQAAAAAAAAAAAAAjAQAAAAAAACNBAAAAAAAAAAAAACNBAAAAAAAAI4EAAAAAAAAAAAAAI4EAAAAAAAAjwQAAAAAAAAAAAAAjwQAAAAAAACQBAAAAAAAAAAAAACQBAAAAAAAAJEEAAAAAAAAAAAAAJEEAAAAAAAAkgQAAAAAAAAAAAAAkgQAAAAAAACTBAAAAAAAAAAAAACTBAAAAAAAAJQEAAAAAAAAAAAAAJQEAAAAAAAAlQQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAiAQAAAAAAACIBAAAAAAAAAAAAAAAAPC/"
				],
				[
					93,
					1,
					"insert",
					{
						"characters": "lper"
					},
					"BAAAAJUEAAAAAAAAlgQAAAAAAAAAAAAAlgQAAAAAAACXBAAAAAAAAAAAAACXBAAAAAAAAJgEAAAAAAAAAAAAAJgEAAAAAAAAmQQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAlQQAAAAAAACVBAAAAAAAAAAAAAAAAPC/"
				],
				[
					94,
					1,
					"insert_snippet",
					{
						"contents": "($0)"
					},
					"AQAAAJkEAAAAAAAAmwQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAmQQAAAAAAACZBAAAAAAAAAAAAAAAAPC/"
				],
				[
					100,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AQAAAHkEAAAAAAAAegQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAeQQAAAAAAAB5BAAAAAAAAAAAAAAAAPC/"
				],
				[
					101,
					1,
					"paste",
					null,
					"AQAAAHoEAAAAAAAAkgQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAegQAAAAAAAB6BAAAAAAAAAAAAAAAAPC/"
				],
				[
					102,
					1,
					"insert",
					{
						"characters": " size_t"
					},
					"BwAAAJIEAAAAAAAAkwQAAAAAAAAAAAAAkwQAAAAAAACUBAAAAAAAAAAAAACUBAAAAAAAAJUEAAAAAAAAAAAAAJUEAAAAAAAAlgQAAAAAAAAAAAAAlgQAAAAAAACXBAAAAAAAAAAAAACXBAAAAAAAAJgEAAAAAAAAAAAAAJgEAAAAAAAAmQQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAkgQAAAAAAACSBAAAAAAAAAAAAAAAAPC/"
				],
				[
					103,
					1,
					"insert",
					{
						"characters": " N>"
					},
					"AwAAAJkEAAAAAAAAmgQAAAAAAAAAAAAAmgQAAAAAAACbBAAAAAAAAAAAAACbBAAAAAAAAJwEAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAmQQAAAAAAACZBAAAAAAAAAAAAAAAAPC/"
				],
				[
					111,
					1,
					"paste",
					null,
					"AQAAAL0EAAAAAAAAwgQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAvQQAAAAAAAC9BAAAAAAAAAAAAAAAAPC/"
				],
				[
					112,
					1,
					"insert",
					{
						"characters": " value"
					},
					"BgAAAMIEAAAAAAAAwwQAAAAAAAAAAAAAwwQAAAAAAADEBAAAAAAAAAAAAADEBAAAAAAAAMUEAAAAAAAAAAAAAMUEAAAAAAAAxgQAAAAAAAAAAAAAxgQAAAAAAADHBAAAAAAAAAAAAADHBAAAAAAAAMgEAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAwgQAAAAAAADCBAAAAAAAAAAAAAAAAPC/"
				],
				[
					114,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAMkEAAAAAAAAygQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAyQQAAAAAAADJBAAAAAAAAAAAAAAAAPC/"
				],
				[
					115,
					1,
					"insert_snippet",
					{
						"contents": "{$0}"
					},
					"AQAAAMoEAAAAAAAAzAQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAygQAAAAAAADKBAAAAAAAAAAAAAAAAPC/"
				],
				[
					116,
					1,
					"run_macro_file",
					{
						"file": "res://Packages/Default/Add Line in Braces.sublime-macro"
					},
					"AwAAAMsEAAAAAAAAzAQAAAAAAAAAAAAAzAQAAAAAAADNBAAAAAAAAAAAAADMBAAAAAAAAM0EAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAywQAAAAAAADLBAAAAAAAAAAAAAAAAPC/"
				],
				[
					117,
					1,
					"insert",
					{
						"characters": "return"
					},
					"BgAAAM0EAAAAAAAAzgQAAAAAAAAAAAAAzgQAAAAAAADPBAAAAAAAAAAAAADPBAAAAAAAANAEAAAAAAAAAAAAANAEAAAAAAAA0QQAAAAAAAAAAAAA0QQAAAAAAADSBAAAAAAAAAAAAADSBAAAAAAAANMEAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAzQQAAAAAAADNBAAAAAAAAAAAAAAAAPC/"
				],
				[
					118,
					1,
					"insert",
					{
						"characters": " value;"
					},
					"BwAAANMEAAAAAAAA1AQAAAAAAAAAAAAA1AQAAAAAAADVBAAAAAAAAAAAAADVBAAAAAAAANYEAAAAAAAAAAAAANYEAAAAAAAA1wQAAAAAAAAAAAAA1wQAAAAAAADYBAAAAAAAAAAAAADYBAAAAAAAANkEAAAAAAAAAAAAANkEAAAAAAAA2gQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA0wQAAAAAAADTBAAAAAAAAAAAAAAAAPC/"
				],
				[
					122,
					2,
					"left_delete",
					null,
					"AgAAAEIFAAAAAAAAQgUAAAAAAAAKAAAAXSgpeyByZXR0fUEFAAAAAAAAQQUAAAAAAAABAAAAWw",
					"AQAAAAAAAAABAAAATAUAAAAAAABCBQAAAAAAAAAAAAAAAPC/"
				],
				[
					123,
					1,
					"insert_snippet",
					{
						"contents": "{$0}"
					},
					"AQAAAEEFAAAAAAAAQwUAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAQQUAAAAAAABBBQAAAAAAAAAAAAAAAPC/"
				],
				[
					133,
					1,
					"paste",
					null,
					"AQAAAEIFAAAAAAAAUgUAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAQgUAAAAAAABCBQAAAAAAAAAAAAAAAPC/"
				],
				[
					134,
					1,
					"insert",
					{
						"characters": "<>"
					},
					"AgAAAFIFAAAAAAAAUwUAAAAAAAAAAAAAUwUAAAAAAABUBQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAUgUAAAAAAABSBQAAAAAAAAAAAAAAAPC/"
				],
				[
					136,
					1,
					"insert",
					{
						"characters": "Indexes..."
					},
					"CgAAAFMFAAAAAAAAVAUAAAAAAAAAAAAAVAUAAAAAAABVBQAAAAAAAAAAAABVBQAAAAAAAFYFAAAAAAAAAAAAAFYFAAAAAAAAVwUAAAAAAAAAAAAAVwUAAAAAAABYBQAAAAAAAAAAAABYBQAAAAAAAFkFAAAAAAAAAAAAAFkFAAAAAAAAWgUAAAAAAAAAAAAAWgUAAAAAAABbBQAAAAAAAAAAAABbBQAAAAAAAFwFAAAAAAAAAAAAAFwFAAAAAAAAXQUAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAUwUAAAAAAABTBQAAAAAAAAAAAAAAAPC/"
				],
				[
					138,
					1,
					"insert_snippet",
					{
						"contents": "($0)"
					},
					"AQAAAF4FAAAAAAAAYAUAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAXgUAAAAAAABeBQAAAAAAAAAAAAAAAPC/"
				],
				[
					139,
					1,
					"insert",
					{
						"characters": "value"
					},
					"BQAAAF8FAAAAAAAAYAUAAAAAAAAAAAAAYAUAAAAAAABhBQAAAAAAAAAAAABhBQAAAAAAAGIFAAAAAAAAAAAAAGIFAAAAAAAAYwUAAAAAAAAAAAAAYwUAAAAAAABkBQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAXwUAAAAAAABfBQAAAAAAAAAAAAAAAPC/"
				],
				[
					141,
					1,
					"insert",
					{
						"characters": ";"
					},
					"AQAAAGUFAAAAAAAAZgUAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAZQUAAAAAAABlBQAAAAAAAAAAAAAAAPC/"
				],
				[
					142,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAGYFAAAAAAAAZwUAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAZgUAAAAAAABmBQAAAAAAAAAAAAAAAPC/"
				],
				[
					145,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAEMFAAAAAAAARAUAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAQwUAAAAAAABDBQAAAAAAAAAAAAAAAPC/"
				],
				[
					146,
					1,
					"left_delete",
					null,
					"AQAAAEMFAAAAAAAAQwUAAAAAAAABAAAAIA",
					"AQAAAAAAAAABAAAARAUAAAAAAABEBQAAAAAAAAAAAAAAAPC/"
				],
				[
					148,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAEIFAAAAAAAAQwUAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAQgUAAAAAAABCBQAAAAAAAAAAAAAAAPC/"
				],
				[
					157,
					1,
					"paste",
					null,
					"AgAAAD8IAAAAAAAASAgAAAAAAAAAAAAASAgAAAAAAABICAAAAAAAAAEAAAB7",
					"AQAAAAAAAAABAAAAPwgAAAAAAABACAAAAAAAAAAAAAAAAPC/"
				],
				[
					158,
					1,
					"insert",
					{
						"characters": "("
					},
					"AQAAAEgIAAAAAAAASQgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAASAgAAAAAAABICAAAAAAAAAAAAAAAAPC/"
				],
				[
					161,
					1,
					"left_delete",
					null,
					"AQAAAF8IAAAAAAAAXwgAAAAAAAABAAAAfQ",
					"AQAAAAAAAAABAAAAYAgAAAAAAABgCAAAAAAAAAAAAAAAAPC/"
				],
				[
					162,
					1,
					"insert",
					{
						"characters": ")"
					},
					"AQAAAF8IAAAAAAAAYAgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAXwgAAAAAAABfCAAAAAAAAAAAAAAAAPC/"
				],
				[
					165,
					1,
					"cut",
					null,
					"AQAAAPcEAAAAAAAA9wQAAAAAAAARAAAAc2l6ZV90Li4uIEluZGV4ZXM",
					"AQAAAAAAAAABAAAACAUAAAAAAAD3BAAAAAAAAAAAAAAAAPC/"
				],
				[
					168,
					1,
					"paste",
					null,
					"AgAAAJMEAAAAAAAApAQAAAAAAAAAAAAApAQAAAAAAACkBAAAAAAAAAgAAABzaXplX3QgTg",
					"AQAAAAAAAAABAAAAmwQAAAAAAACTBAAAAAAAAAAAAAAAAPC/"
				],
				[
					171,
					1,
					"insert",
					{
						"characters": "size_t"
					},
					"BgAAAAAFAAAAAAAAAQUAAAAAAAAAAAAAAQUAAAAAAAACBQAAAAAAAAAAAAACBQAAAAAAAAMFAAAAAAAAAAAAAAMFAAAAAAAABAUAAAAAAAAAAAAABAUAAAAAAAAFBQAAAAAAAAAAAAAFBQAAAAAAAAYFAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAAAUAAAAAAAAABQAAAAAAAAAAAAAAAPC/"
				],
				[
					172,
					1,
					"insert",
					{
						"characters": " N"
					},
					"AgAAAAYFAAAAAAAABwUAAAAAAAAAAAAABwUAAAAAAAAIBQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAABgUAAAAAAAAGBQAAAAAAAAAAAAAAAPC/"
				],
				[
					177,
					1,
					"left_delete",
					null,
					"AQAAACMFAAAAAAAAIwUAAAAAAAARAAAAc2l6ZV90Li4uIEluZGV4ZXM",
					"AQAAAAAAAAABAAAANAUAAAAAAAAjBQAAAAAAAAAAAAAAAPC/"
				],
				[
					178,
					1,
					"insert",
					{
						"characters": "Value"
					},
					"BQAAACMFAAAAAAAAJAUAAAAAAAAAAAAAJAUAAAAAAAAlBQAAAAAAAAAAAAAlBQAAAAAAACYFAAAAAAAAAAAAACYFAAAAAAAAJwUAAAAAAAAAAAAAJwUAAAAAAAAoBQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAIwUAAAAAAAAjBQAAAAAAAAAAAAAAAPC/"
				],
				[
					179,
					1,
					"insert",
					{
						"characters": " value"
					},
					"BgAAACgFAAAAAAAAKQUAAAAAAAAAAAAAKQUAAAAAAAAqBQAAAAAAAAAAAAAqBQAAAAAAACsFAAAAAAAAAAAAACsFAAAAAAAALAUAAAAAAAAAAAAALAUAAAAAAAAtBQAAAAAAAAAAAAAtBQAAAAAAAC4FAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAKAUAAAAAAAAoBQAAAAAAAAAAAAAAAPC/"
				],
				[
					182,
					1,
					"paste",
					null,
					"AgAAAE4FAAAAAAAAcgUAAAAAAAAAAAAAcgUAAAAAAAByBQAAAAAAAAcAAABJbmRleGVz",
					"AQAAAAAAAAABAAAATgUAAAAAAABVBQAAAAAAAAAAAAAAAPC/"
				],
				[
					185,
					3,
					"left_delete",
					null,
					"AwAAADwFAAAAAAAAPAUAAAAAAAABAAAAIDsFAAAAAAAAOwUAAAAAAAABAAAAezoFAAAAAAAAOgUAAAAAAAABAAAAew",
					"AQAAAAAAAAABAAAAPQUAAAAAAAA9BQAAAAAAAAAAAAAAAPC/"
				],
				[
					188,
					3,
					"left_delete",
					null,
					"AwAAAH0FAAAAAAAAfQUAAAAAAAABAAAAfXwFAAAAAAAAfAUAAAAAAAABAAAAfXsFAAAAAAAAewUAAAAAAAABAAAAIA",
					"AQAAAAAAAAABAAAAfgUAAAAAAAB+BQAAAAAAAAAAAAAAAPC/"
				],
				[
					194,
					1,
					"insert",
					{
						"characters": "N"
					},
					"AgAAAGQFAAAAAAAAZQUAAAAAAAAAAAAAZQUAAAAAAABlBQAAAAAAAAgAAABOdW1QbG90cw",
					"AQAAAAAAAAABAAAAZAUAAAAAAABsBQAAAAAAAAAAAAAAAPC/"
				],
				[
					203,
					1,
					"insert",
					{
						"characters": ","
					},
					"AQAAANEEAAAAAAAA0gQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA0QQAAAAAAADRBAAAAAAAAAAAAAAAAPC/"
				],
				[
					204,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAANIEAAAAAAAA0wQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA0gQAAAAAAADSBAAAAAAAAAAAAAAAAPC/"
				],
				[
					205,
					1,
					"paste",
					null,
					"AQAAANMEAAAAAAAA5AQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA0wQAAAAAAADTBAAAAAAAAAAAAAAAAPC/"
				],
				[
					215,
					1,
					"cut",
					null,
					"AQAAAF8FAAAAAAAAXwUAAAAAAAAfAAAAdGQ6Om1ha2VfaW5kZXhfc2VxdWVuY2U8Tj57fS4uLg",
					"AQAAAAAAAAABAAAAXwUAAAAAAAB+BQAAAAAAAAAAAAAAAPC/"
				],
				[
					216,
					1,
					"left_delete",
					null,
					"AQAAAF4FAAAAAAAAXgUAAAAAAAABAAAAcw",
					"AQAAAAAAAAABAAAAXwUAAAAAAABfBQAAAAAAAAAAAAAAAPC/"
				],
				[
					218,
					2,
					"left_delete",
					null,
					"AgAAAF4FAAAAAAAAXgUAAAAAAAABAAAAPl0FAAAAAAAAXQUAAAAAAAABAAAAPA",
					"AQAAAAAAAAABAAAAXwUAAAAAAABfBQAAAAAAAAAAAAAAAPC/"
				],
				[
					220,
					1,
					"insert",
					{
						"characters": ","
					},
					"AQAAAGMFAAAAAAAAZAUAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAYwUAAAAAAABjBQAAAAAAAAAAAAAAAPC/"
				],
				[
					221,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAGQFAAAAAAAAZQUAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAZAUAAAAAAABkBQAAAAAAAAAAAAAAAPC/"
				],
				[
					222,
					1,
					"paste",
					null,
					"AQAAAGUFAAAAAAAAhAUAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAZQUAAAAAAABlBQAAAAAAAAAAAAAAAPC/"
				],
				[
					227,
					3,
					"left_delete",
					null,
					"AwAAAJsEAAAAAAAAmwQAAAAAAAABAAAALpoEAAAAAAAAmgQAAAAAAAABAAAALpkEAAAAAAAAmQQAAAAAAAABAAAALg",
					"AQAAAAAAAAABAAAAnAQAAAAAAACcBAAAAAAAAAAAAAAAAPC/"
				],
				[
					230,
					3,
					"left_delete",
					null,
					"AwAAANgEAAAAAAAA2AQAAAAAAAABAAAALtcEAAAAAAAA1wQAAAAAAAABAAAALtYEAAAAAAAA1gQAAAAAAAABAAAALg",
					"AQAAAAAAAAABAAAA2QQAAAAAAADZBAAAAAAAAAAAAAAAAPC/"
				],
				[
					235,
					1,
					"insert",
					{
						"characters": "Index"
					},
					"BgAAAJoEAAAAAAAAmwQAAAAAAAAAAAAAmwQAAAAAAACbBAAAAAAAAAcAAABJbmRleGVzmwQAAAAAAACcBAAAAAAAAAAAAACcBAAAAAAAAJ0EAAAAAAAAAAAAAJ0EAAAAAAAAngQAAAAAAAAAAAAAngQAAAAAAACfBAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAmgQAAAAAAAChBAAAAAAAAAAAAAAAAPC/"
				],
				[
					247,
					1,
					"paste",
					null,
					"AgAAANUEAAAAAAAA2gQAAAAAAAAAAAAA2gQAAAAAAADaBAAAAAAAAAcAAABJbmRleGVz",
					"AQAAAAAAAAABAAAA1QQAAAAAAADcBAAAAAAAAAAAAAAAAPC/"
				],
				[
					251,
					1,
					"cut",
					null,
					"AQAAAFsFAAAAAAAAWwUAAAAAAAAfAAAAdGQ6Om1ha2VfaW5kZXhfc2VxdWVuY2U8Tj57fS4uLg",
					"AQAAAAAAAAABAAAAWwUAAAAAAAB6BQAAAAAAAAAAAAAAAPC/"
				],
				[
					252,
					2,
					"left_delete",
					null,
					"AgAAAFoFAAAAAAAAWgUAAAAAAAABAAAAIFkFAAAAAAAAWQUAAAAAAAABAAAALA",
					"AQAAAAAAAAABAAAAWwUAAAAAAABbBQAAAAAAAAAAAAAAAPC/"
				],
				[
					255,
					1,
					"insert",
					{
						"characters": "<"
					},
					"AQAAAFMFAAAAAAAAVAUAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAUwUAAAAAAABTBQAAAAAAAAAAAAAAAPC/"
				],
				[
					256,
					1,
					"paste",
					null,
					"AQAAAFQFAAAAAAAAcwUAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAVAUAAAAAAABUBQAAAAAAAAAAAAAAAPC/"
				],
				[
					257,
					1,
					"insert",
					{
						"characters": ">"
					},
					"AQAAAHMFAAAAAAAAdAUAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAcwUAAAAAAABzBQAAAAAAAAAAAAAAAPC/"
				],
				[
					260,
					1,
					"insert",
					{
						"characters": "{{"
					},
					"AgAAAEMFAAAAAAAARAUAAAAAAAAAAAAARAUAAAAAAABFBQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAQwUAAAAAAABDBQAAAAAAAAAAAAAAAPC/"
				],
				[
					263,
					1,
					"insert",
					{
						"characters": " }}"
					},
					"AwAAAH0FAAAAAAAAfgUAAAAAAAAAAAAAfgUAAAAAAAB/BQAAAAAAAAAAAAB/BQAAAAAAAIAFAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAfQUAAAAAAAB9BQAAAAAAAAAAAAAAAPC/"
				],
				[
					265,
					3,
					"left_delete",
					null,
					"AwAAAH8FAAAAAAAAfwUAAAAAAAABAAAAfX4FAAAAAAAAfgUAAAAAAAABAAAAfX0FAAAAAAAAfQUAAAAAAAABAAAAIA",
					"AQAAAAAAAAABAAAAgAUAAAAAAACABQAAAAAAAAAAAAAAAPC/"
				],
				[
					268,
					2,
					"left_delete",
					null,
					"AgAAAEQFAAAAAAAARAUAAAAAAAABAAAAe0MFAAAAAAAAQwUAAAAAAAABAAAAew",
					"AQAAAAAAAAABAAAARQUAAAAAAABFBQAAAAAAAAAAAAAAAPC/"
				],
				[
					276,
					1,
					"insert",
					{
						"characters": "..."
					},
					"AwAAAJkEAAAAAAAAmgQAAAAAAAAAAAAAmgQAAAAAAACbBAAAAAAAAAAAAACbBAAAAAAAAJwEAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAmQQAAAAAAACZBAAAAAAAAAAAAAAAAPC/"
				],
				[
					282,
					1,
					"insert",
					{
						"characters": "..."
					},
					"AwAAANcEAAAAAAAA2AQAAAAAAAAAAAAA2AQAAAAAAADZBAAAAAAAAAAAAADZBAAAAAAAANoEAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA1wQAAAAAAADXBAAAAAAAAAAAAAAAAPC/"
				],
				[
					286,
					1,
					"insert",
					{
						"characters": "es"
					},
					"AgAAAKIEAAAAAAAAowQAAAAAAAAAAAAAowQAAAAAAACkBAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAogQAAAAAAACiBAAAAAAAAAAAAAAAAPC/"
				],
				[
					296,
					1,
					"paste",
					null,
					"AgAAAN0EAAAAAAAA5AQAAAAAAAAAAAAA5AQAAAAAAADkBAAAAAAAAAUAAABJbmRleA",
					"AQAAAAAAAAABAAAA3QQAAAAAAADiBAAAAAAAAAAAAAAAAPC/"
				],
				[
					300,
					1,
					"cut",
					null,
					"AQAAAF4FAAAAAAAAXgUAAAAAAAAfAAAAdGQ6Om1ha2VfaW5kZXhfc2VxdWVuY2U8Tj57fS4uLg",
					"AQAAAAAAAAABAAAAfQUAAAAAAABeBQAAAAAAAAAAAAAAAPC/"
				],
				[
					302,
					2,
					"left_delete",
					null,
					"AgAAAF4FAAAAAAAAXgUAAAAAAAABAAAAPl0FAAAAAAAAXQUAAAAAAAABAAAAPA",
					"AQAAAAAAAAABAAAAXwUAAAAAAABfBQAAAAAAAAAAAAAAAPC/"
				],
				[
					304,
					1,
					"insert",
					{
						"characters": ","
					},
					"AQAAAGMFAAAAAAAAZAUAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAYwUAAAAAAABjBQAAAAAAAAAAAAAAAPC/"
				],
				[
					305,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAGQFAAAAAAAAZQUAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAZAUAAAAAAABkBQAAAAAAAAAAAAAAAPC/"
				],
				[
					306,
					1,
					"paste",
					null,
					"AQAAAGUFAAAAAAAAhAUAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAZQUAAAAAAABlBQAAAAAAAAAAAAAAAPC/"
				],
				[
					323,
					1,
					"insert",
					{
						"characters": "{{"
					},
					"AgAAAPAEAAAAAAAA8QQAAAAAAAAAAAAA8QQAAAAAAADyBAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA8AQAAAAAAADwBAAAAAAAAAAAAAAAAPC/"
				],
				[
					325,
					1,
					"insert",
					{
						"characters": "}}"
					},
					"AgAAAPcEAAAAAAAA+AQAAAAAAAAAAAAA+AQAAAAAAAD5BAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA9wQAAAAAAAD3BAAAAAAAAAAAAAAAAPC/"
				],
				[
					327,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAPgEAAAAAAAA+QQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA+AQAAAAAAAD4BAAAAAAAAAAAAAAAAPC/"
				],
				[
					328,
					1,
					"left_delete",
					null,
					"AQAAAPgEAAAAAAAA+AQAAAAAAAABAAAAIA",
					"AQAAAAAAAAABAAAA+QQAAAAAAAD5BAAAAAAAAAAAAAAAAPC/"
				],
				[
					330,
					1,
					"insert",
					{
						"characters": "..."
					},
					"AwAAAPcEAAAAAAAA+AQAAAAAAAAAAAAA+AQAAAAAAAD5BAAAAAAAAAAAAAD5BAAAAAAAAPoEAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA9wQAAAAAAAD3BAAAAAAAAAAAAAAAAPC/"
				],
				[
					335,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AQAAAHkEAAAAAAAAegQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAeQQAAAAAAAB5BAAAAAAAAAAAAAAAAPC/"
				],
				[
					337,
					1,
					"insert",
					{
						"characters": "constesxp"
					},
					"CQAAAHkEAAAAAAAAegQAAAAAAAAAAAAAegQAAAAAAAB7BAAAAAAAAAAAAAB7BAAAAAAAAHwEAAAAAAAAAAAAAHwEAAAAAAAAfQQAAAAAAAAAAAAAfQQAAAAAAAB+BAAAAAAAAAAAAAB+BAAAAAAAAH8EAAAAAAAAAAAAAH8EAAAAAAAAgAQAAAAAAAAAAAAAgAQAAAAAAACBBAAAAAAAAAAAAACBBAAAAAAAAIIEAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAeQQAAAAAAAB5BAAAAAAAAAAAAAAAAAAA"
				],
				[
					338,
					4,
					"left_delete",
					null,
					"BAAAAIEEAAAAAAAAgQQAAAAAAAABAAAAcIAEAAAAAAAAgAQAAAAAAAABAAAAeH8EAAAAAAAAfwQAAAAAAAABAAAAc34EAAAAAAAAfgQAAAAAAAABAAAAZQ",
					"AQAAAAAAAAABAAAAggQAAAAAAACCBAAAAAAAAAAAAAAAAPC/"
				],
				[
					339,
					1,
					"insert",
					{
						"characters": "expr"
					},
					"BAAAAH4EAAAAAAAAfwQAAAAAAAAAAAAAfwQAAAAAAACABAAAAAAAAAAAAACABAAAAAAAAIEEAAAAAAAAAAAAAIEEAAAAAAAAggQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAfgQAAAAAAAB+BAAAAAAAAAAAAAAAAPC/"
				],
				[
					340,
					1,
					"insert",
					{
						"characters": " auto"
					},
					"BQAAAIIEAAAAAAAAgwQAAAAAAAAAAAAAgwQAAAAAAACEBAAAAAAAAAAAAACEBAAAAAAAAIUEAAAAAAAAAAAAAIUEAAAAAAAAhgQAAAAAAAAAAAAAhgQAAAAAAACHBAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAggQAAAAAAACCBAAAAAAAAAAAAAAAAPC/"
				],
				[
					341,
					1,
					"insert",
					{
						"characters": " unpac"
					},
					"BgAAAIcEAAAAAAAAiAQAAAAAAAAAAAAAiAQAAAAAAACJBAAAAAAAAAAAAACJBAAAAAAAAIoEAAAAAAAAAAAAAIoEAAAAAAAAiwQAAAAAAAAAAAAAiwQAAAAAAACMBAAAAAAAAAAAAACMBAAAAAAAAI0EAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAhwQAAAAAAACHBAAAAAAAAAAAAAAAAPC/"
				],
				[
					342,
					1,
					"insert",
					{
						"characters": "k_"
					},
					"AgAAAI0EAAAAAAAAjgQAAAAAAAAAAAAAjgQAAAAAAACPBAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAjQQAAAAAAACNBAAAAAAAAAAAAAAAAPC/"
				],
				[
					343,
					7,
					"left_delete",
					null,
					"BwAAAI4EAAAAAAAAjgQAAAAAAAABAAAAX40EAAAAAAAAjQQAAAAAAAABAAAAa4wEAAAAAAAAjAQAAAAAAAABAAAAY4sEAAAAAAAAiwQAAAAAAAABAAAAYYoEAAAAAAAAigQAAAAAAAABAAAAcIkEAAAAAAAAiQQAAAAAAAABAAAAbogEAAAAAAAAiAQAAAAAAAABAAAAdQ",
					"AQAAAAAAAAABAAAAjwQAAAAAAACPBAAAAAAAAAAAAAAAAPC/"
				],
				[
					344,
					1,
					"insert",
					{
						"characters": "t"
					},
					"AQAAAIgEAAAAAAAAiQQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAiAQAAAAAAACIBAAAAAAAAAAAAAAAAPC/"
				],
				[
					345,
					1,
					"insert_snippet",
					{
						"contents": "($0)"
					},
					"AQAAAIkEAAAAAAAAiwQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAiQQAAAAAAACJBAAAAAAAAAAAAAAAAPC/"
				],
				[
					351,
					1,
					"insert",
					{
						"characters": "\n\n"
					},
					"AgAAAHgEAAAAAAAAeQQAAAAAAAAAAAAAeQQAAAAAAAB6BAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAeAQAAAAAAAB4BAAAAAAAAAAAAAAAAPC/"
				],
				[
					352,
					1,
					"paste",
					null,
					"AQAAAHoEAAAAAAAApgQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAegQAAAAAAAB6BAAAAAAAAAAAAAAAAPC/"
				],
				[
					355,
					4,
					"left_delete",
					null,
					"BAAAAJ0EAAAAAAAAnQQAAAAAAAABAAAAIJwEAAAAAAAAnAQAAAAAAAABAAAALpsEAAAAAAAAmwQAAAAAAAABAAAALpoEAAAAAAAAmgQAAAAAAAABAAAALg",
					"AQAAAAAAAAABAAAAngQAAAAAAACeBAAAAAAAAAAAAAAAAPC/"
				],
				[
					356,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAJoEAAAAAAAAmwQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAmgQAAAAAAACaBAAAAAAAAAAAAAAAAPC/"
				],
				[
					358,
					2,
					"left_delete",
					null,
					"AgAAAKEEAAAAAAAAoQQAAAAAAAABAAAAc6AEAAAAAAAAoAQAAAAAAAABAAAAZQ",
					"AQAAAAAAAAABAAAAogQAAAAAAACiBAAAAAAAAAAAAAAAAPC/"
				],
				[
					361,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAALQEAAAAAAAAtQQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAtAQAAAAAAAC0BAAAAAAAAAAAAAAAAPC/"
				],
				[
					362,
					1,
					"insert_snippet",
					{
						"contents": "{$0}"
					},
					"AQAAALUEAAAAAAAAtwQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAtQQAAAAAAAC1BAAAAAAAAAAAAAAAAPC/"
				],
				[
					363,
					1,
					"run_macro_file",
					{
						"file": "res://Packages/Default/Add Line in Braces.sublime-macro"
					},
					"AwAAALYEAAAAAAAAtwQAAAAAAAAAAAAAtwQAAAAAAAC4BAAAAAAAAAAAAAC3BAAAAAAAALgEAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAtgQAAAAAAAC2BAAAAAAAAAAAAAAAAPC/"
				],
				[
					366,
					1,
					"insert",
					{
						"characters": "Value"
					},
					"BgAAALMEAAAAAAAAtAQAAAAAAAAAAAAAuAQAAAAAAAC4BAAAAAAAAAEAAAAJtAQAAAAAAAC1BAAAAAAAAAAAAAC1BAAAAAAAALYEAAAAAAAAAAAAALYEAAAAAAAAtwQAAAAAAAAAAAAAtwQAAAAAAAC4BAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAswQAAAAAAACzBAAAAAAAAAAAAAAAAPC/"
				],
				[
					367,
					1,
					"insert",
					{
						"characters": " value"
					},
					"BgAAALgEAAAAAAAAuQQAAAAAAAAAAAAAuQQAAAAAAAC6BAAAAAAAAAAAAAC6BAAAAAAAALsEAAAAAAAAAAAAALsEAAAAAAAAvAQAAAAAAAAAAAAAvAQAAAAAAAC9BAAAAAAAAAAAAAC9BAAAAAAAAL4EAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAuAQAAAAAAAC4BAAAAAAAAAAAAAAAAPC/"
				],
				[
					371,
					1,
					"reindent",
					null,
					"AQAAAMIEAAAAAAAAwwQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAwgQAAAAAAADCBAAAAAAAAAAAAAAAAPC/"
				],
				[
					372,
					1,
					"insert",
					{
						"characters": "return"
					},
					"BgAAAMMEAAAAAAAAxAQAAAAAAAAAAAAAxAQAAAAAAADFBAAAAAAAAAAAAADFBAAAAAAAAMYEAAAAAAAAAAAAAMYEAAAAAAAAxwQAAAAAAAAAAAAAxwQAAAAAAADIBAAAAAAAAAAAAADIBAAAAAAAAMkEAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAwwQAAAAAAADDBAAAAAAAAAAAAAAAAPC/"
				],
				[
					373,
					1,
					"insert",
					{
						"characters": " value;"
					},
					"BwAAAMkEAAAAAAAAygQAAAAAAAAAAAAAygQAAAAAAADLBAAAAAAAAAAAAADLBAAAAAAAAMwEAAAAAAAAAAAAAMwEAAAAAAAAzQQAAAAAAAAAAAAAzQQAAAAAAADOBAAAAAAAAAAAAADOBAAAAAAAAM8EAAAAAAAAAAAAAM8EAAAAAAAA0AQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAyQQAAAAAAADJBAAAAAAAAAAAAAAAAPC/"
				],
				[
					377,
					1,
					"insert",
					{
						"characters": "t<>"
					},
					"AwAAAEwFAAAAAAAATQUAAAAAAAAAAAAATQUAAAAAAABOBQAAAAAAAAAAAABOBQAAAAAAAE8FAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAATAUAAAAAAABMBQAAAAAAAAAAAAAAAPC/"
				],
				[
					379,
					1,
					"insert",
					{
						"characters": "Indexes"
					},
					"BwAAAE4FAAAAAAAATwUAAAAAAAAAAAAATwUAAAAAAABQBQAAAAAAAAAAAABQBQAAAAAAAFEFAAAAAAAAAAAAAFEFAAAAAAAAUgUAAAAAAAAAAAAAUgUAAAAAAABTBQAAAAAAAAAAAABTBQAAAAAAAFQFAAAAAAAAAAAAAFQFAAAAAAAAVQUAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAATgUAAAAAAABOBQAAAAAAAAAAAAAAAPC/"
				],
				[
					381,
					1,
					"insert",
					{
						"characters": "("
					},
					"AQAAAFYFAAAAAAAAVwUAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAVgUAAAAAAABWBQAAAAAAAAAAAAAAAPC/"
				],
				[
					383,
					1,
					"insert",
					{
						"characters": ")"
					},
					"AQAAAFwFAAAAAAAAXQUAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAXAUAAAAAAABcBQAAAAAAAAAAAAAAAPC/"
				],
				[
					387,
					1,
					"insert",
					{
						"characters": "<>"
					},
					"AgAAANEIAAAAAAAA0ggAAAAAAAAAAAAA0ggAAAAAAADTCAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA0QgAAAAAAADRCAAAAAAAAAAAAAAAAPC/"
				],
				[
					389,
					1,
					"insert",
					{
						"characters": "8"
					},
					"AQAAANIIAAAAAAAA0wgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA0ggAAAAAAADSCAAAAAAAAAAAAAAAAPC/"
				],
				[
					409,
					1,
					"left_delete",
					null,
					"AQAAAJ0IAAAAAAAAnQgAAAAAAAAWAAAAeyJDdXJyZW50IiwgIlZvbHRhZ2UifQ",
					"AQAAAAAAAAABAAAAnQgAAAAAAACzCAAAAAAAAAAAAAAAAPC/"
				],
				[
					410,
					1,
					"insert",
					{
						"characters": "{"
					},
					"AQAAAJ0IAAAAAAAAnggAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAnQgAAAAAAACdCAAAAAAAAAAAAAAAAPC/"
				],
				[
					411,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAJ4IAAAAAAAAnwgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAnggAAAAAAACeCAAAAAAAAAAAAAAAAPC/"
				],
				[
					412,
					1,
					"left_delete",
					null,
					"AQAAAJ4IAAAAAAAAnggAAAAAAAABAAAAIA",
					"AQAAAAAAAAABAAAAnwgAAAAAAACfCAAAAAAAAAAAAAAAAPC/"
				],
				[
					413,
					1,
					"insert",
					{
						"characters": "}"
					},
					"AQAAAJ4IAAAAAAAAnwgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAnggAAAAAAACeCAAAAAAAAAAAAAAAAPC/"
				],
				[
					415,
					1,
					"insert_snippet",
					{
						"contents": "\"$0\""
					},
					"AQAAAJ4IAAAAAAAAoAgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAnggAAAAAAACeCAAAAAAAAAAAAAAAAPC/"
				],
				[
					416,
					1,
					"insert",
					{
						"characters": "0"
					},
					"AQAAAJ8IAAAAAAAAoAgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAnwgAAAAAAACfCAAAAAAAAAAAAAAAAPC/"
				],
				[
					418,
					1,
					"insert",
					{
						"characters": ","
					},
					"AQAAAKEIAAAAAAAAoggAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAoQgAAAAAAAChCAAAAAAAAAAAAAAAAPC/"
				],
				[
					419,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAKIIAAAAAAAAowgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAoggAAAAAAACiCAAAAAAAAAAAAAAAAPC/"
				],
				[
					420,
					1,
					"insert_snippet",
					{
						"contents": "\"$0\""
					},
					"AQAAAKMIAAAAAAAApQgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAowgAAAAAAACjCAAAAAAAAAAAAAAAAPC/"
				],
				[
					421,
					1,
					"insert",
					{
						"characters": "1"
					},
					"AQAAAKQIAAAAAAAApQgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAApAgAAAAAAACkCAAAAAAAAAAAAAAAAPC/"
				],
				[
					423,
					1,
					"insert",
					{
						"characters": ","
					},
					"AQAAAKYIAAAAAAAApwgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAApggAAAAAAACmCAAAAAAAAAAAAAAAAPC/"
				],
				[
					424,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAKcIAAAAAAAAqAgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAApwgAAAAAAACnCAAAAAAAAAAAAAAAAPC/"
				],
				[
					425,
					1,
					"insert_snippet",
					{
						"contents": "\"$0\""
					},
					"AQAAAKgIAAAAAAAAqggAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAqAgAAAAAAACoCAAAAAAAAAAAAAAAAPC/"
				],
				[
					426,
					1,
					"insert",
					{
						"characters": "1"
					},
					"AQAAAKkIAAAAAAAAqggAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAqQgAAAAAAACpCAAAAAAAAAAAAAAAAPC/"
				],
				[
					427,
					1,
					"left_delete",
					null,
					"AQAAAKkIAAAAAAAAqQgAAAAAAAABAAAAMQ",
					"AQAAAAAAAAABAAAAqggAAAAAAACqCAAAAAAAAAAAAAAAAPC/"
				],
				[
					428,
					1,
					"insert",
					{
						"characters": "2"
					},
					"AQAAAKkIAAAAAAAAqggAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAqQgAAAAAAACpCAAAAAAAAAAAAAAAAPC/"
				],
				[
					430,
					1,
					"insert",
					{
						"characters": ","
					},
					"AQAAAKsIAAAAAAAArAgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAqwgAAAAAAACrCAAAAAAAAAAAAAAAAPC/"
				],
				[
					431,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAKwIAAAAAAAArQgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAArAgAAAAAAACsCAAAAAAAAAAAAAAAAPC/"
				],
				[
					432,
					1,
					"insert_snippet",
					{
						"contents": "\"$0\""
					},
					"AQAAAK0IAAAAAAAArwgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAArQgAAAAAAACtCAAAAAAAAAAAAAAAAPC/"
				],
				[
					433,
					1,
					"insert",
					{
						"characters": "3"
					},
					"AQAAAK4IAAAAAAAArwgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAArggAAAAAAACuCAAAAAAAAAAAAAAAAPC/"
				],
				[
					435,
					1,
					"insert",
					{
						"characters": ","
					},
					"AQAAALAIAAAAAAAAsQgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAsAgAAAAAAACwCAAAAAAAAAAAAAAAAPC/"
				],
				[
					436,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAALEIAAAAAAAAsggAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAsQgAAAAAAACxCAAAAAAAAAAAAAAAAPC/"
				],
				[
					437,
					1,
					"insert_snippet",
					{
						"contents": "\"$0\""
					},
					"AQAAALIIAAAAAAAAtAgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAsggAAAAAAACyCAAAAAAAAAAAAAAAAPC/"
				],
				[
					438,
					1,
					"insert",
					{
						"characters": "4"
					},
					"AQAAALMIAAAAAAAAtAgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAswgAAAAAAACzCAAAAAAAAAAAAAAAAPC/"
				],
				[
					440,
					1,
					"insert",
					{
						"characters": ","
					},
					"AQAAALUIAAAAAAAAtggAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAtQgAAAAAAAC1CAAAAAAAAAAAAAAAAPC/"
				],
				[
					441,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAALYIAAAAAAAAtwgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAtggAAAAAAAC2CAAAAAAAAAAAAAAAAPC/"
				],
				[
					442,
					1,
					"insert_snippet",
					{
						"contents": "\"$0\""
					},
					"AQAAALcIAAAAAAAAuQgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAtwgAAAAAAAC3CAAAAAAAAAAAAAAAAPC/"
				],
				[
					443,
					1,
					"insert",
					{
						"characters": "5"
					},
					"AQAAALgIAAAAAAAAuQgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAuAgAAAAAAAC4CAAAAAAAAAAAAAAAAPC/"
				],
				[
					445,
					1,
					"insert",
					{
						"characters": ","
					},
					"AQAAALoIAAAAAAAAuwgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAuggAAAAAAAC6CAAAAAAAAAAAAAAAAPC/"
				],
				[
					446,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAALsIAAAAAAAAvAgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAuwgAAAAAAAC7CAAAAAAAAAAAAAAAAPC/"
				],
				[
					447,
					1,
					"insert_snippet",
					{
						"contents": "\"$0\""
					},
					"AQAAALwIAAAAAAAAvggAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAvAgAAAAAAAC8CAAAAAAAAAAAAAAAAPC/"
				],
				[
					448,
					1,
					"insert",
					{
						"characters": "6"
					},
					"AQAAAL0IAAAAAAAAvggAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAvQgAAAAAAAC9CAAAAAAAAAAAAAAAAPC/"
				],
				[
					450,
					1,
					"insert",
					{
						"characters": ","
					},
					"AQAAAL8IAAAAAAAAwAgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAvwgAAAAAAAC/CAAAAAAAAAAAAAAAAPC/"
				],
				[
					451,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAMAIAAAAAAAAwQgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAwAgAAAAAAADACAAAAAAAAAAAAAAAAPC/"
				],
				[
					452,
					1,
					"insert_snippet",
					{
						"contents": "\"$0\""
					},
					"AQAAAMEIAAAAAAAAwwgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAwQgAAAAAAADBCAAAAAAAAAAAAAAAAPC/"
				],
				[
					453,
					1,
					"insert",
					{
						"characters": "8"
					},
					"AQAAAMIIAAAAAAAAwwgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAwggAAAAAAADCCAAAAAAAAAAAAAAAAPC/"
				],
				[
					457,
					1,
					"left_delete",
					null,
					"AQAAAMIIAAAAAAAAwggAAAAAAAABAAAAOA",
					"AQAAAAAAAAABAAAAwwgAAAAAAADDCAAAAAAAAAAAAAAAAPC/"
				],
				[
					458,
					1,
					"insert",
					{
						"characters": "7"
					},
					"AQAAAMIIAAAAAAAAwwgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAwggAAAAAAADCCAAAAAAAAAAAAAAAAPC/"
				],
				[
					460,
					1,
					"insert",
					{
						"characters": ","
					},
					"AQAAAMQIAAAAAAAAxQgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAxAgAAAAAAADECAAAAAAAAAAAAAAAAPC/"
				],
				[
					461,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAMUIAAAAAAAAxggAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAxQgAAAAAAADFCAAAAAAAAAAAAAAAAPC/"
				],
				[
					462,
					1,
					"insert_snippet",
					{
						"contents": "\"$0\""
					},
					"AQAAAMYIAAAAAAAAyAgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAxggAAAAAAADGCAAAAAAAAAAAAAAAAPC/"
				],
				[
					463,
					1,
					"insert",
					{
						"characters": "8"
					},
					"AQAAAMcIAAAAAAAAyAgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAxwgAAAAAAADHCAAAAAAAAAAAAAAAAPC/"
				],
				[
					467,
					5,
					"left_delete",
					null,
					"BQAAAB4JAAAAAAAAHgkAAAAAAAABAAAAXR0JAAAAAAAAHQkAAAAAAAABAAAAcBwJAAAAAAAAHAkAAAAAAAABAAAAcxsJAAAAAAAAGwkAAAAAAAABAAAAWxoJAAAAAAAAGgkAAAAAAAABAAAAIA",
					"AQAAAAAAAAABAAAAHwkAAAAAAAAfCQAAAAAAAAAAAAAAAPC/"
				],
				[
					474,
					1,
					"insert",
					{
						"characters": "\n\\"
					},
					"AwAAABwJAAAAAAAAHQkAAAAAAAAAAAAAHQkAAAAAAAAfCQAAAAAAAAAAAAAfCQAAAAAAACAJAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAHAkAAAAAAAAcCQAAAAAAAAAAAAAAAPC/"
				],
				[
					475,
					1,
					"paste",
					null,
					"AQAAACAJAAAAAAAAPgkAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAIAkAAAAAAAAgCQAAAAAAAAAAAAAAAPC/"
				],
				[
					478,
					1,
					"left_delete",
					null,
					"AQAAAB8JAAAAAAAAHwkAAAAAAAADAAAAXAkJ",
					"AQAAAAAAAAABAAAAIgkAAAAAAAAfCQAAAAAAAAAAAAAAAPC/"
				],
				[
					481,
					1,
					"insert",
					{
						"characters": "sp"
					},
					"AwAAAC4JAAAAAAAALwkAAAAAAAAAAAAALwkAAAAAAAAvCQAAAAAAAAoAAABMb2NhbCBUaW1lLwkAAAAAAAAwCQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAOAkAAAAAAAAuCQAAAAAAAAAAAAAAAPC/"
				],
				[
					484,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAABoJAAAAAAAAGwkAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAGgkAAAAAAAAaCQAAAAAAAAAAAAAAAPC/"
				],
				[
					491,
					1,
					"left_delete",
					null,
					"AQAAAE8JAAAAAAAATwkAAAAAAAABAAAAXQ",
					"AQAAAAAAAAABAAAAUAkAAAAAAABQCQAAAAAAAAAAAAAAAPC/"
				],
				[
					493,
					1,
					"left_delete",
					null,
					"AQAAAEgJAAAAAAAASAkAAAAAAAABAAAAWw",
					"AQAAAAAAAAABAAAASQkAAAAAAABJCQAAAAAAAAAAAAAAAPC/"
				],
				[
					497,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AgAAAFAJAAAAAAAAUQkAAAAAAAAAAAAAUQkAAAAAAABTCQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAUAkAAAAAAABQCQAAAAAAAAAAAAAAAPC/"
				],
				[
					498,
					1,
					"paste",
					null,
					"AQAAAFMJAAAAAAAAcQkAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAUwkAAAAAAABTCQAAAAAAAAAAAAAAAPC/"
				],
				[
					501,
					1,
					"left_delete",
					null,
					"AQAAAGMJAAAAAAAAYwkAAAAAAAAEAAAAW3VBXQ",
					"AQAAAAAAAAABAAAAZwkAAAAAAABjCQAAAAAAAAAAAAAAAPC/"
				],
				[
					503,
					7,
					"left_delete",
					null,
					"BwAAAGoJAAAAAAAAagkAAAAAAAABAAAAImkJAAAAAAAAaQkAAAAAAAABAAAAXWgJAAAAAAAAaAkAAAAAAAABAAAAVmcJAAAAAAAAZwkAAAAAAAABAAAAW2YJAAAAAAAAZgkAAAAAAAABAAAAImUJAAAAAAAAZQkAAAAAAAABAAAAIGQJAAAAAAAAZAkAAAAAAAABAAAALA",
					"AQAAAAAAAAABAAAAawkAAAAAAABrCQAAAAAAAAAAAAAAAPC/"
				],
				[
					514,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AgAAAGYJAAAAAAAAZwkAAAAAAAAAAAAAZwkAAAAAAABpCQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAZgkAAAAAAABmCQAAAAAAAAAAAAAAAPC/"
				],
				[
					515,
					1,
					"paste",
					null,
					"AQAAAGkJAAAAAAAAjAkAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAaQkAAAAAAABpCQAAAAAAAAAAAAAAAPC/"
				],
				[
					516,
					1,
					"left_delete",
					null,
					"AQAAAIsJAAAAAAAAiwkAAAAAAAABAAAALA",
					"AQAAAAAAAAABAAAAjAkAAAAAAACMCQAAAAAAAAAAAAAAAPC/"
				],
				[
					517,
					1,
					"insert",
					{
						"characters": "}"
					},
					"AQAAAIsJAAAAAAAAjAkAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAiwkAAAAAAACLCQAAAAAAAAAAAAAAAPC/"
				],
				[
					520,
					1,
					"insert",
					{
						"characters": ","
					},
					"AQAAAFAJAAAAAAAAUQkAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAUAkAAAAAAABQCQAAAAAAAAAAAAAAAPC/"
				],
				[
					529,
					1,
					"insert",
					{
						"characters": ","
					},
					"AQAAAI0JAAAAAAAAjgkAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAjQkAAAAAAACNCQAAAAAAAAAAAAAAAPC/"
				],
				[
					530,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AgAAAI4JAAAAAAAAjwkAAAAAAAAAAAAAjwkAAAAAAACRCQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAjgkAAAAAAACOCQAAAAAAAAAAAAAAAPC/"
				],
				[
					531,
					1,
					"paste",
					null,
					"AQAAAJEJAAAAAAAAtwkAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAkQkAAAAAAACRCQAAAAAAAAAAAAAAAPC/"
				],
				[
					532,
					1,
					"insert",
					{
						"characters": "}"
					},
					"AQAAALcJAAAAAAAAuAkAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAtwkAAAAAAAC3CQAAAAAAAAAAAAAAAPC/"
				],
				[
					542,
					1,
					"cut",
					null,
					"AQAAAH4FAAAAAAAAfgUAAAAAAAAKAAAALCBzaXplX3QgTg",
					"AQAAAAAAAAABAAAAiAUAAAAAAAB+BQAAAAAAAAAAAAAAAPC/"
				],
				[
					545,
					1,
					"paste",
					null,
					"AgAAAHAFAAAAAAAAegUAAAAAAAAAAAAAegUAAAAAAAB6BQAAAAAAAAEAAAB0",
					"AQAAAAAAAAABAAAAcAUAAAAAAABxBQAAAAAAAAAAAAAAAPC/"
				],
				[
					548,
					2,
					"left_delete",
					null,
					"AgAAAHEFAAAAAAAAcQUAAAAAAAABAAAAIHAFAAAAAAAAcAUAAAAAAAABAAAALA",
					"AQAAAAAAAAABAAAAcgUAAAAAAAByBQAAAAAAAAAAAAAAAPC/"
				],
				[
					551,
					1,
					"insert",
					{
						"characters": ","
					},
					"AQAAAHgFAAAAAAAAeQUAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAeAUAAAAAAAB4BQAAAAAAAAAAAAAAAPC/"
				],
				[
					552,
					1,
					"insert",
					{
						"characters": " t"
					},
					"AgAAAHkFAAAAAAAAegUAAAAAAAAAAAAAegUAAAAAAAB7BQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAeQUAAAAAAAB5BQAAAAAAAAAAAAAAAPC/"
				],
				[
					556,
					1,
					"insert",
					{
						"characters": "s"
					},
					"AQAAANIFAAAAAAAA0wUAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA0gUAAAAAAADSBQAAAAAAAAAAAAAAAPC/"
				]
			]
		},
		{
			"file": "include/sbcqueens-gui/gui_windows/ControlList.hpp",
			"settings":
			{
				"buffer_size": 4395,
				"encoding": "UTF-8",
				"line_ending": "Unix"
			},
			"undo_stack":
			[
				[
					1,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAArEQAAI2lmbmRlZiBDT05UUk9MTElTVF9oCiNkZWZpbmUgQ09OVFJPTExJU1RfaAojaW5jbHVkZSAic2JjcXVlZW5zLWd1aS9pbWd1aV9oZWxwZXJzLmhwcCIKI2luY2x1ZGUgPHVub3JkZXJlZF9tYXA+CiNwcmFnbWEgb25jZQoKLy8gQyBTVEQgaW5jbHVkZXMKLy8gQyAzcmQgcGFydHkgaW5jbHVkZXMKLy8gQysrIFNURCBpbmNsdWRlcwojaW5jbHVkZSA8dHVwbGU+CgovLyBDKysgM3JkIHBhcnR5IGluY2x1ZGVzCi8vIE15IGluY2x1ZGVzCiNpbmNsdWRlICJzYmNxdWVlbnMtZ3VpL2hhcmR3YXJlX2hlbHBlcnMvU2lQTUFjcXVpc2l0aW9uRGF0YS5ocHAiCiNpbmNsdWRlICJzYmNxdWVlbnMtZ3VpL2hhcmR3YXJlX2hlbHBlcnMvVGVlbnN5Q29udHJvbGxlckRhdGEuaHBwIgojaW5jbHVkZSAic2JjcXVlZW5zLWd1aS9oYXJkd2FyZV9oZWxwZXJzL1Nsb3dEQVFEYXRhLmhwcCIKCm5hbWVzcGFjZSBTQkNRdWVlbnMgewoKLy8gSGVyZSB5b3UgZmluZCBhbGwgdGhlIGNvbXBpbGUgYXZhaWxhYmxlIGNvbnRyb2xzLgpjb25zdGV4cHIgc3RhdGljIGF1dG8gU2lQTUdVSUNvbnRyb2xzID0gc3RkOjptYWtlX3R1cGxlKAogICAgU2lQTUFjcXVpc2l0aW9uQ29udHJvbDxDb250cm9sVHlwZXM6OklucHV0SW50LCAiQ0FFTiBQb3J0Ij57IiIsICJVc3VhbGx5IDAgYXMgbG9uZyBhcyB0aGVyZSBpcyBubyAiCiAgICAgICAgICAgICJvdGhlciBDQUVOIGRpZ2l0aXplcnMgY29ubmVjdGVkLiBJZiB0aGVyZSBhcmUgbW9yZSwgIgogICAgICAgICAgICAidGhlIHBvcnQgaW5jcmVhc2VzIGFzIHRoZXkgd2VyZSBjb25uZWN0ZWQgdG8gdGhlICIKICAgICAgICAgICAgImNvbXB1dGVyLiJ9LAogICAgU2lQTUFjcXVpc2l0aW9uQ29udHJvbDxDb250cm9sVHlwZXM6OkNvbWJvQm94LCAiQ29ubmVjdGlvbiBUeXBlIj57IiJ9LAogICAgU2lQTUFjcXVpc2l0aW9uQ29udHJvbDxDb250cm9sVHlwZXM6OkNvbWJvQm94LCAiTW9kZWwiPnsiIn0sCiAgICBTaVBNQWNxdWlzaXRpb25Db250cm9sPENvbnRyb2xUeXBlczo6SW5wdXRVSU5UMzIsICJWTUUgQWRkcmVzcyI+eyIifSwKICAgIFNpUE1BY3F1aXNpdGlvbkNvbnRyb2w8Q29udHJvbFR5cGVzOjpJbnB1dFRleHQsICJLZWl0aGxleSBDT00gUG9ydCI+eyIifSwKICAgIFNpUE1BY3F1aXNpdGlvbkNvbnRyb2w8Q29udHJvbFR5cGVzOjpCdXR0b24sICJDb25uZWN0IyNDQUVOIj57IiJ9LAogICAgU2lQTUFjcXVpc2l0aW9uQ29udHJvbDxDb250cm9sVHlwZXM6OkJ1dHRvbiwgIkRpc2Nvbm5lY3QjI0NBRU4iPnsiIn0sCiAgICBTaVBNQWNxdWlzaXRpb25Db250cm9sPENvbnRyb2xUeXBlczo6SW5wdXRVSU5UMzIsICJNYXggRXZlbnRzIFBlciBSZWFkIj57IiJ9LAogICAgU2lQTUFjcXVpc2l0aW9uQ29udHJvbDxDb250cm9sVHlwZXM6OklucHV0VUlOVDMyLCAiUmVjb3JkIExlbmd0aCBbc3BdIj57IiJ9LAogICAgU2lQTUFjcXVpc2l0aW9uQ29udHJvbDxDb250cm9sVHlwZXM6OklucHV0VUlOVDMyLCAiUG9zdC1UcmlnZ2VyIEJ1ZmZlciBbJV0iPnsiIn0sCiAgICBTaVBNQWNxdWlzaXRpb25Db250cm9sPENvbnRyb2xUeXBlczo6Q2hlY2tib3gsICJUUkctSU4gYXMgR2F0ZSI+eyIifSwKICAgIFNpUE1BY3F1aXNpdGlvbkNvbnRyb2w8Q29udHJvbFR5cGVzOjpDb21ib0JveCwgIkV4dGVybmFsIFRyaWdnZXIgTW9kZSI+eyIifSwKICAgIFNpUE1BY3F1aXNpdGlvbkNvbnRyb2w8Q29udHJvbFR5cGVzOjpDb21ib0JveCwgIlNvZnR3YXJlIFRyaWdnZXIgTW9kZSI+eyIifSwKICAgIFNpUE1BY3F1aXNpdGlvbkNvbnRyb2w8Q29udHJvbFR5cGVzOjpDb21ib0JveCwgIlRyaWdnZXIgUG9sYXJpdHkiPnsiIn0sCiAgICBTaVBNQWNxdWlzaXRpb25Db250cm9sPENvbnRyb2xUeXBlczo6Q29tYm9Cb3gsICJJL08gTGV2ZWwiPnsiIn0sCiAgICBTaVBNQWNxdWlzaXRpb25Db250cm9sPENvbnRyb2xUeXBlczo6QnV0dG9uLCAiU29mdHdhcmUgVHJpZ2dlciI+eyIiLCAiRm9yY2VzIGEgdHJpZ2dlciBpbiAiCiAgICAgICAgICAgICJ0aGUgZGlnaXRpemVyIGlmIHRoZSBmZWF0dXJlIGlzIGVuYWJsZWQifSwKICAgIFNpUE1BY3F1aXNpdGlvbkNvbnRyb2w8Q29udHJvbFR5cGVzOjpCdXR0b24sICJSZXNldCBDQUVOIj57IiIsICJSZXNldHMgdGhlIENBRU4gZGlnaXRpemVyICIKICAgICAgICAgICAgIndpdGggbmV3IHZhbHVlcyBmb3VuZCBpbiB0aGUgY29udHJvbCB0YWJzLiJ9LAogICAgU2lQTUFjcXVpc2l0aW9uQ29udHJvbDxDb250cm9sVHlwZXM6OklucHV0SW50LCAiU2lQTSBJRCI+eyIiLCAiVGhpcyBpcyB0aGUgU2lQTSBJRCAiCiAgICAiYXMgc3BlY2lmaWVkLiJ9LAogICAgU2lQTUFjcXVpc2l0aW9uQ29udHJvbDxDb250cm9sVHlwZXM6OklucHV0SW50LCAiU2lQTSBDZWxsIj57IiIsICJUaGlzIGlzIHRoZSBTaVBNIGNlbGwgIgogICAgICAgICAgICAiYmVpbmcgdGVzdGVkLiAgQmUgbWluZGZ1bCB0aGF0IHRoZSBudW1iZXIgb24gdGhlICIKICAgICAgICAgICAgImZlZWR0aHJvdWdoIGNvcnJlc3BvbmRzIHRvIGRpZmZlcmVudCBTaVBNcyBhbmQgdGhlaXIgY2VsbHMuIn0sCiAgICBTaVBNQWNxdWlzaXRpb25Db250cm9sPENvbnRyb2xUeXBlczo6Q2hlY2tib3gsICJQUyBFbmFibGUiPnsiIiwgIkVuYWJsZXMgb3IgZGlzYWJsZWQgdGhlICIKICAgICAgICAgICAgIlNpUE0gcG93ZXIgc3VwcGx5LiJ9LAogICAgU2lQTUFjcXVpc2l0aW9uQ29udHJvbDxDb250cm9sVHlwZXM6OklucHV0RmxvYXQsICJTaVBNIFZvbHRhZ2UiPnsiIiwKICAgICAgICAgICAgIk1heCB2b2x0YWdlIGFsbG93ZWQgaXMgNjBWIn0sCiAgICBTaVBNQWNxdWlzaXRpb25Db250cm9sPENvbnRyb2xUeXBlczo6QnV0dG9uLCAiUnVuIE1lYXN1cmVtZW50IFJvdXRpbmUiPnsiIiwKICAgICAgICAgICAgIlN0YXJ0cyB0aGUgbG9naWMgdG8gYXR0ZW1wdCBhIFZCRCBjYWxjdWxhdGlvbiwgYW5kIgogICAgICAgICAgICAidGhlbiB0YWtlcyB0aGUgcHVsc2UgZGF0YS4gXG5cbiIKICAgICAgICAgICAgIkl0IGRpc2FibGVzIHRoZSBhYmlsaXR5IHRvIGNoYW5nZSB0aGUgdm9sdGFnZS4gIgogICAgICAgICAgICAiSWYgaXQgZmFpbHMsIGl0IHdpbGwgcmV0cnkuIENhbmNlbCBieSBwcmVzc2luZyBDYW5jZWwgcm91dGluZS4ifSwKICAgIFNpUE1BY3F1aXNpdGlvbkNvbnRyb2w8Q29udHJvbFR5cGVzOjpCdXR0b24sICJDYW5jZWwgTWVhc3VyZW1lbnQgUm91dGluZSI+eyIiLCAiQ2FuY2VscyBhbnkgIgogICAgICAgICAgICAib25nb2luZyBtZWFzdXJlbWVudCByb3V0aW5lLiJ9LAoKICAgIFRlZW5zeUNvbnRyb2xsZXJDb250cm9sPENvbnRyb2xUeXBlczo6SW5wdXRUZXh0LCAiVGVlbnN5IENPTSBQb3J0Ij57IiJ9LAogICAgVGVlbnN5Q29udHJvbGxlckNvbnRyb2w8Q29udHJvbFR5cGVzOjpCdXR0b24sICJDb25uZWN0IyNUZWVuc3kiPnsiIn0sCiAgICBUZWVuc3lDb250cm9sbGVyQ29udHJvbDxDb250cm9sVHlwZXM6OkJ1dHRvbiwgIkRpc2Nvbm5lY3QjI1RlZW5zeSI+eyIifSwKICAgIFRlZW5zeUNvbnRyb2xsZXJDb250cm9sPENvbnRyb2xUeXBlczo6Q2hlY2tib3gsICJQZWx0aWVyIE9OL09GRiI+eyIifSwKICAgIFRlZW5zeUNvbnRyb2xsZXJDb250cm9sPENvbnRyb2xUeXBlczo6SW5wdXRVSU5UMTYsICJQSUQgUlREIj57IiJ9LAogICAgVGVlbnN5Q29udHJvbGxlckNvbnRyb2w8Q29udHJvbFR5cGVzOjpJbnB1dFVJTlQzMiwgIlVwZGF0ZSBQZXJpb2QgKG1zKSI+eyIifSwKICAgIFRlZW5zeUNvbnRyb2xsZXJDb250cm9sPENvbnRyb2xUeXBlczo6SW5wdXRGbG9hdCwgIlBlbHRpZXIgVHJpcCBQb2ludCI+eyIifSwKICAgIFRlZW5zeUNvbnRyb2xsZXJDb250cm9sPENvbnRyb2xUeXBlczo6SW5wdXRGbG9hdCwgIlBlbHRpZXIgVCBTZXRwb2ludCI+eyIifSwKICAgIFRlZW5zeUNvbnRyb2xsZXJDb250cm9sPENvbnRyb2xUeXBlczo6SW5wdXRGbG9hdCwgIlBLcCI+eyIifSwKICAgIFRlZW5zeUNvbnRyb2xsZXJDb250cm9sPENvbnRyb2xUeXBlczo6SW5wdXRGbG9hdCwgIlBUaSI+eyIifSwKICAgIFRlZW5zeUNvbnRyb2xsZXJDb250cm9sPENvbnRyb2xUeXBlczo6SW5wdXRGbG9hdCwgIlBUZCI+eyIifSwKICAgIFRlZW5zeUNvbnRyb2xsZXJDb250cm9sPENvbnRyb2xUeXBlczo6QnV0dG9uLCAiUmVzZXQgUFBJRCI+eyIifSwKCiAgICBTbG93REFRQ29udHJvbDxDb250cm9sVHlwZXM6OklucHV0VGV4dCwgIlBGRUlGRkVSIFBvcnQiPnsiIn0sCiAgICBTbG93REFRQ29udHJvbDxDb250cm9sVHlwZXM6OkJ1dHRvbiwgIkNvbm5lY3QjI1NMT1dEQVEiPnsiIn0sCiAgICBTbG93REFRQ29udHJvbDxDb250cm9sVHlwZXM6OkJ1dHRvbiwgIkRpc2Nvbm5lY3QjI1NMT1dEQVEiPnsiIn0KKTsKCn0gLy8gbmFtZXNwYWNlIFNCQ1F1ZWVucwoKI2VuZGlmAAAAAAAAAAArEQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAzAEAAAAAAADMAQAAAAAAAAAAAAAAAPC/"
				],
				[
					2,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAArEQAAI2lmbmRlZiBDT05UUk9MTElTVF9oCiNkZWZpbmUgQ09OVFJPTExJU1RfaAojaW5jbHVkZSAic2JjcXVlZW5zLWd1aS9pbWd1aV9oZWxwZXJzLmhwcCIKI2luY2x1ZGUgPHVub3JkZXJlZF9tYXA+CiNwcmFnbWEgb25jZQoKLy8gQyBTVEQgaW5jbHVkZXMKLy8gQyAzcmQgcGFydHkgaW5jbHVkZXMKLy8gQysrIFNURCBpbmNsdWRlcwojaW5jbHVkZSA8dHVwbGU+CgovLyBDKysgM3JkIHBhcnR5IGluY2x1ZGVzCi8vIE15IGluY2x1ZGVzCiNpbmNsdWRlICJzYmNxdWVlbnMtZ3VpL2hhcmR3YXJlX2hlbHBlcnMvU2lQTUFjcXVpc2l0aW9uRGF0YS5ocHAiCiNpbmNsdWRlICJzYmNxdWVlbnMtZ3VpL2hhcmR3YXJlX2hlbHBlcnMvVGVlbnN5Q29udHJvbGxlckRhdGEuaHBwIgojaW5jbHVkZSAic2JjcXVlZW5zLWd1aS9oYXJkd2FyZV9oZWxwZXJzL1Nsb3dEQVFEYXRhLmhwcCIKCm5hbWVzcGFjZSBTQkNRdWVlbnMgewoKLy8gSGVyZSB5b3UgZmluZCBhbGwgdGhlIGNvbXBpbGUgYXZhaWxhYmxlIGNvbnRyb2xzLgpjb25zdGV4cHIgc3RhdGljIGF1dG8gU2lQTUdVSUNvbnRyb2xzID0gc3RkOjptYWtlX3R1cGxlKAogICAgU2lQTUFjcXVpc2l0aW9uQ29udHJvbDxDb250cm9sVHlwZXM6OklucHV0SW50LCAiQ0FFTiBQb3J0Ij57IiIsICJVc3VhbGx5IDAgYXMgbG9uZyBhcyB0aGVyZSBpcyBubyAiCiAgICAgICAgICAgICJvdGhlciBDQUVOIGRpZ2l0aXplcnMgY29ubmVjdGVkLiBJZiB0aGVyZSBhcmUgbW9yZSwgIgogICAgICAgICAgICAidGhlIHBvcnQgaW5jcmVhc2VzIGFzIHRoZXkgd2VyZSBjb25uZWN0ZWQgdG8gdGhlICIKICAgICAgICAgICAgImNvbXB1dGVyLiJ9LAogICAgU2lQTUFjcXVpc2l0aW9uQ29udHJvbDxDb250cm9sVHlwZXM6OkNvbWJvQm94LCAiQ29ubmVjdGlvbiBUeXBlIj57IiJ9LAogICAgU2lQTUFjcXVpc2l0aW9uQ29udHJvbDxDb250cm9sVHlwZXM6OkNvbWJvQm94LCAiTW9kZWwiPnsiIn0sCiAgICBTaVBNQWNxdWlzaXRpb25Db250cm9sPENvbnRyb2xUeXBlczo6SW5wdXRVSU5UMzIsICJWTUUgQWRkcmVzcyI+eyIifSwKICAgIFNpUE1BY3F1aXNpdGlvbkNvbnRyb2w8Q29udHJvbFR5cGVzOjpJbnB1dFRleHQsICJLZWl0aGxleSBDT00gUG9ydCI+eyIifSwKICAgIFNpUE1BY3F1aXNpdGlvbkNvbnRyb2w8Q29udHJvbFR5cGVzOjpCdXR0b24sICJDb25uZWN0IyNDQUVOIj57IiJ9LAogICAgU2lQTUFjcXVpc2l0aW9uQ29udHJvbDxDb250cm9sVHlwZXM6OkJ1dHRvbiwgIkRpc2Nvbm5lY3QjI0NBRU4iPnsiIn0sCiAgICBTaVBNQWNxdWlzaXRpb25Db250cm9sPENvbnRyb2xUeXBlczo6SW5wdXRVSU5UMzIsICJNYXggRXZlbnRzIFBlciBSZWFkIj57IiJ9LAogICAgU2lQTUFjcXVpc2l0aW9uQ29udHJvbDxDb250cm9sVHlwZXM6OklucHV0VUlOVDMyLCAiUmVjb3JkIExlbmd0aCBbc3BdIj57IiJ9LAogICAgU2lQTUFjcXVpc2l0aW9uQ29udHJvbDxDb250cm9sVHlwZXM6OklucHV0VUlOVDMyLCAiUG9zdC1UcmlnZ2VyIEJ1ZmZlciBbJV0iPnsiIn0sCiAgICBTaVBNQWNxdWlzaXRpb25Db250cm9sPENvbnRyb2xUeXBlczo6Q2hlY2tib3gsICJUUkctSU4gYXMgR2F0ZSI+eyIifSwKICAgIFNpUE1BY3F1aXNpdGlvbkNvbnRyb2w8Q29udHJvbFR5cGVzOjpDb21ib0JveCwgIkV4dGVybmFsIFRyaWdnZXIgTW9kZSI+eyIifSwKICAgIFNpUE1BY3F1aXNpdGlvbkNvbnRyb2w8Q29udHJvbFR5cGVzOjpDb21ib0JveCwgIlNvZnR3YXJlIFRyaWdnZXIgTW9kZSI+eyIifSwKICAgIFNpUE1BY3F1aXNpdGlvbkNvbnRyb2w8Q29udHJvbFR5cGVzOjpDb21ib0JveCwgIlRyaWdnZXIgUG9sYXJpdHkiPnsiIn0sCiAgICBTaVBNQWNxdWlzaXRpb25Db250cm9sPENvbnRyb2xUeXBlczo6Q29tYm9Cb3gsICJJL08gTGV2ZWwiPnsiIn0sCiAgICBTaVBNQWNxdWlzaXRpb25Db250cm9sPENvbnRyb2xUeXBlczo6QnV0dG9uLCAiU29mdHdhcmUgVHJpZ2dlciI+eyIiLCAiRm9yY2VzIGEgdHJpZ2dlciBpbiAiCiAgICAgICAgICAgICJ0aGUgZGlnaXRpemVyIGlmIHRoZSBmZWF0dXJlIGlzIGVuYWJsZWQifSwKICAgIFNpUE1BY3F1aXNpdGlvbkNvbnRyb2w8Q29udHJvbFR5cGVzOjpCdXR0b24sICJSZXNldCBDQUVOIj57IiIsICJSZXNldHMgdGhlIENBRU4gZGlnaXRpemVyICIKICAgICAgICAgICAgIndpdGggbmV3IHZhbHVlcyBmb3VuZCBpbiB0aGUgY29udHJvbCB0YWJzLiJ9LAogICAgU2lQTUFjcXVpc2l0aW9uQ29udHJvbDxDb250cm9sVHlwZXM6OklucHV0SW50LCAiU2lQTSBJRCI+eyIiLCAiVGhpcyBpcyB0aGUgU2lQTSBJRCAiCiAgICAiYXMgc3BlY2lmaWVkLiJ9LAogICAgU2lQTUFjcXVpc2l0aW9uQ29udHJvbDxDb250cm9sVHlwZXM6OklucHV0SW50LCAiU2lQTSBDZWxsIj57IiIsICJUaGlzIGlzIHRoZSBTaVBNIGNlbGwgIgogICAgICAgICAgICAiYmVpbmcgdGVzdGVkLiAgQmUgbWluZGZ1bCB0aGF0IHRoZSBudW1iZXIgb24gdGhlICIKICAgICAgICAgICAgImZlZWR0aHJvdWdoIGNvcnJlc3BvbmRzIHRvIGRpZmZlcmVudCBTaVBNcyBhbmQgdGhlaXIgY2VsbHMuIn0sCiAgICBTaVBNQWNxdWlzaXRpb25Db250cm9sPENvbnRyb2xUeXBlczo6Q2hlY2tib3gsICJQUyBFbmFibGUiPnsiIiwgIkVuYWJsZXMgb3IgZGlzYWJsZWQgdGhlICIKICAgICAgICAgICAgIlNpUE0gcG93ZXIgc3VwcGx5LiJ9LAogICAgU2lQTUFjcXVpc2l0aW9uQ29udHJvbDxDb250cm9sVHlwZXM6OklucHV0RmxvYXQsICJTaVBNIFZvbHRhZ2UiPnsiIiwKICAgICAgICAgICAgIk1heCB2b2x0YWdlIGFsbG93ZWQgaXMgNjBWIn0sCiAgICBTaVBNQWNxdWlzaXRpb25Db250cm9sPENvbnRyb2xUeXBlczo6QnV0dG9uLCAiUnVuIE1lYXN1cmVtZW50IFJvdXRpbmUiPnsiIiwKICAgICAgICAgICAgIlN0YXJ0cyB0aGUgbG9naWMgdG8gYXR0ZW1wdCBhIFZCRCBjYWxjdWxhdGlvbiwgYW5kIgogICAgICAgICAgICAidGhlbiB0YWtlcyB0aGUgcHVsc2UgZGF0YS4gXG5cbiIKICAgICAgICAgICAgIkl0IGRpc2FibGVzIHRoZSBhYmlsaXR5IHRvIGNoYW5nZSB0aGUgdm9sdGFnZS4gIgogICAgICAgICAgICAiSWYgaXQgZmFpbHMsIGl0IHdpbGwgcmV0cnkuIENhbmNlbCBieSBwcmVzc2luZyBDYW5jZWwgcm91dGluZS4ifSwKICAgIFNpUE1BY3F1aXNpdGlvbkNvbnRyb2w8Q29udHJvbFR5cGVzOjpCdXR0b24sICJDYW5jZWwgTWVhc3VyZW1lbnQgUm91dGluZSI+eyIiLCAiQ2FuY2VscyBhbnkgIgogICAgICAgICAgICAib25nb2luZyBtZWFzdXJlbWVudCByb3V0aW5lLiJ9LAoKICAgIFRlZW5zeUNvbnRyb2xsZXJDb250cm9sPENvbnRyb2xUeXBlczo6SW5wdXRUZXh0LCAiVGVlbnN5IENPTSBQb3J0Ij57IiJ9LAogICAgVGVlbnN5Q29udHJvbGxlckNvbnRyb2w8Q29udHJvbFR5cGVzOjpCdXR0b24sICJDb25uZWN0IyNUZWVuc3kiPnsiIn0sCiAgICBUZWVuc3lDb250cm9sbGVyQ29udHJvbDxDb250cm9sVHlwZXM6OkJ1dHRvbiwgIkRpc2Nvbm5lY3QjI1RlZW5zeSI+eyIifSwKICAgIFRlZW5zeUNvbnRyb2xsZXJDb250cm9sPENvbnRyb2xUeXBlczo6Q2hlY2tib3gsICJQZWx0aWVyIE9OL09GRiI+eyIifSwKICAgIFRlZW5zeUNvbnRyb2xsZXJDb250cm9sPENvbnRyb2xUeXBlczo6SW5wdXRVSU5UMTYsICJQSUQgUlREIj57IiJ9LAogICAgVGVlbnN5Q29udHJvbGxlckNvbnRyb2w8Q29udHJvbFR5cGVzOjpJbnB1dFVJTlQzMiwgIlVwZGF0ZSBQZXJpb2QgKG1zKSI+eyIifSwKICAgIFRlZW5zeUNvbnRyb2xsZXJDb250cm9sPENvbnRyb2xUeXBlczo6SW5wdXRGbG9hdCwgIlBlbHRpZXIgVHJpcCBQb2ludCI+eyIifSwKICAgIFRlZW5zeUNvbnRyb2xsZXJDb250cm9sPENvbnRyb2xUeXBlczo6SW5wdXRGbG9hdCwgIlBlbHRpZXIgVCBTZXRwb2ludCI+eyIifSwKICAgIFRlZW5zeUNvbnRyb2xsZXJDb250cm9sPENvbnRyb2xUeXBlczo6SW5wdXRGbG9hdCwgIlBLcCI+eyIifSwKICAgIFRlZW5zeUNvbnRyb2xsZXJDb250cm9sPENvbnRyb2xUeXBlczo6SW5wdXRGbG9hdCwgIlBUaSI+eyIifSwKICAgIFRlZW5zeUNvbnRyb2xsZXJDb250cm9sPENvbnRyb2xUeXBlczo6SW5wdXRGbG9hdCwgIlBUZCI+eyIifSwKICAgIFRlZW5zeUNvbnRyb2xsZXJDb250cm9sPENvbnRyb2xUeXBlczo6QnV0dG9uLCAiUmVzZXQgUFBJRCI+eyIifSwKCiAgICBTbG93REFRQ29udHJvbDxDb250cm9sVHlwZXM6OklucHV0VGV4dCwgIlBGRUlGRkVSIFBvcnQiPnsiIn0sCiAgICBTbG93REFRQ29udHJvbDxDb250cm9sVHlwZXM6OkJ1dHRvbiwgIkNvbm5lY3QjI1NMT1dEQVEiPnsiIn0sCiAgICBTbG93REFRQ29udHJvbDxDb250cm9sVHlwZXM6OkJ1dHRvbiwgIkRpc2Nvbm5lY3QjI1NMT1dEQVEiPnsiIn0KKTsKCn0gLy8gbmFtZXNwYWNlIFNCQ1F1ZWVucwoKI2VuZGlmAAAAAAAAAAArEQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAzAEAAAAAAADMAQAAAAAAAAAAAAAAAPC/"
				]
			]
		},
		{
			"file": "include/sbcqueens-gui/hardware_helpers/GUIManager.hpp",
			"settings":
			{
				"buffer_size": 18941,
				"line_ending": "Unix"
			},
			"undo_stack":
			[
				[
					1,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAADzSAAAI2lmbmRlZiBHVUlNQU5BR0VSX0gKI2RlZmluZSBHVUlNQU5BR0VSX0gKI2luY2x1ZGUgInNiY3F1ZWVucy1ndWkvaGFyZHdhcmVfaGVscGVycy9TaVBNQWNxdWlzaXRpb25NYW5hZ2VyLmhwcCIKI3ByYWdtYSBvbmNlCgovLyBDIFNURCBpbmNsdWRlcwojaW5jbHVkZSA8bWF0aC5oPgoKLy8gQyAzcmQgcGFydHkgaW5jbHVkZXMKI2luY2x1ZGUgPGltZ3VpLmg+CiNpbmNsdWRlIDxpbXBsb3QuaD4KCi8vIEMrKyBTVEQgaW5jbHVkZXMKI2luY2x1ZGUgPGNzdGRpbnQ+CiNpbmNsdWRlIDxtZW1vcnk+CiNpbmNsdWRlIDxzdHJpbmc+CiNpbmNsdWRlIDx1bm9yZGVyZWRfbWFwPgojaW5jbHVkZSA8dXRpbGl0eT4KI2luY2x1ZGUgPHZlY3Rvcj4KI2luY2x1ZGUgPGZ1bmN0aW9uYWw+CgovLyBDKysgM3JkIHBhcnR5IGluY2x1ZGVzCiNpbmNsdWRlIDxzcGRsb2cvc3BkbG9nLmg+CiNpbmNsdWRlIDx0b21sLmhwcD4KCi8vIE15IGluY2x1ZGVzCiNpbmNsdWRlICJzYmNxdWVlbnMtZ3VpL211bHRpdGhyZWFkaW5nX2hlbHBlcnMvVGhyZWFkTWFuYWdlci5ocHAiCgojaW5jbHVkZSAic2JjcXVlZW5zLWd1aS9oYXJkd2FyZV9oZWxwZXJzL1RlZW5zeUNvbnRyb2xsZXJEYXRhLmhwcCIKI2luY2x1ZGUgInNiY3F1ZWVucy1ndWkvaGFyZHdhcmVfaGVscGVycy9TaVBNQWNxdWlzaXRpb25EYXRhLmhwcCIKI2luY2x1ZGUgInNiY3F1ZWVucy1ndWkvaGFyZHdhcmVfaGVscGVycy9TbG93REFRRGF0YS5ocHAiCgojaW5jbHVkZSAic2JjcXVlZW5zLWd1aS9jYWVuX2hlbHBlci5ocHAiCiNpbmNsdWRlICJzYmNxdWVlbnMtZ3VpL2ltZ3VpX2hlbHBlcnMuaHBwIgojaW5jbHVkZSAic2JjcXVlZW5zLWd1aS9pbXBsb3RfaGVscGVycy5ocHAiCgojaW5jbHVkZSAic2JjcXVlZW5zLWd1aS9ndWlfd2luZG93cy9XaW5kb3cuaHBwIgojaW5jbHVkZSAic2JjcXVlZW5zLWd1aS9ndWlfd2luZG93cy9Db250cm9sTGlzdC5ocHAiCiNpbmNsdWRlICJzYmNxdWVlbnMtZ3VpL2d1aV93aW5kb3dzL0luZGljYXRvcldpbmRvdy5ocHAiCiNpbmNsdWRlICJzYmNxdWVlbnMtZ3VpL2d1aV93aW5kb3dzL0NvbnRyb2xXaW5kb3cuaHBwIgojaW5jbHVkZSAic2JjcXVlZW5zLWd1aS9ndWlfd2luZG93cy9TaVBNQ29udHJvbFdpbmRvdy5ocHAiCgpuYW1lc3BhY2UgU0JDUXVlZW5zIHsKCnRlbXBsYXRlPHR5cGVuYW1lIFBpcGVzLCB0eXBlbmFtZSBEcmF3RnVuYz4KY2xhc3MgR1VJTWFuYWdlciA6IHB1YmxpYyBUaHJlYWRNYW5hZ2VyPFBpcGVzPiB7CiAgICAvLyBUbyBnZXQgdGhlIHBpcGUgaW50ZXJmYWNlIHVzZWQgaW4gdGhlIHBpcGVzLgogICAgRHJhd0Z1bmMgX2RyYXdfZnVuYzsKCiAgICAvLyBJbmRpY2F0b3JSZWNlaXZlcjxJbmRpY2F0b3JOYW1lcz4gR2VuZXJhbEluZGljYXRvclJlY2VpdmVyOwogICAgLy8gSW5kaWNhdG9yUmVjZWl2ZXI8dWludDE2X3Q+IE11bHRpUGxvdFJlY2VpdmVyOwogICAgLy8gSW5kaWNhdG9yUmVjZWl2ZXI8dWludDhfdD4gU2lQTVBsb3RSZWNlaXZlcjsKCiAgICAvLyBDQUVOIFBpcGUKICAgIHVzaW5nIFNpUE1QaXBlX3R5cGUgPSB0eXBlbmFtZSBQaXBlczo6U2lQTVBpcGVfdHlwZTsKICAgIFNpUE1BY3F1aXNpdGlvblBpcGVFbmQ8U2lQTVBpcGVfdHlwZSwgUGlwZUVuZFR5cGU6OkdVST4gX3NpcG1fcGlwZV9lbmQ7CiAgICBTaVBNQWNxdWlzaXRpb25EYXRhJiBfc2lwbV9kb2U7CgogICAgLy8gVGVlbnN5IFBpcGUKICAgIHVzaW5nIFRlZW5zeVBpcGVfdHlwZSA9IHR5cGVuYW1lIFBpcGVzOjpUZWVuc3lQaXBlX3R5cGU7CiAgICBUZWVuc3lDb250cm9sbGVyUGlwZUVuZDxUZWVuc3lQaXBlX3R5cGUsIFBpcGVFbmRUeXBlOjpHVUk+IF90ZWVuc3lfcGlwZV9lbmQ7CiAgICBUZWVuc3lDb250cm9sbGVyRGF0YSYgX3RlZW5zeV9kb2U7CgogICAgLy8gU2xvdyBEQVEgcGlwZQogICAgdXNpbmcgU2xvd0RBUV90eXBlID0gdHlwZW5hbWUgUGlwZXM6OlNsb3dEQVFfdHlwZTsKICAgIFNsb3dEQVFQaXBlRW5kPFNsb3dEQVFfdHlwZSwgUGlwZUVuZFR5cGU6OkdVST4gX3Nsb3dkYXFfcGlwZV9lbmQ7CiAgICBTbG93REFRRGF0YSYgX3Nsb3dkYXFfZG9lOwoKICAgIHN0ZDo6dmVjdG9yPHN0ZDo6dW5pcXVlX3B0cjxXaW5kb3dJbnRlcmZhY2U+PiBfd2luZG93czsKCiAgICBzdGQ6OnN0cmluZyBpX3J1bl9kaXI7CiAgICBzdGQ6OnN0cmluZyBpX3J1bl9uYW1lOwoKICAgIHN0ZDo6dmVjdG9yPHN0ZDo6c3RyaW5nPiBydGRfbmFtZXM7CiAgICBzdGQ6OnZlY3RvcjxzdGQ6OnN0cmluZz4gc2lwbV9uYW1lczsKCiBwdWJsaWM6CiAgICBHVUlNYW5hZ2VyKGNvbnN0IFBpcGVzJiBwLCBEcmF3RnVuYyYmIGRyYXdfZnVuYykgOgogICAgICAgIFRocmVhZE1hbmFnZXI8UGlwZXM+KHApLCBfZHJhd19mdW5je2RyYXdfZnVuY30sCiAgICAgICAgLy8gQWxsIG9mIHRoZXNlIGFyZSB0byBoYXZlIGEgbG9jYWwgYW5kIGZhc3RlciBhY2Nlc3MgdG8gdGhlbQogICAgICAgIC8vIGluc2lkZSB0aGlzIGNsYXNzLgogICAgICAgIF9zaXBtX3BpcGVfZW5kKHAuU2lQTVBpcGUpLAogICAgICAgIF9zaXBtX2RvZShfc2lwbV9waXBlX2VuZC5EYXRhKSwKICAgICAgICBfdGVlbnN5X3BpcGVfZW5kKHAuVGVlbnN5UGlwZSksCiAgICAgICAgX3RlZW5zeV9kb2UoX3RlZW5zeV9waXBlX2VuZC5EYXRhKSwKICAgICAgICBfc2xvd2RhcV9waXBlX2VuZChwLlNsb3dEQVFQaXBlKSwKICAgICAgICBfc2xvd2RhcV9kb2UoX3Nsb3dkYXFfcGlwZV9lbmQuRGF0YSkKICAgICAgICB7CiAgICAgICAgX3dpbmRvd3MucHVzaF9iYWNrKAogICAgICAgICAgICBtYWtlX2luZGljYXRvcl93aW5kb3coX3NpcG1fZG9lLCBfdGVlbnN5X2RvZSwgX3Nsb3dkYXFfZG9lKSk7CiAgICAgICAgX3dpbmRvd3MucHVzaF9iYWNrKAogICAgICAgICAgICBtYWtlX3NpcG1fY29udHJvbF93aW5kb3coX3NpcG1fZG9lLCBfdGVlbnN5X2RvZSkpOwogICAgICAgIF93aW5kb3dzLnB1c2hfYmFjaygKICAgICAgICAgICAgbWFrZV9jb250cm9sX3dpbmRvdyhfc2lwbV9kb2UsIF90ZWVuc3lfZG9lLCBfc2xvd2RhcV9kb2UpKTsKCiAgICAgICAgLy8gV2hlbiBjb25maWdfZmlsZSBnb2VzIG91dCBvZiBzY29wZSwgZXZlcnl0aGluZwogICAgICAgIC8vIGluY2x1ZGluZyB0aGUgZGF1Z2h0ZXJzIGdldCBjbGVhcmVkCiAgICAgICAgYXV0byBjb25maWdfZmlsZSA9IHRvbWw6OnBhcnNlX2ZpbGUoImd1aV9zZXR1cC50b21sIik7CiAgICAgICAgZm9yKGF1dG8mIHdpbmRvdzogX3dpbmRvd3MpIHsKICAgICAgICAgICAgd2luZG93LT5pbml0KGNvbmZpZ19maWxlKTsKICAgICAgICB9CgogICAgICAgIGF1dG8gdF9jb25mID0gY29uZmlnX2ZpbGVbIlRlZW5zeSJdOwogICAgICAgIGlmICh0b21sOjphcnJheSogYXJyID0gdF9jb25mWyJSVEROYW1lcyJdLmFzX2FycmF5KCkpIHsKICAgICAgICAgICAgZm9yICh0b21sOjpub2RlJiBlbGVtIDogKmFycikgewogICAgICAgICAgICAgICAgcnRkX25hbWVzLmVtcGxhY2VfYmFjayhlbGVtLnZhbHVlX29yKCIiKSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGlmICh0b21sOjphcnJheSogYXJyID0gdF9jb25mWyJTaVBNTmFtZXMiXS5hc19hcnJheSgpKSB7CiAgICAgICAgICAgIGZvciAodG9tbDo6bm9kZSYgZWxlbSA6ICphcnIpIHsKICAgICAgICAgICAgICAgIHNpcG1fbmFtZXMuZW1wbGFjZV9iYWNrKGVsZW0udmFsdWVfb3IoIiIpKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCiAgICB+R1VJTWFuYWdlcigpIHsKICAgICAgICAvLyBNYWtlIHN1cmUgdG8gc2VuZCBhbnl0aGluZyBiZWZvcmUgY2xvc2luZyB0aGUgZ3VpLgogICAgICAgIF90ZWVuc3lfcGlwZV9lbmQuc2VuZF9pZl9jaGFuZ2VkKCk7CiAgICAgICAgX3NpcG1fcGlwZV9lbmQuc2VuZF9pZl9jaGFuZ2VkKCk7CiAgICAgICAgX3Nsb3dkYXFfcGlwZV9lbmQuc2VuZF9pZl9jaGFuZ2VkKCk7CgogICAgICAgIF90ZWVuc3lfZG9lLkNhbGxiYWNrID0gW10oVGVlbnN5Q29udHJvbGxlckRhdGEmIHN0YXRlKSB7CiAgICAgICAgICAgIHN0YXRlLkN1cnJlbnRTdGF0ZSA9IFRlZW5zeUNvbnRyb2xsZXJTdGF0ZXM6OkNsb3Npbmc7CiAgICAgICAgfTsKCiAgICAgICAgLy8gQ0FFTlF1ZXVlJiBjcSA9IHN0ZDo6Z2V0PENBRU5RdWV1ZSY+KF9xdWV1ZXMpOwogICAgICAgIF9zaXBtX2RvZS5DYWxsYmFjayA9IFtdKFNpUE1BY3F1aXNpdGlvbkRhdGEmIHN0YXRlKSB7CiAgICAgICAgICAgIHN0YXRlLkN1cnJlbnRTdGF0ZSA9IFNpUE1BY3F1aXNpdGlvblN0YXRlczo6Q2xvc2luZzsKICAgICAgICB9OwoKICAgICAgICAvLyBTbG93REFRUXVldWUmIG9xID0gc3RkOjpnZXQ8U2xvd0RBUVF1ZXVlJj4oX3F1ZXVlcyk7CiAgICAgICAgX3Nsb3dkYXFfZG9lLkNhbGxiYWNrID0gW10oU2xvd0RBUURhdGEmIHN0YXRlKSB7CiAgICAgICAgICAgIHN0YXRlLlBGRUlGRkVSU3RhdGUgPSBQRkVJRkZFUlNTR1N0YXRlOjpDbG9zaW5nOwogICAgICAgIH07CiAgICB9CgogICAgdm9pZCBvcGVyYXRvcigpKCkgewogICAgICAgIC8vIF9kcmF3X2Z1bmMgbXVzdCBoYXZlIGEgcmVjdXJyaW5nIGRyYXcgZnVuY3Rpb24KICAgICAgICAvLyBhbmQgYSBjbG9zZSBmdW5jdGlvbi4KICAgICAgICBfZHJhd19mdW5jKFsmXSgpeyBfZHJhdygpOyB9KTsKICAgIH0KCiBwcml2YXRlOgogICAgdm9pZCBfZHJhdygpIHsKICAgICAgICBzdGF0aWMgYm9vbCB0cmdfb25jZSA9IHRydWU7CiAgICAgICAgaWYgKHRyZ19vbmNlKSB7CiAgICAgICAgICAgIEltUGxvdDo6U3R5bGVDb2xvcnNEYXJrKCk7CiAgICAgICAgICAgIEltUGxvdDo6R2V0U3R5bGUoKS5Vc2VMb2NhbFRpbWUgPSB0cnVlOwogICAgICAgICAgICB0cmdfb25jZSA9IGZhbHNlOwogICAgICAgIH0KCiAgICAgICAgZm9yKGF1dG8mIHdpbmRvdyA6IF93aW5kb3dzKSB7CiAgICAgICAgICAgICgqd2luZG93KSgpOwogICAgICAgIH0KCiAgICAgICAgLy8vLyBQbG90cwogICAgICAgIC8vIEltR3VpOjpCZWdpbigiT3RoZXIgUGxvdHMiKTsKCiAgICAgICAgLy8gLy8gVGhpcyBmdW5jdG9yIHVwZGF0ZXMgdGhlIHBsb3RzIHZhbHVlcyBmcm9tIHRoZSBxdWV1ZS4KICAgICAgICAvLyBHZW5lcmFsSW5kaWNhdG9yUmVjZWl2ZXIoKTsKICAgICAgICAvLyBNdWx0aVBsb3RSZWNlaXZlcigpOwogICAgICAgIC8vIFNpUE1QbG90UmVjZWl2ZXIoKTsKCiAgICAgICAgLy8gY29uc3QgYXV0byBnX2F4aXNfZmxhZ3MgPSBJbVBsb3RBeGlzRmxhZ3NfQXV0b0ZpdDsKICAgICAgICAvLyAvLyAvLy8gVGVlbnN5LUJNRTI4MCBQbG90cwogICAgICAgIC8vIGlmIChJbUd1aTo6QnV0dG9uKCJDbGVhciIpKSB7CiAgICAgICAgLy8gICAgIEdlbmVyYWxJbmRpY2F0b3JSZWNlaXZlci5DbGVhclBsb3QoCiAgICAgICAgLy8gICAgICAgICBJbmRpY2F0b3JOYW1lczo6TE9DQUxfQk1FX0hVTUQpOwogICAgICAgIC8vICAgICBHZW5lcmFsSW5kaWNhdG9yUmVjZWl2ZXIuQ2xlYXJQbG90KAogICAgICAgIC8vICAgICAgICAgSW5kaWNhdG9yTmFtZXM6OkxPQ0FMX0JNRV9URU1QUyk7CiAgICAgICAgLy8gICAgIEdlbmVyYWxJbmRpY2F0b3JSZWNlaXZlci5DbGVhclBsb3QoCiAgICAgICAgLy8gICAgICAgICBJbmRpY2F0b3JOYW1lczo6TE9DQUxfQk1FX1BSRVNTKTsKCiAgICAgICAgLy8gICAgIEdlbmVyYWxJbmRpY2F0b3JSZWNlaXZlci5DbGVhclBsb3QoCiAgICAgICAgLy8gICAgICAgICBJbmRpY2F0b3JOYW1lczo6UEZFSUZGRVJfUFJFU1MpOwogICAgICAgIC8vICAgICBHZW5lcmFsSW5kaWNhdG9yUmVjZWl2ZXIuQ2xlYXJQbG90KAogICAgICAgIC8vICAgICAgICAgSW5kaWNhdG9yTmFtZXM6OlZBQ1VVTV9QUkVTUyk7CiAgICAgICAgLy8gfQoKICAgICAgICAvLyBpZiAoSW1HdWk6OkJlZ2luVGFiQmFyKCJPdGhlciBQbG90cyIpKSB7CiAgICAgICAgLy8gICAgIC8vIGlmICghX3RlZW5zeV9kb2UuU3lzdGVtUGFyYW1ldGVycy5JblJURE9ubHlNb2RlKSB7CiAgICAgICAgLy8gICAgIC8vICAgICBpZiAoSW1HdWk6OkJlZ2luVGFiSXRlbSgiTG9jYWwgQk1FIikpIHsKICAgICAgICAvLyAgICAgLy8gICAgICAgICBpZiAoSW1QbG90OjpCZWdpblBsb3QoIkxvY2FsIEJNRSIsIEltVmVjMigtMSwgMCkpKSB7CiAgICAgICAgLy8gICAgIC8vICAgICAgICAgICAgIC8vIFdlIHNldHVwIHRoZSBheGlzCiAgICAgICAgLy8gICAgIC8vICAgICAgICAgICAgIEltUGxvdDo6U2V0dXBBeGlzU2NhbGUoSW1BeGlzX1gxLCBJbVBsb3RTY2FsZV9UaW1lKTsKICAgICAgICAvLyAgICAgLy8gICAgICAgICAgICAgSW1QbG90OjpTZXR1cEF4ZXMoInRpbWUgW3NdIiwgIkh1bWlkaXR5IFslXSIsCiAgICAgICAgLy8gICAgIC8vICAgICAgICAgICAgICAgICBnX2F4aXNfZmxhZ3MsIGdfYXhpc19mbGFncyk7CiAgICAgICAgLy8gICAgIC8vICAgICAgICAgICAgIEltUGxvdDo6U2V0dXBBeGlzKEltQXhpc19ZMywgIlByZXNzdXJlIFtQYV0iLAogICAgICAgIC8vICAgICAvLyAgICAgICAgICAgICAgICAgZ19heGlzX2ZsYWdzIHwgSW1QbG90QXhpc0ZsYWdzX09wcG9zaXRlKTsKICAgICAgICAvLyAgICAgLy8gICAgICAgICAgICAgSW1QbG90OjpTZXR1cEF4aXMoSW1BeGlzX1kyLCAiVGVtcGVyYXR1cmUgW2RlZ0NdIiwKICAgICAgICAvLyAgICAgLy8gICAgICAgICAgICAgICAgIGdfYXhpc19mbGFncyB8IEltUGxvdEF4aXNGbGFnc19PcHBvc2l0ZSk7CgogICAgICAgIC8vICAgICAvLyAgICAgICAgICAgICAvLyBUaGlzIG9uZSBkb2VzIG5vdCBuZWVkIGFuIFNldEF4ZXMgYXMgaXQgdGFrZXMgdGhlCiAgICAgICAgLy8gICAgIC8vICAgICAgICAgICAgIC8vIGRlZmF1bHQuCiAgICAgICAgLy8gICAgIC8vICAgICAgICAgICAgIC8vIFRoaXMgZnVuY3RvciBpcyBhbG1vc3QgdGhlIHNhbWUgYXMgY2FsbGluZyBJbVBsb3QKICAgICAgICAvLyAgICAgLy8gICAgICAgICAgICAgR2VuZXJhbEluZGljYXRvclJlY2VpdmVyLnBsb3QoCiAgICAgICAgLy8gICAgIC8vICAgICAgICAgICAgICAgICBJbmRpY2F0b3JOYW1lczo6TE9DQUxfQk1FX0hVTUQsICJIdW1pZGl0eSIpOwoKICAgICAgICAvLyAgICAgLy8gICAgICAgICAgICAgLy8gV2UgbmVlZCB0byBjYWxsIFNldEF4ZXMgYmVmb3JlIEltUGxvdDo6UGxvdExpbmVzCiAgICAgICAgLy8gICAgIC8vICAgICAgICAgICAgIC8vIHRvIGxldCB0aGUgQVBJIGtub3cgdGhlIGF4aXMgb2Ygb3VyIGRhdGEKICAgICAgICAvLyAgICAgLy8gICAgICAgICAgICAgSW1QbG90OjpTZXRBeGVzKEltQXhpc19YMSwgSW1BeGlzX1kyKTsKICAgICAgICAvLyAgICAgLy8gICAgICAgICAgICAgR2VuZXJhbEluZGljYXRvclJlY2VpdmVyLnBsb3QoCiAgICAgICAgLy8gICAgIC8vICAgICAgICAgICAgICAgICBJbmRpY2F0b3JOYW1lczo6TE9DQUxfQk1FX1RFTVBTLCAiVGVtcGVyYXR1cmUiKTsKCiAgICAgICAgLy8gICAgIC8vICAgICAgICAgICAgIEltUGxvdDo6U2V0QXhlcyhJbUF4aXNfWDEsIEltQXhpc19ZMyk7CiAgICAgICAgLy8gICAgIC8vICAgICAgICAgICAgIEdlbmVyYWxJbmRpY2F0b3JSZWNlaXZlci5wbG90KAogICAgICAgIC8vICAgICAvLyAgICAgICAgICAgICAgICAgSW5kaWNhdG9yTmFtZXM6OkxPQ0FMX0JNRV9QUkVTUywgIlByZXNzdXJlIik7CgogICAgICAgIC8vICAgICAvLyAgICAgICAgICAgICBJbVBsb3Q6OkVuZFBsb3QoKTsKICAgICAgICAvLyAgICAgLy8gICAgICAgICB9CgogICAgICAgIC8vICAgICAvLyAgICAgICAgIEltR3VpOjpFbmRUYWJJdGVtKCk7CiAgICAgICAgLy8gICAgIC8vICAgICB9CiAgICAgICAgLy8gICAgIC8vIH0KCiAgICAgICAgLy8gICAgIGlmIChJbUd1aTo6QmVnaW5UYWJJdGVtKCJQcmVzc3VyZXMiKSkgewogICAgICAgIC8vICAgICAgICAgc3RhdGljIEltUGxvdFNjYWxlIHByZXNzX3NjYWxlX2F4aXMgPSBJbVBsb3RTY2FsZV9MaW5lYXI7CiAgICAgICAgLy8gICAgICAgICBJbUd1aTo6Q2hlY2tib3hGbGFncygiTG9nIEF4aXMiLAogICAgICAgIC8vICAgICAgICAgICAgICh1bnNpZ25lZCBpbnQqKSZwcmVzc19zY2FsZV9heGlzLCBJbVBsb3RTY2FsZV9Mb2cxMCk7CiAgICAgICAgLy8gICAgICAgICBpZiAoSW1QbG90OjpCZWdpblBsb3QoIlByZXNzdXJlcyIsIEltVmVjMigtMSwgLTEpKSkgewogICAgICAgIC8vICAgICAgICAgICAgIEltUGxvdDo6U2V0dXBBeGlzU2NhbGUoSW1BeGlzX1kxLCBwcmVzc19zY2FsZV9heGlzKTsKICAgICAgICAvLyAgICAgICAgICAgICBJbVBsb3Q6OlNldHVwQXhpc1NjYWxlKEltQXhpc19YMSwgSW1QbG90U2NhbGVfVGltZSk7CiAgICAgICAgLy8gICAgICAgICAgICAgSW1QbG90OjpTZXR1cEF4ZXMoInRpbWUgW3NdIiwgIlAgW0Jhcl0iLAogICAgICAgIC8vICAgICAgICAgICAgICAgICBnX2F4aXNfZmxhZ3MsIGdfYXhpc19mbGFncyk7CgogICAgICAgIC8vICAgICAgICAgICAgIEdlbmVyYWxJbmRpY2F0b3JSZWNlaXZlci5wbG90KAogICAgICAgIC8vICAgICAgICAgICAgICAgICBJbmRpY2F0b3JOYW1lczo6UEZFSUZGRVJfUFJFU1MsICJQRkVJRkZFUiIpOwogICAgICAgIC8vICAgICAgICAgICAgIEdlbmVyYWxJbmRpY2F0b3JSZWNlaXZlci5wbG90KAogICAgICAgIC8vICAgICAgICAgICAgICAgICBJbmRpY2F0b3JOYW1lczo6VkFDVVVNX1BSRVNTLCAiVmFjdXVtIGxpbmUiKTsKCiAgICAgICAgLy8gICAgICAgICAgICAgSW1QbG90OjpFbmRQbG90KCk7CiAgICAgICAgLy8gICAgICAgICB9CgogICAgICAgIC8vICAgICAgICAgSW1HdWk6OkVuZFRhYkl0ZW0oKTsKICAgICAgICAvLyAgICAgfQoKICAgICAgICAvLyAgICAgSW1HdWk6OkVuZFRhYkJhcigpOwogICAgICAgIC8vIH0KCiAgICAgICAgLy8gSW1HdWk6OkVuZCgpOwogICAgICAgIC8vIC8vIC8vLyAhVGVlbnN5LUJNRTI4MCBQbG90cwogICAgICAgIC8vIC8vIC8vLy8KICAgICAgICAvLyAvLyAvLy8gVGVlbnN5LVBJRCBQbG90cwogICAgICAgIC8vIEltR3VpOjpCZWdpbigiVGVlbnN5LVBJRCBQbG90cyIpOwoKICAgICAgICAvLyBpZiAoSW1HdWk6OkJ1dHRvbigiQ2xlYXIiKSkgewogICAgICAgIC8vICAgICBmb3IgKHVpbnQxNl90IGkgPSAwOyBpIDwgX3RlZW5zeV9kb2UuU3lzdGVtUGFyYW1ldGVycy5OdW1SdGRCb2FyZHM7IGkrKykgewogICAgICAgIC8vICAgICAgICAgZm9yICh1aW50MTZfdCBqID0gMDsgaiA8IF90ZWVuc3lfZG9lLlN5c3RlbVBhcmFtZXRlcnMuTnVtUnRkc1BlckJvYXJkOyBqKyspIHsKICAgICAgICAvLyAgICAgICAgICAgICB1aW50MTZfdCBrID0gc3RhdGljX2Nhc3Q8dWludDE2X3Q+KAogICAgICAgIC8vICAgICAgICAgICAgICAgICBpKl90ZWVuc3lfZG9lLlN5c3RlbVBhcmFtZXRlcnMuTnVtUnRkc1BlckJvYXJkICtqKTsKCiAgICAgICAgLy8gICAgICAgICAgICAgTXVsdGlQbG90UmVjZWl2ZXIuQ2xlYXJQbG90KGspOwogICAgICAgIC8vICAgICAgICAgfQogICAgICAgIC8vICAgICB9CiAgICAgICAgLy8gfQoKICAgICAgICAvLyBpZiAoIV90ZWVuc3lfZG9lLlN5c3RlbVBhcmFtZXRlcnMuSW5SVERPbmx5TW9kZSkgewogICAgICAgIC8vICAgICBpZiAoSW1QbG90OjpCZWdpblBsb3QoIlBJRHMiLCBJbVZlYzIoLTEsIDApKSkgewogICAgICAgIC8vICAgICAgICAgSW1QbG90OjpTZXR1cEF4ZXMoInRpbWUgW3NdIiwgIkN1cnJlbnQgW0FdIiwKICAgICAgICAvLyAgICAgICAgICAgICBnX2F4aXNfZmxhZ3MsIGdfYXhpc19mbGFncyk7CiAgICAgICAgLy8gICAgICAgICBJbVBsb3Q6OlNldHVwQXhpc1NjYWxlKEltQXhpc19YMSwgSW1QbG90U2NhbGVfVGltZSk7CgogICAgICAgIC8vICAgICAgICAgR2VuZXJhbEluZGljYXRvclJlY2VpdmVyLnBsb3QoSW5kaWNhdG9yTmFtZXM6OlBFTFRJRVJfQ1VSUiwgIkN1cnJlbnQiKTsKCiAgICAgICAgLy8gICAgICAgICBJbVBsb3Q6OkVuZFBsb3QoKTsKICAgICAgICAvLyAgICAgfQogICAgICAgIC8vIH0KCiAgICAgICAgLy8gc3RhdGljIEltUGxvdFJlY3QgcmVjdCgwLCAxLCAwLCAzMjApOwogICAgICAgIC8vIHN0YXRpYyBJbVBsb3RTY2FsZSBydGRfc2NhbGVfYXhpcyA9IEltUGxvdFNjYWxlX0xpbmVhcjsKICAgICAgICAvLyBJbUd1aTo6Q2hlY2tib3hGbGFncygiTG9nIEF4aXMiLAogICAgICAgIC8vICAgICAmcnRkX3NjYWxlX2F4aXMsIEltUGxvdFNjYWxlX0xvZzEwKTsKCiAgICAgICAgLy8gaWYgKEltUGxvdDo6QmVnaW5QbG90KCJSVERzIiwgSW1WZWMyKC0xLCAwKSkpIHsKICAgICAgICAvLyAgICAgSW1QbG90OjpTZXR1cEF4aXNTY2FsZShJbUF4aXNfWTEsIHJ0ZF9zY2FsZV9heGlzKTsKICAgICAgICAvLyAgICAgSW1QbG90OjpTZXR1cEF4aXNTY2FsZShJbUF4aXNfWDEsIEltUGxvdFNjYWxlX1RpbWUpOwogICAgICAgIC8vICAgICBJbVBsb3Q6OlNldHVwQXhlcygidGltZSBbc10iLCAiVGVtcGVyYXR1cmUgW0tdIiwKICAgICAgICAvLyAgICAgICAgIGdfYXhpc19mbGFncywgZ19heGlzX2ZsYWdzKTsKCiAgICAgICAgLy8gICAgIGZvciAodWludDE2X3QgaSA9IDA7IGkgPCBfdGVlbnN5X2RvZS5TeXN0ZW1QYXJhbWV0ZXJzLk51bVJ0ZEJvYXJkczsgaSsrKSB7CiAgICAgICAgLy8gICAgICAgICBmb3IgKHVpbnQxNl90IGogPSAwOyBqIDwgX3RlZW5zeV9kb2UuU3lzdGVtUGFyYW1ldGVycy5OdW1SdGRzUGVyQm9hcmQ7IGorKykgewogICAgICAgIC8vICAgICAgICAgICAgIHVpbnQxNl90IGsgPSBzdGF0aWNfY2FzdDx1aW50MTZfdD4oCiAgICAgICAgLy8gICAgICAgICAgICAgICAgIGkqX3RlZW5zeV9kb2UuU3lzdGVtUGFyYW1ldGVycy5OdW1SdGRzUGVyQm9hcmQgK2opOwoKICAgICAgICAvLyAgICAgICAgICAgICBpZiAoayA8IHJ0ZF9uYW1lcy5zaXplKCkpIHsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgTXVsdGlQbG90UmVjZWl2ZXIucGxvdChrLCBydGRfbmFtZXNba10pOwogICAgICAgIC8vICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgIE11bHRpUGxvdFJlY2VpdmVyLnBsb3Qoaywgc3RkOjp0b19zdHJpbmcoaykpOwogICAgICAgIC8vICAgICAgICAgICAgIH0KICAgICAgICAvLyAgICAgICAgIH0KICAgICAgICAvLyAgICAgfQoKICAgICAgICAvLyAgICAgcmVjdCA9IEltUGxvdDo6R2V0UGxvdExpbWl0cygpOwoKICAgICAgICAvLyAgICAgSW1QbG90OjpFbmRQbG90KCk7CiAgICAgICAgLy8gfQoKICAgICAgICAvLyBzdGF0aWMgZmxvYXQgcnRkX3pvb21fbXVsdGlwbGllclsyXSA9IHswLjB9OwogICAgICAgIC8vIEltR3VpOjpTbGlkZXJGbG9hdDIoIlpvb20gJSIsIHJ0ZF96b29tX211bHRpcGxpZXIsIDAuMGYsIDEuMGYpOwogICAgICAgIC8vIC8vIEltR3VpOjpWU2xpZGVyRmxvYXQoIlpvb20gWSUiLCBJbVZlYzIoMTgsIDE2MCksJnlfcnRkX3pvb21fbXVsdGlwbGllciwgMC4wZiwgMS4wZik7CiAgICAgICAgLy8gLy8gSW1HdWk6OlNhbWVMaW5lKCk7CgogICAgICAgIC8vIGlmIChJbVBsb3Q6OkJlZ2luUGxvdCgiUlREIFpvb20iLCBJbVZlYzIoLTEsIDApKSkgewogICAgICAgIC8vICAgICBJbVBsb3Q6OlNldHVwQXhpc1NjYWxlKEltQXhpc19ZMSwgcnRkX3NjYWxlX2F4aXMpOwogICAgICAgIC8vICAgICBJbVBsb3Q6OlNldHVwQXhpc1NjYWxlKEltQXhpc19YMSwgSW1QbG90U2NhbGVfVGltZSk7CiAgICAgICAgLy8gICAgIEltUGxvdDo6U2V0dXBBeGVzKCJ0aW1lIFtzXSIsICJUZW1wZXJhdHVyZSBbS10iLAogICAgICAgIC8vICAgICAgICAgZ19heGlzX2ZsYWdzLCBnX2F4aXNfZmxhZ3MpOwogICAgICAgIC8vICAgICBJbVBsb3Q6OlNldHVwQXhlc0xpbWl0cygKICAgICAgICAvLyAgICAgICAgIHN0YXRpY19jYXN0PGRvdWJsZT4ocnRkX3pvb21fbXVsdGlwbGllclswXSkqKHJlY3QuWC5NaW4KICAgICAgICAvLyAgICAgICAgICAgICArIHJlY3QuWC5NYXgpICsgcmVjdC5YLk1pbiwKICAgICAgICAvLyAgICAgICAgIHJlY3QuWC5NYXgsCiAgICAgICAgLy8gICAgICAgICBzdGF0aWNfY2FzdDxkb3VibGU+KHJ0ZF96b29tX211bHRpcGxpZXJbMV0pKihyZWN0LlkuTWluCiAgICAgICAgLy8gICAgICAgICAgICAgKyByZWN0LlkuTWF4KSArIHJlY3QuWS5NaW4sCiAgICAgICAgLy8gICAgICAgICByZWN0LlkuTWF4LCBJbUd1aUNvbmRfQWx3YXlzKTsKCiAgICAgICAgLy8gICAgIGZvciAodWludDE2X3QgaSA9IDA7IGkgPCBfdGVlbnN5X2RvZS5TeXN0ZW1QYXJhbWV0ZXJzLk51bVJ0ZEJvYXJkczsgaSsrKSB7CiAgICAgICAgLy8gICAgICAgICBmb3IgKHVpbnQxNl90IGogPSAwOyBqIDwgX3RlZW5zeV9kb2UuU3lzdGVtUGFyYW1ldGVycy5OdW1SdGRzUGVyQm9hcmQ7IGorKykgewogICAgICAgIC8vICAgICAgICAgICAgIHVpbnQxNl90IGsgPSBzdGF0aWNfY2FzdDx1aW50MTZfdD4oCiAgICAgICAgLy8gICAgICAgICAgICAgICAgIGkqX3RlZW5zeV9kb2UuU3lzdGVtUGFyYW1ldGVycy5OdW1SdGRzUGVyQm9hcmQgK2opOwoKICAgICAgICAvLyAgICAgICAgICAgICBpZiAoayA8IHJ0ZF9uYW1lcy5zaXplKCkpIHsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgTXVsdGlQbG90UmVjZWl2ZXIucGxvdChrLCBydGRfbmFtZXNba10pOwogICAgICAgIC8vICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgIE11bHRpUGxvdFJlY2VpdmVyLnBsb3Qoaywgc3RkOjp0b19zdHJpbmcoaykpOwogICAgICAgIC8vICAgICAgICAgICAgIH0KICAgICAgICAvLyAgICAgICAgIH0KICAgICAgICAvLyAgICAgfQoKICAgICAgICAvLyAgICAgSW1QbG90OjpFbmRQbG90KCk7CiAgICAgICAgLy8gfQoKICAgICAgICAvLyBJbUd1aTo6RW5kKCk7CiAgICAgICAgLy8gLy8vICFUZWVuc3ktUElEIFBsb3RzCiAgICAgICAgLy8gLy8vLwogICAgICAgIC8vIC8vLyBTaVBNIFBsb3RzCgoKICAgICAgICAvLyBJbUd1aTo6QmVnaW4oIlNpUE1zIFBsb3RzIik7CgogICAgICAgIC8vIGlmIChJbUd1aTo6QmVnaW5UYWJCYXIoIlNpUE1zIFBsb3RzIikpIHsKICAgICAgICAvLyAgICAgaWYgKEltR3VpOjpCZWdpblRhYkl0ZW0oIlNpUE0gV2F2ZWZvcm1zIikpIHsKICAgICAgICAvLyAgICAgICAgIGNvbnN0IHNpemVfdCBrQ0hwZXJHcm91cCA9IDg7CiAgICAgICAgLy8gICAgICAgICBjb25zdCBhdXRvJiBtb2RlbF9jb25zdGFudHMKICAgICAgICAvLyAgICAgICAgICAgICA9IENBRU5EaWdpdGl6ZXJNb2RlbHNDb25zdGFudHNNYXAuYXQoX3NpcG1fZG9lLk1vZGVsKTsKICAgICAgICAvLyAgICAgICAgIC8vIGNvbnN0IGF1dG8gbnVtZ3JvdXBzID0gbW9kZWxfY29uc3RhbnRzLk51bWJlck9mR3JvdXBzID4gMCA/CiAgICAgICAgLy8gICAgICAgICAvLyAgICAgbW9kZWxfY29uc3RhbnRzLk51bWJlck9mR3JvdXBzIDogMTsKICAgICAgICAvLyAgICAgICAgIC8vIGNvbnN0IGludCBudW1jaHBlcmdyb3VwID0gbW9kZWxfY29uc3RhbnRzLk51bUNoYW5uZWxzIC8gbnVtZ3JvdXBzOwogICAgICAgIC8vICAgICAgICAgLy8gTGV0J3Mgd29yayBvbiBjb25zdCBhdXRvJiBiZWNhdXNlIHdlIHJlYWxseSBkbyBub3Qgd2FudCB0byBjaGFuZ2UKICAgICAgICAvLyAgICAgICAgIC8vIGFueXRoaW5nIGluIHRoZXNlIG5leHQgbGluZXMKICAgICAgICAvLyAgICAgICAgIGlmIChJbVBsb3Q6OkJlZ2luUGxvdCgiIyNTaVBNV2F2ZWZvcm1zIiwgSW1WZWMyKC0xLCAtMSksCiAgICAgICAgLy8gICAgICAgICAgICAgSW1QbG90RmxhZ3NfTm9UaXRsZSkpIHsKICAgICAgICAvLyAgICAgICAgICAgICBJbVBsb3Q6OlNldHVwQXhlcygidGltZSBbbnNdIiwgIkNvdW50cyIsIGdfYXhpc19mbGFncywKICAgICAgICAvLyAgICAgICAgICAgICAgICAgZ19heGlzX2ZsYWdzKTsKICAgICAgICAvLyAgICAgICAgICAgICBmb3IgKGNvbnN0IGF1dG8mIGdwIDogX3NpcG1fZG9lLkdyb3VwQ29uZmlncykgewogICAgICAgIC8vICAgICAgICAgICAgICAgICAvLyBXZSBuZWVkIHRoZSBudW1iZXIgb2YgZ3JvdXBzIGVhY2ggbW9kZWwgaGFzCgogICAgICAgIC8vICAgICAgICAgICAgICAgICAvLyBJZiBncm91cHMgaXMgaGlnaGVyIHRoYW4gMCwgdGhlbiBpdCBoYXMgZ3JvdXBzCiAgICAgICAgLy8gICAgICAgICAgICAgICAgIC8vIG90aGVyd2lzZSBlYWNoIGdyb3VwIGlzIGEgY2hhbm5lbAogICAgICAgIC8vICAgICAgICAgICAgICAgICBpZiAobW9kZWxfY29uc3RhbnRzLk51bWJlck9mR3JvdXBzID4gMCkgewogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgLy8gRWFjaCBtYXNrIGNvbnRhaW5zIGlmIHRoZSBjaGFubmVsIGlzIGVuYWJsZWQKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGF1dG8mIG1hc2sgPSBncC5BY3F1aXNpdGlvbk1hc2s7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAvLyBUaGVyZSBpcyBhbHdheXMgYXQgbWF4IDggY2hhbm5lbHMuCiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBmb3IgKHN0ZDo6c2l6ZV90IGkgPSAwOyBpIDwga0NIcGVyR3JvdXA7IGkrKykgewogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtYXNrICYgKDEgPDwgaSkpIHsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU2lQTVBsb3RSZWNlaXZlci5wbG90KAogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0aWNfY2FzdDx1aW50OF90PihrQ0hwZXJHcm91cCpncC5OdW1iZXIgKyBpKSwKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIkdQICIgKyAgc3RkOjp0b19zdHJpbmcoZ3AuTnVtYmVyKQogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICArICJDSCAiICsgc3RkOjp0b19zdHJpbmcoaSksCiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBsb3RTdHlsZTo6TGluZSwKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ1ZSk7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIEltUGxvdDo6RW5kUGxvdCgpOwogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAvLyAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIFNpUE1QbG90UmVjZWl2ZXIucGxvdChncC5OdW1iZXIsCiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgIkNIICIgKyBzdGQ6OnRvX3N0cmluZyhncC5OdW1iZXIpLAogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgIFBsb3RTdHlsZTo6TGluZSwKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICB0cnVlKTsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgfQogICAgICAgIC8vICAgICAgICAgICAgIH0KICAgICAgICAvLyAgICAgICAgICAgICBJbVBsb3Q6OkVuZFBsb3QoKTsKICAgICAgICAvLyAgICAgICAgIH0KICAgICAgICAvLyAgICAgICAgIEltR3VpOjpFbmRUYWJJdGVtKCk7CiAgICAgICAgLy8gICAgIH0KCiAgICAgICAgLy8gICAgIGlmIChJbUd1aTo6QmVnaW5UYWJJdGVtKCJJLVYiKSkgewogICAgICAgIC8vICAgICAgICAgc3RhdGljIEltUGxvdFNjYWxlIGN1cnJfc2NhbGVfYXhpcyA9IEltUGxvdFNjYWxlX0xpbmVhcjsKICAgICAgICAvLyAgICAgICAgIEltR3VpOjpDaGVja2JveEZsYWdzKCJDdXJyZW50IExvZyBBeGlzIiwKICAgICAgICAvLyAgICAgICAgICAgICAmY3Vycl9zY2FsZV9heGlzLCBJbVBsb3RTY2FsZV9Mb2cxMCk7CgogICAgICAgIC8vICAgICAgICAgaWYgKEltUGxvdDo6QmVnaW5QbG90KCJWb2x0YWdlIiwgSW1WZWMyKC0xLCAtMSksCiAgICAgICAgLy8gICAgICAgICAgICAgSW1QbG90RmxhZ3NfTm9UaXRsZSkpIHsKICAgICAgICAvLyAgICAgICAgICAgICBJbVBsb3Q6OlNldHVwQXhpc1NjYWxlKEltQXhpc19YMSwgSW1QbG90U2NhbGVfVGltZSk7CiAgICAgICAgLy8gICAgICAgICAgICAgSW1QbG90OjpTZXR1cEF4aXNGb3JtYXQoSW1BeGlzX1kxLCAiJTIuN2YiKTsKICAgICAgICAvLyAgICAgICAgICAgICBJbVBsb3Q6OlNldHVwQXhlcygidGltZSBbRVNUXSIsICJWb2x0YWdlIFtWXSIsIGdfYXhpc19mbGFncywKICAgICAgICAvLyAgICAgICAgICAgICAgICAgZ19heGlzX2ZsYWdzKTsKICAgICAgICAvLyAgICAgICAgICAgICBJbVBsb3Q6OlNldHVwQXhpcyhJbUF4aXNfWTIsICJDdXJyZW50IFt1QV0iLAogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgZ19heGlzX2ZsYWdzIHwgSW1QbG90QXhpc0ZsYWdzX09wcG9zaXRlKTsKICAgICAgICAvLyAgICAgICAgICAgICBJbVBsb3Q6OlNldHVwQXhpc1NjYWxlKEltQXhpc19ZMiwgY3Vycl9zY2FsZV9heGlzKTsKCiAgICAgICAgLy8gICAgICAgICAgICAgR2VuZXJhbEluZGljYXRvclJlY2VpdmVyLnBsb3QoSW5kaWNhdG9yTmFtZXM6OkRNTV9WT0xUQUdFLAogICAgICAgIC8vICAgICAgICAgICAgICAgICAiVm9sdGFnZSIpOwoKICAgICAgICAvLyAgICAgICAgICAgICBJbVBsb3Q6OlNldEF4ZXMoSW1BeGlzX1gxLCBJbUF4aXNfWTIpOwogICAgICAgIC8vICAgICAgICAgICAgIEdlbmVyYWxJbmRpY2F0b3JSZWNlaXZlci5wbG90KEluZGljYXRvck5hbWVzOjpQSUNPX0NVUlJFTlQsCiAgICAgICAgLy8gICAgICAgICAgICAgICAgICJDdXJyZW50Iik7CgogICAgICAgIC8vICAgICAgICAgICAgIEltUGxvdDo6RW5kUGxvdCgpOwogICAgICAgIC8vICAgICAgICAgfQogICAgICAgIC8vICAgICAgICAgSW1HdWk6OkVuZFRhYkl0ZW0oKTsKICAgICAgICAvLyAgICAgfQoKICAgICAgICAvLyAgICAgaWYgKEltR3VpOjpCZWdpblRhYkl0ZW0oIkctViIpKSB7CiAgICAgICAgLy8gICAgICAgICBpZiAoSW1HdWk6OkJ1dHRvbigiQ2xlYXIiKSkgewogICAgICAgIC8vICAgICAgICAgICAgIEdlbmVyYWxJbmRpY2F0b3JSZWNlaXZlci5DbGVhclBsb3QoCiAgICAgICAgLy8gICAgICAgICAgICAgICAgIEluZGljYXRvck5hbWVzOjpHQUlOX1ZTX1ZPTFRBR0UpOwogICAgICAgIC8vICAgICAgICAgfQoKICAgICAgICAvLyAgICAgICAgIGlmIChJbVBsb3Q6OkJlZ2luUGxvdCgiVm9sdGFnZSIsIEltVmVjMigtMSwgLTEpLAogICAgICAgIC8vICAgICAgICAgICAgIEltUGxvdEZsYWdzX05vVGl0bGUpKSB7CiAgICAgICAgLy8gICAgICAgICAgICAgSW1QbG90OjpTZXR1cEF4ZXMoIlZvbHRhZ2UgW1ZdIiwgIkdhaW4gW2FyYl0iLCBnX2F4aXNfZmxhZ3MsCiAgICAgICAgLy8gICAgICAgICAgICAgICAgIGdfYXhpc19mbGFncyk7CgogICAgICAgIC8vICAgICAgICAgICAgIEdlbmVyYWxJbmRpY2F0b3JSZWNlaXZlci5wbG90KAogICAgICAgIC8vICAgICAgICAgICAgICAgICBJbmRpY2F0b3JOYW1lczo6R0FJTl9WU19WT0xUQUdFLAogICAgICAgIC8vICAgICAgICAgICAgICAgICAiR2FpbiIsIFBsb3RTdHlsZTo6U2NhdHRlcik7CgogICAgICAgIC8vICAgICAgICAgICAgIEltUGxvdDo6RW5kUGxvdCgpOwogICAgICAgIC8vICAgICAgICAgfQogICAgICAgIC8vICAgICAgICAgSW1HdWk6OkVuZFRhYkl0ZW0oKTsKICAgICAgICAvLyAgICAgfQogICAgICAgIC8vICAgICBJbUd1aTo6RW5kVGFiQmFyKCk7CiAgICAgICAgLy8gfQoKICAgICAgICAvLyBJbUd1aTo6RW5kKCk7CgogICAgICAgIC8vIElmIHRoZXkgY2hhbmdlZCBvbiB0aGlzIEdVSSwgdXBkYXRlIHRoZSB0aHJlYWRzIHNvIHRoZXkgY2FuCiAgICAgICAgLy8gbW9kaWZ5IHdoYXRldmVyIHRoZXkgd2FudCBiYXNlZCBvbiB0aGUgZGF0YSB3ZSBzZW50CiAgICAgICAgX3RlZW5zeV9waXBlX2VuZC5zZW5kX2lmX2NoYW5nZWQoKTsKICAgICAgICBfc2lwbV9waXBlX2VuZC5zZW5kX2lmX2NoYW5nZWQoKTsKICAgICAgICBfc2xvd2RhcV9waXBlX2VuZC5zZW5kX2lmX2NoYW5nZWQoKTsKCiAgICAgICAgLy8gVXBkYXRlIGxvY2FsIGRhdGEgZnJvbSB0aHJlYWRzCiAgICAgICAgc3RhdGljIFRlZW5zeUNvbnRyb2xsZXJEYXRhIHRlZW5zeV90aHJlYWRfZGF0YTsKICAgICAgICBpZiAoX3RlZW5zeV9waXBlX2VuZC5yZXRyaWV2ZSh0ZWVuc3lfdGhyZWFkX2RhdGEpKSB7CiAgICAgICAgICAgIF90ZWVuc3lfZG9lID0gdGVlbnN5X3RocmVhZF9kYXRhOwogICAgICAgIH0KCiAgICAgICAgc3RhdGljIFNpUE1BY3F1aXNpdGlvbkRhdGEgc2lwbV90aHJlYWRfZGF0YTsKICAgICAgICBpZiAoX3NpcG1fcGlwZV9lbmQucmV0cmlldmUoc2lwbV90aHJlYWRfZGF0YSkpIHsKICAgICAgICAgICAgX3NpcG1fZG9lID0gc2lwbV90aHJlYWRfZGF0YTsKICAgICAgICB9CgogICAgICAgIHN0YXRpYyBTbG93REFRRGF0YSBzbG93ZGFxX3RocmVhZF9kYXRhOwogICAgICAgIGlmIChfc2xvd2RhcV9waXBlX2VuZC5yZXRyaWV2ZShzbG93ZGFxX3RocmVhZF9kYXRhKSkgewogICAgICAgICAgICBfc2xvd2RhcV9kb2UgPSBzbG93ZGFxX3RocmVhZF9kYXRhOwogICAgICAgIH0KICAgIH0KfTsKCnRlbXBsYXRlPHR5cGVuYW1lIFBpcGVzLCB0eXBlbmFtZSBEcmF3RnVuYz4KYXV0byBtYWtlX2d1aV9tYW5hZ2VyKGNvbnN0IFBpcGVzJiBwLCBEcmF3RnVuYyYmIGRmKSB7CiAgICByZXR1cm4gc3RkOjptYWtlX3VuaXF1ZTxHVUlNYW5hZ2VyPFBpcGVzLCBEcmF3RnVuYz4+KHAsCiAgICAgICAgICAgIHN0ZDo6Zm9yd2FyZDxEcmF3RnVuYz4oZGYpKTsKfQoKfSAgLy8gbmFtZXNwYWNlIFNCQ1F1ZWVucwojZW5kaWYKAAAAAAAAAACnQQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAhRkAAAAAAAAMGQAAAAAAAAAAAAAAAPC/"
				],
				[
					2,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAACnQQAAI2lmbmRlZiBHVUlNQU5BR0VSX0gKI2RlZmluZSBHVUlNQU5BR0VSX0gKI3ByYWdtYSBvbmNlCgovLyBDIFNURCBpbmNsdWRlcwojaW5jbHVkZSA8bWF0aC5oPgoKLy8gQyAzcmQgcGFydHkgaW5jbHVkZXMKI2luY2x1ZGUgPGltZ3VpLmg+CiNpbmNsdWRlIDxpbXBsb3QuaD4KCi8vIEMrKyBTVEQgaW5jbHVkZXMKI2luY2x1ZGUgPGNzdGRpbnQ+CiNpbmNsdWRlIDxtZW1vcnk+CiNpbmNsdWRlIDxzdHJpbmc+CiNpbmNsdWRlIDx1bm9yZGVyZWRfbWFwPgojaW5jbHVkZSA8dXRpbGl0eT4KI2luY2x1ZGUgPHZlY3Rvcj4KI2luY2x1ZGUgPGlvc3RyZWFtPgojaW5jbHVkZSA8dHVwbGU+CiNpbmNsdWRlIDxmdW5jdGlvbmFsPgoKLy8gQysrIDNyZCBwYXJ0eSBpbmNsdWRlcwojaW5jbHVkZSA8c3BkbG9nL3NwZGxvZy5oPgojaW5jbHVkZSA8dG9tbC5ocHA+CgovLyBNeSBpbmNsdWRlcwojaW5jbHVkZSAic2JjcXVlZW5zLWd1aS9oYXJkd2FyZV9oZWxwZXJzL1RlZW5zeUNvbnRyb2xsZXJJbnRlcmZhY2UuaHBwIgojaW5jbHVkZSAic2JjcXVlZW5zLWd1aS9oYXJkd2FyZV9oZWxwZXJzL0NBRU5EaWdpdGl6ZXJJbnRlcmZhY2UuaHBwIgojaW5jbHVkZSAic2JjcXVlZW5zLWd1aS9oYXJkd2FyZV9oZWxwZXJzL1Nsb3dEQVFJbnRlcmZhY2UuaHBwIgoKI2luY2x1ZGUgInNiY3F1ZWVucy1ndWkvY2Flbl9oZWxwZXIuaHBwIgojaW5jbHVkZSAic2JjcXVlZW5zLWd1aS9pbWd1aV9oZWxwZXJzLmhwcCIKI2luY2x1ZGUgInNiY3F1ZWVucy1ndWkvaW1wbG90X2hlbHBlcnMuaHBwIgojaW5jbHVkZSAic2JjcXVlZW5zLWd1aS9pbmRpY2F0b3JzLmhwcCIKCiNpbmNsdWRlICJzYmNxdWVlbnMtZ3VpL2d1aV93aW5kb3dzL0luZGljYXRvcldpbmRvdy5ocHAiCiNpbmNsdWRlICJzYmNxdWVlbnMtZ3VpL2d1aV93aW5kb3dzL0NvbnRyb2xXaW5kb3cuaHBwIgojaW5jbHVkZSAic2JjcXVlZW5zLWd1aS9ndWlfd2luZG93cy9TaVBNQ29udHJvbFdpbmRvdy5ocHAiCgpuYW1lc3BhY2UgU0JDUXVlZW5zIHsKCnRlbXBsYXRlPHR5cGVuYW1lLi4uIFF1ZXVlRnVuY3M+CmNsYXNzIEdVSU1hbmFnZXIgewogcHJpdmF0ZToKICAgIHN0ZDo6dHVwbGU8UXVldWVGdW5jcyYuLi4+IF9xdWV1ZXM7CgogICAgSW5kaWNhdG9yUmVjZWl2ZXI8SW5kaWNhdG9yTmFtZXM+IEdlbmVyYWxJbmRpY2F0b3JSZWNlaXZlcjsKICAgIEluZGljYXRvclJlY2VpdmVyPHVpbnQxNl90PiBNdWx0aVBsb3RSZWNlaXZlcjsKICAgIEluZGljYXRvclJlY2VpdmVyPHVpbnQ4X3Q+IFNpUE1QbG90UmVjZWl2ZXI7CgogICAgLy8gVGVlbnN5IENvbnRyb2xzCiAgICBDb250cm9sTGluazxUZWVuc3lRdWV1ZT4gVGVlbnN5Q29udHJvbEZhYzsKICAgIFRlZW5zeUNvbnRyb2xsZXJEYXRhIHRndWlfc3RhdGU7CgogICAgLy8gQ0FFTiBDb250cm9scwogICAgQ29udHJvbExpbms8Q0FFTlF1ZXVlPiBDQUVOQ29udHJvbEZhYzsKICAgIENBRU5JbnRlcmZhY2VEYXRhIGNndWlfc3RhdGU7CgogICAgLy8gT3RoZXIgY29udHJvbHMKICAgIENvbnRyb2xMaW5rPFNsb3dEQVFRdWV1ZT4gU2xvd0RBUUNvbnRyb2xGYWM7CiAgICBTbG93REFRRGF0YSBzZGFxX3N0YXRlOwoKICAgIHN0ZDo6c3RyaW5nIGlfcnVuX2RpcjsKICAgIHN0ZDo6c3RyaW5nIGlfcnVuX25hbWU7CgogICAgdG9tbDo6dGFibGUgY29uZmlnX2ZpbGU7CiAgICBzdGQ6OnZlY3RvcjxzdGQ6OnN0cmluZz4gcnRkX25hbWVzOwogICAgc3RkOjp2ZWN0b3I8c3RkOjpzdHJpbmc+IHNpcG1fbmFtZXM7CgogICAgSW5kaWNhdG9yV2luZG93IGluZGljYXRvcldpbmRvdzsKICAgIENvbnRyb2xXaW5kb3cgY29udHJvbFdpbmRvdzsKICAgIFNpUE1Db250cm9sV2luZG93IHNpcG1Db250cm9sV2luZG93OwoKIHB1YmxpYzoKICAgIGV4cGxpY2l0IEdVSU1hbmFnZXIoUXVldWVGdW5jcyYuLi4gcXVldWVzKSA6CiAgICAgICAgX3F1ZXVlcyhzdGQ6OmZvcndhcmRfYXNfdHVwbGUocXVldWVzLi4uKSksCiAgICAgICAgR2VuZXJhbEluZGljYXRvclJlY2VpdmVyKHN0ZDo6Z2V0PEdlbmVyYWxJbmRpY2F0b3JRdWV1ZSY+KF9xdWV1ZXMpKSwKICAgICAgICBNdWx0aVBsb3RSZWNlaXZlciAgIChzdGQ6OmdldDxNdWx0aXBsZVBsb3RRdWV1ZSY+KF9xdWV1ZXMpKSwKICAgICAgICBTaVBNUGxvdFJlY2VpdmVyICAgIChzdGQ6OmdldDxTaVBNUGxvdFF1ZXVlJj4oX3F1ZXVlcykpLAogICAgICAgIFRlZW5zeUNvbnRyb2xGYWMgICAgKHN0ZDo6Z2V0PFRlZW5zeVF1ZXVlJj4oX3F1ZXVlcykpLAogICAgICAgIENBRU5Db250cm9sRmFjICAoc3RkOjpnZXQ8Q0FFTlF1ZXVlJj4oX3F1ZXVlcykpLAogICAgICAgIFNsb3dEQVFDb250cm9sRmFjICAgKHN0ZDo6Z2V0PFNsb3dEQVFRdWV1ZSY+KF9xdWV1ZXMpKSwKICAgICAgICBpbmRpY2F0b3JXaW5kb3cgICAgIChHZW5lcmFsSW5kaWNhdG9yUmVjZWl2ZXIsCiAgICAgICAgICAgIHN0ZDo6Z2V0PENBRU5RdWV1ZSY+KF9xdWV1ZXMpLAogICAgICAgICAgICB0Z3VpX3N0YXRlLCBzZGFxX3N0YXRlKSwKICAgICAgICBjb250cm9sV2luZG93KFRlZW5zeUNvbnRyb2xGYWMsIHRndWlfc3RhdGUsIENBRU5Db250cm9sRmFjLCBjZ3VpX3N0YXRlLAogICAgICAgICAgICBTbG93REFRQ29udHJvbEZhYywgc2RhcV9zdGF0ZSksCiAgICAgICAgc2lwbUNvbnRyb2xXaW5kb3coQ0FFTkNvbnRyb2xGYWMsIGNndWlfc3RhdGUsIEdlbmVyYWxJbmRpY2F0b3JSZWNlaXZlciwKICAgICAgICAgICAgdGd1aV9zdGF0ZSkKICAgICAgICB7CiAgICAgICAgLy8gV2hlbiBjb25maWdfZmlsZSBnb2VzIG91dCBvZiBzY29wZSwgZXZlcnl0aGluZwogICAgICAgIC8vIGluY2x1ZGluZyB0aGUgZGF1Z2h0ZXJzIGdldCBjbGVhcmVkCiAgICAgICAgY29uZmlnX2ZpbGUgPSB0b21sOjpwYXJzZV9maWxlKCJndWlfc2V0dXAudG9tbCIpOwogICAgICAgIGF1dG8gdF9jb25mID0gY29uZmlnX2ZpbGVbIlRlZW5zeSJdOwogICAgICAgIC8vIGF1dG8gQ0FFTl9jb25mID0gY29uZmlnX2ZpbGVbIkNBRU4iXTsKICAgICAgICAvLyBhdXRvIGZpbGVfY29uZiA9IGNvbmZpZ19maWxlWyJGaWxlIl07CgogICAgICAgIGluZGljYXRvcldpbmRvdy5Jbml0KGNvbmZpZ19maWxlKTsKICAgICAgICBjb250cm9sV2luZG93LmluaXQoY29uZmlnX2ZpbGUpOwogICAgICAgIHNpcG1Db250cm9sV2luZG93LmluaXQoY29uZmlnX2ZpbGUpOwoKICAgICAgICBpZiAodG9tbDo6YXJyYXkqIGFyciA9IHRfY29uZlsiUlRETmFtZXMiXS5hc19hcnJheSgpKSB7CiAgICAgICAgICAgIGZvciAodG9tbDo6bm9kZSYgZWxlbSA6ICphcnIpIHsKICAgICAgICAgICAgICAgIHJ0ZF9uYW1lcy5lbXBsYWNlX2JhY2soZWxlbS52YWx1ZV9vcigiIikpOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBpZiAodG9tbDo6YXJyYXkqIGFyciA9IHRfY29uZlsiU2lQTU5hbWVzIl0uYXNfYXJyYXkoKSkgewogICAgICAgICAgICBmb3IgKHRvbWw6Om5vZGUmIGVsZW0gOiAqYXJyKSB7CiAgICAgICAgICAgICAgICBzaXBtX25hbWVzLmVtcGxhY2VfYmFjayhlbGVtLnZhbHVlX29yKCIiKSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgoKICAgIH0KCiAgICAvLyBObyBjb3B5aW5nCiAgICBHVUlNYW5hZ2VyKGNvbnN0IEdVSU1hbmFnZXImKSA9IGRlbGV0ZTsKCiAgICB+R1VJTWFuYWdlcigpIHsgfQoKICAgIHZvaWQgb3BlcmF0b3IoKSgpIHsKICAgICAgICBzdGF0aWMgYm9vbCB0cmdfb25jZSA9IHRydWU7CiAgICAgICAgaWYgKHRyZ19vbmNlKSB7CiAgICAgICAgICAgIEltUGxvdDo6U3R5bGVDb2xvcnNEYXJrKCk7CiAgICAgICAgICAgIEltUGxvdDo6R2V0U3R5bGUoKS5Vc2VMb2NhbFRpbWUgPSB0cnVlOwogICAgICAgICAgICB0cmdfb25jZSA9IGZhbHNlOwogICAgICAgIH0KCiAgICAgICAgY29udHJvbFdpbmRvdygpOwogICAgICAgIHNpcG1Db250cm9sV2luZG93KCk7CgogICAgICAgIC8vLy8gUGxvdHMKICAgICAgICBJbUd1aTo6QmVnaW4oIk90aGVyIFBsb3RzIik7CgogICAgICAgIC8vIFRoaXMgZnVuY3RvciB1cGRhdGVzIHRoZSBwbG90cyB2YWx1ZXMgZnJvbSB0aGUgcXVldWUuCiAgICAgICAgR2VuZXJhbEluZGljYXRvclJlY2VpdmVyKCk7CiAgICAgICAgTXVsdGlQbG90UmVjZWl2ZXIoKTsKICAgICAgICBTaVBNUGxvdFJlY2VpdmVyKCk7CgogICAgICAgIGNvbnN0IGF1dG8gZ19heGlzX2ZsYWdzID0gSW1QbG90QXhpc0ZsYWdzX0F1dG9GaXQ7CiAgICAgICAgLy8gLy8vIFRlZW5zeS1CTUUyODAgUGxvdHMKICAgICAgICBpZiAoSW1HdWk6OkJ1dHRvbigiQ2xlYXIiKSkgewogICAgICAgICAgICBHZW5lcmFsSW5kaWNhdG9yUmVjZWl2ZXIuQ2xlYXJQbG90KAogICAgICAgICAgICAgICAgSW5kaWNhdG9yTmFtZXM6OkxPQ0FMX0JNRV9IVU1EKTsKICAgICAgICAgICAgR2VuZXJhbEluZGljYXRvclJlY2VpdmVyLkNsZWFyUGxvdCgKICAgICAgICAgICAgICAgIEluZGljYXRvck5hbWVzOjpMT0NBTF9CTUVfVEVNUFMpOwogICAgICAgICAgICBHZW5lcmFsSW5kaWNhdG9yUmVjZWl2ZXIuQ2xlYXJQbG90KAogICAgICAgICAgICAgICAgSW5kaWNhdG9yTmFtZXM6OkxPQ0FMX0JNRV9QUkVTUyk7CgogICAgICAgICAgICBHZW5lcmFsSW5kaWNhdG9yUmVjZWl2ZXIuQ2xlYXJQbG90KAogICAgICAgICAgICAgICAgSW5kaWNhdG9yTmFtZXM6OlBGRUlGRkVSX1BSRVNTKTsKICAgICAgICAgICAgR2VuZXJhbEluZGljYXRvclJlY2VpdmVyLkNsZWFyUGxvdCgKICAgICAgICAgICAgICAgIEluZGljYXRvck5hbWVzOjpWQUNVVU1fUFJFU1MpOwogICAgICAgIH0KCiAgICAgICAgaWYgKEltR3VpOjpCZWdpblRhYkJhcigiT3RoZXIgUGxvdHMiKSkgewogICAgICAgICAgICBpZiAoIXRndWlfc3RhdGUuU3lzdGVtUGFyYW1ldGVycy5JblJURE9ubHlNb2RlKSB7CiAgICAgICAgICAgICAgICBpZiAoSW1HdWk6OkJlZ2luVGFiSXRlbSgiTG9jYWwgQk1FIikpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoSW1QbG90OjpCZWdpblBsb3QoIkxvY2FsIEJNRSIsIEltVmVjMigtMSwgMCkpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdlIHNldHVwIHRoZSBheGlzCiAgICAgICAgICAgICAgICAgICAgICAgIEltUGxvdDo6U2V0dXBBeGlzU2NhbGUoSW1BeGlzX1gxLCBJbVBsb3RTY2FsZV9UaW1lKTsKICAgICAgICAgICAgICAgICAgICAgICAgSW1QbG90OjpTZXR1cEF4ZXMoInRpbWUgW3NdIiwgIkh1bWlkaXR5IFslXSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnX2F4aXNfZmxhZ3MsIGdfYXhpc19mbGFncyk7CiAgICAgICAgICAgICAgICAgICAgICAgIEltUGxvdDo6U2V0dXBBeGlzKEltQXhpc19ZMywgIlByZXNzdXJlIFtQYV0iLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZ19heGlzX2ZsYWdzIHwgSW1QbG90QXhpc0ZsYWdzX09wcG9zaXRlKTsKICAgICAgICAgICAgICAgICAgICAgICAgSW1QbG90OjpTZXR1cEF4aXMoSW1BeGlzX1kyLCAiVGVtcGVyYXR1cmUgW2RlZ0NdIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdfYXhpc19mbGFncyB8IEltUGxvdEF4aXNGbGFnc19PcHBvc2l0ZSk7CgogICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIG9uZSBkb2VzIG5vdCBuZWVkIGFuIFNldEF4ZXMgYXMgaXQgdGFrZXMgdGhlCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRlZmF1bHQuCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoaXMgZnVuY3RvciBpcyBhbG1vc3QgdGhlIHNhbWUgYXMgY2FsbGluZyBJbVBsb3QKICAgICAgICAgICAgICAgICAgICAgICAgR2VuZXJhbEluZGljYXRvclJlY2VpdmVyLnBsb3QoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBJbmRpY2F0b3JOYW1lczo6TE9DQUxfQk1FX0hVTUQsICJIdW1pZGl0eSIpOwoKICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2UgbmVlZCB0byBjYWxsIFNldEF4ZXMgYmVmb3JlIEltUGxvdDo6UGxvdExpbmVzCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRvIGxldCB0aGUgQVBJIGtub3cgdGhlIGF4aXMgb2Ygb3VyIGRhdGEKICAgICAgICAgICAgICAgICAgICAgICAgSW1QbG90OjpTZXRBeGVzKEltQXhpc19YMSwgSW1BeGlzX1kyKTsKICAgICAgICAgICAgICAgICAgICAgICAgR2VuZXJhbEluZGljYXRvclJlY2VpdmVyLnBsb3QoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBJbmRpY2F0b3JOYW1lczo6TE9DQUxfQk1FX1RFTVBTLCAiVGVtcGVyYXR1cmUiKTsKCiAgICAgICAgICAgICAgICAgICAgICAgIEltUGxvdDo6U2V0QXhlcyhJbUF4aXNfWDEsIEltQXhpc19ZMyk7CiAgICAgICAgICAgICAgICAgICAgICAgIEdlbmVyYWxJbmRpY2F0b3JSZWNlaXZlci5wbG90KAogICAgICAgICAgICAgICAgICAgICAgICAgICAgSW5kaWNhdG9yTmFtZXM6OkxPQ0FMX0JNRV9QUkVTUywgIlByZXNzdXJlIik7CgogICAgICAgICAgICAgICAgICAgICAgICBJbVBsb3Q6OkVuZFBsb3QoKTsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIEltR3VpOjpFbmRUYWJJdGVtKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmIChJbUd1aTo6QmVnaW5UYWJJdGVtKCJQcmVzc3VyZXMiKSkgewogICAgICAgICAgICAgICAgc3RhdGljIEltUGxvdFNjYWxlIHByZXNzX3NjYWxlX2F4aXMgPSBJbVBsb3RTY2FsZV9MaW5lYXI7CiAgICAgICAgICAgICAgICBJbUd1aTo6Q2hlY2tib3hGbGFncygiTG9nIEF4aXMiLAogICAgICAgICAgICAgICAgICAgICh1bnNpZ25lZCBpbnQqKSZwcmVzc19zY2FsZV9heGlzLCBJbVBsb3RTY2FsZV9Mb2cxMCk7CiAgICAgICAgICAgICAgICBpZiAoSW1QbG90OjpCZWdpblBsb3QoIlByZXNzdXJlcyIsIEltVmVjMigtMSwgLTEpKSkgewogICAgICAgICAgICAgICAgICAgIEltUGxvdDo6U2V0dXBBeGlzU2NhbGUoSW1BeGlzX1kxLCBwcmVzc19zY2FsZV9heGlzKTsKICAgICAgICAgICAgICAgICAgICBJbVBsb3Q6OlNldHVwQXhpc1NjYWxlKEltQXhpc19YMSwgSW1QbG90U2NhbGVfVGltZSk7CiAgICAgICAgICAgICAgICAgICAgSW1QbG90OjpTZXR1cEF4ZXMoInRpbWUgW3NdIiwgIlAgW0Jhcl0iLAogICAgICAgICAgICAgICAgICAgICAgICBnX2F4aXNfZmxhZ3MsIGdfYXhpc19mbGFncyk7CgogICAgICAgICAgICAgICAgICAgIEdlbmVyYWxJbmRpY2F0b3JSZWNlaXZlci5wbG90KAogICAgICAgICAgICAgICAgICAgICAgICBJbmRpY2F0b3JOYW1lczo6UEZFSUZGRVJfUFJFU1MsICJQRkVJRkZFUiIpOwogICAgICAgICAgICAgICAgICAgIEdlbmVyYWxJbmRpY2F0b3JSZWNlaXZlci5wbG90KAogICAgICAgICAgICAgICAgICAgICAgICBJbmRpY2F0b3JOYW1lczo6VkFDVVVNX1BSRVNTLCAiVmFjdXVtIGxpbmUiKTsKCiAgICAgICAgICAgICAgICAgICAgSW1QbG90OjpFbmRQbG90KCk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgSW1HdWk6OkVuZFRhYkl0ZW0oKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgSW1HdWk6OkVuZFRhYkJhcigpOwogICAgICAgIH0KCiAgICAgICAgSW1HdWk6OkVuZCgpOwogICAgICAgIC8vIC8vLyAhVGVlbnN5LUJNRTI4MCBQbG90cwogICAgICAgIC8vIC8vLy8KICAgICAgICAvLyAvLy8gVGVlbnN5LVBJRCBQbG90cwogICAgICAgIEltR3VpOjpCZWdpbigiVGVlbnN5LVBJRCBQbG90cyIpOwoKICAgICAgICBpZiAoSW1HdWk6OkJ1dHRvbigiQ2xlYXIiKSkgewogICAgICAgICAgICBmb3IgKHVpbnQxNl90IGkgPSAwOyBpIDwgdGd1aV9zdGF0ZS5TeXN0ZW1QYXJhbWV0ZXJzLk51bVJ0ZEJvYXJkczsgaSsrKSB7CiAgICAgICAgICAgICAgICBmb3IgKHVpbnQxNl90IGogPSAwOyBqIDwgdGd1aV9zdGF0ZS5TeXN0ZW1QYXJhbWV0ZXJzLk51bVJ0ZHNQZXJCb2FyZDsgaisrKSB7CiAgICAgICAgICAgICAgICAgICAgdWludDE2X3QgayA9IHN0YXRpY19jYXN0PHVpbnQxNl90PigKICAgICAgICAgICAgICAgICAgICAgICAgaSp0Z3VpX3N0YXRlLlN5c3RlbVBhcmFtZXRlcnMuTnVtUnRkc1BlckJvYXJkICtqKTsKCiAgICAgICAgICAgICAgICAgICAgTXVsdGlQbG90UmVjZWl2ZXIuQ2xlYXJQbG90KGspOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBpZiAoIXRndWlfc3RhdGUuU3lzdGVtUGFyYW1ldGVycy5JblJURE9ubHlNb2RlKSB7CiAgICAgICAgICAgIGlmIChJbVBsb3Q6OkJlZ2luUGxvdCgiUElEcyIsIEltVmVjMigtMSwgMCkpKSB7CiAgICAgICAgICAgICAgICBJbVBsb3Q6OlNldHVwQXhlcygidGltZSBbc10iLCAiQ3VycmVudCBbQV0iLAogICAgICAgICAgICAgICAgICAgIGdfYXhpc19mbGFncywgZ19heGlzX2ZsYWdzKTsKICAgICAgICAgICAgICAgIEltUGxvdDo6U2V0dXBBeGlzU2NhbGUoSW1BeGlzX1gxLCBJbVBsb3RTY2FsZV9UaW1lKTsKCiAgICAgICAgICAgICAgICBHZW5lcmFsSW5kaWNhdG9yUmVjZWl2ZXIucGxvdChJbmRpY2F0b3JOYW1lczo6UEVMVElFUl9DVVJSLCAiQ3VycmVudCIpOwoKICAgICAgICAgICAgICAgIEltUGxvdDo6RW5kUGxvdCgpOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBzdGF0aWMgSW1QbG90UmVjdCByZWN0KDAsIDEsIDAsIDMyMCk7CiAgICAgICAgc3RhdGljIEltUGxvdFNjYWxlIHJ0ZF9zY2FsZV9heGlzID0gSW1QbG90U2NhbGVfTGluZWFyOwogICAgICAgIEltR3VpOjpDaGVja2JveEZsYWdzKCJMb2cgQXhpcyIsCiAgICAgICAgICAgICZydGRfc2NhbGVfYXhpcywgSW1QbG90U2NhbGVfTG9nMTApOwoKICAgICAgICBpZiAoSW1QbG90OjpCZWdpblBsb3QoIlJURHMiLCBJbVZlYzIoLTEsIDApKSkgewogICAgICAgICAgICBJbVBsb3Q6OlNldHVwQXhpc1NjYWxlKEltQXhpc19ZMSwgcnRkX3NjYWxlX2F4aXMpOwogICAgICAgICAgICBJbVBsb3Q6OlNldHVwQXhpc1NjYWxlKEltQXhpc19YMSwgSW1QbG90U2NhbGVfVGltZSk7CiAgICAgICAgICAgIEltUGxvdDo6U2V0dXBBeGVzKCJ0aW1lIFtzXSIsICJUZW1wZXJhdHVyZSBbS10iLAogICAgICAgICAgICAgICAgZ19heGlzX2ZsYWdzLCBnX2F4aXNfZmxhZ3MpOwoKICAgICAgICAgICAgZm9yICh1aW50MTZfdCBpID0gMDsgaSA8IHRndWlfc3RhdGUuU3lzdGVtUGFyYW1ldGVycy5OdW1SdGRCb2FyZHM7IGkrKykgewogICAgICAgICAgICAgICAgZm9yICh1aW50MTZfdCBqID0gMDsgaiA8IHRndWlfc3RhdGUuU3lzdGVtUGFyYW1ldGVycy5OdW1SdGRzUGVyQm9hcmQ7IGorKykgewogICAgICAgICAgICAgICAgICAgIHVpbnQxNl90IGsgPSBzdGF0aWNfY2FzdDx1aW50MTZfdD4oCiAgICAgICAgICAgICAgICAgICAgICAgIGkqdGd1aV9zdGF0ZS5TeXN0ZW1QYXJhbWV0ZXJzLk51bVJ0ZHNQZXJCb2FyZCAraik7CgogICAgICAgICAgICAgICAgICAgIGlmIChrIDwgcnRkX25hbWVzLnNpemUoKSkgewogICAgICAgICAgICAgICAgICAgICAgICBNdWx0aVBsb3RSZWNlaXZlci5wbG90KGssIHJ0ZF9uYW1lc1trXSk7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgTXVsdGlQbG90UmVjZWl2ZXIucGxvdChrLCBzdGQ6OnRvX3N0cmluZyhrKSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICByZWN0ID0gSW1QbG90OjpHZXRQbG90TGltaXRzKCk7CgogICAgICAgICAgICBJbVBsb3Q6OkVuZFBsb3QoKTsKICAgICAgICB9CgogICAgICAgIHN0YXRpYyBmbG9hdCBydGRfem9vbV9tdWx0aXBsaWVyWzJdID0gezAuMH07CiAgICAgICAgSW1HdWk6OlNsaWRlckZsb2F0MigiWm9vbSAlIiwgcnRkX3pvb21fbXVsdGlwbGllciwgMC4wZiwgMS4wZik7CiAgICAgICAgLy8gSW1HdWk6OlZTbGlkZXJGbG9hdCgiWm9vbSBZJSIsIEltVmVjMigxOCwgMTYwKSwmeV9ydGRfem9vbV9tdWx0aXBsaWVyLCAwLjBmLCAxLjBmKTsKICAgICAgICAvLyBJbUd1aTo6U2FtZUxpbmUoKTsKCiAgICAgICAgaWYgKEltUGxvdDo6QmVnaW5QbG90KCJSVEQgWm9vbSIsIEltVmVjMigtMSwgMCkpKSB7CiAgICAgICAgICAgIEltUGxvdDo6U2V0dXBBeGlzU2NhbGUoSW1BeGlzX1kxLCBydGRfc2NhbGVfYXhpcyk7CiAgICAgICAgICAgIEltUGxvdDo6U2V0dXBBeGlzU2NhbGUoSW1BeGlzX1gxLCBJbVBsb3RTY2FsZV9UaW1lKTsKICAgICAgICAgICAgSW1QbG90OjpTZXR1cEF4ZXMoInRpbWUgW3NdIiwgIlRlbXBlcmF0dXJlIFtLXSIsCiAgICAgICAgICAgICAgICBnX2F4aXNfZmxhZ3MsIGdfYXhpc19mbGFncyk7CiAgICAgICAgICAgIEltUGxvdDo6U2V0dXBBeGVzTGltaXRzKAogICAgICAgICAgICAgICAgc3RhdGljX2Nhc3Q8ZG91YmxlPihydGRfem9vbV9tdWx0aXBsaWVyWzBdKSoocmVjdC5YLk1pbgogICAgICAgICAgICAgICAgICAgICsgcmVjdC5YLk1heCkgKyByZWN0LlguTWluLAogICAgICAgICAgICAgICAgcmVjdC5YLk1heCwKICAgICAgICAgICAgICAgIHN0YXRpY19jYXN0PGRvdWJsZT4ocnRkX3pvb21fbXVsdGlwbGllclsxXSkqKHJlY3QuWS5NaW4KICAgICAgICAgICAgICAgICAgICArIHJlY3QuWS5NYXgpICsgcmVjdC5ZLk1pbiwKICAgICAgICAgICAgICAgIHJlY3QuWS5NYXgsIEltR3VpQ29uZF9BbHdheXMpOwoKICAgICAgICAgICAgZm9yICh1aW50MTZfdCBpID0gMDsgaSA8IHRndWlfc3RhdGUuU3lzdGVtUGFyYW1ldGVycy5OdW1SdGRCb2FyZHM7IGkrKykgewogICAgICAgICAgICAgICAgZm9yICh1aW50MTZfdCBqID0gMDsgaiA8IHRndWlfc3RhdGUuU3lzdGVtUGFyYW1ldGVycy5OdW1SdGRzUGVyQm9hcmQ7IGorKykgewogICAgICAgICAgICAgICAgICAgIHVpbnQxNl90IGsgPSBzdGF0aWNfY2FzdDx1aW50MTZfdD4oCiAgICAgICAgICAgICAgICAgICAgICAgIGkqdGd1aV9zdGF0ZS5TeXN0ZW1QYXJhbWV0ZXJzLk51bVJ0ZHNQZXJCb2FyZCAraik7CgogICAgICAgICAgICAgICAgICAgIGlmIChrIDwgcnRkX25hbWVzLnNpemUoKSkgewogICAgICAgICAgICAgICAgICAgICAgICBNdWx0aVBsb3RSZWNlaXZlci5wbG90KGssIHJ0ZF9uYW1lc1trXSk7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgTXVsdGlQbG90UmVjZWl2ZXIucGxvdChrLCBzdGQ6OnRvX3N0cmluZyhrKSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICBJbVBsb3Q6OkVuZFBsb3QoKTsKICAgICAgICB9CgogICAgICAgIEltR3VpOjpFbmQoKTsKICAgICAgICAvLy8gIVRlZW5zeS1QSUQgUGxvdHMKICAgICAgICAvLy8vCiAgICAgICAgLy8vIFNpUE0gUGxvdHMKCgogICAgICAgIEltR3VpOjpCZWdpbigiU2lQTXMgUGxvdHMiKTsKCiAgICAgICAgaWYgKEltR3VpOjpCZWdpblRhYkJhcigiU2lQTXMgUGxvdHMiKSkgewogICAgICAgICAgICBpZiAoSW1HdWk6OkJlZ2luVGFiSXRlbSgiU2lQTSBXYXZlZm9ybXMiKSkgewogICAgICAgICAgICAgICAgY29uc3Qgc2l6ZV90IGtDSHBlckdyb3VwID0gODsKICAgICAgICAgICAgICAgIGNvbnN0IGF1dG8mIG1vZGVsX2NvbnN0YW50cwogICAgICAgICAgICAgICAgICAgID0gQ0FFTkRpZ2l0aXplck1vZGVsc0NvbnN0YW50c01hcC5hdChjZ3VpX3N0YXRlLk1vZGVsKTsKICAgICAgICAgICAgICAgIC8vIGNvbnN0IGF1dG8gbnVtZ3JvdXBzID0gbW9kZWxfY29uc3RhbnRzLk51bWJlck9mR3JvdXBzID4gMCA/CiAgICAgICAgICAgICAgICAvLyAgICAgbW9kZWxfY29uc3RhbnRzLk51bWJlck9mR3JvdXBzIDogMTsKICAgICAgICAgICAgICAgIC8vIGNvbnN0IGludCBudW1jaHBlcmdyb3VwID0gbW9kZWxfY29uc3RhbnRzLk51bUNoYW5uZWxzIC8gbnVtZ3JvdXBzOwogICAgICAgICAgICAgICAgLy8gTGV0J3Mgd29yayBvbiBjb25zdCBhdXRvJiBiZWNhdXNlIHdlIHJlYWxseSBkbyBub3Qgd2FudCB0byBjaGFuZ2UKICAgICAgICAgICAgICAgIC8vIGFueXRoaW5nIGluIHRoZXNlIG5leHQgbGluZXMKICAgICAgICAgICAgICAgIGlmIChJbVBsb3Q6OkJlZ2luUGxvdCgiIyNTaVBNV2F2ZWZvcm1zIiwgSW1WZWMyKC0xLCAtMSksCiAgICAgICAgICAgICAgICAgICAgSW1QbG90RmxhZ3NfTm9UaXRsZSkpIHsKICAgICAgICAgICAgICAgICAgICBJbVBsb3Q6OlNldHVwQXhlcygidGltZSBbbnNdIiwgIkNvdW50cyIsIGdfYXhpc19mbGFncywKICAgICAgICAgICAgICAgICAgICAgICAgZ19heGlzX2ZsYWdzKTsKICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGF1dG8mIGdwIDogY2d1aV9zdGF0ZS5Hcm91cENvbmZpZ3MpIHsKICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2UgbmVlZCB0aGUgbnVtYmVyIG9mIGdyb3VwcyBlYWNoIG1vZGVsIGhhcwoKICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgZ3JvdXBzIGlzIGhpZ2hlciB0aGFuIDAsIHRoZW4gaXQgaGFzIGdyb3VwcwogICAgICAgICAgICAgICAgICAgICAgICAvLyBvdGhlcndpc2UgZWFjaCBncm91cCBpcyBhIGNoYW5uZWwKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1vZGVsX2NvbnN0YW50cy5OdW1iZXJPZkdyb3VwcyA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEVhY2ggbWFzayBjb250YWlucyBpZiB0aGUgY2hhbm5lbCBpcyBlbmFibGVkCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhdXRvJiBtYXNrID0gZ3AuQWNxdWlzaXRpb25NYXNrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlcmUgaXMgYWx3YXlzIGF0IG1heCA4IGNoYW5uZWxzLgogICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChzdGQ6OnNpemVfdCBpID0gMDsgaSA8IGtDSHBlckdyb3VwOyBpKyspIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWFzayAmICgxIDw8IGkpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNpUE1QbG90UmVjZWl2ZXIucGxvdCgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGljX2Nhc3Q8dWludDhfdD4oa0NIcGVyR3JvdXAqZ3AuTnVtYmVyICsgaSksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJHUCAiICsgIHN0ZDo6dG9fc3RyaW5nKGdwLk51bWJlcikKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyAiQ0ggIiArIHN0ZDo6dG9fc3RyaW5nKGkpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQbG90U3R5bGU6OkxpbmUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRydWUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBJbVBsb3Q6OkVuZFBsb3QoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBTaVBNUGxvdFJlY2VpdmVyLnBsb3QoZ3AuTnVtYmVyLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJDSCAiICsgc3RkOjp0b19zdHJpbmcoZ3AuTnVtYmVyKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQbG90U3R5bGU6OkxpbmUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ1ZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgSW1QbG90OjpFbmRQbG90KCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBJbUd1aTo6RW5kVGFiSXRlbSgpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoSW1HdWk6OkJlZ2luVGFiSXRlbSgiSS1WIikpIHsKICAgICAgICAgICAgICAgIHN0YXRpYyBJbVBsb3RTY2FsZSBjdXJyX3NjYWxlX2F4aXMgPSBJbVBsb3RTY2FsZV9MaW5lYXI7CiAgICAgICAgICAgICAgICBJbUd1aTo6Q2hlY2tib3hGbGFncygiQ3VycmVudCBMb2cgQXhpcyIsCiAgICAgICAgICAgICAgICAgICAgJmN1cnJfc2NhbGVfYXhpcywgSW1QbG90U2NhbGVfTG9nMTApOwoKICAgICAgICAgICAgICAgIGlmIChJbVBsb3Q6OkJlZ2luUGxvdCgiVm9sdGFnZSIsIEltVmVjMigtMSwgLTEpLAogICAgICAgICAgICAgICAgICAgIEltUGxvdEZsYWdzX05vVGl0bGUpKSB7CiAgICAgICAgICAgICAgICAgICAgSW1QbG90OjpTZXR1cEF4aXNTY2FsZShJbUF4aXNfWDEsIEltUGxvdFNjYWxlX1RpbWUpOwogICAgICAgICAgICAgICAgICAgIEltUGxvdDo6U2V0dXBBeGlzRm9ybWF0KEltQXhpc19ZMSwgIiUyLjdmIik7CiAgICAgICAgICAgICAgICAgICAgSW1QbG90OjpTZXR1cEF4ZXMoInRpbWUgW0VTVF0iLCAiVm9sdGFnZSBbVl0iLCBnX2F4aXNfZmxhZ3MsCiAgICAgICAgICAgICAgICAgICAgICAgIGdfYXhpc19mbGFncyk7CiAgICAgICAgICAgICAgICAgICAgSW1QbG90OjpTZXR1cEF4aXMoSW1BeGlzX1kyLCAiQ3VycmVudCBbdUFdIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdfYXhpc19mbGFncyB8IEltUGxvdEF4aXNGbGFnc19PcHBvc2l0ZSk7CiAgICAgICAgICAgICAgICAgICAgSW1QbG90OjpTZXR1cEF4aXNTY2FsZShJbUF4aXNfWTIsIGN1cnJfc2NhbGVfYXhpcyk7CgogICAgICAgICAgICAgICAgICAgIEdlbmVyYWxJbmRpY2F0b3JSZWNlaXZlci5wbG90KEluZGljYXRvck5hbWVzOjpETU1fVk9MVEFHRSwKICAgICAgICAgICAgICAgICAgICAgICAgIlZvbHRhZ2UiKTsKCiAgICAgICAgICAgICAgICAgICAgSW1QbG90OjpTZXRBeGVzKEltQXhpc19YMSwgSW1BeGlzX1kyKTsKICAgICAgICAgICAgICAgICAgICBHZW5lcmFsSW5kaWNhdG9yUmVjZWl2ZXIucGxvdChJbmRpY2F0b3JOYW1lczo6UElDT19DVVJSRU5ULAogICAgICAgICAgICAgICAgICAgICAgICAiQ3VycmVudCIpOwoKICAgICAgICAgICAgICAgICAgICBJbVBsb3Q6OkVuZFBsb3QoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIEltR3VpOjpFbmRUYWJJdGVtKCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmIChJbUd1aTo6QmVnaW5UYWJJdGVtKCJHLVYiKSkgewogICAgICAgICAgICAgICAgaWYgKEltR3VpOjpCdXR0b24oIkNsZWFyIikpIHsKICAgICAgICAgICAgICAgICAgICBHZW5lcmFsSW5kaWNhdG9yUmVjZWl2ZXIuQ2xlYXJQbG90KAogICAgICAgICAgICAgICAgICAgICAgICBJbmRpY2F0b3JOYW1lczo6R0FJTl9WU19WT0xUQUdFKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoSW1QbG90OjpCZWdpblBsb3QoIlZvbHRhZ2UiLCBJbVZlYzIoLTEsIC0xKSwKICAgICAgICAgICAgICAgICAgICBJbVBsb3RGbGFnc19Ob1RpdGxlKSkgewogICAgICAgICAgICAgICAgICAgIEltUGxvdDo6U2V0dXBBeGVzKCJWb2x0YWdlIFtWXSIsICJHYWluIFthcmJdIiwgZ19heGlzX2ZsYWdzLAogICAgICAgICAgICAgICAgICAgICAgICBnX2F4aXNfZmxhZ3MpOwoKICAgICAgICAgICAgICAgICAgICBHZW5lcmFsSW5kaWNhdG9yUmVjZWl2ZXIucGxvdCgKICAgICAgICAgICAgICAgICAgICAgICAgSW5kaWNhdG9yTmFtZXM6OkdBSU5fVlNfVk9MVEFHRSwKICAgICAgICAgICAgICAgICAgICAgICAgIkdhaW4iLCBQbG90U3R5bGU6OlNjYXR0ZXIpOwoKICAgICAgICAgICAgICAgICAgICBJbVBsb3Q6OkVuZFBsb3QoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIEltR3VpOjpFbmRUYWJJdGVtKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgSW1HdWk6OkVuZFRhYkJhcigpOwogICAgICAgIH0KCiAgICAgICAgSW1HdWk6OkVuZCgpOwogICAgICAgIC8vLyAhU2lQTSBQbG90cwogICAgICAgIC8vLy8gIVBsb3RzCgogICAgICAgIGluZGljYXRvcldpbmRvdygpOwogICAgfQoKICAgIC8vIGNsb3NpbmcgaXMgY2FsbGVkIHdoZW4gdGhlIEdVSSBpcyBtYW51YWxseSBjbG9zZWQuCiAgICB2b2lkIGNsb3NpbmcoKSB7CiAgICAgICAgLy8gVGhlIG9ubHkgYWN0aW9uIHRvIHRha2UgaXMgdGhhdCB3ZSBsZXQgdGhlCiAgICAgICAgLy8gVGVlbnN5IFRocmVhZCB0byBjbG9zZSwgdG9vLgogICAgICAgIFRlZW5zeVF1ZXVlJiB0cSA9IHN0ZDo6Z2V0PFRlZW5zeVF1ZXVlJj4oX3F1ZXVlcyk7CiAgICAgICAgdHEudHJ5X2VucXVldWUoCiAgICAgICAgICAgIFtdKFRlZW5zeUNvbnRyb2xsZXJEYXRhJiBvbGRTdGF0ZSkgewogICAgICAgICAgICAgICAgb2xkU3RhdGUuQ3VycmVudFN0YXRlID0gVGVlbnN5Q29udHJvbGxlclN0YXRlczo6Q2xvc2luZzsKICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0pOwoKICAgICAgICBDQUVOUXVldWUmIGNxID0gc3RkOjpnZXQ8Q0FFTlF1ZXVlJj4oX3F1ZXVlcyk7CiAgICAgICAgY3EudHJ5X2VucXVldWUoCiAgICAgICAgICAgIFtdKENBRU5JbnRlcmZhY2VEYXRhJiBzdGF0ZSkgewogICAgICAgICAgICAgICAgc3RhdGUuQ3VycmVudFN0YXRlID0gQ0FFTkludGVyZmFjZVN0YXRlczo6Q2xvc2luZzsKICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0pOwoKICAgICAgICBTbG93REFRUXVldWUmIG9xID0gc3RkOjpnZXQ8U2xvd0RBUVF1ZXVlJj4oX3F1ZXVlcyk7CiAgICAgICAgb3EudHJ5X2VucXVldWUoCiAgICAgICAgICAgIFtdKFNsb3dEQVFEYXRhJiBzdGF0ZSkgewogICAgICAgICAgICAgICAgc3RhdGUuUEZFSUZGRVJTdGF0ZSA9IFBGRUlGRkVSU1NHU3RhdGU6OkNsb3Npbmc7CiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9KTsKICAgIH0KfTsKCn0gIC8vIG5hbWVzcGFjZSBTQkNRdWVlbnMKI2VuZGlmCgAAAAAAAAAA80gAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAhRkAAAAAAAAMGQAAAAAAAAAAAAAAAPC/"
				],
				[
					5,
					1,
					"toggle_comment",
					{
						"block": false
					},
					"AQAAAN8WAAAAAAAA3xYAAAAAAAADAAAALy8g",
					"AQAAAAAAAAABAAAAChcAAAAAAAAKFwAAAAAAAAAAAAAAAPC/"
				],
				[
					6,
					1,
					"insert",
					{
						"characters": "\n\n}"
					},
					"CQAAAAcXAAAAAAAACBcAAAAAAAAAAAAACBcAAAAAAAAQFwAAAAAAAAAAAAAQFwAAAAAAABQXAAAAAAAAAAAAABQXAAAAAAAAFRcAAAAAAAAAAAAAFRcAAAAAAAAhFwAAAAAAAAAAAAAIFwAAAAAAAAgXAAAAAAAADAAAACAgICAgICAgICAgIBUXAAAAAAAAFhcAAAAAAAAAAAAACRcAAAAAAAAJFwAAAAAAAAwAAAAgICAgICAgICAgICAJFwAAAAAAABEXAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAABxcAAAAAAAAHFwAAAAAAAAAAAAAAAPC/"
				],
				[
					9,
					1,
					"reindent",
					null,
					"AQAAAAgXAAAAAAAAFBcAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAACBcAAAAAAAAIFwAAAAAAAAAAAAAAAPC/"
				],
				[
					10,
					1,
					"insert",
					{
						"characters": "const"
					},
					"BQAAABQXAAAAAAAAFRcAAAAAAAAAAAAAFRcAAAAAAAAWFwAAAAAAAAAAAAAWFwAAAAAAABcXAAAAAAAAAAAAABcXAAAAAAAAGBcAAAAAAAAAAAAAGBcAAAAAAAAZFwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAFBcAAAAAAAAUFwAAAAAAAAAAAAAAAPC/"
				],
				[
					11,
					4,
					"left_delete",
					null,
					"BAAAABgXAAAAAAAAGBcAAAAAAAABAAAAdBcXAAAAAAAAFxcAAAAAAAABAAAAcxYXAAAAAAAAFhcAAAAAAAABAAAAbhUXAAAAAAAAFRcAAAAAAAABAAAAbw",
					"AQAAAAAAAAABAAAAGRcAAAAAAAAZFwAAAAAAAAAAAAAAAPC/"
				],
				[
					12,
					1,
					"insert",
					{
						"characters": "c"
					},
					"AQAAABUXAAAAAAAAFhcAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAFRcAAAAAAAAVFwAAAAAAAAAAAAAAAPC/"
				],
				[
					13,
					1,
					"left_delete",
					null,
					"AQAAABUXAAAAAAAAFRcAAAAAAAABAAAAYw",
					"AQAAAAAAAAABAAAAFhcAAAAAAAAWFwAAAAAAAAAAAAAAAPC/"
				],
				[
					14,
					1,
					"insert",
					{
						"characters": "onstexpr"
					},
					"CAAAABUXAAAAAAAAFhcAAAAAAAAAAAAAFhcAAAAAAAAXFwAAAAAAAAAAAAAXFwAAAAAAABgXAAAAAAAAAAAAABgXAAAAAAAAGRcAAAAAAAAAAAAAGRcAAAAAAAAaFwAAAAAAAAAAAAAaFwAAAAAAABsXAAAAAAAAAAAAABsXAAAAAAAAHBcAAAAAAAAAAAAAHBcAAAAAAAAdFwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAFRcAAAAAAAAVFwAAAAAAAAAAAAAAAPC/"
				],
				[
					15,
					1,
					"insert",
					{
						"characters": " aut"
					},
					"BAAAAB0XAAAAAAAAHhcAAAAAAAAAAAAAHhcAAAAAAAAfFwAAAAAAAAAAAAAfFwAAAAAAACAXAAAAAAAAAAAAACAXAAAAAAAAIRcAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAHRcAAAAAAAAdFwAAAAAAAAAAAAAAAPC/"
				],
				[
					16,
					1,
					"insert",
					{
						"characters": "o"
					},
					"AQAAACEXAAAAAAAAIhcAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAIRcAAAAAAAAhFwAAAAAAAAAAAAAAAPC/"
				],
				[
					17,
					1,
					"insert",
					{
						"characters": " test"
					},
					"BQAAACIXAAAAAAAAIxcAAAAAAAAAAAAAIxcAAAAAAAAkFwAAAAAAAAAAAAAkFwAAAAAAACUXAAAAAAAAAAAAACUXAAAAAAAAJhcAAAAAAAAAAAAAJhcAAAAAAAAnFwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAIhcAAAAAAAAiFwAAAAAAAAAAAAAAAPC/"
				],
				[
					18,
					1,
					"insert",
					{
						"characters": "_plot"
					},
					"BQAAACcXAAAAAAAAKBcAAAAAAAAAAAAAKBcAAAAAAAApFwAAAAAAAAAAAAApFwAAAAAAACoXAAAAAAAAAAAAACoXAAAAAAAAKxcAAAAAAAAAAAAAKxcAAAAAAAAsFwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAJxcAAAAAAAAnFwAAAAAAAAAAAAAAAPC/"
				],
				[
					19,
					1,
					"insert",
					{
						"characters": " ="
					},
					"AgAAACwXAAAAAAAALRcAAAAAAAAAAAAALRcAAAAAAAAuFwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAALBcAAAAAAAAsFwAAAAAAAAAAAAAAAPC/"
				],
				[
					20,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAC4XAAAAAAAALxcAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAALhcAAAAAAAAuFwAAAAAAAAAAAAAAAPC/"
				],
				[
					21,
					1,
					"trim_trailing_white_space",
					null,
					"AQAAAC4XAAAAAAAALhcAAAAAAAABAAAAIA",
					"AQAAAAAAAAABAAAALxcAAAAAAAAvFwAAAAAAAAAAAAAAAPC/"
				],
				[
					22,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAC4XAAAAAAAALxcAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAALhcAAAAAAAAuFwAAAAAAAAAAAAAAAPC/"
				],
				[
					23,
					1,
					"paste",
					null,
					"AQAAAC8XAAAAAAAANxcAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAALxcAAAAAAAAvFwAAAAAAAAAAAAAAAPC/"
				],
				[
					24,
					1,
					"insert",
					{
						"characters": "<>"
					},
					"AgAAADcXAAAAAAAAOBcAAAAAAAAAAAAAOBcAAAAAAAA5FwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAANxcAAAAAAAA3FwAAAAAAAAAAAAAAAPC/"
				],
				[
					26,
					1,
					"paste",
					null,
					"AQAAADgXAAAAAAAAQxcAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAOBcAAAAAAAA4FwAAAAAAAAAAAAAAAPC/"
				],
				[
					28,
					1,
					"insert_snippet",
					{
						"contents": "($0)"
					},
					"AQAAAEQXAAAAAAAARhcAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAARBcAAAAAAABEFwAAAAAAAAAAAAAAAPC/"
				],
				[
					29,
					1,
					"paste",
					null,
					"AQAAAEUXAAAAAAAATRcAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAARRcAAAAAAABFFwAAAAAAAAAAAAAAAPC/"
				],
				[
					31,
					1,
					"insert",
					{
						"characters": ";"
					},
					"AQAAAE4XAAAAAAAATxcAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAThcAAAAAAABOFwAAAAAAAAAAAAAAAPC/"
				],
				[
					33,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AgAAAE8XAAAAAAAAUBcAAAAAAAAAAAAAUBcAAAAAAABcFwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAATxcAAAAAAABPFwAAAAAAAAAAAAAAAPC/"
				],
				[
					34,
					1,
					"trim_trailing_white_space",
					null,
					"AQAAAFAXAAAAAAAAUBcAAAAAAAAMAAAAICAgICAgICAgICAg",
					"AQAAAAAAAAABAAAAXBcAAAAAAABcFwAAAAAAAAAAAAAAAPC/"
				],
				[
					35,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAABDSQAAI2lmbmRlZiBHVUlNQU5BR0VSX0gKI2RlZmluZSBHVUlNQU5BR0VSX0gKI2luY2x1ZGUgInNiY3F1ZWVucy1ndWkvaGFyZHdhcmVfaGVscGVycy9TaVBNQWNxdWlzaXRpb25NYW5hZ2VyLmhwcCIKI3ByYWdtYSBvbmNlCgovLyBDIFNURCBpbmNsdWRlcwojaW5jbHVkZSA8bWF0aC5oPgoKLy8gQyAzcmQgcGFydHkgaW5jbHVkZXMKI2luY2x1ZGUgPGltZ3VpLmg+CiNpbmNsdWRlIDxpbXBsb3QuaD4KCi8vIEMrKyBTVEQgaW5jbHVkZXMKI2luY2x1ZGUgPGNzdGRpbnQ+CiNpbmNsdWRlIDxtZW1vcnk+CiNpbmNsdWRlIDxzdHJpbmc+CiNpbmNsdWRlIDx1bm9yZGVyZWRfbWFwPgojaW5jbHVkZSA8dXRpbGl0eT4KI2luY2x1ZGUgPHZlY3Rvcj4KI2luY2x1ZGUgPGZ1bmN0aW9uYWw+CgovLyBDKysgM3JkIHBhcnR5IGluY2x1ZGVzCiNpbmNsdWRlIDxzcGRsb2cvc3BkbG9nLmg+CiNpbmNsdWRlIDx0b21sLmhwcD4KCi8vIE15IGluY2x1ZGVzCiNpbmNsdWRlICJzYmNxdWVlbnMtZ3VpL211bHRpdGhyZWFkaW5nX2hlbHBlcnMvVGhyZWFkTWFuYWdlci5ocHAiCgojaW5jbHVkZSAic2JjcXVlZW5zLWd1aS9oYXJkd2FyZV9oZWxwZXJzL1RlZW5zeUNvbnRyb2xsZXJEYXRhLmhwcCIKI2luY2x1ZGUgInNiY3F1ZWVucy1ndWkvaGFyZHdhcmVfaGVscGVycy9TaVBNQWNxdWlzaXRpb25EYXRhLmhwcCIKI2luY2x1ZGUgInNiY3F1ZWVucy1ndWkvaGFyZHdhcmVfaGVscGVycy9TbG93REFRRGF0YS5ocHAiCgojaW5jbHVkZSAic2JjcXVlZW5zLWd1aS9jYWVuX2hlbHBlci5ocHAiCiNpbmNsdWRlICJzYmNxdWVlbnMtZ3VpL2ltZ3VpX2hlbHBlcnMuaHBwIgojaW5jbHVkZSAic2JjcXVlZW5zLWd1aS9pbXBsb3RfaGVscGVycy5ocHAiCgojaW5jbHVkZSAic2JjcXVlZW5zLWd1aS9ndWlfd2luZG93cy9XaW5kb3cuaHBwIgojaW5jbHVkZSAic2JjcXVlZW5zLWd1aS9ndWlfd2luZG93cy9Db250cm9sTGlzdC5ocHAiCiNpbmNsdWRlICJzYmNxdWVlbnMtZ3VpL2d1aV93aW5kb3dzL0luZGljYXRvcldpbmRvdy5ocHAiCiNpbmNsdWRlICJzYmNxdWVlbnMtZ3VpL2d1aV93aW5kb3dzL0NvbnRyb2xXaW5kb3cuaHBwIgojaW5jbHVkZSAic2JjcXVlZW5zLWd1aS9ndWlfd2luZG93cy9TaVBNQ29udHJvbFdpbmRvdy5ocHAiCgpuYW1lc3BhY2UgU0JDUXVlZW5zIHsKCnRlbXBsYXRlPHR5cGVuYW1lIFBpcGVzLCB0eXBlbmFtZSBEcmF3RnVuYz4KY2xhc3MgR1VJTWFuYWdlciA6IHB1YmxpYyBUaHJlYWRNYW5hZ2VyPFBpcGVzPiB7CiAgICAvLyBUbyBnZXQgdGhlIHBpcGUgaW50ZXJmYWNlIHVzZWQgaW4gdGhlIHBpcGVzLgogICAgRHJhd0Z1bmMgX2RyYXdfZnVuYzsKCiAgICAvLyBJbmRpY2F0b3JSZWNlaXZlcjxJbmRpY2F0b3JOYW1lcz4gR2VuZXJhbEluZGljYXRvclJlY2VpdmVyOwogICAgLy8gSW5kaWNhdG9yUmVjZWl2ZXI8dWludDE2X3Q+IE11bHRpUGxvdFJlY2VpdmVyOwogICAgLy8gSW5kaWNhdG9yUmVjZWl2ZXI8dWludDhfdD4gU2lQTVBsb3RSZWNlaXZlcjsKCiAgICAvLyBDQUVOIFBpcGUKICAgIHVzaW5nIFNpUE1QaXBlX3R5cGUgPSB0eXBlbmFtZSBQaXBlczo6U2lQTVBpcGVfdHlwZTsKICAgIFNpUE1BY3F1aXNpdGlvblBpcGVFbmQ8U2lQTVBpcGVfdHlwZSwgUGlwZUVuZFR5cGU6OkdVST4gX3NpcG1fcGlwZV9lbmQ7CiAgICBTaVBNQWNxdWlzaXRpb25EYXRhJiBfc2lwbV9kb2U7CgogICAgLy8gVGVlbnN5IFBpcGUKICAgIHVzaW5nIFRlZW5zeVBpcGVfdHlwZSA9IHR5cGVuYW1lIFBpcGVzOjpUZWVuc3lQaXBlX3R5cGU7CiAgICBUZWVuc3lDb250cm9sbGVyUGlwZUVuZDxUZWVuc3lQaXBlX3R5cGUsIFBpcGVFbmRUeXBlOjpHVUk+IF90ZWVuc3lfcGlwZV9lbmQ7CiAgICBUZWVuc3lDb250cm9sbGVyRGF0YSYgX3RlZW5zeV9kb2U7CgogICAgLy8gU2xvdyBEQVEgcGlwZQogICAgdXNpbmcgU2xvd0RBUV90eXBlID0gdHlwZW5hbWUgUGlwZXM6OlNsb3dEQVFfdHlwZTsKICAgIFNsb3dEQVFQaXBlRW5kPFNsb3dEQVFfdHlwZSwgUGlwZUVuZFR5cGU6OkdVST4gX3Nsb3dkYXFfcGlwZV9lbmQ7CiAgICBTbG93REFRRGF0YSYgX3Nsb3dkYXFfZG9lOwoKICAgIHN0ZDo6dmVjdG9yPHN0ZDo6dW5pcXVlX3B0cjxXaW5kb3dJbnRlcmZhY2U+PiBfd2luZG93czsKCiAgICBzdGQ6OnN0cmluZyBpX3J1bl9kaXI7CiAgICBzdGQ6OnN0cmluZyBpX3J1bl9uYW1lOwoKICAgIHN0ZDo6dmVjdG9yPHN0ZDo6c3RyaW5nPiBydGRfbmFtZXM7CiAgICBzdGQ6OnZlY3RvcjxzdGQ6OnN0cmluZz4gc2lwbV9uYW1lczsKCiBwdWJsaWM6CiAgICBHVUlNYW5hZ2VyKGNvbnN0IFBpcGVzJiBwLCBEcmF3RnVuYyYmIGRyYXdfZnVuYykgOgogICAgICAgIFRocmVhZE1hbmFnZXI8UGlwZXM+KHApLCBfZHJhd19mdW5je2RyYXdfZnVuY30sCiAgICAgICAgLy8gQWxsIG9mIHRoZXNlIGFyZSB0byBoYXZlIGEgbG9jYWwgYW5kIGZhc3RlciBhY2Nlc3MgdG8gdGhlbQogICAgICAgIC8vIGluc2lkZSB0aGlzIGNsYXNzLgogICAgICAgIF9zaXBtX3BpcGVfZW5kKHAuU2lQTVBpcGUpLAogICAgICAgIF9zaXBtX2RvZShfc2lwbV9waXBlX2VuZC5EYXRhKSwKICAgICAgICBfdGVlbnN5X3BpcGVfZW5kKHAuVGVlbnN5UGlwZSksCiAgICAgICAgX3RlZW5zeV9kb2UoX3RlZW5zeV9waXBlX2VuZC5EYXRhKSwKICAgICAgICBfc2xvd2RhcV9waXBlX2VuZChwLlNsb3dEQVFQaXBlKSwKICAgICAgICBfc2xvd2RhcV9kb2UoX3Nsb3dkYXFfcGlwZV9lbmQuRGF0YSkKICAgICAgICB7CiAgICAgICAgX3dpbmRvd3MucHVzaF9iYWNrKAogICAgICAgICAgICBtYWtlX2luZGljYXRvcl93aW5kb3coX3NpcG1fZG9lLCBfdGVlbnN5X2RvZSwgX3Nsb3dkYXFfZG9lKSk7CiAgICAgICAgX3dpbmRvd3MucHVzaF9iYWNrKAogICAgICAgICAgICBtYWtlX3NpcG1fY29udHJvbF93aW5kb3coX3NpcG1fZG9lLCBfdGVlbnN5X2RvZSkpOwogICAgICAgIF93aW5kb3dzLnB1c2hfYmFjaygKICAgICAgICAgICAgbWFrZV9jb250cm9sX3dpbmRvdyhfc2lwbV9kb2UsIF90ZWVuc3lfZG9lLCBfc2xvd2RhcV9kb2UpKTsKCiAgICAgICAgLy8gV2hlbiBjb25maWdfZmlsZSBnb2VzIG91dCBvZiBzY29wZSwgZXZlcnl0aGluZwogICAgICAgIC8vIGluY2x1ZGluZyB0aGUgZGF1Z2h0ZXJzIGdldCBjbGVhcmVkCiAgICAgICAgYXV0byBjb25maWdfZmlsZSA9IHRvbWw6OnBhcnNlX2ZpbGUoImd1aV9zZXR1cC50b21sIik7CiAgICAgICAgZm9yKGF1dG8mIHdpbmRvdzogX3dpbmRvd3MpIHsKICAgICAgICAgICAgd2luZG93LT5pbml0KGNvbmZpZ19maWxlKTsKICAgICAgICB9CgogICAgICAgIGF1dG8gdF9jb25mID0gY29uZmlnX2ZpbGVbIlRlZW5zeSJdOwogICAgICAgIGlmICh0b21sOjphcnJheSogYXJyID0gdF9jb25mWyJSVEROYW1lcyJdLmFzX2FycmF5KCkpIHsKICAgICAgICAgICAgZm9yICh0b21sOjpub2RlJiBlbGVtIDogKmFycikgewogICAgICAgICAgICAgICAgcnRkX25hbWVzLmVtcGxhY2VfYmFjayhlbGVtLnZhbHVlX29yKCIiKSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGlmICh0b21sOjphcnJheSogYXJyID0gdF9jb25mWyJTaVBNTmFtZXMiXS5hc19hcnJheSgpKSB7CiAgICAgICAgICAgIGZvciAodG9tbDo6bm9kZSYgZWxlbSA6ICphcnIpIHsKICAgICAgICAgICAgICAgIHNpcG1fbmFtZXMuZW1wbGFjZV9iYWNrKGVsZW0udmFsdWVfb3IoIiIpKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCiAgICB+R1VJTWFuYWdlcigpIHsKICAgICAgICAvLyBNYWtlIHN1cmUgdG8gc2VuZCBhbnl0aGluZyBiZWZvcmUgY2xvc2luZyB0aGUgZ3VpLgogICAgICAgIF90ZWVuc3lfcGlwZV9lbmQuc2VuZF9pZl9jaGFuZ2VkKCk7CiAgICAgICAgX3NpcG1fcGlwZV9lbmQuc2VuZF9pZl9jaGFuZ2VkKCk7CiAgICAgICAgX3Nsb3dkYXFfcGlwZV9lbmQuc2VuZF9pZl9jaGFuZ2VkKCk7CgogICAgICAgIF90ZWVuc3lfZG9lLkNhbGxiYWNrID0gW10oVGVlbnN5Q29udHJvbGxlckRhdGEmIHN0YXRlKSB7CiAgICAgICAgICAgIHN0YXRlLkN1cnJlbnRTdGF0ZSA9IFRlZW5zeUNvbnRyb2xsZXJTdGF0ZXM6OkNsb3Npbmc7CiAgICAgICAgfTsKCiAgICAgICAgLy8gQ0FFTlF1ZXVlJiBjcSA9IHN0ZDo6Z2V0PENBRU5RdWV1ZSY+KF9xdWV1ZXMpOwogICAgICAgIF9zaXBtX2RvZS5DYWxsYmFjayA9IFtdKFNpUE1BY3F1aXNpdGlvbkRhdGEmIHN0YXRlKSB7CiAgICAgICAgICAgIHN0YXRlLkN1cnJlbnRTdGF0ZSA9IFNpUE1BY3F1aXNpdGlvblN0YXRlczo6Q2xvc2luZzsKICAgICAgICB9OwoKICAgICAgICAvLyBTbG93REFRUXVldWUmIG9xID0gc3RkOjpnZXQ8U2xvd0RBUVF1ZXVlJj4oX3F1ZXVlcyk7CiAgICAgICAgX3Nsb3dkYXFfZG9lLkNhbGxiYWNrID0gW10oU2xvd0RBUURhdGEmIHN0YXRlKSB7CiAgICAgICAgICAgIHN0YXRlLlBGRUlGRkVSU3RhdGUgPSBQRkVJRkZFUlNTR1N0YXRlOjpDbG9zaW5nOwogICAgICAgIH07CiAgICB9CgogICAgdm9pZCBvcGVyYXRvcigpKCkgewogICAgICAgIC8vIF9kcmF3X2Z1bmMgbXVzdCBoYXZlIGEgcmVjdXJyaW5nIGRyYXcgZnVuY3Rpb24KICAgICAgICAvLyBhbmQgYSBjbG9zZSBmdW5jdGlvbi4KICAgICAgICBfZHJhd19mdW5jKFsmXSgpeyBfZHJhdygpOyB9KTsKICAgIH0KCiBwcml2YXRlOgogICAgdm9pZCBfZHJhdygpIHsKICAgICAgICBzdGF0aWMgYm9vbCB0cmdfb25jZSA9IHRydWU7CiAgICAgICAgaWYgKHRyZ19vbmNlKSB7CiAgICAgICAgICAgIEltUGxvdDo6U3R5bGVDb2xvcnNEYXJrKCk7CiAgICAgICAgICAgIEltUGxvdDo6R2V0U3R5bGUoKS5Vc2VMb2NhbFRpbWUgPSB0cnVlOwogICAgICAgICAgICB0cmdfb25jZSA9IGZhbHNlOwogICAgICAgIH0KCiAgICAgICAgZm9yKGF1dG8mIHdpbmRvdyA6IF93aW5kb3dzKSB7CiAgICAgICAgICAgICgqd2luZG93KSgpOwogICAgICAgIH0KCiAgICAgICAgLy8vLyBQbG90cwogICAgICAgIC8vIEltR3VpOjpCZWdpbigiT3RoZXIgUGxvdHMiKTsKCiAgICAgICAgLy8gLy8gVGhpcyBmdW5jdG9yIHVwZGF0ZXMgdGhlIHBsb3RzIHZhbHVlcyBmcm9tIHRoZSBxdWV1ZS4KICAgICAgICAvLyBHZW5lcmFsSW5kaWNhdG9yUmVjZWl2ZXIoKTsKICAgICAgICAvLyBNdWx0aVBsb3RSZWNlaXZlcigpOwogICAgICAgIC8vIFNpUE1QbG90UmVjZWl2ZXIoKTsKCiAgICAgICAgLy8gY29uc3QgYXV0byBnX2F4aXNfZmxhZ3MgPSBJbVBsb3RBeGlzRmxhZ3NfQXV0b0ZpdDsKICAgICAgICAvLyAvLyAvLy8gVGVlbnN5LUJNRTI4MCBQbG90cwogICAgICAgIC8vIGlmIChJbUd1aTo6QnV0dG9uKCJDbGVhciIpKSB7CiAgICAgICAgLy8gICAgIEdlbmVyYWxJbmRpY2F0b3JSZWNlaXZlci5DbGVhclBsb3QoCiAgICAgICAgLy8gICAgICAgICBJbmRpY2F0b3JOYW1lczo6TE9DQUxfQk1FX0hVTUQpOwogICAgICAgIC8vICAgICBHZW5lcmFsSW5kaWNhdG9yUmVjZWl2ZXIuQ2xlYXJQbG90KAogICAgICAgIC8vICAgICAgICAgSW5kaWNhdG9yTmFtZXM6OkxPQ0FMX0JNRV9URU1QUyk7CiAgICAgICAgLy8gICAgIEdlbmVyYWxJbmRpY2F0b3JSZWNlaXZlci5DbGVhclBsb3QoCiAgICAgICAgLy8gICAgICAgICBJbmRpY2F0b3JOYW1lczo6TE9DQUxfQk1FX1BSRVNTKTsKCiAgICAgICAgLy8gICAgIEdlbmVyYWxJbmRpY2F0b3JSZWNlaXZlci5DbGVhclBsb3QoCiAgICAgICAgLy8gICAgICAgICBJbmRpY2F0b3JOYW1lczo6UEZFSUZGRVJfUFJFU1MpOwogICAgICAgIC8vICAgICBHZW5lcmFsSW5kaWNhdG9yUmVjZWl2ZXIuQ2xlYXJQbG90KAogICAgICAgIC8vICAgICAgICAgSW5kaWNhdG9yTmFtZXM6OlZBQ1VVTV9QUkVTUyk7CiAgICAgICAgLy8gfQoKICAgICAgICBpZiAoSW1HdWk6OkJlZ2luVGFiQmFyKCJPdGhlciBQbG90cyIpKSB7CiAgICAgICAgICAgIGNvbnN0ZXhwciBhdXRvIHRlc3RfcGxvdCA9IGdldF9wbG90PCJJLVYiLCAyLCAyPihHVUlQbG90cyk7CgogICAgICAgIH0KICAgICAgICAvLyAgICAgLy8gaWYgKCFfdGVlbnN5X2RvZS5TeXN0ZW1QYXJhbWV0ZXJzLkluUlRET25seU1vZGUpIHsKICAgICAgICAvLyAgICAgLy8gICAgIGlmIChJbUd1aTo6QmVnaW5UYWJJdGVtKCJMb2NhbCBCTUUiKSkgewogICAgICAgIC8vICAgICAvLyAgICAgICAgIGlmIChJbVBsb3Q6OkJlZ2luUGxvdCgiTG9jYWwgQk1FIiwgSW1WZWMyKC0xLCAwKSkpIHsKICAgICAgICAvLyAgICAgLy8gICAgICAgICAgICAgLy8gV2Ugc2V0dXAgdGhlIGF4aXMKICAgICAgICAvLyAgICAgLy8gICAgICAgICAgICAgSW1QbG90OjpTZXR1cEF4aXNTY2FsZShJbUF4aXNfWDEsIEltUGxvdFNjYWxlX1RpbWUpOwogICAgICAgIC8vICAgICAvLyAgICAgICAgICAgICBJbVBsb3Q6OlNldHVwQXhlcygidGltZSBbc10iLCAiSHVtaWRpdHkgWyVdIiwKICAgICAgICAvLyAgICAgLy8gICAgICAgICAgICAgICAgIGdfYXhpc19mbGFncywgZ19heGlzX2ZsYWdzKTsKICAgICAgICAvLyAgICAgLy8gICAgICAgICAgICAgSW1QbG90OjpTZXR1cEF4aXMoSW1BeGlzX1kzLCAiUHJlc3N1cmUgW1BhXSIsCiAgICAgICAgLy8gICAgIC8vICAgICAgICAgICAgICAgICBnX2F4aXNfZmxhZ3MgfCBJbVBsb3RBeGlzRmxhZ3NfT3Bwb3NpdGUpOwogICAgICAgIC8vICAgICAvLyAgICAgICAgICAgICBJbVBsb3Q6OlNldHVwQXhpcyhJbUF4aXNfWTIsICJUZW1wZXJhdHVyZSBbZGVnQ10iLAogICAgICAgIC8vICAgICAvLyAgICAgICAgICAgICAgICAgZ19heGlzX2ZsYWdzIHwgSW1QbG90QXhpc0ZsYWdzX09wcG9zaXRlKTsKCiAgICAgICAgLy8gICAgIC8vICAgICAgICAgICAgIC8vIFRoaXMgb25lIGRvZXMgbm90IG5lZWQgYW4gU2V0QXhlcyBhcyBpdCB0YWtlcyB0aGUKICAgICAgICAvLyAgICAgLy8gICAgICAgICAgICAgLy8gZGVmYXVsdC4KICAgICAgICAvLyAgICAgLy8gICAgICAgICAgICAgLy8gVGhpcyBmdW5jdG9yIGlzIGFsbW9zdCB0aGUgc2FtZSBhcyBjYWxsaW5nIEltUGxvdAogICAgICAgIC8vICAgICAvLyAgICAgICAgICAgICBHZW5lcmFsSW5kaWNhdG9yUmVjZWl2ZXIucGxvdCgKICAgICAgICAvLyAgICAgLy8gICAgICAgICAgICAgICAgIEluZGljYXRvck5hbWVzOjpMT0NBTF9CTUVfSFVNRCwgIkh1bWlkaXR5Iik7CgogICAgICAgIC8vICAgICAvLyAgICAgICAgICAgICAvLyBXZSBuZWVkIHRvIGNhbGwgU2V0QXhlcyBiZWZvcmUgSW1QbG90OjpQbG90TGluZXMKICAgICAgICAvLyAgICAgLy8gICAgICAgICAgICAgLy8gdG8gbGV0IHRoZSBBUEkga25vdyB0aGUgYXhpcyBvZiBvdXIgZGF0YQogICAgICAgIC8vICAgICAvLyAgICAgICAgICAgICBJbVBsb3Q6OlNldEF4ZXMoSW1BeGlzX1gxLCBJbUF4aXNfWTIpOwogICAgICAgIC8vICAgICAvLyAgICAgICAgICAgICBHZW5lcmFsSW5kaWNhdG9yUmVjZWl2ZXIucGxvdCgKICAgICAgICAvLyAgICAgLy8gICAgICAgICAgICAgICAgIEluZGljYXRvck5hbWVzOjpMT0NBTF9CTUVfVEVNUFMsICJUZW1wZXJhdHVyZSIpOwoKICAgICAgICAvLyAgICAgLy8gICAgICAgICAgICAgSW1QbG90OjpTZXRBeGVzKEltQXhpc19YMSwgSW1BeGlzX1kzKTsKICAgICAgICAvLyAgICAgLy8gICAgICAgICAgICAgR2VuZXJhbEluZGljYXRvclJlY2VpdmVyLnBsb3QoCiAgICAgICAgLy8gICAgIC8vICAgICAgICAgICAgICAgICBJbmRpY2F0b3JOYW1lczo6TE9DQUxfQk1FX1BSRVNTLCAiUHJlc3N1cmUiKTsKCiAgICAgICAgLy8gICAgIC8vICAgICAgICAgICAgIEltUGxvdDo6RW5kUGxvdCgpOwogICAgICAgIC8vICAgICAvLyAgICAgICAgIH0KCiAgICAgICAgLy8gICAgIC8vICAgICAgICAgSW1HdWk6OkVuZFRhYkl0ZW0oKTsKICAgICAgICAvLyAgICAgLy8gICAgIH0KICAgICAgICAvLyAgICAgLy8gfQoKICAgICAgICAvLyAgICAgaWYgKEltR3VpOjpCZWdpblRhYkl0ZW0oIlByZXNzdXJlcyIpKSB7CiAgICAgICAgLy8gICAgICAgICBzdGF0aWMgSW1QbG90U2NhbGUgcHJlc3Nfc2NhbGVfYXhpcyA9IEltUGxvdFNjYWxlX0xpbmVhcjsKICAgICAgICAvLyAgICAgICAgIEltR3VpOjpDaGVja2JveEZsYWdzKCJMb2cgQXhpcyIsCiAgICAgICAgLy8gICAgICAgICAgICAgKHVuc2lnbmVkIGludCopJnByZXNzX3NjYWxlX2F4aXMsIEltUGxvdFNjYWxlX0xvZzEwKTsKICAgICAgICAvLyAgICAgICAgIGlmIChJbVBsb3Q6OkJlZ2luUGxvdCgiUHJlc3N1cmVzIiwgSW1WZWMyKC0xLCAtMSkpKSB7CiAgICAgICAgLy8gICAgICAgICAgICAgSW1QbG90OjpTZXR1cEF4aXNTY2FsZShJbUF4aXNfWTEsIHByZXNzX3NjYWxlX2F4aXMpOwogICAgICAgIC8vICAgICAgICAgICAgIEltUGxvdDo6U2V0dXBBeGlzU2NhbGUoSW1BeGlzX1gxLCBJbVBsb3RTY2FsZV9UaW1lKTsKICAgICAgICAvLyAgICAgICAgICAgICBJbVBsb3Q6OlNldHVwQXhlcygidGltZSBbc10iLCAiUCBbQmFyXSIsCiAgICAgICAgLy8gICAgICAgICAgICAgICAgIGdfYXhpc19mbGFncywgZ19heGlzX2ZsYWdzKTsKCiAgICAgICAgLy8gICAgICAgICAgICAgR2VuZXJhbEluZGljYXRvclJlY2VpdmVyLnBsb3QoCiAgICAgICAgLy8gICAgICAgICAgICAgICAgIEluZGljYXRvck5hbWVzOjpQRkVJRkZFUl9QUkVTUywgIlBGRUlGRkVSIik7CiAgICAgICAgLy8gICAgICAgICAgICAgR2VuZXJhbEluZGljYXRvclJlY2VpdmVyLnBsb3QoCiAgICAgICAgLy8gICAgICAgICAgICAgICAgIEluZGljYXRvck5hbWVzOjpWQUNVVU1fUFJFU1MsICJWYWN1dW0gbGluZSIpOwoKICAgICAgICAvLyAgICAgICAgICAgICBJbVBsb3Q6OkVuZFBsb3QoKTsKICAgICAgICAvLyAgICAgICAgIH0KCiAgICAgICAgLy8gICAgICAgICBJbUd1aTo6RW5kVGFiSXRlbSgpOwogICAgICAgIC8vICAgICB9CgogICAgICAgIC8vICAgICBJbUd1aTo6RW5kVGFiQmFyKCk7CiAgICAgICAgLy8gfQoKICAgICAgICAvLyBJbUd1aTo6RW5kKCk7CiAgICAgICAgLy8gLy8gLy8vICFUZWVuc3ktQk1FMjgwIFBsb3RzCiAgICAgICAgLy8gLy8gLy8vLwogICAgICAgIC8vIC8vIC8vLyBUZWVuc3ktUElEIFBsb3RzCiAgICAgICAgLy8gSW1HdWk6OkJlZ2luKCJUZWVuc3ktUElEIFBsb3RzIik7CgogICAgICAgIC8vIGlmIChJbUd1aTo6QnV0dG9uKCJDbGVhciIpKSB7CiAgICAgICAgLy8gICAgIGZvciAodWludDE2X3QgaSA9IDA7IGkgPCBfdGVlbnN5X2RvZS5TeXN0ZW1QYXJhbWV0ZXJzLk51bVJ0ZEJvYXJkczsgaSsrKSB7CiAgICAgICAgLy8gICAgICAgICBmb3IgKHVpbnQxNl90IGogPSAwOyBqIDwgX3RlZW5zeV9kb2UuU3lzdGVtUGFyYW1ldGVycy5OdW1SdGRzUGVyQm9hcmQ7IGorKykgewogICAgICAgIC8vICAgICAgICAgICAgIHVpbnQxNl90IGsgPSBzdGF0aWNfY2FzdDx1aW50MTZfdD4oCiAgICAgICAgLy8gICAgICAgICAgICAgICAgIGkqX3RlZW5zeV9kb2UuU3lzdGVtUGFyYW1ldGVycy5OdW1SdGRzUGVyQm9hcmQgK2opOwoKICAgICAgICAvLyAgICAgICAgICAgICBNdWx0aVBsb3RSZWNlaXZlci5DbGVhclBsb3Qoayk7CiAgICAgICAgLy8gICAgICAgICB9CiAgICAgICAgLy8gICAgIH0KICAgICAgICAvLyB9CgogICAgICAgIC8vIGlmICghX3RlZW5zeV9kb2UuU3lzdGVtUGFyYW1ldGVycy5JblJURE9ubHlNb2RlKSB7CiAgICAgICAgLy8gICAgIGlmIChJbVBsb3Q6OkJlZ2luUGxvdCgiUElEcyIsIEltVmVjMigtMSwgMCkpKSB7CiAgICAgICAgLy8gICAgICAgICBJbVBsb3Q6OlNldHVwQXhlcygidGltZSBbc10iLCAiQ3VycmVudCBbQV0iLAogICAgICAgIC8vICAgICAgICAgICAgIGdfYXhpc19mbGFncywgZ19heGlzX2ZsYWdzKTsKICAgICAgICAvLyAgICAgICAgIEltUGxvdDo6U2V0dXBBeGlzU2NhbGUoSW1BeGlzX1gxLCBJbVBsb3RTY2FsZV9UaW1lKTsKCiAgICAgICAgLy8gICAgICAgICBHZW5lcmFsSW5kaWNhdG9yUmVjZWl2ZXIucGxvdChJbmRpY2F0b3JOYW1lczo6UEVMVElFUl9DVVJSLCAiQ3VycmVudCIpOwoKICAgICAgICAvLyAgICAgICAgIEltUGxvdDo6RW5kUGxvdCgpOwogICAgICAgIC8vICAgICB9CiAgICAgICAgLy8gfQoKICAgICAgICAvLyBzdGF0aWMgSW1QbG90UmVjdCByZWN0KDAsIDEsIDAsIDMyMCk7CiAgICAgICAgLy8gc3RhdGljIEltUGxvdFNjYWxlIHJ0ZF9zY2FsZV9heGlzID0gSW1QbG90U2NhbGVfTGluZWFyOwogICAgICAgIC8vIEltR3VpOjpDaGVja2JveEZsYWdzKCJMb2cgQXhpcyIsCiAgICAgICAgLy8gICAgICZydGRfc2NhbGVfYXhpcywgSW1QbG90U2NhbGVfTG9nMTApOwoKICAgICAgICAvLyBpZiAoSW1QbG90OjpCZWdpblBsb3QoIlJURHMiLCBJbVZlYzIoLTEsIDApKSkgewogICAgICAgIC8vICAgICBJbVBsb3Q6OlNldHVwQXhpc1NjYWxlKEltQXhpc19ZMSwgcnRkX3NjYWxlX2F4aXMpOwogICAgICAgIC8vICAgICBJbVBsb3Q6OlNldHVwQXhpc1NjYWxlKEltQXhpc19YMSwgSW1QbG90U2NhbGVfVGltZSk7CiAgICAgICAgLy8gICAgIEltUGxvdDo6U2V0dXBBeGVzKCJ0aW1lIFtzXSIsICJUZW1wZXJhdHVyZSBbS10iLAogICAgICAgIC8vICAgICAgICAgZ19heGlzX2ZsYWdzLCBnX2F4aXNfZmxhZ3MpOwoKICAgICAgICAvLyAgICAgZm9yICh1aW50MTZfdCBpID0gMDsgaSA8IF90ZWVuc3lfZG9lLlN5c3RlbVBhcmFtZXRlcnMuTnVtUnRkQm9hcmRzOyBpKyspIHsKICAgICAgICAvLyAgICAgICAgIGZvciAodWludDE2X3QgaiA9IDA7IGogPCBfdGVlbnN5X2RvZS5TeXN0ZW1QYXJhbWV0ZXJzLk51bVJ0ZHNQZXJCb2FyZDsgaisrKSB7CiAgICAgICAgLy8gICAgICAgICAgICAgdWludDE2X3QgayA9IHN0YXRpY19jYXN0PHVpbnQxNl90PigKICAgICAgICAvLyAgICAgICAgICAgICAgICAgaSpfdGVlbnN5X2RvZS5TeXN0ZW1QYXJhbWV0ZXJzLk51bVJ0ZHNQZXJCb2FyZCAraik7CgogICAgICAgIC8vICAgICAgICAgICAgIGlmIChrIDwgcnRkX25hbWVzLnNpemUoKSkgewogICAgICAgIC8vICAgICAgICAgICAgICAgICBNdWx0aVBsb3RSZWNlaXZlci5wbG90KGssIHJ0ZF9uYW1lc1trXSk7CiAgICAgICAgLy8gICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgTXVsdGlQbG90UmVjZWl2ZXIucGxvdChrLCBzdGQ6OnRvX3N0cmluZyhrKSk7CiAgICAgICAgLy8gICAgICAgICAgICAgfQogICAgICAgIC8vICAgICAgICAgfQogICAgICAgIC8vICAgICB9CgogICAgICAgIC8vICAgICByZWN0ID0gSW1QbG90OjpHZXRQbG90TGltaXRzKCk7CgogICAgICAgIC8vICAgICBJbVBsb3Q6OkVuZFBsb3QoKTsKICAgICAgICAvLyB9CgogICAgICAgIC8vIHN0YXRpYyBmbG9hdCBydGRfem9vbV9tdWx0aXBsaWVyWzJdID0gezAuMH07CiAgICAgICAgLy8gSW1HdWk6OlNsaWRlckZsb2F0MigiWm9vbSAlIiwgcnRkX3pvb21fbXVsdGlwbGllciwgMC4wZiwgMS4wZik7CiAgICAgICAgLy8gLy8gSW1HdWk6OlZTbGlkZXJGbG9hdCgiWm9vbSBZJSIsIEltVmVjMigxOCwgMTYwKSwmeV9ydGRfem9vbV9tdWx0aXBsaWVyLCAwLjBmLCAxLjBmKTsKICAgICAgICAvLyAvLyBJbUd1aTo6U2FtZUxpbmUoKTsKCiAgICAgICAgLy8gaWYgKEltUGxvdDo6QmVnaW5QbG90KCJSVEQgWm9vbSIsIEltVmVjMigtMSwgMCkpKSB7CiAgICAgICAgLy8gICAgIEltUGxvdDo6U2V0dXBBeGlzU2NhbGUoSW1BeGlzX1kxLCBydGRfc2NhbGVfYXhpcyk7CiAgICAgICAgLy8gICAgIEltUGxvdDo6U2V0dXBBeGlzU2NhbGUoSW1BeGlzX1gxLCBJbVBsb3RTY2FsZV9UaW1lKTsKICAgICAgICAvLyAgICAgSW1QbG90OjpTZXR1cEF4ZXMoInRpbWUgW3NdIiwgIlRlbXBlcmF0dXJlIFtLXSIsCiAgICAgICAgLy8gICAgICAgICBnX2F4aXNfZmxhZ3MsIGdfYXhpc19mbGFncyk7CiAgICAgICAgLy8gICAgIEltUGxvdDo6U2V0dXBBeGVzTGltaXRzKAogICAgICAgIC8vICAgICAgICAgc3RhdGljX2Nhc3Q8ZG91YmxlPihydGRfem9vbV9tdWx0aXBsaWVyWzBdKSoocmVjdC5YLk1pbgogICAgICAgIC8vICAgICAgICAgICAgICsgcmVjdC5YLk1heCkgKyByZWN0LlguTWluLAogICAgICAgIC8vICAgICAgICAgcmVjdC5YLk1heCwKICAgICAgICAvLyAgICAgICAgIHN0YXRpY19jYXN0PGRvdWJsZT4ocnRkX3pvb21fbXVsdGlwbGllclsxXSkqKHJlY3QuWS5NaW4KICAgICAgICAvLyAgICAgICAgICAgICArIHJlY3QuWS5NYXgpICsgcmVjdC5ZLk1pbiwKICAgICAgICAvLyAgICAgICAgIHJlY3QuWS5NYXgsIEltR3VpQ29uZF9BbHdheXMpOwoKICAgICAgICAvLyAgICAgZm9yICh1aW50MTZfdCBpID0gMDsgaSA8IF90ZWVuc3lfZG9lLlN5c3RlbVBhcmFtZXRlcnMuTnVtUnRkQm9hcmRzOyBpKyspIHsKICAgICAgICAvLyAgICAgICAgIGZvciAodWludDE2X3QgaiA9IDA7IGogPCBfdGVlbnN5X2RvZS5TeXN0ZW1QYXJhbWV0ZXJzLk51bVJ0ZHNQZXJCb2FyZDsgaisrKSB7CiAgICAgICAgLy8gICAgICAgICAgICAgdWludDE2X3QgayA9IHN0YXRpY19jYXN0PHVpbnQxNl90PigKICAgICAgICAvLyAgICAgICAgICAgICAgICAgaSpfdGVlbnN5X2RvZS5TeXN0ZW1QYXJhbWV0ZXJzLk51bVJ0ZHNQZXJCb2FyZCAraik7CgogICAgICAgIC8vICAgICAgICAgICAgIGlmIChrIDwgcnRkX25hbWVzLnNpemUoKSkgewogICAgICAgIC8vICAgICAgICAgICAgICAgICBNdWx0aVBsb3RSZWNlaXZlci5wbG90KGssIHJ0ZF9uYW1lc1trXSk7CiAgICAgICAgLy8gICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgTXVsdGlQbG90UmVjZWl2ZXIucGxvdChrLCBzdGQ6OnRvX3N0cmluZyhrKSk7CiAgICAgICAgLy8gICAgICAgICAgICAgfQogICAgICAgIC8vICAgICAgICAgfQogICAgICAgIC8vICAgICB9CgogICAgICAgIC8vICAgICBJbVBsb3Q6OkVuZFBsb3QoKTsKICAgICAgICAvLyB9CgogICAgICAgIC8vIEltR3VpOjpFbmQoKTsKICAgICAgICAvLyAvLy8gIVRlZW5zeS1QSUQgUGxvdHMKICAgICAgICAvLyAvLy8vCiAgICAgICAgLy8gLy8vIFNpUE0gUGxvdHMKCgogICAgICAgIC8vIEltR3VpOjpCZWdpbigiU2lQTXMgUGxvdHMiKTsKCiAgICAgICAgLy8gaWYgKEltR3VpOjpCZWdpblRhYkJhcigiU2lQTXMgUGxvdHMiKSkgewogICAgICAgIC8vICAgICBpZiAoSW1HdWk6OkJlZ2luVGFiSXRlbSgiU2lQTSBXYXZlZm9ybXMiKSkgewogICAgICAgIC8vICAgICAgICAgY29uc3Qgc2l6ZV90IGtDSHBlckdyb3VwID0gODsKICAgICAgICAvLyAgICAgICAgIGNvbnN0IGF1dG8mIG1vZGVsX2NvbnN0YW50cwogICAgICAgIC8vICAgICAgICAgICAgID0gQ0FFTkRpZ2l0aXplck1vZGVsc0NvbnN0YW50c01hcC5hdChfc2lwbV9kb2UuTW9kZWwpOwogICAgICAgIC8vICAgICAgICAgLy8gY29uc3QgYXV0byBudW1ncm91cHMgPSBtb2RlbF9jb25zdGFudHMuTnVtYmVyT2ZHcm91cHMgPiAwID8KICAgICAgICAvLyAgICAgICAgIC8vICAgICBtb2RlbF9jb25zdGFudHMuTnVtYmVyT2ZHcm91cHMgOiAxOwogICAgICAgIC8vICAgICAgICAgLy8gY29uc3QgaW50IG51bWNocGVyZ3JvdXAgPSBtb2RlbF9jb25zdGFudHMuTnVtQ2hhbm5lbHMgLyBudW1ncm91cHM7CiAgICAgICAgLy8gICAgICAgICAvLyBMZXQncyB3b3JrIG9uIGNvbnN0IGF1dG8mIGJlY2F1c2Ugd2UgcmVhbGx5IGRvIG5vdCB3YW50IHRvIGNoYW5nZQogICAgICAgIC8vICAgICAgICAgLy8gYW55dGhpbmcgaW4gdGhlc2UgbmV4dCBsaW5lcwogICAgICAgIC8vICAgICAgICAgaWYgKEltUGxvdDo6QmVnaW5QbG90KCIjI1NpUE1XYXZlZm9ybXMiLCBJbVZlYzIoLTEsIC0xKSwKICAgICAgICAvLyAgICAgICAgICAgICBJbVBsb3RGbGFnc19Ob1RpdGxlKSkgewogICAgICAgIC8vICAgICAgICAgICAgIEltUGxvdDo6U2V0dXBBeGVzKCJ0aW1lIFtuc10iLCAiQ291bnRzIiwgZ19heGlzX2ZsYWdzLAogICAgICAgIC8vICAgICAgICAgICAgICAgICBnX2F4aXNfZmxhZ3MpOwogICAgICAgIC8vICAgICAgICAgICAgIGZvciAoY29uc3QgYXV0byYgZ3AgOiBfc2lwbV9kb2UuR3JvdXBDb25maWdzKSB7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgIC8vIFdlIG5lZWQgdGhlIG51bWJlciBvZiBncm91cHMgZWFjaCBtb2RlbCBoYXMKCiAgICAgICAgLy8gICAgICAgICAgICAgICAgIC8vIElmIGdyb3VwcyBpcyBoaWdoZXIgdGhhbiAwLCB0aGVuIGl0IGhhcyBncm91cHMKICAgICAgICAvLyAgICAgICAgICAgICAgICAgLy8gb3RoZXJ3aXNlIGVhY2ggZ3JvdXAgaXMgYSBjaGFubmVsCiAgICAgICAgLy8gICAgICAgICAgICAgICAgIGlmIChtb2RlbF9jb25zdGFudHMuTnVtYmVyT2ZHcm91cHMgPiAwKSB7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAvLyBFYWNoIG1hc2sgY29udGFpbnMgaWYgdGhlIGNoYW5uZWwgaXMgZW5hYmxlZAogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgY29uc3QgYXV0byYgbWFzayA9IGdwLkFjcXVpc2l0aW9uTWFzazsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIC8vIFRoZXJlIGlzIGFsd2F5cyBhdCBtYXggOCBjaGFubmVscy4KICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGZvciAoc3RkOjpzaXplX3QgaSA9IDA7IGkgPCBrQ0hwZXJHcm91cDsgaSsrKSB7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1hc2sgJiAoMSA8PCBpKSkgewogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTaVBNUGxvdFJlY2VpdmVyLnBsb3QoCiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRpY19jYXN0PHVpbnQ4X3Q+KGtDSHBlckdyb3VwKmdwLk51bWJlciArIGkpLAogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiR1AgIiArICBzdGQ6OnRvX3N0cmluZyhncC5OdW1iZXIpCiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgIkNIICIgKyBzdGQ6OnRvX3N0cmluZyhpKSwKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUGxvdFN0eWxlOjpMaW5lLAogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnVlKTsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSW1QbG90OjpFbmRQbG90KCk7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgIC8vICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgU2lQTVBsb3RSZWNlaXZlci5wbG90KGdwLk51bWJlciwKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAiQ0ggIiArIHN0ZDo6dG9fc3RyaW5nKGdwLk51bWJlciksCiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgUGxvdFN0eWxlOjpMaW5lLAogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgIHRydWUpOwogICAgICAgIC8vICAgICAgICAgICAgICAgICB9CiAgICAgICAgLy8gICAgICAgICAgICAgfQogICAgICAgIC8vICAgICAgICAgICAgIEltUGxvdDo6RW5kUGxvdCgpOwogICAgICAgIC8vICAgICAgICAgfQogICAgICAgIC8vICAgICAgICAgSW1HdWk6OkVuZFRhYkl0ZW0oKTsKICAgICAgICAvLyAgICAgfQoKICAgICAgICAvLyAgICAgaWYgKEltR3VpOjpCZWdpblRhYkl0ZW0oIkktViIpKSB7CiAgICAgICAgLy8gICAgICAgICBzdGF0aWMgSW1QbG90U2NhbGUgY3Vycl9zY2FsZV9heGlzID0gSW1QbG90U2NhbGVfTGluZWFyOwogICAgICAgIC8vICAgICAgICAgSW1HdWk6OkNoZWNrYm94RmxhZ3MoIkN1cnJlbnQgTG9nIEF4aXMiLAogICAgICAgIC8vICAgICAgICAgICAgICZjdXJyX3NjYWxlX2F4aXMsIEltUGxvdFNjYWxlX0xvZzEwKTsKCiAgICAgICAgLy8gICAgICAgICBpZiAoSW1QbG90OjpCZWdpblBsb3QoIlZvbHRhZ2UiLCBJbVZlYzIoLTEsIC0xKSwKICAgICAgICAvLyAgICAgICAgICAgICBJbVBsb3RGbGFnc19Ob1RpdGxlKSkgewogICAgICAgIC8vICAgICAgICAgICAgIEltUGxvdDo6U2V0dXBBeGlzU2NhbGUoSW1BeGlzX1gxLCBJbVBsb3RTY2FsZV9UaW1lKTsKICAgICAgICAvLyAgICAgICAgICAgICBJbVBsb3Q6OlNldHVwQXhpc0Zvcm1hdChJbUF4aXNfWTEsICIlMi43ZiIpOwogICAgICAgIC8vICAgICAgICAgICAgIEltUGxvdDo6U2V0dXBBeGVzKCJ0aW1lIFtFU1RdIiwgIlZvbHRhZ2UgW1ZdIiwgZ19heGlzX2ZsYWdzLAogICAgICAgIC8vICAgICAgICAgICAgICAgICBnX2F4aXNfZmxhZ3MpOwogICAgICAgIC8vICAgICAgICAgICAgIEltUGxvdDo6U2V0dXBBeGlzKEltQXhpc19ZMiwgIkN1cnJlbnQgW3VBXSIsCiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBnX2F4aXNfZmxhZ3MgfCBJbVBsb3RBeGlzRmxhZ3NfT3Bwb3NpdGUpOwogICAgICAgIC8vICAgICAgICAgICAgIEltUGxvdDo6U2V0dXBBeGlzU2NhbGUoSW1BeGlzX1kyLCBjdXJyX3NjYWxlX2F4aXMpOwoKICAgICAgICAvLyAgICAgICAgICAgICBHZW5lcmFsSW5kaWNhdG9yUmVjZWl2ZXIucGxvdChJbmRpY2F0b3JOYW1lczo6RE1NX1ZPTFRBR0UsCiAgICAgICAgLy8gICAgICAgICAgICAgICAgICJWb2x0YWdlIik7CgogICAgICAgIC8vICAgICAgICAgICAgIEltUGxvdDo6U2V0QXhlcyhJbUF4aXNfWDEsIEltQXhpc19ZMik7CiAgICAgICAgLy8gICAgICAgICAgICAgR2VuZXJhbEluZGljYXRvclJlY2VpdmVyLnBsb3QoSW5kaWNhdG9yTmFtZXM6OlBJQ09fQ1VSUkVOVCwKICAgICAgICAvLyAgICAgICAgICAgICAgICAgIkN1cnJlbnQiKTsKCiAgICAgICAgLy8gICAgICAgICAgICAgSW1QbG90OjpFbmRQbG90KCk7CiAgICAgICAgLy8gICAgICAgICB9CiAgICAgICAgLy8gICAgICAgICBJbUd1aTo6RW5kVGFiSXRlbSgpOwogICAgICAgIC8vICAgICB9CgogICAgICAgIC8vICAgICBpZiAoSW1HdWk6OkJlZ2luVGFiSXRlbSgiRy1WIikpIHsKICAgICAgICAvLyAgICAgICAgIGlmIChJbUd1aTo6QnV0dG9uKCJDbGVhciIpKSB7CiAgICAgICAgLy8gICAgICAgICAgICAgR2VuZXJhbEluZGljYXRvclJlY2VpdmVyLkNsZWFyUGxvdCgKICAgICAgICAvLyAgICAgICAgICAgICAgICAgSW5kaWNhdG9yTmFtZXM6OkdBSU5fVlNfVk9MVEFHRSk7CiAgICAgICAgLy8gICAgICAgICB9CgogICAgICAgIC8vICAgICAgICAgaWYgKEltUGxvdDo6QmVnaW5QbG90KCJWb2x0YWdlIiwgSW1WZWMyKC0xLCAtMSksCiAgICAgICAgLy8gICAgICAgICAgICAgSW1QbG90RmxhZ3NfTm9UaXRsZSkpIHsKICAgICAgICAvLyAgICAgICAgICAgICBJbVBsb3Q6OlNldHVwQXhlcygiVm9sdGFnZSBbVl0iLCAiR2FpbiBbYXJiXSIsIGdfYXhpc19mbGFncywKICAgICAgICAvLyAgICAgICAgICAgICAgICAgZ19heGlzX2ZsYWdzKTsKCiAgICAgICAgLy8gICAgICAgICAgICAgR2VuZXJhbEluZGljYXRvclJlY2VpdmVyLnBsb3QoCiAgICAgICAgLy8gICAgICAgICAgICAgICAgIEluZGljYXRvck5hbWVzOjpHQUlOX1ZTX1ZPTFRBR0UsCiAgICAgICAgLy8gICAgICAgICAgICAgICAgICJHYWluIiwgUGxvdFN0eWxlOjpTY2F0dGVyKTsKCiAgICAgICAgLy8gICAgICAgICAgICAgSW1QbG90OjpFbmRQbG90KCk7CiAgICAgICAgLy8gICAgICAgICB9CiAgICAgICAgLy8gICAgICAgICBJbUd1aTo6RW5kVGFiSXRlbSgpOwogICAgICAgIC8vICAgICB9CiAgICAgICAgLy8gICAgIEltR3VpOjpFbmRUYWJCYXIoKTsKICAgICAgICAvLyB9CgogICAgICAgIC8vIEltR3VpOjpFbmQoKTsKCiAgICAgICAgLy8gSWYgdGhleSBjaGFuZ2VkIG9uIHRoaXMgR1VJLCB1cGRhdGUgdGhlIHRocmVhZHMgc28gdGhleSBjYW4KICAgICAgICAvLyBtb2RpZnkgd2hhdGV2ZXIgdGhleSB3YW50IGJhc2VkIG9uIHRoZSBkYXRhIHdlIHNlbnQKICAgICAgICBfdGVlbnN5X3BpcGVfZW5kLnNlbmRfaWZfY2hhbmdlZCgpOwogICAgICAgIF9zaXBtX3BpcGVfZW5kLnNlbmRfaWZfY2hhbmdlZCgpOwogICAgICAgIF9zbG93ZGFxX3BpcGVfZW5kLnNlbmRfaWZfY2hhbmdlZCgpOwoKICAgICAgICAvLyBVcGRhdGUgbG9jYWwgZGF0YSBmcm9tIHRocmVhZHMKICAgICAgICBzdGF0aWMgVGVlbnN5Q29udHJvbGxlckRhdGEgdGVlbnN5X3RocmVhZF9kYXRhOwogICAgICAgIGlmIChfdGVlbnN5X3BpcGVfZW5kLnJldHJpZXZlKHRlZW5zeV90aHJlYWRfZGF0YSkpIHsKICAgICAgICAgICAgX3RlZW5zeV9kb2UgPSB0ZWVuc3lfdGhyZWFkX2RhdGE7CiAgICAgICAgfQoKICAgICAgICBzdGF0aWMgU2lQTUFjcXVpc2l0aW9uRGF0YSBzaXBtX3RocmVhZF9kYXRhOwogICAgICAgIGlmIChfc2lwbV9waXBlX2VuZC5yZXRyaWV2ZShzaXBtX3RocmVhZF9kYXRhKSkgewogICAgICAgICAgICBfc2lwbV9kb2UgPSBzaXBtX3RocmVhZF9kYXRhOwogICAgICAgIH0KCiAgICAgICAgc3RhdGljIFNsb3dEQVFEYXRhIHNsb3dkYXFfdGhyZWFkX2RhdGE7CiAgICAgICAgaWYgKF9zbG93ZGFxX3BpcGVfZW5kLnJldHJpZXZlKHNsb3dkYXFfdGhyZWFkX2RhdGEpKSB7CiAgICAgICAgICAgIF9zbG93ZGFxX2RvZSA9IHNsb3dkYXFfdGhyZWFkX2RhdGE7CiAgICAgICAgfQogICAgfQp9OwoKdGVtcGxhdGU8dHlwZW5hbWUgUGlwZXMsIHR5cGVuYW1lIERyYXdGdW5jPgphdXRvIG1ha2VfZ3VpX21hbmFnZXIoY29uc3QgUGlwZXMmIHAsIERyYXdGdW5jJiYgZGYpIHsKICAgIHJldHVybiBzdGQ6Om1ha2VfdW5pcXVlPEdVSU1hbmFnZXI8UGlwZXMsIERyYXdGdW5jPj4ocCwKICAgICAgICAgICAgc3RkOjpmb3J3YXJkPERyYXdGdW5jPihkZikpOwp9Cgp9ICAvLyBuYW1lc3BhY2UgU0JDUXVlZW5zCiNlbmRpZgoAAAAAAAAAAENJAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAUBcAAAAAAABQFwAAAAAAAAAAAAAAAPC/"
				],
				[
					36,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAABDSQAAI2lmbmRlZiBHVUlNQU5BR0VSX0gKI2RlZmluZSBHVUlNQU5BR0VSX0gKI2luY2x1ZGUgInNiY3F1ZWVucy1ndWkvaGFyZHdhcmVfaGVscGVycy9TaVBNQWNxdWlzaXRpb25NYW5hZ2VyLmhwcCIKI3ByYWdtYSBvbmNlCgovLyBDIFNURCBpbmNsdWRlcwojaW5jbHVkZSA8bWF0aC5oPgoKLy8gQyAzcmQgcGFydHkgaW5jbHVkZXMKI2luY2x1ZGUgPGltZ3VpLmg+CiNpbmNsdWRlIDxpbXBsb3QuaD4KCi8vIEMrKyBTVEQgaW5jbHVkZXMKI2luY2x1ZGUgPGNzdGRpbnQ+CiNpbmNsdWRlIDxtZW1vcnk+CiNpbmNsdWRlIDxzdHJpbmc+CiNpbmNsdWRlIDx1bm9yZGVyZWRfbWFwPgojaW5jbHVkZSA8dXRpbGl0eT4KI2luY2x1ZGUgPHZlY3Rvcj4KI2luY2x1ZGUgPGZ1bmN0aW9uYWw+CgovLyBDKysgM3JkIHBhcnR5IGluY2x1ZGVzCiNpbmNsdWRlIDxzcGRsb2cvc3BkbG9nLmg+CiNpbmNsdWRlIDx0b21sLmhwcD4KCi8vIE15IGluY2x1ZGVzCiNpbmNsdWRlICJzYmNxdWVlbnMtZ3VpL211bHRpdGhyZWFkaW5nX2hlbHBlcnMvVGhyZWFkTWFuYWdlci5ocHAiCgojaW5jbHVkZSAic2JjcXVlZW5zLWd1aS9oYXJkd2FyZV9oZWxwZXJzL1RlZW5zeUNvbnRyb2xsZXJEYXRhLmhwcCIKI2luY2x1ZGUgInNiY3F1ZWVucy1ndWkvaGFyZHdhcmVfaGVscGVycy9TaVBNQWNxdWlzaXRpb25EYXRhLmhwcCIKI2luY2x1ZGUgInNiY3F1ZWVucy1ndWkvaGFyZHdhcmVfaGVscGVycy9TbG93REFRRGF0YS5ocHAiCgojaW5jbHVkZSAic2JjcXVlZW5zLWd1aS9jYWVuX2hlbHBlci5ocHAiCiNpbmNsdWRlICJzYmNxdWVlbnMtZ3VpL2ltZ3VpX2hlbHBlcnMuaHBwIgojaW5jbHVkZSAic2JjcXVlZW5zLWd1aS9pbXBsb3RfaGVscGVycy5ocHAiCgojaW5jbHVkZSAic2JjcXVlZW5zLWd1aS9ndWlfd2luZG93cy9XaW5kb3cuaHBwIgojaW5jbHVkZSAic2JjcXVlZW5zLWd1aS9ndWlfd2luZG93cy9Db250cm9sTGlzdC5ocHAiCiNpbmNsdWRlICJzYmNxdWVlbnMtZ3VpL2d1aV93aW5kb3dzL0luZGljYXRvcldpbmRvdy5ocHAiCiNpbmNsdWRlICJzYmNxdWVlbnMtZ3VpL2d1aV93aW5kb3dzL0NvbnRyb2xXaW5kb3cuaHBwIgojaW5jbHVkZSAic2JjcXVlZW5zLWd1aS9ndWlfd2luZG93cy9TaVBNQ29udHJvbFdpbmRvdy5ocHAiCgpuYW1lc3BhY2UgU0JDUXVlZW5zIHsKCnRlbXBsYXRlPHR5cGVuYW1lIFBpcGVzLCB0eXBlbmFtZSBEcmF3RnVuYz4KY2xhc3MgR1VJTWFuYWdlciA6IHB1YmxpYyBUaHJlYWRNYW5hZ2VyPFBpcGVzPiB7CiAgICAvLyBUbyBnZXQgdGhlIHBpcGUgaW50ZXJmYWNlIHVzZWQgaW4gdGhlIHBpcGVzLgogICAgRHJhd0Z1bmMgX2RyYXdfZnVuYzsKCiAgICAvLyBJbmRpY2F0b3JSZWNlaXZlcjxJbmRpY2F0b3JOYW1lcz4gR2VuZXJhbEluZGljYXRvclJlY2VpdmVyOwogICAgLy8gSW5kaWNhdG9yUmVjZWl2ZXI8dWludDE2X3Q+IE11bHRpUGxvdFJlY2VpdmVyOwogICAgLy8gSW5kaWNhdG9yUmVjZWl2ZXI8dWludDhfdD4gU2lQTVBsb3RSZWNlaXZlcjsKCiAgICAvLyBDQUVOIFBpcGUKICAgIHVzaW5nIFNpUE1QaXBlX3R5cGUgPSB0eXBlbmFtZSBQaXBlczo6U2lQTVBpcGVfdHlwZTsKICAgIFNpUE1BY3F1aXNpdGlvblBpcGVFbmQ8U2lQTVBpcGVfdHlwZSwgUGlwZUVuZFR5cGU6OkdVST4gX3NpcG1fcGlwZV9lbmQ7CiAgICBTaVBNQWNxdWlzaXRpb25EYXRhJiBfc2lwbV9kb2U7CgogICAgLy8gVGVlbnN5IFBpcGUKICAgIHVzaW5nIFRlZW5zeVBpcGVfdHlwZSA9IHR5cGVuYW1lIFBpcGVzOjpUZWVuc3lQaXBlX3R5cGU7CiAgICBUZWVuc3lDb250cm9sbGVyUGlwZUVuZDxUZWVuc3lQaXBlX3R5cGUsIFBpcGVFbmRUeXBlOjpHVUk+IF90ZWVuc3lfcGlwZV9lbmQ7CiAgICBUZWVuc3lDb250cm9sbGVyRGF0YSYgX3RlZW5zeV9kb2U7CgogICAgLy8gU2xvdyBEQVEgcGlwZQogICAgdXNpbmcgU2xvd0RBUV90eXBlID0gdHlwZW5hbWUgUGlwZXM6OlNsb3dEQVFfdHlwZTsKICAgIFNsb3dEQVFQaXBlRW5kPFNsb3dEQVFfdHlwZSwgUGlwZUVuZFR5cGU6OkdVST4gX3Nsb3dkYXFfcGlwZV9lbmQ7CiAgICBTbG93REFRRGF0YSYgX3Nsb3dkYXFfZG9lOwoKICAgIHN0ZDo6dmVjdG9yPHN0ZDo6dW5pcXVlX3B0cjxXaW5kb3dJbnRlcmZhY2U+PiBfd2luZG93czsKCiAgICBzdGQ6OnN0cmluZyBpX3J1bl9kaXI7CiAgICBzdGQ6OnN0cmluZyBpX3J1bl9uYW1lOwoKICAgIHN0ZDo6dmVjdG9yPHN0ZDo6c3RyaW5nPiBydGRfbmFtZXM7CiAgICBzdGQ6OnZlY3RvcjxzdGQ6OnN0cmluZz4gc2lwbV9uYW1lczsKCiBwdWJsaWM6CiAgICBHVUlNYW5hZ2VyKGNvbnN0IFBpcGVzJiBwLCBEcmF3RnVuYyYmIGRyYXdfZnVuYykgOgogICAgICAgIFRocmVhZE1hbmFnZXI8UGlwZXM+KHApLCBfZHJhd19mdW5je2RyYXdfZnVuY30sCiAgICAgICAgLy8gQWxsIG9mIHRoZXNlIGFyZSB0byBoYXZlIGEgbG9jYWwgYW5kIGZhc3RlciBhY2Nlc3MgdG8gdGhlbQogICAgICAgIC8vIGluc2lkZSB0aGlzIGNsYXNzLgogICAgICAgIF9zaXBtX3BpcGVfZW5kKHAuU2lQTVBpcGUpLAogICAgICAgIF9zaXBtX2RvZShfc2lwbV9waXBlX2VuZC5EYXRhKSwKICAgICAgICBfdGVlbnN5X3BpcGVfZW5kKHAuVGVlbnN5UGlwZSksCiAgICAgICAgX3RlZW5zeV9kb2UoX3RlZW5zeV9waXBlX2VuZC5EYXRhKSwKICAgICAgICBfc2xvd2RhcV9waXBlX2VuZChwLlNsb3dEQVFQaXBlKSwKICAgICAgICBfc2xvd2RhcV9kb2UoX3Nsb3dkYXFfcGlwZV9lbmQuRGF0YSkKICAgICAgICB7CiAgICAgICAgX3dpbmRvd3MucHVzaF9iYWNrKAogICAgICAgICAgICBtYWtlX2luZGljYXRvcl93aW5kb3coX3NpcG1fZG9lLCBfdGVlbnN5X2RvZSwgX3Nsb3dkYXFfZG9lKSk7CiAgICAgICAgX3dpbmRvd3MucHVzaF9iYWNrKAogICAgICAgICAgICBtYWtlX3NpcG1fY29udHJvbF93aW5kb3coX3NpcG1fZG9lLCBfdGVlbnN5X2RvZSkpOwogICAgICAgIF93aW5kb3dzLnB1c2hfYmFjaygKICAgICAgICAgICAgbWFrZV9jb250cm9sX3dpbmRvdyhfc2lwbV9kb2UsIF90ZWVuc3lfZG9lLCBfc2xvd2RhcV9kb2UpKTsKCiAgICAgICAgLy8gV2hlbiBjb25maWdfZmlsZSBnb2VzIG91dCBvZiBzY29wZSwgZXZlcnl0aGluZwogICAgICAgIC8vIGluY2x1ZGluZyB0aGUgZGF1Z2h0ZXJzIGdldCBjbGVhcmVkCiAgICAgICAgYXV0byBjb25maWdfZmlsZSA9IHRvbWw6OnBhcnNlX2ZpbGUoImd1aV9zZXR1cC50b21sIik7CiAgICAgICAgZm9yKGF1dG8mIHdpbmRvdzogX3dpbmRvd3MpIHsKICAgICAgICAgICAgd2luZG93LT5pbml0KGNvbmZpZ19maWxlKTsKICAgICAgICB9CgogICAgICAgIGF1dG8gdF9jb25mID0gY29uZmlnX2ZpbGVbIlRlZW5zeSJdOwogICAgICAgIGlmICh0b21sOjphcnJheSogYXJyID0gdF9jb25mWyJSVEROYW1lcyJdLmFzX2FycmF5KCkpIHsKICAgICAgICAgICAgZm9yICh0b21sOjpub2RlJiBlbGVtIDogKmFycikgewogICAgICAgICAgICAgICAgcnRkX25hbWVzLmVtcGxhY2VfYmFjayhlbGVtLnZhbHVlX29yKCIiKSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGlmICh0b21sOjphcnJheSogYXJyID0gdF9jb25mWyJTaVBNTmFtZXMiXS5hc19hcnJheSgpKSB7CiAgICAgICAgICAgIGZvciAodG9tbDo6bm9kZSYgZWxlbSA6ICphcnIpIHsKICAgICAgICAgICAgICAgIHNpcG1fbmFtZXMuZW1wbGFjZV9iYWNrKGVsZW0udmFsdWVfb3IoIiIpKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCiAgICB+R1VJTWFuYWdlcigpIHsKICAgICAgICAvLyBNYWtlIHN1cmUgdG8gc2VuZCBhbnl0aGluZyBiZWZvcmUgY2xvc2luZyB0aGUgZ3VpLgogICAgICAgIF90ZWVuc3lfcGlwZV9lbmQuc2VuZF9pZl9jaGFuZ2VkKCk7CiAgICAgICAgX3NpcG1fcGlwZV9lbmQuc2VuZF9pZl9jaGFuZ2VkKCk7CiAgICAgICAgX3Nsb3dkYXFfcGlwZV9lbmQuc2VuZF9pZl9jaGFuZ2VkKCk7CgogICAgICAgIF90ZWVuc3lfZG9lLkNhbGxiYWNrID0gW10oVGVlbnN5Q29udHJvbGxlckRhdGEmIHN0YXRlKSB7CiAgICAgICAgICAgIHN0YXRlLkN1cnJlbnRTdGF0ZSA9IFRlZW5zeUNvbnRyb2xsZXJTdGF0ZXM6OkNsb3Npbmc7CiAgICAgICAgfTsKCiAgICAgICAgLy8gQ0FFTlF1ZXVlJiBjcSA9IHN0ZDo6Z2V0PENBRU5RdWV1ZSY+KF9xdWV1ZXMpOwogICAgICAgIF9zaXBtX2RvZS5DYWxsYmFjayA9IFtdKFNpUE1BY3F1aXNpdGlvbkRhdGEmIHN0YXRlKSB7CiAgICAgICAgICAgIHN0YXRlLkN1cnJlbnRTdGF0ZSA9IFNpUE1BY3F1aXNpdGlvblN0YXRlczo6Q2xvc2luZzsKICAgICAgICB9OwoKICAgICAgICAvLyBTbG93REFRUXVldWUmIG9xID0gc3RkOjpnZXQ8U2xvd0RBUVF1ZXVlJj4oX3F1ZXVlcyk7CiAgICAgICAgX3Nsb3dkYXFfZG9lLkNhbGxiYWNrID0gW10oU2xvd0RBUURhdGEmIHN0YXRlKSB7CiAgICAgICAgICAgIHN0YXRlLlBGRUlGRkVSU3RhdGUgPSBQRkVJRkZFUlNTR1N0YXRlOjpDbG9zaW5nOwogICAgICAgIH07CiAgICB9CgogICAgdm9pZCBvcGVyYXRvcigpKCkgewogICAgICAgIC8vIF9kcmF3X2Z1bmMgbXVzdCBoYXZlIGEgcmVjdXJyaW5nIGRyYXcgZnVuY3Rpb24KICAgICAgICAvLyBhbmQgYSBjbG9zZSBmdW5jdGlvbi4KICAgICAgICBfZHJhd19mdW5jKFsmXSgpeyBfZHJhdygpOyB9KTsKICAgIH0KCiBwcml2YXRlOgogICAgdm9pZCBfZHJhdygpIHsKICAgICAgICBzdGF0aWMgYm9vbCB0cmdfb25jZSA9IHRydWU7CiAgICAgICAgaWYgKHRyZ19vbmNlKSB7CiAgICAgICAgICAgIEltUGxvdDo6U3R5bGVDb2xvcnNEYXJrKCk7CiAgICAgICAgICAgIEltUGxvdDo6R2V0U3R5bGUoKS5Vc2VMb2NhbFRpbWUgPSB0cnVlOwogICAgICAgICAgICB0cmdfb25jZSA9IGZhbHNlOwogICAgICAgIH0KCiAgICAgICAgZm9yKGF1dG8mIHdpbmRvdyA6IF93aW5kb3dzKSB7CiAgICAgICAgICAgICgqd2luZG93KSgpOwogICAgICAgIH0KCiAgICAgICAgLy8vLyBQbG90cwogICAgICAgIC8vIEltR3VpOjpCZWdpbigiT3RoZXIgUGxvdHMiKTsKCiAgICAgICAgLy8gLy8gVGhpcyBmdW5jdG9yIHVwZGF0ZXMgdGhlIHBsb3RzIHZhbHVlcyBmcm9tIHRoZSBxdWV1ZS4KICAgICAgICAvLyBHZW5lcmFsSW5kaWNhdG9yUmVjZWl2ZXIoKTsKICAgICAgICAvLyBNdWx0aVBsb3RSZWNlaXZlcigpOwogICAgICAgIC8vIFNpUE1QbG90UmVjZWl2ZXIoKTsKCiAgICAgICAgLy8gY29uc3QgYXV0byBnX2F4aXNfZmxhZ3MgPSBJbVBsb3RBeGlzRmxhZ3NfQXV0b0ZpdDsKICAgICAgICAvLyAvLyAvLy8gVGVlbnN5LUJNRTI4MCBQbG90cwogICAgICAgIC8vIGlmIChJbUd1aTo6QnV0dG9uKCJDbGVhciIpKSB7CiAgICAgICAgLy8gICAgIEdlbmVyYWxJbmRpY2F0b3JSZWNlaXZlci5DbGVhclBsb3QoCiAgICAgICAgLy8gICAgICAgICBJbmRpY2F0b3JOYW1lczo6TE9DQUxfQk1FX0hVTUQpOwogICAgICAgIC8vICAgICBHZW5lcmFsSW5kaWNhdG9yUmVjZWl2ZXIuQ2xlYXJQbG90KAogICAgICAgIC8vICAgICAgICAgSW5kaWNhdG9yTmFtZXM6OkxPQ0FMX0JNRV9URU1QUyk7CiAgICAgICAgLy8gICAgIEdlbmVyYWxJbmRpY2F0b3JSZWNlaXZlci5DbGVhclBsb3QoCiAgICAgICAgLy8gICAgICAgICBJbmRpY2F0b3JOYW1lczo6TE9DQUxfQk1FX1BSRVNTKTsKCiAgICAgICAgLy8gICAgIEdlbmVyYWxJbmRpY2F0b3JSZWNlaXZlci5DbGVhclBsb3QoCiAgICAgICAgLy8gICAgICAgICBJbmRpY2F0b3JOYW1lczo6UEZFSUZGRVJfUFJFU1MpOwogICAgICAgIC8vICAgICBHZW5lcmFsSW5kaWNhdG9yUmVjZWl2ZXIuQ2xlYXJQbG90KAogICAgICAgIC8vICAgICAgICAgSW5kaWNhdG9yTmFtZXM6OlZBQ1VVTV9QUkVTUyk7CiAgICAgICAgLy8gfQoKICAgICAgICBpZiAoSW1HdWk6OkJlZ2luVGFiQmFyKCJPdGhlciBQbG90cyIpKSB7CiAgICAgICAgICAgIGNvbnN0ZXhwciBhdXRvIHRlc3RfcGxvdCA9IGdldF9wbG90PCJJLVYiLCAyLCAyPihHVUlQbG90cyk7CgogICAgICAgIH0KICAgICAgICAvLyAgICAgLy8gaWYgKCFfdGVlbnN5X2RvZS5TeXN0ZW1QYXJhbWV0ZXJzLkluUlRET25seU1vZGUpIHsKICAgICAgICAvLyAgICAgLy8gICAgIGlmIChJbUd1aTo6QmVnaW5UYWJJdGVtKCJMb2NhbCBCTUUiKSkgewogICAgICAgIC8vICAgICAvLyAgICAgICAgIGlmIChJbVBsb3Q6OkJlZ2luUGxvdCgiTG9jYWwgQk1FIiwgSW1WZWMyKC0xLCAwKSkpIHsKICAgICAgICAvLyAgICAgLy8gICAgICAgICAgICAgLy8gV2Ugc2V0dXAgdGhlIGF4aXMKICAgICAgICAvLyAgICAgLy8gICAgICAgICAgICAgSW1QbG90OjpTZXR1cEF4aXNTY2FsZShJbUF4aXNfWDEsIEltUGxvdFNjYWxlX1RpbWUpOwogICAgICAgIC8vICAgICAvLyAgICAgICAgICAgICBJbVBsb3Q6OlNldHVwQXhlcygidGltZSBbc10iLCAiSHVtaWRpdHkgWyVdIiwKICAgICAgICAvLyAgICAgLy8gICAgICAgICAgICAgICAgIGdfYXhpc19mbGFncywgZ19heGlzX2ZsYWdzKTsKICAgICAgICAvLyAgICAgLy8gICAgICAgICAgICAgSW1QbG90OjpTZXR1cEF4aXMoSW1BeGlzX1kzLCAiUHJlc3N1cmUgW1BhXSIsCiAgICAgICAgLy8gICAgIC8vICAgICAgICAgICAgICAgICBnX2F4aXNfZmxhZ3MgfCBJbVBsb3RBeGlzRmxhZ3NfT3Bwb3NpdGUpOwogICAgICAgIC8vICAgICAvLyAgICAgICAgICAgICBJbVBsb3Q6OlNldHVwQXhpcyhJbUF4aXNfWTIsICJUZW1wZXJhdHVyZSBbZGVnQ10iLAogICAgICAgIC8vICAgICAvLyAgICAgICAgICAgICAgICAgZ19heGlzX2ZsYWdzIHwgSW1QbG90QXhpc0ZsYWdzX09wcG9zaXRlKTsKCiAgICAgICAgLy8gICAgIC8vICAgICAgICAgICAgIC8vIFRoaXMgb25lIGRvZXMgbm90IG5lZWQgYW4gU2V0QXhlcyBhcyBpdCB0YWtlcyB0aGUKICAgICAgICAvLyAgICAgLy8gICAgICAgICAgICAgLy8gZGVmYXVsdC4KICAgICAgICAvLyAgICAgLy8gICAgICAgICAgICAgLy8gVGhpcyBmdW5jdG9yIGlzIGFsbW9zdCB0aGUgc2FtZSBhcyBjYWxsaW5nIEltUGxvdAogICAgICAgIC8vICAgICAvLyAgICAgICAgICAgICBHZW5lcmFsSW5kaWNhdG9yUmVjZWl2ZXIucGxvdCgKICAgICAgICAvLyAgICAgLy8gICAgICAgICAgICAgICAgIEluZGljYXRvck5hbWVzOjpMT0NBTF9CTUVfSFVNRCwgIkh1bWlkaXR5Iik7CgogICAgICAgIC8vICAgICAvLyAgICAgICAgICAgICAvLyBXZSBuZWVkIHRvIGNhbGwgU2V0QXhlcyBiZWZvcmUgSW1QbG90OjpQbG90TGluZXMKICAgICAgICAvLyAgICAgLy8gICAgICAgICAgICAgLy8gdG8gbGV0IHRoZSBBUEkga25vdyB0aGUgYXhpcyBvZiBvdXIgZGF0YQogICAgICAgIC8vICAgICAvLyAgICAgICAgICAgICBJbVBsb3Q6OlNldEF4ZXMoSW1BeGlzX1gxLCBJbUF4aXNfWTIpOwogICAgICAgIC8vICAgICAvLyAgICAgICAgICAgICBHZW5lcmFsSW5kaWNhdG9yUmVjZWl2ZXIucGxvdCgKICAgICAgICAvLyAgICAgLy8gICAgICAgICAgICAgICAgIEluZGljYXRvck5hbWVzOjpMT0NBTF9CTUVfVEVNUFMsICJUZW1wZXJhdHVyZSIpOwoKICAgICAgICAvLyAgICAgLy8gICAgICAgICAgICAgSW1QbG90OjpTZXRBeGVzKEltQXhpc19YMSwgSW1BeGlzX1kzKTsKICAgICAgICAvLyAgICAgLy8gICAgICAgICAgICAgR2VuZXJhbEluZGljYXRvclJlY2VpdmVyLnBsb3QoCiAgICAgICAgLy8gICAgIC8vICAgICAgICAgICAgICAgICBJbmRpY2F0b3JOYW1lczo6TE9DQUxfQk1FX1BSRVNTLCAiUHJlc3N1cmUiKTsKCiAgICAgICAgLy8gICAgIC8vICAgICAgICAgICAgIEltUGxvdDo6RW5kUGxvdCgpOwogICAgICAgIC8vICAgICAvLyAgICAgICAgIH0KCiAgICAgICAgLy8gICAgIC8vICAgICAgICAgSW1HdWk6OkVuZFRhYkl0ZW0oKTsKICAgICAgICAvLyAgICAgLy8gICAgIH0KICAgICAgICAvLyAgICAgLy8gfQoKICAgICAgICAvLyAgICAgaWYgKEltR3VpOjpCZWdpblRhYkl0ZW0oIlByZXNzdXJlcyIpKSB7CiAgICAgICAgLy8gICAgICAgICBzdGF0aWMgSW1QbG90U2NhbGUgcHJlc3Nfc2NhbGVfYXhpcyA9IEltUGxvdFNjYWxlX0xpbmVhcjsKICAgICAgICAvLyAgICAgICAgIEltR3VpOjpDaGVja2JveEZsYWdzKCJMb2cgQXhpcyIsCiAgICAgICAgLy8gICAgICAgICAgICAgKHVuc2lnbmVkIGludCopJnByZXNzX3NjYWxlX2F4aXMsIEltUGxvdFNjYWxlX0xvZzEwKTsKICAgICAgICAvLyAgICAgICAgIGlmIChJbVBsb3Q6OkJlZ2luUGxvdCgiUHJlc3N1cmVzIiwgSW1WZWMyKC0xLCAtMSkpKSB7CiAgICAgICAgLy8gICAgICAgICAgICAgSW1QbG90OjpTZXR1cEF4aXNTY2FsZShJbUF4aXNfWTEsIHByZXNzX3NjYWxlX2F4aXMpOwogICAgICAgIC8vICAgICAgICAgICAgIEltUGxvdDo6U2V0dXBBeGlzU2NhbGUoSW1BeGlzX1gxLCBJbVBsb3RTY2FsZV9UaW1lKTsKICAgICAgICAvLyAgICAgICAgICAgICBJbVBsb3Q6OlNldHVwQXhlcygidGltZSBbc10iLCAiUCBbQmFyXSIsCiAgICAgICAgLy8gICAgICAgICAgICAgICAgIGdfYXhpc19mbGFncywgZ19heGlzX2ZsYWdzKTsKCiAgICAgICAgLy8gICAgICAgICAgICAgR2VuZXJhbEluZGljYXRvclJlY2VpdmVyLnBsb3QoCiAgICAgICAgLy8gICAgICAgICAgICAgICAgIEluZGljYXRvck5hbWVzOjpQRkVJRkZFUl9QUkVTUywgIlBGRUlGRkVSIik7CiAgICAgICAgLy8gICAgICAgICAgICAgR2VuZXJhbEluZGljYXRvclJlY2VpdmVyLnBsb3QoCiAgICAgICAgLy8gICAgICAgICAgICAgICAgIEluZGljYXRvck5hbWVzOjpWQUNVVU1fUFJFU1MsICJWYWN1dW0gbGluZSIpOwoKICAgICAgICAvLyAgICAgICAgICAgICBJbVBsb3Q6OkVuZFBsb3QoKTsKICAgICAgICAvLyAgICAgICAgIH0KCiAgICAgICAgLy8gICAgICAgICBJbUd1aTo6RW5kVGFiSXRlbSgpOwogICAgICAgIC8vICAgICB9CgogICAgICAgIC8vICAgICBJbUd1aTo6RW5kVGFiQmFyKCk7CiAgICAgICAgLy8gfQoKICAgICAgICAvLyBJbUd1aTo6RW5kKCk7CiAgICAgICAgLy8gLy8gLy8vICFUZWVuc3ktQk1FMjgwIFBsb3RzCiAgICAgICAgLy8gLy8gLy8vLwogICAgICAgIC8vIC8vIC8vLyBUZWVuc3ktUElEIFBsb3RzCiAgICAgICAgLy8gSW1HdWk6OkJlZ2luKCJUZWVuc3ktUElEIFBsb3RzIik7CgogICAgICAgIC8vIGlmIChJbUd1aTo6QnV0dG9uKCJDbGVhciIpKSB7CiAgICAgICAgLy8gICAgIGZvciAodWludDE2X3QgaSA9IDA7IGkgPCBfdGVlbnN5X2RvZS5TeXN0ZW1QYXJhbWV0ZXJzLk51bVJ0ZEJvYXJkczsgaSsrKSB7CiAgICAgICAgLy8gICAgICAgICBmb3IgKHVpbnQxNl90IGogPSAwOyBqIDwgX3RlZW5zeV9kb2UuU3lzdGVtUGFyYW1ldGVycy5OdW1SdGRzUGVyQm9hcmQ7IGorKykgewogICAgICAgIC8vICAgICAgICAgICAgIHVpbnQxNl90IGsgPSBzdGF0aWNfY2FzdDx1aW50MTZfdD4oCiAgICAgICAgLy8gICAgICAgICAgICAgICAgIGkqX3RlZW5zeV9kb2UuU3lzdGVtUGFyYW1ldGVycy5OdW1SdGRzUGVyQm9hcmQgK2opOwoKICAgICAgICAvLyAgICAgICAgICAgICBNdWx0aVBsb3RSZWNlaXZlci5DbGVhclBsb3Qoayk7CiAgICAgICAgLy8gICAgICAgICB9CiAgICAgICAgLy8gICAgIH0KICAgICAgICAvLyB9CgogICAgICAgIC8vIGlmICghX3RlZW5zeV9kb2UuU3lzdGVtUGFyYW1ldGVycy5JblJURE9ubHlNb2RlKSB7CiAgICAgICAgLy8gICAgIGlmIChJbVBsb3Q6OkJlZ2luUGxvdCgiUElEcyIsIEltVmVjMigtMSwgMCkpKSB7CiAgICAgICAgLy8gICAgICAgICBJbVBsb3Q6OlNldHVwQXhlcygidGltZSBbc10iLCAiQ3VycmVudCBbQV0iLAogICAgICAgIC8vICAgICAgICAgICAgIGdfYXhpc19mbGFncywgZ19heGlzX2ZsYWdzKTsKICAgICAgICAvLyAgICAgICAgIEltUGxvdDo6U2V0dXBBeGlzU2NhbGUoSW1BeGlzX1gxLCBJbVBsb3RTY2FsZV9UaW1lKTsKCiAgICAgICAgLy8gICAgICAgICBHZW5lcmFsSW5kaWNhdG9yUmVjZWl2ZXIucGxvdChJbmRpY2F0b3JOYW1lczo6UEVMVElFUl9DVVJSLCAiQ3VycmVudCIpOwoKICAgICAgICAvLyAgICAgICAgIEltUGxvdDo6RW5kUGxvdCgpOwogICAgICAgIC8vICAgICB9CiAgICAgICAgLy8gfQoKICAgICAgICAvLyBzdGF0aWMgSW1QbG90UmVjdCByZWN0KDAsIDEsIDAsIDMyMCk7CiAgICAgICAgLy8gc3RhdGljIEltUGxvdFNjYWxlIHJ0ZF9zY2FsZV9heGlzID0gSW1QbG90U2NhbGVfTGluZWFyOwogICAgICAgIC8vIEltR3VpOjpDaGVja2JveEZsYWdzKCJMb2cgQXhpcyIsCiAgICAgICAgLy8gICAgICZydGRfc2NhbGVfYXhpcywgSW1QbG90U2NhbGVfTG9nMTApOwoKICAgICAgICAvLyBpZiAoSW1QbG90OjpCZWdpblBsb3QoIlJURHMiLCBJbVZlYzIoLTEsIDApKSkgewogICAgICAgIC8vICAgICBJbVBsb3Q6OlNldHVwQXhpc1NjYWxlKEltQXhpc19ZMSwgcnRkX3NjYWxlX2F4aXMpOwogICAgICAgIC8vICAgICBJbVBsb3Q6OlNldHVwQXhpc1NjYWxlKEltQXhpc19YMSwgSW1QbG90U2NhbGVfVGltZSk7CiAgICAgICAgLy8gICAgIEltUGxvdDo6U2V0dXBBeGVzKCJ0aW1lIFtzXSIsICJUZW1wZXJhdHVyZSBbS10iLAogICAgICAgIC8vICAgICAgICAgZ19heGlzX2ZsYWdzLCBnX2F4aXNfZmxhZ3MpOwoKICAgICAgICAvLyAgICAgZm9yICh1aW50MTZfdCBpID0gMDsgaSA8IF90ZWVuc3lfZG9lLlN5c3RlbVBhcmFtZXRlcnMuTnVtUnRkQm9hcmRzOyBpKyspIHsKICAgICAgICAvLyAgICAgICAgIGZvciAodWludDE2X3QgaiA9IDA7IGogPCBfdGVlbnN5X2RvZS5TeXN0ZW1QYXJhbWV0ZXJzLk51bVJ0ZHNQZXJCb2FyZDsgaisrKSB7CiAgICAgICAgLy8gICAgICAgICAgICAgdWludDE2X3QgayA9IHN0YXRpY19jYXN0PHVpbnQxNl90PigKICAgICAgICAvLyAgICAgICAgICAgICAgICAgaSpfdGVlbnN5X2RvZS5TeXN0ZW1QYXJhbWV0ZXJzLk51bVJ0ZHNQZXJCb2FyZCAraik7CgogICAgICAgIC8vICAgICAgICAgICAgIGlmIChrIDwgcnRkX25hbWVzLnNpemUoKSkgewogICAgICAgIC8vICAgICAgICAgICAgICAgICBNdWx0aVBsb3RSZWNlaXZlci5wbG90KGssIHJ0ZF9uYW1lc1trXSk7CiAgICAgICAgLy8gICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgTXVsdGlQbG90UmVjZWl2ZXIucGxvdChrLCBzdGQ6OnRvX3N0cmluZyhrKSk7CiAgICAgICAgLy8gICAgICAgICAgICAgfQogICAgICAgIC8vICAgICAgICAgfQogICAgICAgIC8vICAgICB9CgogICAgICAgIC8vICAgICByZWN0ID0gSW1QbG90OjpHZXRQbG90TGltaXRzKCk7CgogICAgICAgIC8vICAgICBJbVBsb3Q6OkVuZFBsb3QoKTsKICAgICAgICAvLyB9CgogICAgICAgIC8vIHN0YXRpYyBmbG9hdCBydGRfem9vbV9tdWx0aXBsaWVyWzJdID0gezAuMH07CiAgICAgICAgLy8gSW1HdWk6OlNsaWRlckZsb2F0MigiWm9vbSAlIiwgcnRkX3pvb21fbXVsdGlwbGllciwgMC4wZiwgMS4wZik7CiAgICAgICAgLy8gLy8gSW1HdWk6OlZTbGlkZXJGbG9hdCgiWm9vbSBZJSIsIEltVmVjMigxOCwgMTYwKSwmeV9ydGRfem9vbV9tdWx0aXBsaWVyLCAwLjBmLCAxLjBmKTsKICAgICAgICAvLyAvLyBJbUd1aTo6U2FtZUxpbmUoKTsKCiAgICAgICAgLy8gaWYgKEltUGxvdDo6QmVnaW5QbG90KCJSVEQgWm9vbSIsIEltVmVjMigtMSwgMCkpKSB7CiAgICAgICAgLy8gICAgIEltUGxvdDo6U2V0dXBBeGlzU2NhbGUoSW1BeGlzX1kxLCBydGRfc2NhbGVfYXhpcyk7CiAgICAgICAgLy8gICAgIEltUGxvdDo6U2V0dXBBeGlzU2NhbGUoSW1BeGlzX1gxLCBJbVBsb3RTY2FsZV9UaW1lKTsKICAgICAgICAvLyAgICAgSW1QbG90OjpTZXR1cEF4ZXMoInRpbWUgW3NdIiwgIlRlbXBlcmF0dXJlIFtLXSIsCiAgICAgICAgLy8gICAgICAgICBnX2F4aXNfZmxhZ3MsIGdfYXhpc19mbGFncyk7CiAgICAgICAgLy8gICAgIEltUGxvdDo6U2V0dXBBeGVzTGltaXRzKAogICAgICAgIC8vICAgICAgICAgc3RhdGljX2Nhc3Q8ZG91YmxlPihydGRfem9vbV9tdWx0aXBsaWVyWzBdKSoocmVjdC5YLk1pbgogICAgICAgIC8vICAgICAgICAgICAgICsgcmVjdC5YLk1heCkgKyByZWN0LlguTWluLAogICAgICAgIC8vICAgICAgICAgcmVjdC5YLk1heCwKICAgICAgICAvLyAgICAgICAgIHN0YXRpY19jYXN0PGRvdWJsZT4ocnRkX3pvb21fbXVsdGlwbGllclsxXSkqKHJlY3QuWS5NaW4KICAgICAgICAvLyAgICAgICAgICAgICArIHJlY3QuWS5NYXgpICsgcmVjdC5ZLk1pbiwKICAgICAgICAvLyAgICAgICAgIHJlY3QuWS5NYXgsIEltR3VpQ29uZF9BbHdheXMpOwoKICAgICAgICAvLyAgICAgZm9yICh1aW50MTZfdCBpID0gMDsgaSA8IF90ZWVuc3lfZG9lLlN5c3RlbVBhcmFtZXRlcnMuTnVtUnRkQm9hcmRzOyBpKyspIHsKICAgICAgICAvLyAgICAgICAgIGZvciAodWludDE2X3QgaiA9IDA7IGogPCBfdGVlbnN5X2RvZS5TeXN0ZW1QYXJhbWV0ZXJzLk51bVJ0ZHNQZXJCb2FyZDsgaisrKSB7CiAgICAgICAgLy8gICAgICAgICAgICAgdWludDE2X3QgayA9IHN0YXRpY19jYXN0PHVpbnQxNl90PigKICAgICAgICAvLyAgICAgICAgICAgICAgICAgaSpfdGVlbnN5X2RvZS5TeXN0ZW1QYXJhbWV0ZXJzLk51bVJ0ZHNQZXJCb2FyZCAraik7CgogICAgICAgIC8vICAgICAgICAgICAgIGlmIChrIDwgcnRkX25hbWVzLnNpemUoKSkgewogICAgICAgIC8vICAgICAgICAgICAgICAgICBNdWx0aVBsb3RSZWNlaXZlci5wbG90KGssIHJ0ZF9uYW1lc1trXSk7CiAgICAgICAgLy8gICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgTXVsdGlQbG90UmVjZWl2ZXIucGxvdChrLCBzdGQ6OnRvX3N0cmluZyhrKSk7CiAgICAgICAgLy8gICAgICAgICAgICAgfQogICAgICAgIC8vICAgICAgICAgfQogICAgICAgIC8vICAgICB9CgogICAgICAgIC8vICAgICBJbVBsb3Q6OkVuZFBsb3QoKTsKICAgICAgICAvLyB9CgogICAgICAgIC8vIEltR3VpOjpFbmQoKTsKICAgICAgICAvLyAvLy8gIVRlZW5zeS1QSUQgUGxvdHMKICAgICAgICAvLyAvLy8vCiAgICAgICAgLy8gLy8vIFNpUE0gUGxvdHMKCgogICAgICAgIC8vIEltR3VpOjpCZWdpbigiU2lQTXMgUGxvdHMiKTsKCiAgICAgICAgLy8gaWYgKEltR3VpOjpCZWdpblRhYkJhcigiU2lQTXMgUGxvdHMiKSkgewogICAgICAgIC8vICAgICBpZiAoSW1HdWk6OkJlZ2luVGFiSXRlbSgiU2lQTSBXYXZlZm9ybXMiKSkgewogICAgICAgIC8vICAgICAgICAgY29uc3Qgc2l6ZV90IGtDSHBlckdyb3VwID0gODsKICAgICAgICAvLyAgICAgICAgIGNvbnN0IGF1dG8mIG1vZGVsX2NvbnN0YW50cwogICAgICAgIC8vICAgICAgICAgICAgID0gQ0FFTkRpZ2l0aXplck1vZGVsc0NvbnN0YW50c01hcC5hdChfc2lwbV9kb2UuTW9kZWwpOwogICAgICAgIC8vICAgICAgICAgLy8gY29uc3QgYXV0byBudW1ncm91cHMgPSBtb2RlbF9jb25zdGFudHMuTnVtYmVyT2ZHcm91cHMgPiAwID8KICAgICAgICAvLyAgICAgICAgIC8vICAgICBtb2RlbF9jb25zdGFudHMuTnVtYmVyT2ZHcm91cHMgOiAxOwogICAgICAgIC8vICAgICAgICAgLy8gY29uc3QgaW50IG51bWNocGVyZ3JvdXAgPSBtb2RlbF9jb25zdGFudHMuTnVtQ2hhbm5lbHMgLyBudW1ncm91cHM7CiAgICAgICAgLy8gICAgICAgICAvLyBMZXQncyB3b3JrIG9uIGNvbnN0IGF1dG8mIGJlY2F1c2Ugd2UgcmVhbGx5IGRvIG5vdCB3YW50IHRvIGNoYW5nZQogICAgICAgIC8vICAgICAgICAgLy8gYW55dGhpbmcgaW4gdGhlc2UgbmV4dCBsaW5lcwogICAgICAgIC8vICAgICAgICAgaWYgKEltUGxvdDo6QmVnaW5QbG90KCIjI1NpUE1XYXZlZm9ybXMiLCBJbVZlYzIoLTEsIC0xKSwKICAgICAgICAvLyAgICAgICAgICAgICBJbVBsb3RGbGFnc19Ob1RpdGxlKSkgewogICAgICAgIC8vICAgICAgICAgICAgIEltUGxvdDo6U2V0dXBBeGVzKCJ0aW1lIFtuc10iLCAiQ291bnRzIiwgZ19heGlzX2ZsYWdzLAogICAgICAgIC8vICAgICAgICAgICAgICAgICBnX2F4aXNfZmxhZ3MpOwogICAgICAgIC8vICAgICAgICAgICAgIGZvciAoY29uc3QgYXV0byYgZ3AgOiBfc2lwbV9kb2UuR3JvdXBDb25maWdzKSB7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgIC8vIFdlIG5lZWQgdGhlIG51bWJlciBvZiBncm91cHMgZWFjaCBtb2RlbCBoYXMKCiAgICAgICAgLy8gICAgICAgICAgICAgICAgIC8vIElmIGdyb3VwcyBpcyBoaWdoZXIgdGhhbiAwLCB0aGVuIGl0IGhhcyBncm91cHMKICAgICAgICAvLyAgICAgICAgICAgICAgICAgLy8gb3RoZXJ3aXNlIGVhY2ggZ3JvdXAgaXMgYSBjaGFubmVsCiAgICAgICAgLy8gICAgICAgICAgICAgICAgIGlmIChtb2RlbF9jb25zdGFudHMuTnVtYmVyT2ZHcm91cHMgPiAwKSB7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAvLyBFYWNoIG1hc2sgY29udGFpbnMgaWYgdGhlIGNoYW5uZWwgaXMgZW5hYmxlZAogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgY29uc3QgYXV0byYgbWFzayA9IGdwLkFjcXVpc2l0aW9uTWFzazsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIC8vIFRoZXJlIGlzIGFsd2F5cyBhdCBtYXggOCBjaGFubmVscy4KICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGZvciAoc3RkOjpzaXplX3QgaSA9IDA7IGkgPCBrQ0hwZXJHcm91cDsgaSsrKSB7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1hc2sgJiAoMSA8PCBpKSkgewogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTaVBNUGxvdFJlY2VpdmVyLnBsb3QoCiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRpY19jYXN0PHVpbnQ4X3Q+KGtDSHBlckdyb3VwKmdwLk51bWJlciArIGkpLAogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiR1AgIiArICBzdGQ6OnRvX3N0cmluZyhncC5OdW1iZXIpCiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgIkNIICIgKyBzdGQ6OnRvX3N0cmluZyhpKSwKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUGxvdFN0eWxlOjpMaW5lLAogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnVlKTsKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSW1QbG90OjpFbmRQbG90KCk7CiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgIC8vICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgU2lQTVBsb3RSZWNlaXZlci5wbG90KGdwLk51bWJlciwKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAiQ0ggIiArIHN0ZDo6dG9fc3RyaW5nKGdwLk51bWJlciksCiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgUGxvdFN0eWxlOjpMaW5lLAogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgIHRydWUpOwogICAgICAgIC8vICAgICAgICAgICAgICAgICB9CiAgICAgICAgLy8gICAgICAgICAgICAgfQogICAgICAgIC8vICAgICAgICAgICAgIEltUGxvdDo6RW5kUGxvdCgpOwogICAgICAgIC8vICAgICAgICAgfQogICAgICAgIC8vICAgICAgICAgSW1HdWk6OkVuZFRhYkl0ZW0oKTsKICAgICAgICAvLyAgICAgfQoKICAgICAgICAvLyAgICAgaWYgKEltR3VpOjpCZWdpblRhYkl0ZW0oIkktViIpKSB7CiAgICAgICAgLy8gICAgICAgICBzdGF0aWMgSW1QbG90U2NhbGUgY3Vycl9zY2FsZV9heGlzID0gSW1QbG90U2NhbGVfTGluZWFyOwogICAgICAgIC8vICAgICAgICAgSW1HdWk6OkNoZWNrYm94RmxhZ3MoIkN1cnJlbnQgTG9nIEF4aXMiLAogICAgICAgIC8vICAgICAgICAgICAgICZjdXJyX3NjYWxlX2F4aXMsIEltUGxvdFNjYWxlX0xvZzEwKTsKCiAgICAgICAgLy8gICAgICAgICBpZiAoSW1QbG90OjpCZWdpblBsb3QoIlZvbHRhZ2UiLCBJbVZlYzIoLTEsIC0xKSwKICAgICAgICAvLyAgICAgICAgICAgICBJbVBsb3RGbGFnc19Ob1RpdGxlKSkgewogICAgICAgIC8vICAgICAgICAgICAgIEltUGxvdDo6U2V0dXBBeGlzU2NhbGUoSW1BeGlzX1gxLCBJbVBsb3RTY2FsZV9UaW1lKTsKICAgICAgICAvLyAgICAgICAgICAgICBJbVBsb3Q6OlNldHVwQXhpc0Zvcm1hdChJbUF4aXNfWTEsICIlMi43ZiIpOwogICAgICAgIC8vICAgICAgICAgICAgIEltUGxvdDo6U2V0dXBBeGVzKCJ0aW1lIFtFU1RdIiwgIlZvbHRhZ2UgW1ZdIiwgZ19heGlzX2ZsYWdzLAogICAgICAgIC8vICAgICAgICAgICAgICAgICBnX2F4aXNfZmxhZ3MpOwogICAgICAgIC8vICAgICAgICAgICAgIEltUGxvdDo6U2V0dXBBeGlzKEltQXhpc19ZMiwgIkN1cnJlbnQgW3VBXSIsCiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBnX2F4aXNfZmxhZ3MgfCBJbVBsb3RBeGlzRmxhZ3NfT3Bwb3NpdGUpOwogICAgICAgIC8vICAgICAgICAgICAgIEltUGxvdDo6U2V0dXBBeGlzU2NhbGUoSW1BeGlzX1kyLCBjdXJyX3NjYWxlX2F4aXMpOwoKICAgICAgICAvLyAgICAgICAgICAgICBHZW5lcmFsSW5kaWNhdG9yUmVjZWl2ZXIucGxvdChJbmRpY2F0b3JOYW1lczo6RE1NX1ZPTFRBR0UsCiAgICAgICAgLy8gICAgICAgICAgICAgICAgICJWb2x0YWdlIik7CgogICAgICAgIC8vICAgICAgICAgICAgIEltUGxvdDo6U2V0QXhlcyhJbUF4aXNfWDEsIEltQXhpc19ZMik7CiAgICAgICAgLy8gICAgICAgICAgICAgR2VuZXJhbEluZGljYXRvclJlY2VpdmVyLnBsb3QoSW5kaWNhdG9yTmFtZXM6OlBJQ09fQ1VSUkVOVCwKICAgICAgICAvLyAgICAgICAgICAgICAgICAgIkN1cnJlbnQiKTsKCiAgICAgICAgLy8gICAgICAgICAgICAgSW1QbG90OjpFbmRQbG90KCk7CiAgICAgICAgLy8gICAgICAgICB9CiAgICAgICAgLy8gICAgICAgICBJbUd1aTo6RW5kVGFiSXRlbSgpOwogICAgICAgIC8vICAgICB9CgogICAgICAgIC8vICAgICBpZiAoSW1HdWk6OkJlZ2luVGFiSXRlbSgiRy1WIikpIHsKICAgICAgICAvLyAgICAgICAgIGlmIChJbUd1aTo6QnV0dG9uKCJDbGVhciIpKSB7CiAgICAgICAgLy8gICAgICAgICAgICAgR2VuZXJhbEluZGljYXRvclJlY2VpdmVyLkNsZWFyUGxvdCgKICAgICAgICAvLyAgICAgICAgICAgICAgICAgSW5kaWNhdG9yTmFtZXM6OkdBSU5fVlNfVk9MVEFHRSk7CiAgICAgICAgLy8gICAgICAgICB9CgogICAgICAgIC8vICAgICAgICAgaWYgKEltUGxvdDo6QmVnaW5QbG90KCJWb2x0YWdlIiwgSW1WZWMyKC0xLCAtMSksCiAgICAgICAgLy8gICAgICAgICAgICAgSW1QbG90RmxhZ3NfTm9UaXRsZSkpIHsKICAgICAgICAvLyAgICAgICAgICAgICBJbVBsb3Q6OlNldHVwQXhlcygiVm9sdGFnZSBbVl0iLCAiR2FpbiBbYXJiXSIsIGdfYXhpc19mbGFncywKICAgICAgICAvLyAgICAgICAgICAgICAgICAgZ19heGlzX2ZsYWdzKTsKCiAgICAgICAgLy8gICAgICAgICAgICAgR2VuZXJhbEluZGljYXRvclJlY2VpdmVyLnBsb3QoCiAgICAgICAgLy8gICAgICAgICAgICAgICAgIEluZGljYXRvck5hbWVzOjpHQUlOX1ZTX1ZPTFRBR0UsCiAgICAgICAgLy8gICAgICAgICAgICAgICAgICJHYWluIiwgUGxvdFN0eWxlOjpTY2F0dGVyKTsKCiAgICAgICAgLy8gICAgICAgICAgICAgSW1QbG90OjpFbmRQbG90KCk7CiAgICAgICAgLy8gICAgICAgICB9CiAgICAgICAgLy8gICAgICAgICBJbUd1aTo6RW5kVGFiSXRlbSgpOwogICAgICAgIC8vICAgICB9CiAgICAgICAgLy8gICAgIEltR3VpOjpFbmRUYWJCYXIoKTsKICAgICAgICAvLyB9CgogICAgICAgIC8vIEltR3VpOjpFbmQoKTsKCiAgICAgICAgLy8gSWYgdGhleSBjaGFuZ2VkIG9uIHRoaXMgR1VJLCB1cGRhdGUgdGhlIHRocmVhZHMgc28gdGhleSBjYW4KICAgICAgICAvLyBtb2RpZnkgd2hhdGV2ZXIgdGhleSB3YW50IGJhc2VkIG9uIHRoZSBkYXRhIHdlIHNlbnQKICAgICAgICBfdGVlbnN5X3BpcGVfZW5kLnNlbmRfaWZfY2hhbmdlZCgpOwogICAgICAgIF9zaXBtX3BpcGVfZW5kLnNlbmRfaWZfY2hhbmdlZCgpOwogICAgICAgIF9zbG93ZGFxX3BpcGVfZW5kLnNlbmRfaWZfY2hhbmdlZCgpOwoKICAgICAgICAvLyBVcGRhdGUgbG9jYWwgZGF0YSBmcm9tIHRocmVhZHMKICAgICAgICBzdGF0aWMgVGVlbnN5Q29udHJvbGxlckRhdGEgdGVlbnN5X3RocmVhZF9kYXRhOwogICAgICAgIGlmIChfdGVlbnN5X3BpcGVfZW5kLnJldHJpZXZlKHRlZW5zeV90aHJlYWRfZGF0YSkpIHsKICAgICAgICAgICAgX3RlZW5zeV9kb2UgPSB0ZWVuc3lfdGhyZWFkX2RhdGE7CiAgICAgICAgfQoKICAgICAgICBzdGF0aWMgU2lQTUFjcXVpc2l0aW9uRGF0YSBzaXBtX3RocmVhZF9kYXRhOwogICAgICAgIGlmIChfc2lwbV9waXBlX2VuZC5yZXRyaWV2ZShzaXBtX3RocmVhZF9kYXRhKSkgewogICAgICAgICAgICBfc2lwbV9kb2UgPSBzaXBtX3RocmVhZF9kYXRhOwogICAgICAgIH0KCiAgICAgICAgc3RhdGljIFNsb3dEQVFEYXRhIHNsb3dkYXFfdGhyZWFkX2RhdGE7CiAgICAgICAgaWYgKF9zbG93ZGFxX3BpcGVfZW5kLnJldHJpZXZlKHNsb3dkYXFfdGhyZWFkX2RhdGEpKSB7CiAgICAgICAgICAgIF9zbG93ZGFxX2RvZSA9IHNsb3dkYXFfdGhyZWFkX2RhdGE7CiAgICAgICAgfQogICAgfQp9OwoKdGVtcGxhdGU8dHlwZW5hbWUgUGlwZXMsIHR5cGVuYW1lIERyYXdGdW5jPgphdXRvIG1ha2VfZ3VpX21hbmFnZXIoY29uc3QgUGlwZXMmIHAsIERyYXdGdW5jJiYgZGYpIHsKICAgIHJldHVybiBzdGQ6Om1ha2VfdW5pcXVlPEdVSU1hbmFnZXI8UGlwZXMsIERyYXdGdW5jPj4ocCwKICAgICAgICAgICAgc3RkOjpmb3J3YXJkPERyYXdGdW5jPihkZikpOwp9Cgp9ICAvLyBuYW1lc3BhY2UgU0JDUXVlZW5zCiNlbmRpZgoAAAAAAAAAAKdBAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAUBcAAAAAAABQFwAAAAAAAAAAAAAAAPC/"
				],
				[
					37,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAACnQQAAI2lmbmRlZiBHVUlNQU5BR0VSX0gKI2RlZmluZSBHVUlNQU5BR0VSX0gKI3ByYWdtYSBvbmNlCgovLyBDIFNURCBpbmNsdWRlcwojaW5jbHVkZSA8bWF0aC5oPgoKLy8gQyAzcmQgcGFydHkgaW5jbHVkZXMKI2luY2x1ZGUgPGltZ3VpLmg+CiNpbmNsdWRlIDxpbXBsb3QuaD4KCi8vIEMrKyBTVEQgaW5jbHVkZXMKI2luY2x1ZGUgPGNzdGRpbnQ+CiNpbmNsdWRlIDxtZW1vcnk+CiNpbmNsdWRlIDxzdHJpbmc+CiNpbmNsdWRlIDx1bm9yZGVyZWRfbWFwPgojaW5jbHVkZSA8dXRpbGl0eT4KI2luY2x1ZGUgPHZlY3Rvcj4KI2luY2x1ZGUgPGlvc3RyZWFtPgojaW5jbHVkZSA8dHVwbGU+CiNpbmNsdWRlIDxmdW5jdGlvbmFsPgoKLy8gQysrIDNyZCBwYXJ0eSBpbmNsdWRlcwojaW5jbHVkZSA8c3BkbG9nL3NwZGxvZy5oPgojaW5jbHVkZSA8dG9tbC5ocHA+CgovLyBNeSBpbmNsdWRlcwojaW5jbHVkZSAic2JjcXVlZW5zLWd1aS9oYXJkd2FyZV9oZWxwZXJzL1RlZW5zeUNvbnRyb2xsZXJJbnRlcmZhY2UuaHBwIgojaW5jbHVkZSAic2JjcXVlZW5zLWd1aS9oYXJkd2FyZV9oZWxwZXJzL0NBRU5EaWdpdGl6ZXJJbnRlcmZhY2UuaHBwIgojaW5jbHVkZSAic2JjcXVlZW5zLWd1aS9oYXJkd2FyZV9oZWxwZXJzL1Nsb3dEQVFJbnRlcmZhY2UuaHBwIgoKI2luY2x1ZGUgInNiY3F1ZWVucy1ndWkvY2Flbl9oZWxwZXIuaHBwIgojaW5jbHVkZSAic2JjcXVlZW5zLWd1aS9pbWd1aV9oZWxwZXJzLmhwcCIKI2luY2x1ZGUgInNiY3F1ZWVucy1ndWkvaW1wbG90X2hlbHBlcnMuaHBwIgojaW5jbHVkZSAic2JjcXVlZW5zLWd1aS9pbmRpY2F0b3JzLmhwcCIKCiNpbmNsdWRlICJzYmNxdWVlbnMtZ3VpL2d1aV93aW5kb3dzL0luZGljYXRvcldpbmRvdy5ocHAiCiNpbmNsdWRlICJzYmNxdWVlbnMtZ3VpL2d1aV93aW5kb3dzL0NvbnRyb2xXaW5kb3cuaHBwIgojaW5jbHVkZSAic2JjcXVlZW5zLWd1aS9ndWlfd2luZG93cy9TaVBNQ29udHJvbFdpbmRvdy5ocHAiCgpuYW1lc3BhY2UgU0JDUXVlZW5zIHsKCnRlbXBsYXRlPHR5cGVuYW1lLi4uIFF1ZXVlRnVuY3M+CmNsYXNzIEdVSU1hbmFnZXIgewogcHJpdmF0ZToKICAgIHN0ZDo6dHVwbGU8UXVldWVGdW5jcyYuLi4+IF9xdWV1ZXM7CgogICAgSW5kaWNhdG9yUmVjZWl2ZXI8SW5kaWNhdG9yTmFtZXM+IEdlbmVyYWxJbmRpY2F0b3JSZWNlaXZlcjsKICAgIEluZGljYXRvclJlY2VpdmVyPHVpbnQxNl90PiBNdWx0aVBsb3RSZWNlaXZlcjsKICAgIEluZGljYXRvclJlY2VpdmVyPHVpbnQ4X3Q+IFNpUE1QbG90UmVjZWl2ZXI7CgogICAgLy8gVGVlbnN5IENvbnRyb2xzCiAgICBDb250cm9sTGluazxUZWVuc3lRdWV1ZT4gVGVlbnN5Q29udHJvbEZhYzsKICAgIFRlZW5zeUNvbnRyb2xsZXJEYXRhIHRndWlfc3RhdGU7CgogICAgLy8gQ0FFTiBDb250cm9scwogICAgQ29udHJvbExpbms8Q0FFTlF1ZXVlPiBDQUVOQ29udHJvbEZhYzsKICAgIENBRU5JbnRlcmZhY2VEYXRhIGNndWlfc3RhdGU7CgogICAgLy8gT3RoZXIgY29udHJvbHMKICAgIENvbnRyb2xMaW5rPFNsb3dEQVFRdWV1ZT4gU2xvd0RBUUNvbnRyb2xGYWM7CiAgICBTbG93REFRRGF0YSBzZGFxX3N0YXRlOwoKICAgIHN0ZDo6c3RyaW5nIGlfcnVuX2RpcjsKICAgIHN0ZDo6c3RyaW5nIGlfcnVuX25hbWU7CgogICAgdG9tbDo6dGFibGUgY29uZmlnX2ZpbGU7CiAgICBzdGQ6OnZlY3RvcjxzdGQ6OnN0cmluZz4gcnRkX25hbWVzOwogICAgc3RkOjp2ZWN0b3I8c3RkOjpzdHJpbmc+IHNpcG1fbmFtZXM7CgogICAgSW5kaWNhdG9yV2luZG93IGluZGljYXRvcldpbmRvdzsKICAgIENvbnRyb2xXaW5kb3cgY29udHJvbFdpbmRvdzsKICAgIFNpUE1Db250cm9sV2luZG93IHNpcG1Db250cm9sV2luZG93OwoKIHB1YmxpYzoKICAgIGV4cGxpY2l0IEdVSU1hbmFnZXIoUXVldWVGdW5jcyYuLi4gcXVldWVzKSA6CiAgICAgICAgX3F1ZXVlcyhzdGQ6OmZvcndhcmRfYXNfdHVwbGUocXVldWVzLi4uKSksCiAgICAgICAgR2VuZXJhbEluZGljYXRvclJlY2VpdmVyKHN0ZDo6Z2V0PEdlbmVyYWxJbmRpY2F0b3JRdWV1ZSY+KF9xdWV1ZXMpKSwKICAgICAgICBNdWx0aVBsb3RSZWNlaXZlciAgIChzdGQ6OmdldDxNdWx0aXBsZVBsb3RRdWV1ZSY+KF9xdWV1ZXMpKSwKICAgICAgICBTaVBNUGxvdFJlY2VpdmVyICAgIChzdGQ6OmdldDxTaVBNUGxvdFF1ZXVlJj4oX3F1ZXVlcykpLAogICAgICAgIFRlZW5zeUNvbnRyb2xGYWMgICAgKHN0ZDo6Z2V0PFRlZW5zeVF1ZXVlJj4oX3F1ZXVlcykpLAogICAgICAgIENBRU5Db250cm9sRmFjICAoc3RkOjpnZXQ8Q0FFTlF1ZXVlJj4oX3F1ZXVlcykpLAogICAgICAgIFNsb3dEQVFDb250cm9sRmFjICAgKHN0ZDo6Z2V0PFNsb3dEQVFRdWV1ZSY+KF9xdWV1ZXMpKSwKICAgICAgICBpbmRpY2F0b3JXaW5kb3cgICAgIChHZW5lcmFsSW5kaWNhdG9yUmVjZWl2ZXIsCiAgICAgICAgICAgIHN0ZDo6Z2V0PENBRU5RdWV1ZSY+KF9xdWV1ZXMpLAogICAgICAgICAgICB0Z3VpX3N0YXRlLCBzZGFxX3N0YXRlKSwKICAgICAgICBjb250cm9sV2luZG93KFRlZW5zeUNvbnRyb2xGYWMsIHRndWlfc3RhdGUsIENBRU5Db250cm9sRmFjLCBjZ3VpX3N0YXRlLAogICAgICAgICAgICBTbG93REFRQ29udHJvbEZhYywgc2RhcV9zdGF0ZSksCiAgICAgICAgc2lwbUNvbnRyb2xXaW5kb3coQ0FFTkNvbnRyb2xGYWMsIGNndWlfc3RhdGUsIEdlbmVyYWxJbmRpY2F0b3JSZWNlaXZlciwKICAgICAgICAgICAgdGd1aV9zdGF0ZSkKICAgICAgICB7CiAgICAgICAgLy8gV2hlbiBjb25maWdfZmlsZSBnb2VzIG91dCBvZiBzY29wZSwgZXZlcnl0aGluZwogICAgICAgIC8vIGluY2x1ZGluZyB0aGUgZGF1Z2h0ZXJzIGdldCBjbGVhcmVkCiAgICAgICAgY29uZmlnX2ZpbGUgPSB0b21sOjpwYXJzZV9maWxlKCJndWlfc2V0dXAudG9tbCIpOwogICAgICAgIGF1dG8gdF9jb25mID0gY29uZmlnX2ZpbGVbIlRlZW5zeSJdOwogICAgICAgIC8vIGF1dG8gQ0FFTl9jb25mID0gY29uZmlnX2ZpbGVbIkNBRU4iXTsKICAgICAgICAvLyBhdXRvIGZpbGVfY29uZiA9IGNvbmZpZ19maWxlWyJGaWxlIl07CgogICAgICAgIGluZGljYXRvcldpbmRvdy5Jbml0KGNvbmZpZ19maWxlKTsKICAgICAgICBjb250cm9sV2luZG93LmluaXQoY29uZmlnX2ZpbGUpOwogICAgICAgIHNpcG1Db250cm9sV2luZG93LmluaXQoY29uZmlnX2ZpbGUpOwoKICAgICAgICBpZiAodG9tbDo6YXJyYXkqIGFyciA9IHRfY29uZlsiUlRETmFtZXMiXS5hc19hcnJheSgpKSB7CiAgICAgICAgICAgIGZvciAodG9tbDo6bm9kZSYgZWxlbSA6ICphcnIpIHsKICAgICAgICAgICAgICAgIHJ0ZF9uYW1lcy5lbXBsYWNlX2JhY2soZWxlbS52YWx1ZV9vcigiIikpOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBpZiAodG9tbDo6YXJyYXkqIGFyciA9IHRfY29uZlsiU2lQTU5hbWVzIl0uYXNfYXJyYXkoKSkgewogICAgICAgICAgICBmb3IgKHRvbWw6Om5vZGUmIGVsZW0gOiAqYXJyKSB7CiAgICAgICAgICAgICAgICBzaXBtX25hbWVzLmVtcGxhY2VfYmFjayhlbGVtLnZhbHVlX29yKCIiKSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgoKICAgIH0KCiAgICAvLyBObyBjb3B5aW5nCiAgICBHVUlNYW5hZ2VyKGNvbnN0IEdVSU1hbmFnZXImKSA9IGRlbGV0ZTsKCiAgICB+R1VJTWFuYWdlcigpIHsgfQoKICAgIHZvaWQgb3BlcmF0b3IoKSgpIHsKICAgICAgICBzdGF0aWMgYm9vbCB0cmdfb25jZSA9IHRydWU7CiAgICAgICAgaWYgKHRyZ19vbmNlKSB7CiAgICAgICAgICAgIEltUGxvdDo6U3R5bGVDb2xvcnNEYXJrKCk7CiAgICAgICAgICAgIEltUGxvdDo6R2V0U3R5bGUoKS5Vc2VMb2NhbFRpbWUgPSB0cnVlOwogICAgICAgICAgICB0cmdfb25jZSA9IGZhbHNlOwogICAgICAgIH0KCiAgICAgICAgY29udHJvbFdpbmRvdygpOwogICAgICAgIHNpcG1Db250cm9sV2luZG93KCk7CgogICAgICAgIC8vLy8gUGxvdHMKICAgICAgICBJbUd1aTo6QmVnaW4oIk90aGVyIFBsb3RzIik7CgogICAgICAgIC8vIFRoaXMgZnVuY3RvciB1cGRhdGVzIHRoZSBwbG90cyB2YWx1ZXMgZnJvbSB0aGUgcXVldWUuCiAgICAgICAgR2VuZXJhbEluZGljYXRvclJlY2VpdmVyKCk7CiAgICAgICAgTXVsdGlQbG90UmVjZWl2ZXIoKTsKICAgICAgICBTaVBNUGxvdFJlY2VpdmVyKCk7CgogICAgICAgIGNvbnN0IGF1dG8gZ19heGlzX2ZsYWdzID0gSW1QbG90QXhpc0ZsYWdzX0F1dG9GaXQ7CiAgICAgICAgLy8gLy8vIFRlZW5zeS1CTUUyODAgUGxvdHMKICAgICAgICBpZiAoSW1HdWk6OkJ1dHRvbigiQ2xlYXIiKSkgewogICAgICAgICAgICBHZW5lcmFsSW5kaWNhdG9yUmVjZWl2ZXIuQ2xlYXJQbG90KAogICAgICAgICAgICAgICAgSW5kaWNhdG9yTmFtZXM6OkxPQ0FMX0JNRV9IVU1EKTsKICAgICAgICAgICAgR2VuZXJhbEluZGljYXRvclJlY2VpdmVyLkNsZWFyUGxvdCgKICAgICAgICAgICAgICAgIEluZGljYXRvck5hbWVzOjpMT0NBTF9CTUVfVEVNUFMpOwogICAgICAgICAgICBHZW5lcmFsSW5kaWNhdG9yUmVjZWl2ZXIuQ2xlYXJQbG90KAogICAgICAgICAgICAgICAgSW5kaWNhdG9yTmFtZXM6OkxPQ0FMX0JNRV9QUkVTUyk7CgogICAgICAgICAgICBHZW5lcmFsSW5kaWNhdG9yUmVjZWl2ZXIuQ2xlYXJQbG90KAogICAgICAgICAgICAgICAgSW5kaWNhdG9yTmFtZXM6OlBGRUlGRkVSX1BSRVNTKTsKICAgICAgICAgICAgR2VuZXJhbEluZGljYXRvclJlY2VpdmVyLkNsZWFyUGxvdCgKICAgICAgICAgICAgICAgIEluZGljYXRvck5hbWVzOjpWQUNVVU1fUFJFU1MpOwogICAgICAgIH0KCiAgICAgICAgaWYgKEltR3VpOjpCZWdpblRhYkJhcigiT3RoZXIgUGxvdHMiKSkgewogICAgICAgICAgICBpZiAoIXRndWlfc3RhdGUuU3lzdGVtUGFyYW1ldGVycy5JblJURE9ubHlNb2RlKSB7CiAgICAgICAgICAgICAgICBpZiAoSW1HdWk6OkJlZ2luVGFiSXRlbSgiTG9jYWwgQk1FIikpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoSW1QbG90OjpCZWdpblBsb3QoIkxvY2FsIEJNRSIsIEltVmVjMigtMSwgMCkpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdlIHNldHVwIHRoZSBheGlzCiAgICAgICAgICAgICAgICAgICAgICAgIEltUGxvdDo6U2V0dXBBeGlzU2NhbGUoSW1BeGlzX1gxLCBJbVBsb3RTY2FsZV9UaW1lKTsKICAgICAgICAgICAgICAgICAgICAgICAgSW1QbG90OjpTZXR1cEF4ZXMoInRpbWUgW3NdIiwgIkh1bWlkaXR5IFslXSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnX2F4aXNfZmxhZ3MsIGdfYXhpc19mbGFncyk7CiAgICAgICAgICAgICAgICAgICAgICAgIEltUGxvdDo6U2V0dXBBeGlzKEltQXhpc19ZMywgIlByZXNzdXJlIFtQYV0iLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZ19heGlzX2ZsYWdzIHwgSW1QbG90QXhpc0ZsYWdzX09wcG9zaXRlKTsKICAgICAgICAgICAgICAgICAgICAgICAgSW1QbG90OjpTZXR1cEF4aXMoSW1BeGlzX1kyLCAiVGVtcGVyYXR1cmUgW2RlZ0NdIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdfYXhpc19mbGFncyB8IEltUGxvdEF4aXNGbGFnc19PcHBvc2l0ZSk7CgogICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIG9uZSBkb2VzIG5vdCBuZWVkIGFuIFNldEF4ZXMgYXMgaXQgdGFrZXMgdGhlCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRlZmF1bHQuCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoaXMgZnVuY3RvciBpcyBhbG1vc3QgdGhlIHNhbWUgYXMgY2FsbGluZyBJbVBsb3QKICAgICAgICAgICAgICAgICAgICAgICAgR2VuZXJhbEluZGljYXRvclJlY2VpdmVyLnBsb3QoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBJbmRpY2F0b3JOYW1lczo6TE9DQUxfQk1FX0hVTUQsICJIdW1pZGl0eSIpOwoKICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2UgbmVlZCB0byBjYWxsIFNldEF4ZXMgYmVmb3JlIEltUGxvdDo6UGxvdExpbmVzCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRvIGxldCB0aGUgQVBJIGtub3cgdGhlIGF4aXMgb2Ygb3VyIGRhdGEKICAgICAgICAgICAgICAgICAgICAgICAgSW1QbG90OjpTZXRBeGVzKEltQXhpc19YMSwgSW1BeGlzX1kyKTsKICAgICAgICAgICAgICAgICAgICAgICAgR2VuZXJhbEluZGljYXRvclJlY2VpdmVyLnBsb3QoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBJbmRpY2F0b3JOYW1lczo6TE9DQUxfQk1FX1RFTVBTLCAiVGVtcGVyYXR1cmUiKTsKCiAgICAgICAgICAgICAgICAgICAgICAgIEltUGxvdDo6U2V0QXhlcyhJbUF4aXNfWDEsIEltQXhpc19ZMyk7CiAgICAgICAgICAgICAgICAgICAgICAgIEdlbmVyYWxJbmRpY2F0b3JSZWNlaXZlci5wbG90KAogICAgICAgICAgICAgICAgICAgICAgICAgICAgSW5kaWNhdG9yTmFtZXM6OkxPQ0FMX0JNRV9QUkVTUywgIlByZXNzdXJlIik7CgogICAgICAgICAgICAgICAgICAgICAgICBJbVBsb3Q6OkVuZFBsb3QoKTsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIEltR3VpOjpFbmRUYWJJdGVtKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmIChJbUd1aTo6QmVnaW5UYWJJdGVtKCJQcmVzc3VyZXMiKSkgewogICAgICAgICAgICAgICAgc3RhdGljIEltUGxvdFNjYWxlIHByZXNzX3NjYWxlX2F4aXMgPSBJbVBsb3RTY2FsZV9MaW5lYXI7CiAgICAgICAgICAgICAgICBJbUd1aTo6Q2hlY2tib3hGbGFncygiTG9nIEF4aXMiLAogICAgICAgICAgICAgICAgICAgICh1bnNpZ25lZCBpbnQqKSZwcmVzc19zY2FsZV9heGlzLCBJbVBsb3RTY2FsZV9Mb2cxMCk7CiAgICAgICAgICAgICAgICBpZiAoSW1QbG90OjpCZWdpblBsb3QoIlByZXNzdXJlcyIsIEltVmVjMigtMSwgLTEpKSkgewogICAgICAgICAgICAgICAgICAgIEltUGxvdDo6U2V0dXBBeGlzU2NhbGUoSW1BeGlzX1kxLCBwcmVzc19zY2FsZV9heGlzKTsKICAgICAgICAgICAgICAgICAgICBJbVBsb3Q6OlNldHVwQXhpc1NjYWxlKEltQXhpc19YMSwgSW1QbG90U2NhbGVfVGltZSk7CiAgICAgICAgICAgICAgICAgICAgSW1QbG90OjpTZXR1cEF4ZXMoInRpbWUgW3NdIiwgIlAgW0Jhcl0iLAogICAgICAgICAgICAgICAgICAgICAgICBnX2F4aXNfZmxhZ3MsIGdfYXhpc19mbGFncyk7CgogICAgICAgICAgICAgICAgICAgIEdlbmVyYWxJbmRpY2F0b3JSZWNlaXZlci5wbG90KAogICAgICAgICAgICAgICAgICAgICAgICBJbmRpY2F0b3JOYW1lczo6UEZFSUZGRVJfUFJFU1MsICJQRkVJRkZFUiIpOwogICAgICAgICAgICAgICAgICAgIEdlbmVyYWxJbmRpY2F0b3JSZWNlaXZlci5wbG90KAogICAgICAgICAgICAgICAgICAgICAgICBJbmRpY2F0b3JOYW1lczo6VkFDVVVNX1BSRVNTLCAiVmFjdXVtIGxpbmUiKTsKCiAgICAgICAgICAgICAgICAgICAgSW1QbG90OjpFbmRQbG90KCk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgSW1HdWk6OkVuZFRhYkl0ZW0oKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgSW1HdWk6OkVuZFRhYkJhcigpOwogICAgICAgIH0KCiAgICAgICAgSW1HdWk6OkVuZCgpOwogICAgICAgIC8vIC8vLyAhVGVlbnN5LUJNRTI4MCBQbG90cwogICAgICAgIC8vIC8vLy8KICAgICAgICAvLyAvLy8gVGVlbnN5LVBJRCBQbG90cwogICAgICAgIEltR3VpOjpCZWdpbigiVGVlbnN5LVBJRCBQbG90cyIpOwoKICAgICAgICBpZiAoSW1HdWk6OkJ1dHRvbigiQ2xlYXIiKSkgewogICAgICAgICAgICBmb3IgKHVpbnQxNl90IGkgPSAwOyBpIDwgdGd1aV9zdGF0ZS5TeXN0ZW1QYXJhbWV0ZXJzLk51bVJ0ZEJvYXJkczsgaSsrKSB7CiAgICAgICAgICAgICAgICBmb3IgKHVpbnQxNl90IGogPSAwOyBqIDwgdGd1aV9zdGF0ZS5TeXN0ZW1QYXJhbWV0ZXJzLk51bVJ0ZHNQZXJCb2FyZDsgaisrKSB7CiAgICAgICAgICAgICAgICAgICAgdWludDE2X3QgayA9IHN0YXRpY19jYXN0PHVpbnQxNl90PigKICAgICAgICAgICAgICAgICAgICAgICAgaSp0Z3VpX3N0YXRlLlN5c3RlbVBhcmFtZXRlcnMuTnVtUnRkc1BlckJvYXJkICtqKTsKCiAgICAgICAgICAgICAgICAgICAgTXVsdGlQbG90UmVjZWl2ZXIuQ2xlYXJQbG90KGspOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBpZiAoIXRndWlfc3RhdGUuU3lzdGVtUGFyYW1ldGVycy5JblJURE9ubHlNb2RlKSB7CiAgICAgICAgICAgIGlmIChJbVBsb3Q6OkJlZ2luUGxvdCgiUElEcyIsIEltVmVjMigtMSwgMCkpKSB7CiAgICAgICAgICAgICAgICBJbVBsb3Q6OlNldHVwQXhlcygidGltZSBbc10iLCAiQ3VycmVudCBbQV0iLAogICAgICAgICAgICAgICAgICAgIGdfYXhpc19mbGFncywgZ19heGlzX2ZsYWdzKTsKICAgICAgICAgICAgICAgIEltUGxvdDo6U2V0dXBBeGlzU2NhbGUoSW1BeGlzX1gxLCBJbVBsb3RTY2FsZV9UaW1lKTsKCiAgICAgICAgICAgICAgICBHZW5lcmFsSW5kaWNhdG9yUmVjZWl2ZXIucGxvdChJbmRpY2F0b3JOYW1lczo6UEVMVElFUl9DVVJSLCAiQ3VycmVudCIpOwoKICAgICAgICAgICAgICAgIEltUGxvdDo6RW5kUGxvdCgpOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBzdGF0aWMgSW1QbG90UmVjdCByZWN0KDAsIDEsIDAsIDMyMCk7CiAgICAgICAgc3RhdGljIEltUGxvdFNjYWxlIHJ0ZF9zY2FsZV9heGlzID0gSW1QbG90U2NhbGVfTGluZWFyOwogICAgICAgIEltR3VpOjpDaGVja2JveEZsYWdzKCJMb2cgQXhpcyIsCiAgICAgICAgICAgICZydGRfc2NhbGVfYXhpcywgSW1QbG90U2NhbGVfTG9nMTApOwoKICAgICAgICBpZiAoSW1QbG90OjpCZWdpblBsb3QoIlJURHMiLCBJbVZlYzIoLTEsIDApKSkgewogICAgICAgICAgICBJbVBsb3Q6OlNldHVwQXhpc1NjYWxlKEltQXhpc19ZMSwgcnRkX3NjYWxlX2F4aXMpOwogICAgICAgICAgICBJbVBsb3Q6OlNldHVwQXhpc1NjYWxlKEltQXhpc19YMSwgSW1QbG90U2NhbGVfVGltZSk7CiAgICAgICAgICAgIEltUGxvdDo6U2V0dXBBeGVzKCJ0aW1lIFtzXSIsICJUZW1wZXJhdHVyZSBbS10iLAogICAgICAgICAgICAgICAgZ19heGlzX2ZsYWdzLCBnX2F4aXNfZmxhZ3MpOwoKICAgICAgICAgICAgZm9yICh1aW50MTZfdCBpID0gMDsgaSA8IHRndWlfc3RhdGUuU3lzdGVtUGFyYW1ldGVycy5OdW1SdGRCb2FyZHM7IGkrKykgewogICAgICAgICAgICAgICAgZm9yICh1aW50MTZfdCBqID0gMDsgaiA8IHRndWlfc3RhdGUuU3lzdGVtUGFyYW1ldGVycy5OdW1SdGRzUGVyQm9hcmQ7IGorKykgewogICAgICAgICAgICAgICAgICAgIHVpbnQxNl90IGsgPSBzdGF0aWNfY2FzdDx1aW50MTZfdD4oCiAgICAgICAgICAgICAgICAgICAgICAgIGkqdGd1aV9zdGF0ZS5TeXN0ZW1QYXJhbWV0ZXJzLk51bVJ0ZHNQZXJCb2FyZCAraik7CgogICAgICAgICAgICAgICAgICAgIGlmIChrIDwgcnRkX25hbWVzLnNpemUoKSkgewogICAgICAgICAgICAgICAgICAgICAgICBNdWx0aVBsb3RSZWNlaXZlci5wbG90KGssIHJ0ZF9uYW1lc1trXSk7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgTXVsdGlQbG90UmVjZWl2ZXIucGxvdChrLCBzdGQ6OnRvX3N0cmluZyhrKSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICByZWN0ID0gSW1QbG90OjpHZXRQbG90TGltaXRzKCk7CgogICAgICAgICAgICBJbVBsb3Q6OkVuZFBsb3QoKTsKICAgICAgICB9CgogICAgICAgIHN0YXRpYyBmbG9hdCBydGRfem9vbV9tdWx0aXBsaWVyWzJdID0gezAuMH07CiAgICAgICAgSW1HdWk6OlNsaWRlckZsb2F0MigiWm9vbSAlIiwgcnRkX3pvb21fbXVsdGlwbGllciwgMC4wZiwgMS4wZik7CiAgICAgICAgLy8gSW1HdWk6OlZTbGlkZXJGbG9hdCgiWm9vbSBZJSIsIEltVmVjMigxOCwgMTYwKSwmeV9ydGRfem9vbV9tdWx0aXBsaWVyLCAwLjBmLCAxLjBmKTsKICAgICAgICAvLyBJbUd1aTo6U2FtZUxpbmUoKTsKCiAgICAgICAgaWYgKEltUGxvdDo6QmVnaW5QbG90KCJSVEQgWm9vbSIsIEltVmVjMigtMSwgMCkpKSB7CiAgICAgICAgICAgIEltUGxvdDo6U2V0dXBBeGlzU2NhbGUoSW1BeGlzX1kxLCBydGRfc2NhbGVfYXhpcyk7CiAgICAgICAgICAgIEltUGxvdDo6U2V0dXBBeGlzU2NhbGUoSW1BeGlzX1gxLCBJbVBsb3RTY2FsZV9UaW1lKTsKICAgICAgICAgICAgSW1QbG90OjpTZXR1cEF4ZXMoInRpbWUgW3NdIiwgIlRlbXBlcmF0dXJlIFtLXSIsCiAgICAgICAgICAgICAgICBnX2F4aXNfZmxhZ3MsIGdfYXhpc19mbGFncyk7CiAgICAgICAgICAgIEltUGxvdDo6U2V0dXBBeGVzTGltaXRzKAogICAgICAgICAgICAgICAgc3RhdGljX2Nhc3Q8ZG91YmxlPihydGRfem9vbV9tdWx0aXBsaWVyWzBdKSoocmVjdC5YLk1pbgogICAgICAgICAgICAgICAgICAgICsgcmVjdC5YLk1heCkgKyByZWN0LlguTWluLAogICAgICAgICAgICAgICAgcmVjdC5YLk1heCwKICAgICAgICAgICAgICAgIHN0YXRpY19jYXN0PGRvdWJsZT4ocnRkX3pvb21fbXVsdGlwbGllclsxXSkqKHJlY3QuWS5NaW4KICAgICAgICAgICAgICAgICAgICArIHJlY3QuWS5NYXgpICsgcmVjdC5ZLk1pbiwKICAgICAgICAgICAgICAgIHJlY3QuWS5NYXgsIEltR3VpQ29uZF9BbHdheXMpOwoKICAgICAgICAgICAgZm9yICh1aW50MTZfdCBpID0gMDsgaSA8IHRndWlfc3RhdGUuU3lzdGVtUGFyYW1ldGVycy5OdW1SdGRCb2FyZHM7IGkrKykgewogICAgICAgICAgICAgICAgZm9yICh1aW50MTZfdCBqID0gMDsgaiA8IHRndWlfc3RhdGUuU3lzdGVtUGFyYW1ldGVycy5OdW1SdGRzUGVyQm9hcmQ7IGorKykgewogICAgICAgICAgICAgICAgICAgIHVpbnQxNl90IGsgPSBzdGF0aWNfY2FzdDx1aW50MTZfdD4oCiAgICAgICAgICAgICAgICAgICAgICAgIGkqdGd1aV9zdGF0ZS5TeXN0ZW1QYXJhbWV0ZXJzLk51bVJ0ZHNQZXJCb2FyZCAraik7CgogICAgICAgICAgICAgICAgICAgIGlmIChrIDwgcnRkX25hbWVzLnNpemUoKSkgewogICAgICAgICAgICAgICAgICAgICAgICBNdWx0aVBsb3RSZWNlaXZlci5wbG90KGssIHJ0ZF9uYW1lc1trXSk7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgTXVsdGlQbG90UmVjZWl2ZXIucGxvdChrLCBzdGQ6OnRvX3N0cmluZyhrKSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICBJbVBsb3Q6OkVuZFBsb3QoKTsKICAgICAgICB9CgogICAgICAgIEltR3VpOjpFbmQoKTsKICAgICAgICAvLy8gIVRlZW5zeS1QSUQgUGxvdHMKICAgICAgICAvLy8vCiAgICAgICAgLy8vIFNpUE0gUGxvdHMKCgogICAgICAgIEltR3VpOjpCZWdpbigiU2lQTXMgUGxvdHMiKTsKCiAgICAgICAgaWYgKEltR3VpOjpCZWdpblRhYkJhcigiU2lQTXMgUGxvdHMiKSkgewogICAgICAgICAgICBpZiAoSW1HdWk6OkJlZ2luVGFiSXRlbSgiU2lQTSBXYXZlZm9ybXMiKSkgewogICAgICAgICAgICAgICAgY29uc3Qgc2l6ZV90IGtDSHBlckdyb3VwID0gODsKICAgICAgICAgICAgICAgIGNvbnN0IGF1dG8mIG1vZGVsX2NvbnN0YW50cwogICAgICAgICAgICAgICAgICAgID0gQ0FFTkRpZ2l0aXplck1vZGVsc0NvbnN0YW50c01hcC5hdChjZ3VpX3N0YXRlLk1vZGVsKTsKICAgICAgICAgICAgICAgIC8vIGNvbnN0IGF1dG8gbnVtZ3JvdXBzID0gbW9kZWxfY29uc3RhbnRzLk51bWJlck9mR3JvdXBzID4gMCA/CiAgICAgICAgICAgICAgICAvLyAgICAgbW9kZWxfY29uc3RhbnRzLk51bWJlck9mR3JvdXBzIDogMTsKICAgICAgICAgICAgICAgIC8vIGNvbnN0IGludCBudW1jaHBlcmdyb3VwID0gbW9kZWxfY29uc3RhbnRzLk51bUNoYW5uZWxzIC8gbnVtZ3JvdXBzOwogICAgICAgICAgICAgICAgLy8gTGV0J3Mgd29yayBvbiBjb25zdCBhdXRvJiBiZWNhdXNlIHdlIHJlYWxseSBkbyBub3Qgd2FudCB0byBjaGFuZ2UKICAgICAgICAgICAgICAgIC8vIGFueXRoaW5nIGluIHRoZXNlIG5leHQgbGluZXMKICAgICAgICAgICAgICAgIGlmIChJbVBsb3Q6OkJlZ2luUGxvdCgiIyNTaVBNV2F2ZWZvcm1zIiwgSW1WZWMyKC0xLCAtMSksCiAgICAgICAgICAgICAgICAgICAgSW1QbG90RmxhZ3NfTm9UaXRsZSkpIHsKICAgICAgICAgICAgICAgICAgICBJbVBsb3Q6OlNldHVwQXhlcygidGltZSBbbnNdIiwgIkNvdW50cyIsIGdfYXhpc19mbGFncywKICAgICAgICAgICAgICAgICAgICAgICAgZ19heGlzX2ZsYWdzKTsKICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGF1dG8mIGdwIDogY2d1aV9zdGF0ZS5Hcm91cENvbmZpZ3MpIHsKICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2UgbmVlZCB0aGUgbnVtYmVyIG9mIGdyb3VwcyBlYWNoIG1vZGVsIGhhcwoKICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgZ3JvdXBzIGlzIGhpZ2hlciB0aGFuIDAsIHRoZW4gaXQgaGFzIGdyb3VwcwogICAgICAgICAgICAgICAgICAgICAgICAvLyBvdGhlcndpc2UgZWFjaCBncm91cCBpcyBhIGNoYW5uZWwKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1vZGVsX2NvbnN0YW50cy5OdW1iZXJPZkdyb3VwcyA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEVhY2ggbWFzayBjb250YWlucyBpZiB0aGUgY2hhbm5lbCBpcyBlbmFibGVkCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhdXRvJiBtYXNrID0gZ3AuQWNxdWlzaXRpb25NYXNrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlcmUgaXMgYWx3YXlzIGF0IG1heCA4IGNoYW5uZWxzLgogICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChzdGQ6OnNpemVfdCBpID0gMDsgaSA8IGtDSHBlckdyb3VwOyBpKyspIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWFzayAmICgxIDw8IGkpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNpUE1QbG90UmVjZWl2ZXIucGxvdCgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGljX2Nhc3Q8dWludDhfdD4oa0NIcGVyR3JvdXAqZ3AuTnVtYmVyICsgaSksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJHUCAiICsgIHN0ZDo6dG9fc3RyaW5nKGdwLk51bWJlcikKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyAiQ0ggIiArIHN0ZDo6dG9fc3RyaW5nKGkpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQbG90U3R5bGU6OkxpbmUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRydWUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBJbVBsb3Q6OkVuZFBsb3QoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBTaVBNUGxvdFJlY2VpdmVyLnBsb3QoZ3AuTnVtYmVyLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJDSCAiICsgc3RkOjp0b19zdHJpbmcoZ3AuTnVtYmVyKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQbG90U3R5bGU6OkxpbmUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ1ZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgSW1QbG90OjpFbmRQbG90KCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBJbUd1aTo6RW5kVGFiSXRlbSgpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoSW1HdWk6OkJlZ2luVGFiSXRlbSgiSS1WIikpIHsKICAgICAgICAgICAgICAgIHN0YXRpYyBJbVBsb3RTY2FsZSBjdXJyX3NjYWxlX2F4aXMgPSBJbVBsb3RTY2FsZV9MaW5lYXI7CiAgICAgICAgICAgICAgICBJbUd1aTo6Q2hlY2tib3hGbGFncygiQ3VycmVudCBMb2cgQXhpcyIsCiAgICAgICAgICAgICAgICAgICAgJmN1cnJfc2NhbGVfYXhpcywgSW1QbG90U2NhbGVfTG9nMTApOwoKICAgICAgICAgICAgICAgIGlmIChJbVBsb3Q6OkJlZ2luUGxvdCgiVm9sdGFnZSIsIEltVmVjMigtMSwgLTEpLAogICAgICAgICAgICAgICAgICAgIEltUGxvdEZsYWdzX05vVGl0bGUpKSB7CiAgICAgICAgICAgICAgICAgICAgSW1QbG90OjpTZXR1cEF4aXNTY2FsZShJbUF4aXNfWDEsIEltUGxvdFNjYWxlX1RpbWUpOwogICAgICAgICAgICAgICAgICAgIEltUGxvdDo6U2V0dXBBeGlzRm9ybWF0KEltQXhpc19ZMSwgIiUyLjdmIik7CiAgICAgICAgICAgICAgICAgICAgSW1QbG90OjpTZXR1cEF4ZXMoInRpbWUgW0VTVF0iLCAiVm9sdGFnZSBbVl0iLCBnX2F4aXNfZmxhZ3MsCiAgICAgICAgICAgICAgICAgICAgICAgIGdfYXhpc19mbGFncyk7CiAgICAgICAgICAgICAgICAgICAgSW1QbG90OjpTZXR1cEF4aXMoSW1BeGlzX1kyLCAiQ3VycmVudCBbdUFdIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdfYXhpc19mbGFncyB8IEltUGxvdEF4aXNGbGFnc19PcHBvc2l0ZSk7CiAgICAgICAgICAgICAgICAgICAgSW1QbG90OjpTZXR1cEF4aXNTY2FsZShJbUF4aXNfWTIsIGN1cnJfc2NhbGVfYXhpcyk7CgogICAgICAgICAgICAgICAgICAgIEdlbmVyYWxJbmRpY2F0b3JSZWNlaXZlci5wbG90KEluZGljYXRvck5hbWVzOjpETU1fVk9MVEFHRSwKICAgICAgICAgICAgICAgICAgICAgICAgIlZvbHRhZ2UiKTsKCiAgICAgICAgICAgICAgICAgICAgSW1QbG90OjpTZXRBeGVzKEltQXhpc19YMSwgSW1BeGlzX1kyKTsKICAgICAgICAgICAgICAgICAgICBHZW5lcmFsSW5kaWNhdG9yUmVjZWl2ZXIucGxvdChJbmRpY2F0b3JOYW1lczo6UElDT19DVVJSRU5ULAogICAgICAgICAgICAgICAgICAgICAgICAiQ3VycmVudCIpOwoKICAgICAgICAgICAgICAgICAgICBJbVBsb3Q6OkVuZFBsb3QoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIEltR3VpOjpFbmRUYWJJdGVtKCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmIChJbUd1aTo6QmVnaW5UYWJJdGVtKCJHLVYiKSkgewogICAgICAgICAgICAgICAgaWYgKEltR3VpOjpCdXR0b24oIkNsZWFyIikpIHsKICAgICAgICAgICAgICAgICAgICBHZW5lcmFsSW5kaWNhdG9yUmVjZWl2ZXIuQ2xlYXJQbG90KAogICAgICAgICAgICAgICAgICAgICAgICBJbmRpY2F0b3JOYW1lczo6R0FJTl9WU19WT0xUQUdFKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoSW1QbG90OjpCZWdpblBsb3QoIlZvbHRhZ2UiLCBJbVZlYzIoLTEsIC0xKSwKICAgICAgICAgICAgICAgICAgICBJbVBsb3RGbGFnc19Ob1RpdGxlKSkgewogICAgICAgICAgICAgICAgICAgIEltUGxvdDo6U2V0dXBBeGVzKCJWb2x0YWdlIFtWXSIsICJHYWluIFthcmJdIiwgZ19heGlzX2ZsYWdzLAogICAgICAgICAgICAgICAgICAgICAgICBnX2F4aXNfZmxhZ3MpOwoKICAgICAgICAgICAgICAgICAgICBHZW5lcmFsSW5kaWNhdG9yUmVjZWl2ZXIucGxvdCgKICAgICAgICAgICAgICAgICAgICAgICAgSW5kaWNhdG9yTmFtZXM6OkdBSU5fVlNfVk9MVEFHRSwKICAgICAgICAgICAgICAgICAgICAgICAgIkdhaW4iLCBQbG90U3R5bGU6OlNjYXR0ZXIpOwoKICAgICAgICAgICAgICAgICAgICBJbVBsb3Q6OkVuZFBsb3QoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIEltR3VpOjpFbmRUYWJJdGVtKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgSW1HdWk6OkVuZFRhYkJhcigpOwogICAgICAgIH0KCiAgICAgICAgSW1HdWk6OkVuZCgpOwogICAgICAgIC8vLyAhU2lQTSBQbG90cwogICAgICAgIC8vLy8gIVBsb3RzCgogICAgICAgIGluZGljYXRvcldpbmRvdygpOwogICAgfQoKICAgIC8vIGNsb3NpbmcgaXMgY2FsbGVkIHdoZW4gdGhlIEdVSSBpcyBtYW51YWxseSBjbG9zZWQuCiAgICB2b2lkIGNsb3NpbmcoKSB7CiAgICAgICAgLy8gVGhlIG9ubHkgYWN0aW9uIHRvIHRha2UgaXMgdGhhdCB3ZSBsZXQgdGhlCiAgICAgICAgLy8gVGVlbnN5IFRocmVhZCB0byBjbG9zZSwgdG9vLgogICAgICAgIFRlZW5zeVF1ZXVlJiB0cSA9IHN0ZDo6Z2V0PFRlZW5zeVF1ZXVlJj4oX3F1ZXVlcyk7CiAgICAgICAgdHEudHJ5X2VucXVldWUoCiAgICAgICAgICAgIFtdKFRlZW5zeUNvbnRyb2xsZXJEYXRhJiBvbGRTdGF0ZSkgewogICAgICAgICAgICAgICAgb2xkU3RhdGUuQ3VycmVudFN0YXRlID0gVGVlbnN5Q29udHJvbGxlclN0YXRlczo6Q2xvc2luZzsKICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0pOwoKICAgICAgICBDQUVOUXVldWUmIGNxID0gc3RkOjpnZXQ8Q0FFTlF1ZXVlJj4oX3F1ZXVlcyk7CiAgICAgICAgY3EudHJ5X2VucXVldWUoCiAgICAgICAgICAgIFtdKENBRU5JbnRlcmZhY2VEYXRhJiBzdGF0ZSkgewogICAgICAgICAgICAgICAgc3RhdGUuQ3VycmVudFN0YXRlID0gQ0FFTkludGVyZmFjZVN0YXRlczo6Q2xvc2luZzsKICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0pOwoKICAgICAgICBTbG93REFRUXVldWUmIG9xID0gc3RkOjpnZXQ8U2xvd0RBUVF1ZXVlJj4oX3F1ZXVlcyk7CiAgICAgICAgb3EudHJ5X2VucXVldWUoCiAgICAgICAgICAgIFtdKFNsb3dEQVFEYXRhJiBzdGF0ZSkgewogICAgICAgICAgICAgICAgc3RhdGUuUEZFSUZGRVJTdGF0ZSA9IFBGRUlGRkVSU1NHU3RhdGU6OkNsb3Npbmc7CiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9KTsKICAgIH0KfTsKCn0gIC8vIG5hbWVzcGFjZSBTQkNRdWVlbnMKI2VuZGlmCgAAAAAAAAAA/UkAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAUBcAAAAAAABQFwAAAAAAAAAAAAAAAPC/"
				]
			]
		},
		{
			"file": "src/gui_windows/ControlWindow.cpp",
			"settings":
			{
				"buffer_size": 2773,
				"line_ending": "Unix"
			},
			"undo_stack":
			[
				[
					1,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAADVCgAAI2luY2x1ZGUgInNiY3F1ZWVucy1ndWkvZ3VpX3dpbmRvd3MvQ29udHJvbFdpbmRvdy5ocHAiCgpuYW1lc3BhY2UgU0JDUXVlZW5zIHsKCnZvaWQgQ29udHJvbFdpbmRvdzo6aW5pdF93aW5kb3coY29uc3QgdG9tbDo6dGFibGUmIHRiKSB7CiAgICBhdXRvIHRfY29uZiA9IHRiWyJUZWVuc3kiXTsKICAgIGF1dG8gQ0FFTl9jb25mID0gdGJbIkNBRU4iXTsKICAgIGF1dG8gb3RoZXJfY29uZiA9IHRiWyJPdGhlciJdOwogICAgYXV0byBmaWxlX2NvbmYgPSB0YlsiRmlsZSJdOwoKCiAgICAvLy8gVGVlbnN5IGNvbmZpZwogICAgLy8gVGVlbnN5IGluaXRpYWwgc3RhdGUKICAgIF90ZWVuc3lfZG9lLkN1cnJlbnRTdGF0ZSA9IFRlZW5zeUNvbnRyb2xsZXJTdGF0ZXM6OlN0YW5kYnk7CgogICAgLy8vIENBRU4gY29uZmlnCiAgICAvLyBDQUVOIGluaXRpYWwgc3RhdGUKICAgIF9zaXBtX2RvZS5DdXJyZW50U3RhdGUgPSBTaVBNQWNxdWlzaXRpb25TdGF0ZXM6OlN0YW5kYnk7CgogICAgLy8vIENBRU4gbW9kZWwgY29uZmlncwoKICAgIC8vIFdlIGNoZWNrIGhvdyBtYW55IENBRU4uZ3JvdXBYIHRoZXJlIGFyZSBhbmQgY3JlYXRlIHRoYXQgbWFueQogICAgLy8gZ3JvdXBzLgogICAgLy8gY29uc3QgdWludDhfdCBjX01BWF9DSEFOTkVMUyA9IDY0OwogICAgLy8gZm9yICh1aW50OF90IGNoID0gMDsgY2ggPCBjX01BWF9DSEFOTkVMUzsgY2grKykgewogICAgLy8gICAgIHN0ZDo6c3RyaW5nIGNoX3RvbWwgPSAiZ3JvdXAiICsgc3RkOjp0b19zdHJpbmcoY2gpOwogICAgLy8gICAgIGlmIChDQUVOX2NvbmZbY2hfdG9tbF0uYXNfdGFibGUoKSkgewogICAgLy8gICAgICAgICBfc2lwbV9kb2UuR3JvdXBDb25maWdzLmVtcGxhY2VfYmFjaygKICAgIC8vICAgICAgICAgICAgIENBRU5Hcm91cENvbmZpZ3sKICAgIC8vICAgICAgICAgICAgICAgICBjaCwgIC8vIE51bWJlciB1aW50OF90CiAgICAvLyAgICAgICAgICAgICAgICAgQ0FFTl9jb25mW2NoX3RvbWxdWyJUcmdNYXNrIl0udmFsdWVfb3IoMHUpLAogICAgLy8gICAgICAgICAgICAgICAgIC8vIFRyaWdnZXJNYXNrIHVpbnQ4X3QKICAgIC8vICAgICAgICAgICAgICAgICBDQUVOX2NvbmZbY2hfdG9tbF1bIkFjcU1hc2siXS52YWx1ZV9vcigwdSksCiAgICAvLyAgICAgICAgICAgICAgICAgLy8gQWNxdWlzaXRpb25NYXNrIHVpbnQ4X3QKICAgIC8vICAgICAgICAgICAgICAgICBDQUVOX2NvbmZbY2hfdG9tbF1bIk9mZnNldCJdLnZhbHVlX29yKDB4ODAwMHUpLAogICAgLy8gICAgICAgICAgICAgICAgIC8vIERDT2Zmc2V0IHVpbnQ4X3QKICAgIC8vICAgICAgICAgICAgICAgICBzdGQ6OnZlY3Rvcjx1aW50OF90PigpLCAgLy8gRENDb3JyZWN0aW9ucwogICAgLy8gICAgICAgICAgICAgICAgIC8vIHVpbnQ4X3QKICAgIC8vICAgICAgICAgICAgICAgICBDQUVOX2NvbmZbY2hfdG9tbF1bIlJhbmdlIl0udmFsdWVfb3IoMHUpLAogICAgLy8gICAgICAgICAgICAgICAgIC8vIERDUmFuZ2UKICAgIC8vICAgICAgICAgICAgICAgICBDQUVOX2NvbmZbY2hfdG9tbF1bIlRocmVzaG9sZCJdLnZhbHVlX29yKDB4ODAwMHUpCiAgICAvLyAgICAgICAgICAgICAgICAgLy8gVHJpZ2dlclRocmVzaG9sZAoKICAgIC8vICAgICAgICAgICAgIH0pOwoKICAgIC8vICAgICAgICAgaWYgKHRvbWw6OmFycmF5KiBhcnIgPSBDQUVOX2NvbmZbY2hfdG9tbF1bIkNvcnJlY3Rpb25zIl0uYXNfYXJyYXkoKSkgewogICAgLy8gICAgICAgICAgICAgc3BkbG9nOjppbmZvKCJDb3JyZWN0aW9ucyBleGlzdCIpOwogICAgLy8gICAgICAgICAgICAgc2l6ZV90IGogPSAwOwogICAgLy8gICAgICAgICAgICAgQ0FFTkdyb3VwQ29uZmlnJiBsYXN0X2NvbmZpZyA9IF9zaXBtX2RvZS5Hcm91cENvbmZpZ3MuYmFjaygpOwogICAgLy8gICAgICAgICAgICAgZm9yICh0b21sOjpub2RlJiBlbGVtIDogKmFycikgewogICAgLy8gICAgICAgICAgICAgICAgIC8vIE1heCBudW1iZXIgb2YgY2hhbm5lbHMgcGVyIGdyb3VwIHRoZXJlIGNhbiBiZSBpcyA4CiAgICAvLyAgICAgICAgICAgICAgICAgaWYgKGogPCA4KXsKICAgIC8vICAgICAgICAgICAgICAgICAgICAgbGFzdF9jb25maWcuRENDb3JyZWN0aW9ucy5lbXBsYWNlX2JhY2soCiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtLnZhbHVlX29yKDB1KSk7CiAgICAvLyAgICAgICAgICAgICAgICAgICAgIGorKzsKICAgIC8vICAgICAgICAgICAgICAgICB9CiAgICAvLyAgICAgICAgICAgICB9CiAgICAvLyAgICAgICAgIH0KICAgIC8vICAgICB9CiAgICAvLyB9CgogICAgLy8vIE90aGVyIFBGRUlGRkVSU2luZ2xlR2F1Z2UKICAgIF9zbG93ZGFxX2RvZS5QRkVJRkZFUlNpbmdsZUdhdWdlRW5hYmxlCiAgICAgICAgPSBvdGhlcl9jb25mWyJQRkVJRkZFUlNpbmdsZUdhdWdlIl1bIkVuYWJsZWQiXS52YWx1ZV9vcihmYWxzZSk7CiAgICBfc2xvd2RhcV9kb2UuUEZFSUZGRVJTaW5nbGVHYXVnZVVwZGF0ZVNwZWVkCiAgICAgICAgPSBzdGF0aWNfY2FzdDxQRkVJRkZFUlNpbmdsZUdhdWdlU1A+KAogICAgICAgICAgICBvdGhlcl9jb25mWyJQRkVJRkZFUlNpbmdsZUdhdWdlIl1bIkVuYWJsZWQiXS52YWx1ZV9vcigwKSk7Cn0KCnZvaWQgQ29udHJvbFdpbmRvdzo6ZHJhdygpIHsKICAgIC8vIE5vdGhpbmcgaGVyZSByZWFsbHkuIEV2ZXJ5dGhpbmcgaXMgbWFuYWdlZCBieSB0aGUgdGFicy4KICAgIC8vIEJ1dCB0aGlzIGlzIGFuIGVtcHR5IGNhbnZhcyEgRHJhdyBzb21ldGhpbmchCn0KCn0gLy8gbmFtZXNwYWNlIFNCQ1F1ZWVucwAAAAAAAAAAKkEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/"
				],
				[
					2,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAAqQQAAI2luY2x1ZGUgInNiY3F1ZWVucy1ndWkvZ3VpX3dpbmRvd3MvQ29udHJvbFdpbmRvdy5ocHAiCgovLyBDIFNURCBpbmNsdWRlcwovLyBDIDNyZCBwYXJ0eSBpbmNsdWRlcwojaW5jbHVkZSA8aW1ndWkuaD4KCi8vIEMrKyBTVEQgaW5jbHVkZXMKLy8gQysrIDNyZCBwYXJ0eSBpbmNsdWRlcwojaW5jbHVkZSA8bWlzYy9jcHAvaW1ndWlfc3RkbGliLmg+CiNpbmNsdWRlIDx1bm9yZGVyZWRfbWFwPgoKLy8gbXkgaW5jbHVkZXMKCgpuYW1lc3BhY2UgU0JDUXVlZW5zIHsKCnZvaWQgQ29udHJvbFdpbmRvdzo6aW5pdChjb25zdCB0b21sOjp0YWJsZSYgdGIpIHsKICAgIF9jb25maWdfdGFibGUgPSB0YjsKICAgIGF1dG8gdF9jb25mID0gX2NvbmZpZ190YWJsZVsiVGVlbnN5Il07CiAgICBhdXRvIENBRU5fY29uZiA9IF9jb25maWdfdGFibGVbIkNBRU4iXTsKICAgIGF1dG8gb3RoZXJfY29uZiA9IF9jb25maWdfdGFibGVbIk90aGVyIl07CiAgICBhdXRvIGZpbGVfY29uZiA9IF9jb25maWdfdGFibGVbIkZpbGUiXTsKCiAgICAvLyBUaGVzZSB0d28gZ3V5cyBhcmUgc2hhcmVkIGJldHdlZW4gQ0FFTiBhbmQgVGVlbnN5CiAgICBpX3J1bl9kaXIgID0gZmlsZV9jb25mWyJSdW5EaXIiXS52YWx1ZV9vcigiLi9SVU5TIik7CiAgICBjZ3VpX3N0YXRlLlZCRERhdGEuRGF0YVB1bHNlcwogICAgICAgID0gZmlsZV9jb25mWyJSdW5XYXZlZm9ybXMiXS52YWx1ZV9vcigxMDAwMDAwdWxsKTsKICAgIGNndWlfc3RhdGUuVkJERGF0YS5TUEVFc3RpbWF0aW9uVG90YWxQdWxzZXMKICAgICAgICA9IGZpbGVfY29uZlsiR2FpbldhdmVmb3JtcyJdLnZhbHVlX29yKDEwMDAwdWxsKTsKCiAgICAvLy8gVGVlbnN5IGNvbmZpZwogICAgLy8gVGVlbnN5IGluaXRpYWwgc3RhdGUKICAgIHRndWlfc3RhdGUuQ3VycmVudFN0YXRlID0gVGVlbnN5Q29udHJvbGxlclN0YXRlczo6U3RhbmRieTsKICAgIHRndWlfc3RhdGUuUG9ydCAgICAgICAgID0gdF9jb25mWyJQb3J0Il0udmFsdWVfb3IoIkNPTTMiKTsKICAgIHRndWlfc3RhdGUuUnVuRGlyICAgICAgID0gaV9ydW5fZGlyOwoKICAgIC8vLyBUZWVuc3kgUlREIGNvbmZpZwogICAgdGd1aV9zdGF0ZS5SVERTYW1wbGluZ1BlcmlvZAogICAgICAgID0gdF9jb25mWyJSVERTYW1wbGluZ1BlcmlvZCJdLnZhbHVlX29yKDEwMEx1KTsKICAgIHRndWlfc3RhdGUuUlRETWFzawogICAgICAgID0gdF9jb25mWyJSVERNYXNrIl0udmFsdWVfb3IoMHhGRkZGTHUpOwoKICAgIC8vLyBUZWVuc3kgUElEIGNvbmZpZwogICAgLy8gU2VuZCBpbml0aWFsIHN0YXRlcyBvZiB0aGUgUElEcwogICAgdGd1aV9zdGF0ZS5QZWx0aWVyU3RhdGUgPSBmYWxzZTsKCiAgICB0Z3VpX3N0YXRlLlBJRFRlbXBUcmlwUG9pbnQKICAgICAgICA9IHRfY29uZlsiUGVsdGllclRlbXBUcmlwUG9pbnQiXS52YWx1ZV9vcigwLjBmKTsKICAgIHRndWlfc3RhdGUuUElEVGVtcFZhbHVlcy5TZXRQb2ludAogICAgICAgID0gdF9jb25mWyJQZWx0aWVyVGVtcFNldHBvaW50Il0udmFsdWVfb3IoMC4wZik7CiAgICB0Z3VpX3N0YXRlLlBJRFRlbXBWYWx1ZXMuS3AKICAgICAgICA9IHRfY29uZlsiUGVsdGllclRLcCJdLnZhbHVlX29yKDAuMGYpOwogICAgdGd1aV9zdGF0ZS5QSURUZW1wVmFsdWVzLlRpCiAgICAgICAgPSB0X2NvbmZbIlBlbHRpZXJUVGkiXS52YWx1ZV9vcigwLjBmKTsKICAgIHRndWlfc3RhdGUuUElEVGVtcFZhbHVlcy5UZAogICAgICAgID0gdF9jb25mWyJQZWx0aWVyVFRkIl0udmFsdWVfb3IoMC4wZik7CgogICAgLy8vIENBRU4gY29uZmlnCiAgICAvLyBDQUVOIGluaXRpYWwgc3RhdGUKICAgIGNndWlfc3RhdGUuQ3VycmVudFN0YXRlID0gQ0FFTkludGVyZmFjZVN0YXRlczo6U3RhbmRieTsKICAgIGNndWlfc3RhdGUuUnVuRGlyID0gaV9ydW5fZGlyOwoKICAgIC8vLyBDQUVOIG1vZGVsIGNvbmZpZ3MKICAgIHN0ZDo6dW5vcmRlcmVkX21hcDxzdGQ6OnN0cmluZywgQ0FFTkNvbm5lY3Rpb25UeXBlPiBjb25uZWN0aW9uX3R5cGVfbWFwID0KICAgIAl7eyJVU0IiLCBDQUVOQ29ubmVjdGlvblR5cGU6OlVTQiwgfSwKICAgICAgICB7IkE0ODE4IiwgQ0FFTkNvbm5lY3Rpb25UeXBlOjpBNDgxOH19OwogICAgY2d1aV9zdGF0ZS5Nb2RlbAogICAgICAgID0gQ0FFTkRpZ2l0aXplck1vZGVsc01hcC5hdChDQUVOX2NvbmZbIk1vZGVsIl0udmFsdWVfb3IoIkRUNTczMEIiKSk7CiAgICBjZ3VpX3N0YXRlLlBvcnROdW0KICAgICAgICA9IENBRU5fY29uZlsiUG9ydCJdLnZhbHVlX29yKDB1KTsKICAgIGNndWlfc3RhdGUuQ29ubmVjdGlvblR5cGUKICAgIAk9IGNvbm5lY3Rpb25fdHlwZV9tYXBbQ0FFTl9jb25mWyJDb25uZWN0aW9uVHlwZSJdLnZhbHVlX29yKCJVU0IiKV07CiAgICBjZ3VpX3N0YXRlLlZNRUFkZHJlc3MKICAgICAgICA9IENBRU5fY29uZlsiVk1FQWRkcmVzcyJdLnZhbHVlX29yKDB1KTsKICAgIGNndWlfc3RhdGUuR2xvYmFsQ29uZmlnLk1heEV2ZW50c1BlclJlYWQKICAgICAgICA9IENBRU5fY29uZlsiTWF4RXZlbnRzUGVyUmVhZCJdLnZhbHVlX29yKDUxMkx1KTsKICAgIGNndWlfc3RhdGUuR2xvYmFsQ29uZmlnLlJlY29yZExlbmd0aAogICAgICAgID0gQ0FFTl9jb25mWyJSZWNvcmRMZW5ndGgiXS52YWx1ZV9vcigyMDQ4THUpOwogICAgY2d1aV9zdGF0ZS5HbG9iYWxDb25maWcuUG9zdFRyaWdnZXJQb3JjZW50YWdlCiAgICAgICAgPSBDQUVOX2NvbmZbIlBvc3RCdWZmZXJQb3JjZW50YWdlIl0udmFsdWVfb3IoNTB1KTsKICAgIGNndWlfc3RhdGUuR2xvYmFsQ29uZmlnLlRyaWdnZXJPdmVybGFwcGluZ0VuCiAgICAgICAgPSBDQUVOX2NvbmZbIk92ZXJsYXBwaW5nUmVqZWN0aW9uIl0udmFsdWVfb3IoZmFsc2UpOwogICAgY2d1aV9zdGF0ZS5HbG9iYWxDb25maWcuRVhUYXNHYXRlCiAgICAgICAgPSBDQUVOX2NvbmZbIlRSR0lOYXNHYXRlIl0udmFsdWVfb3IoZmFsc2UpOwogICAgY2d1aV9zdGF0ZS5HbG9iYWxDb25maWcuRVhUVHJpZ2dlck1vZGUKICAgICAgICA9IHN0YXRpY19jYXN0PENBRU5fREdUWl9UcmlnZ2VyTW9kZV90PihDQUVOX2NvbmZbIkV4dGVybmFsVHJpZ2dlciJdLnZhbHVlX29yKDBMKSk7CiAgICBjZ3VpX3N0YXRlLkdsb2JhbENvbmZpZy5TV1RyaWdnZXJNb2RlCiAgICAgICAgPSBzdGF0aWNfY2FzdDxDQUVOX0RHVFpfVHJpZ2dlck1vZGVfdD4oQ0FFTl9jb25mWyJTb2Z0d2FyZVRyaWdnZXIiXS52YWx1ZV9vcigwTCkpOwogICAgY2d1aV9zdGF0ZS5HbG9iYWxDb25maWcuVHJpZ2dlclBvbGFyaXR5CiAgICAgICAgPSBzdGF0aWNfY2FzdDxDQUVOX0RHVFpfVHJpZ2dlclBvbGFyaXR5X3Q+KENBRU5fY29uZlsiUG9sYXJpdHkiXS52YWx1ZV9vcigwTCkpOwogICAgY2d1aV9zdGF0ZS5HbG9iYWxDb25maWcuSU9MZXZlbAogICAgICAgID0gc3RhdGljX2Nhc3Q8Q0FFTl9ER1RaX0lPTGV2ZWxfdD4oQ0FFTl9jb25mWyJJT0xldmVsIl0udmFsdWVfb3IoMCkpOwogICAgLy8gV2UgY2hlY2sgaG93IG1hbnkgQ0FFTi5ncm91cFggdGhlcmUgYXJlIGFuZCBjcmVhdGUgdGhhdCBtYW55CiAgICAvLyBncm91cHMuCiAgICBjb25zdCB1aW50OF90IGNfTUFYX0NIQU5ORUxTID0gNjQ7CiAgICBmb3IgKHVpbnQ4X3QgY2ggPSAwOyBjaCA8IGNfTUFYX0NIQU5ORUxTOyBjaCsrKSB7CiAgICAgICAgc3RkOjpzdHJpbmcgY2hfdG9tbCA9ICJncm91cCIgKyBzdGQ6OnRvX3N0cmluZyhjaCk7CiAgICAgICAgaWYgKENBRU5fY29uZltjaF90b21sXS5hc190YWJsZSgpKSB7CiAgICAgICAgICAgIGNndWlfc3RhdGUuR3JvdXBDb25maWdzLmVtcGxhY2VfYmFjaygKICAgICAgICAgICAgICAgIENBRU5Hcm91cENvbmZpZ3sKICAgICAgICAgICAgICAgICAgICBjaCwgIC8vIE51bWJlcgogICAgICAgICAgICAgICAgICAgIENBRU5fY29uZltjaF90b21sXVsiVHJnTWFzayJdLnZhbHVlX29yPHVpbnQ4X3Q+KDApLAogICAgICAgICAgICAgICAgICAgIC8vIFRyaWdnZXJNYXNrCiAgICAgICAgICAgICAgICAgICAgQ0FFTl9jb25mW2NoX3RvbWxdWyJBY3FNYXNrIl0udmFsdWVfb3I8dWludDhfdD4oMCksCiAgICAgICAgICAgICAgICAgICAgLy8gQWNxdWlzaXRpb25NYXNrCiAgICAgICAgICAgICAgICAgICAgQ0FFTl9jb25mW2NoX3RvbWxdWyJPZmZzZXQiXS52YWx1ZV9vcjx1aW50MTZfdD4oMHg4MDAwdSksCiAgICAgICAgICAgICAgICAgICAgLy8gRENPZmZzZXQKICAgICAgICAgICAgICAgICAgICBzdGQ6OnZlY3Rvcjx1aW50OF90PigpLCAgLy8gRENDb3JyZWN0aW9ucwogICAgICAgICAgICAgICAgICAgIENBRU5fY29uZltjaF90b21sXVsiUmFuZ2UiXS52YWx1ZV9vcjx1aW50OF90PigwdSksCiAgICAgICAgICAgICAgICAgICAgLy8gRENSYW5nZQogICAgICAgICAgICAgICAgICAgIENBRU5fY29uZltjaF90b21sXVsiVGhyZXNob2xkIl0udmFsdWVfb3I8dWludDE2X3Q+KDB4ODAwMHUpCiAgICAgICAgICAgICAgICAgICAgLy8gVHJpZ2dlclRocmVzaG9sZAoKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgaWYgKHRvbWw6OmFycmF5KiBhcnIgPSBDQUVOX2NvbmZbY2hfdG9tbF1bIkNvcnJlY3Rpb25zIl0uYXNfYXJyYXkoKSkgewogICAgICAgICAgICAgICAgc3BkbG9nOjppbmZvKCJDb3JyZWN0aW9ucyBleGlzdCIpOwogICAgICAgICAgICAgICAgc2l6ZV90IGogPSAwOwogICAgICAgICAgICAgICAgQ0FFTkdyb3VwQ29uZmlnJiBsYXN0X2NvbmZpZyA9IGNndWlfc3RhdGUuR3JvdXBDb25maWdzLmJhY2soKTsKICAgICAgICAgICAgICAgIGZvciAodG9tbDo6bm9kZSYgZWxlbSA6ICphcnIpIHsKICAgICAgICAgICAgICAgICAgICAvLyBNYXggbnVtYmVyIG9mIGNoYW5uZWxzIHBlciBncm91cCB0aGVyZSBjYW4gYmUgaXMgOAogICAgICAgICAgICAgICAgICAgIGlmIChqIDwgOCl7CiAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RfY29uZmlnLkRDQ29ycmVjdGlvbnMuZW1wbGFjZV9iYWNrKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbS52YWx1ZV9vcigwdSkpOwogICAgICAgICAgICAgICAgICAgICAgICBqKys7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQoKICAgIC8vLyBPdGhlciBjb25maWcKICAgIG90aGVyX3N0YXRlLlJ1bkRpciA9IGlfcnVuX2RpcjsKCiAgICAvLy8gT3RoZXIgUEZFSUZGRVJTaW5nbGVHYXVnZQogICAgb3RoZXJfc3RhdGUuUEZFSUZGRVJQb3J0CiAgICAJPSBvdGhlcl9jb25mWyJQRkVJRkZFUlNpbmdsZUdhdWdlIl1bIlBvcnQiXS52YWx1ZV9vcigiQ09NNSIpOwogICAgb3RoZXJfc3RhdGUuUEZFSUZGRVJTaW5nbGVHYXVnZUVuYWJsZQogICAgICAgID0gb3RoZXJfY29uZlsiUEZFSUZGRVJTaW5nbGVHYXVnZSJdWyJFbmFibGVkIl0udmFsdWVfb3IoZmFsc2UpOwogICAgb3RoZXJfc3RhdGUuUEZFSUZGRVJTaW5nbGVHYXVnZVVwZGF0ZVNwZWVkCiAgICAgICAgPSBzdGF0aWNfY2FzdDxQRkVJRkZFUlNpbmdsZUdhdWdlU1A+KAogICAgICAgICAgICBvdGhlcl9jb25mWyJQRkVJRkZFUlNpbmdsZUdhdWdlIl1bIkVuYWJsZWQiXS52YWx1ZV9vcigwKSk7Cn0KCmJvb2wgQ29udHJvbFdpbmRvdzo6b3BlcmF0b3IoKSgpIHsKICAgIEltR3VpOjpCZWdpbigiQ29udHJvbCBXaW5kb3ciKTsKCiAgICBpZiAoSW1HdWk6OkJlZ2luVGFiQmFyKCJDb250cm9sVGFicyIpKSB7CiAgICAgICAgaWYgKEltR3VpOjpCZWdpblRhYkl0ZW0oIlJ1biIpKSB7CiAgICAgICAgICAgIEltR3VpOjpJbnB1dFRleHQoIlJ1bnMgRGlyZWN0b3J5IiwgJmlfcnVuX2Rpcik7CiAgICAgICAgICAgIGlmIChJbUd1aTo6SXNJdGVtSG92ZXJlZCgpKSB7CiAgICAgICAgICAgICAgICBJbUd1aTo6U2V0VG9vbHRpcCgiRGlyZWN0b3J5IG9mIHdoZXJlIGFsbCB0aGUgcnVuICIKICAgICAgICAgICAgICAgICAgICAiZmlsZXMgYXJlIGdvaW5nIHRvIGJlIHNhdmVkIGF0LlxuIgogICAgICAgICAgICAgICAgICAgICJGaXhlZCB3aGVuIHRoZSBjb25uZWN0IGJ1dHRvbnMgYXJlIHByZXNzZWQuIik7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIEltR3VpOjpTZXBhcmF0b3IoKTsKICAgICAgICAgICAgSW1HdWk6OlB1c2hJdGVtV2lkdGgoMTAwKTsKICAgICAgICAgICAgLy8gMS4wIC0+IDAuNQogICAgICAgICAgICAvLyAwLjUgLT4gMS4wCiAgICAgICAgICAgIC8vICgxLjAgLSAwLjUpIC8gKDAuNSAtIDEuMCkgPSAtMQogICAgICAgICAgICBzdGF0aWMgZmxvYXQgY29ubmVjdGVkX21vZCA9IDEuNWY7CiAgICAgICAgICAgIC8vIENvbSBwb3J0IHRleHQgaW5wdXQKICAgICAgICAgICAgLy8gV2UgZG8gbm90IG1ha2UgdGhpcyBhIEdVSSBxdWV1ZSBpdGVtIGJlY2F1c2UKICAgICAgICAgICAgLy8gd2Ugb25seSBuZWVkIHRvIGxldCB0aGUgY2xpZW50IGtub3cgd2hlbiB3ZSBjbGljayBjb25ubmVjdAogICAgICAgICAgICBJbUd1aTo6SW5wdXRUZXh0KCJUZWVuc3kgQ09NIHBvcnQiLCAmdGd1aV9zdGF0ZS5Qb3J0KTsKCiAgICAgICAgICAgIEltR3VpOjpTYW1lTGluZSgzMDApOwogICAgICAgICAgICAvLyBDb2xvcnMgdG8gcG9wIHVwIG9yIHNoYWRvdyBpdCBkZXBlbmRpbmcgb24gdGhlIGNvbmRpdGlvbnMKICAgICAgICAgICAgSW1HdWk6OlB1c2hTdHlsZUNvbG9yKEltR3VpQ29sX0J1dHRvbiwKICAgICAgICAgICAgICAgIHN0YXRpY19jYXN0PEltVmVjND4oSW1Db2xvcjo6SFNWKDIuMGYgLyA3LjBmLCAwLjZmLCBjb25uZWN0ZWRfbW9kKjAuNmYpKSk7CiAgICAgICAgICAgIEltR3VpOjpQdXNoU3R5bGVDb2xvcihJbUd1aUNvbF9CdXR0b25Ib3ZlcmVkLAogICAgICAgICAgICAgICAgc3RhdGljX2Nhc3Q8SW1WZWM0PihJbUNvbG9yOjpIU1YoMi4wZiAvIDcuMGYsIDAuN2YsIGNvbm5lY3RlZF9tb2QqMC43ZikpKTsKICAgICAgICAgICAgSW1HdWk6OlB1c2hTdHlsZUNvbG9yKEltR3VpQ29sX0J1dHRvbkFjdGl2ZSwKICAgICAgICAgICAgICAgIHN0YXRpY19jYXN0PEltVmVjND4oSW1Db2xvcjo6SFNWKDIuMGYgLyA3LjBmLCAwLjhmLCBjb25uZWN0ZWRfbW9kKjAuOGYpKSk7CiAgICAgICAgICAgIC8vIFRoZSBvcGVyYXRvciAoKSBjYXJyaWVzIHRoZSBJbUdVSSBkcmF3aW5nIGZ1bmN0aW9ucwogICAgICAgICAgICAvLyBhbmQgdGhlIHRhc2sgaXQgc2VuZHMgdG8gaXRzIGFzc29jaWF0ZWQgcXVldWUvdGhyZWFkCiAgICAgICAgICAgIC8vIGlzIHRoZSBsYW1iZGEgKGNhbGxiYWNrKSB3ZSBwYXNzCiAgICAgICAgICAgIC8vCiAgICAgICAgICAgIC8vIFRoZSBkb3VibGUgIyMgYW5kIHRoZSBuYW1lIGlzIG5lY2Vzc2FyeSBpZiBzZXZlcmFsCiAgICAgICAgICAgIC8vIGNvbnRyb2xzIHNoYXJlIGEgc2FtZSBuYW1lIGluIHRoZSBzYW1lIGNvbnRleHQvc2NvcGUKICAgICAgICAgICAgLy8gb3RoZXJ3aXNlLCBJbUdVSSB3aWxsIG5vdCBkaWZmZXJlbnRpYXRlIGJldHdlZW4gdGhlbQogICAgICAgICAgICAvLyBhbmQgY2F1c2VzIGlzc3Vlcy4KICAgICAgICAgICAgaWYgKFRlZW5zeUNvbnRyb2xGYWMuQnV0dG9uKCJDb25uZWN0IyN0ZWVuc3kiLAogICAgICAgICAgICAgICAgLy8gVG8gbWFrZSB0aGluZ3Mgc2VjdXJlLCB3ZSBwYXNzIGV2ZXJ5dGhpbmcgYnkgdmFsdWUKICAgICAgICAgICAgICAgIFs9XShUZWVuc3lDb250cm9sbGVyRGF0YSYgb2xkU3RhdGUpIHsKICAgICAgICAgICAgICAgICAgICAvLyBXZSBjb3B5IHRoZSBsb2NhbCBzdGF0ZS4KICAgICAgICAgICAgICAgICAgICBvbGRTdGF0ZSA9IHRndWlfc3RhdGU7CiAgICAgICAgICAgICAgICAgICAgb2xkU3RhdGUuUnVuRGlyID0gaV9ydW5fZGlyOwogICAgICAgICAgICAgICAgICAgIC8vIEV4Y2VwdCBmb3IgdGhlIGZhY3Qgd2UgYXJlIGNoYW5naW5nIHRoZSBzdGF0ZQogICAgICAgICAgICAgICAgICAgIG9sZFN0YXRlLkN1cnJlbnRTdGF0ZQogICAgICAgICAgICAgICAgICAgICAgICA9IFRlZW5zeUNvbnRyb2xsZXJTdGF0ZXM6OkF0dGVtcHRDb25uZWN0aW9uOwogICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAvLyBUaGlzIGlzIGNvZGUgdGhhdCBpcyBydW4gbG9jYWxseSB0byB0aGlzIHRocmVhZAogICAgICAgICAgICAvLyB3aGVuIHRoZSBidXR0b24gaXMgcHJlc3NlZAogICAgICAgICAgICApKSB7CiAgICAgICAgICAgICAgICBjb25uZWN0ZWRfbW9kID0gMC41OwogICAgICAgICAgICB9CgogICAgICAgICAgICBJbUd1aTo6UG9wU3R5bGVDb2xvcigzKTsKCiAgICAgICAgICAgIC8vLyBEaXNjb25uZWN0IGJ1dHRvbgogICAgICAgICAgICBmbG9hdCBkaXNjb25uZWN0ZWRfbW9kID0gMS41ZiAtIGNvbm5lY3RlZF9tb2Q7CiAgICAgICAgICAgIEltR3VpOjpTYW1lTGluZSgpOwogICAgICAgICAgICBJbUd1aTo6UHVzaFN0eWxlQ29sb3IoSW1HdWlDb2xfQnV0dG9uLAogICAgICAgICAgICAgICAgc3RhdGljX2Nhc3Q8SW1WZWM0PihJbUNvbG9yOjpIU1YoMC4wZiwgMC42ZiwgZGlzY29ubmVjdGVkX21vZCowLjZmKSkpOwogICAgICAgICAgICBJbUd1aTo6UHVzaFN0eWxlQ29sb3IoSW1HdWlDb2xfQnV0dG9uSG92ZXJlZCwKICAgICAgICAgICAgICAgIHN0YXRpY19jYXN0PEltVmVjND4oSW1Db2xvcjo6SFNWKDAuMGYsIDAuN2YsIGRpc2Nvbm5lY3RlZF9tb2QqMC43ZikpKTsKICAgICAgICAgICAgSW1HdWk6OlB1c2hTdHlsZUNvbG9yKEltR3VpQ29sX0J1dHRvbkFjdGl2ZSwKICAgICAgICAgICAgICAgIHN0YXRpY19jYXN0PEltVmVjND4oSW1Db2xvcjo6SFNWKDAuMGYsIDAuOGYsIGRpc2Nvbm5lY3RlZF9tb2QqMC44ZikpKTsKCiAgICAgICAgICAgIGlmIChUZWVuc3lDb250cm9sRmFjLkJ1dHRvbigiRGlzY29ubmVjdCMjdGVlbnN5IiwKICAgICAgICAgICAgICAgIFs9XShUZWVuc3lDb250cm9sbGVyRGF0YSYgb2xkU3RhdGUpIHsKICAgICAgICAgICAgICAgICAgICAvLyBObyBuZWVkIHRvIGRpc2Nvbm5lY3QgaWYgaXRzIG5vdCBjb25uZWN0ZWQKICAgICAgICAgICAgICAgICAgICBpZiAob2xkU3RhdGUuQ3VycmVudFN0YXRlID09IFRlZW5zeUNvbnRyb2xsZXJTdGF0ZXM6OkNvbm5lY3RlZCkgewogICAgICAgICAgICAgICAgICAgICAgICBvbGRTdGF0ZS5DdXJyZW50U3RhdGUKICAgICAgICAgICAgICAgICAgICAgICAgICAgID0gVGVlbnN5Q29udHJvbGxlclN0YXRlczo6RGlzY29ubmVjdGVkOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgKSkgewogICAgICAgICAgICAgICAgY29ubmVjdGVkX21vZCA9IDEuNWY7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIEltR3VpOjpQb3BTdHlsZUNvbG9yKDMpOwogICAgICAgICAgICBJbUd1aTo6U2VwYXJhdG9yKCk7CgogICAgICAgICAgICBzdGF0aWMgZmxvYXQgY19jb25uZWN0ZWRfbW9kID0gMS41ZjsKICAgICAgICAgICAgSW1HdWk6OklucHV0SW50KCJDQUVOIHBvcnQiLCAmY2d1aV9zdGF0ZS5Qb3J0TnVtKTsKICAgICAgICAgICAgaWYgKEltR3VpOjpJc0l0ZW1Ib3ZlcmVkKCkpIHsKICAgICAgICAgICAgICAgIEltR3VpOjpTZXRUb29sdGlwKCJVc3VhbGx5IDAgYXMgbG9uZyBhcyB0aGVyZSBpcyBubyAiCiAgICAgICAgICAgICAgICAib3RoZXIgQ0FFTiBkaWdpdGl6ZXJzIGNvbm5lY3RlZC4gSWYgdGhlcmUgYXJlIG1vcmUsICIKICAgICAgICAgICAgICAgICJ0aGUgcG9ydCBpbmNyZWFzZXMgYXMgdGhleSB3ZXJlIGNvbm5lY3RlZCB0byB0aGUgIgogICAgICAgICAgICAgICAgImNvbXB1dGVyLiIpOwogICAgICAgICAgICB9IEltR3VpOjpTYW1lTGluZSgpOwoKICAgICAgICAgICAgQ0FFTkNvbnRyb2xGYWMuQ29tYm9Cb3goIkNvbm5lY3Rpb24gVHlwZSIsCiAgICAgICAgICAgICAgICBjZ3VpX3N0YXRlLkNvbm5lY3Rpb25UeXBlLAogICAgICAgICAgICAgICAge3tDQUVOQ29ubmVjdGlvblR5cGU6OlVTQiwgIlVTQiJ9LAogICAgICAgICAgICAgICAge0NBRU5Db25uZWN0aW9uVHlwZTo6QTQ4MTgsICJBNDgxOCBVU0IgMy4wIHRvIENPTkVUIEFkYXB0ZXIifX0sCiAgICAgICAgICAgICAgICBbXSgpIHtyZXR1cm4gZmFsc2U7fSwgW10oKXt9KTsKCiAgICAgICAgICAgIGlmIChjZ3VpX3N0YXRlLkNvbm5lY3Rpb25UeXBlID09IENBRU5Db25uZWN0aW9uVHlwZTo6QTQ4MTgpIHsKICAgICAgICAgICAgICAgIEltR3VpOjpTYW1lTGluZSgpOwogICAgICAgICAgICAgICAgSW1HdWk6OklucHV0U2NhbGFyKCJWTUUgQWRkcmVzcyIsIEltR3VpRGF0YVR5cGVfVTMyLCAmY2d1aV9zdGF0ZS5WTUVBZGRyZXNzKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgSW1HdWk6OklucHV0VGV4dCgiS2VpdGhsZXkgQ09NIFBvcnQiLAogICAgICAgICAgICAgICAgJmNndWlfc3RhdGUuU2lQTVZvbHRhZ2VTeXNQb3J0KTsKCiAgICAgICAgICAgIC8vIEltR3VpOjpTYW1lTGluZSgzMDApOwogICAgICAgICAgICAvLyBDb2xvcnMgdG8gcG9wIHVwIG9yIHNoYWRvdyBpdCBkZXBlbmRpbmcgb24gdGhlIGNvbmRpdGlvbnMKICAgICAgICAgICAgSW1HdWk6OlB1c2hTdHlsZUNvbG9yKEltR3VpQ29sX0J1dHRvbiwKICAgICAgICAgICAgICAgIHN0YXRpY19jYXN0PEltVmVjND4oSW1Db2xvcjo6SFNWKDIuMGYgLyA3LjBmLCAwLjZmLCBjX2Nvbm5lY3RlZF9tb2QqMC42ZikpKTsKICAgICAgICAgICAgSW1HdWk6OlB1c2hTdHlsZUNvbG9yKEltR3VpQ29sX0J1dHRvbkhvdmVyZWQsCiAgICAgICAgICAgICAgICBzdGF0aWNfY2FzdDxJbVZlYzQ+KEltQ29sb3I6OkhTVigyLjBmIC8gNy4wZiwgMC43ZiwgY19jb25uZWN0ZWRfbW9kKjAuN2YpKSk7CiAgICAgICAgICAgIEltR3VpOjpQdXNoU3R5bGVDb2xvcihJbUd1aUNvbF9CdXR0b25BY3RpdmUsCiAgICAgICAgICAgICAgICBzdGF0aWNfY2FzdDxJbVZlYzQ+KEltQ29sb3I6OkhTVigyLjBmIC8gNy4wZiwgMC44ZiwgY19jb25uZWN0ZWRfbW9kKjAuOGYpKSk7CgogICAgICAgICAgICAvLyBUaGlzIGJ1dHRvbiBzdGFydHMgdGhlIENBRU4gY29tbXVuaWNhdGlvbiBhbmQgc2VuZHMgYWxsCiAgICAgICAgICAgIC8vIHRoZSBzZXR1cCBjb25maWd1cmF0aW9uCiAgICAgICAgICAgIGlmIChDQUVOQ29udHJvbEZhYy5CdXR0b24oIkNvbm5lY3QjI2NhZW4iLAogICAgICAgICAgICAgICAgWz1dKENBRU5JbnRlcmZhY2VEYXRhJiBzdGF0ZSkgewogICAgICAgICAgICAgICAgICAgIHN0YXRlID0gY2d1aV9zdGF0ZTsKICAgICAgICAgICAgICAgICAgICBzdGF0ZS5WQkREYXRhID0gY2d1aV9zdGF0ZS5WQkREYXRhOwogICAgICAgICAgICAgICAgICAgIHN0YXRlLlJ1bkRpciA9IGlfcnVuX2RpcjsKICAgICAgICAgICAgICAgICAgICBzdGF0ZS5HbG9iYWxDb25maWcgPSBjZ3VpX3N0YXRlLkdsb2JhbENvbmZpZzsKICAgICAgICAgICAgICAgICAgICBzdGF0ZS5Hcm91cENvbmZpZ3MgPSBjZ3VpX3N0YXRlLkdyb3VwQ29uZmlnczsKICAgICAgICAgICAgICAgICAgICBzdGF0ZS5DdXJyZW50U3RhdGUgPQogICAgICAgICAgICAgICAgICAgICAgICBDQUVOSW50ZXJmYWNlU3RhdGVzOjpBdHRlbXB0Q29ubmVjdGlvbjsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgKSkgewogICAgICAgICAgICAgICAgc3BkbG9nOjppbmZvKCJIZWxsbyIpOwogICAgICAgICAgICAgICAgY19jb25uZWN0ZWRfbW9kID0gMC41OwogICAgICAgICAgICB9CgogICAgICAgICAgICBJbUd1aTo6UG9wU3R5bGVDb2xvcigzKTsKCiAgICAgICAgICAgIC8vLyBEaXNjb25uZWN0IGJ1dHRvbgogICAgICAgICAgICBmbG9hdCBjX2Rpc2Nvbm5lY3RlZF9tb2QgPSAxLjVmIC0gY19jb25uZWN0ZWRfbW9kOwogICAgICAgICAgICBJbUd1aTo6U2FtZUxpbmUoKTsKICAgICAgICAgICAgSW1HdWk6OlB1c2hTdHlsZUNvbG9yKEltR3VpQ29sX0J1dHRvbiwKICAgICAgICAgICAgICAgIHN0YXRpY19jYXN0PEltVmVjND4oSW1Db2xvcjo6SFNWKDAuMGYsIDAuNmYsIGNfZGlzY29ubmVjdGVkX21vZCowLjZmKSkpOwogICAgICAgICAgICBJbUd1aTo6UHVzaFN0eWxlQ29sb3IoSW1HdWlDb2xfQnV0dG9uSG92ZXJlZCwKICAgICAgICAgICAgICAgIHN0YXRpY19jYXN0PEltVmVjND4oSW1Db2xvcjo6SFNWKDAuMGYsIDAuN2YsIGNfZGlzY29ubmVjdGVkX21vZCowLjdmKSkpOwogICAgICAgICAgICBJbUd1aTo6UHVzaFN0eWxlQ29sb3IoSW1HdWlDb2xfQnV0dG9uQWN0aXZlLAogICAgICAgICAgICAgICAgc3RhdGljX2Nhc3Q8SW1WZWM0PihJbUNvbG9yOjpIU1YoMC4wZiwgMC44ZiwgY19kaXNjb25uZWN0ZWRfbW9kKjAuOGYpKSk7CgogICAgICAgICAgICBpZiAoQ0FFTkNvbnRyb2xGYWMuQnV0dG9uKCJEaXNjb25uZWN0IyNjYWVuIiwKICAgICAgICAgICAgICAgIFs9XShDQUVOSW50ZXJmYWNlRGF0YSYgc3RhdGUpIHsKICAgICAgICAgICAgICAgICAgICAvLyBPbmx5IGNoYW5nZSB0aGUgc3RhdGUgaWYgYW55IG9mIHRoZXNlIHN0YXRlcwogICAgICAgICAgICAgICAgICAgIGlmKHN0YXRlLkN1cnJlbnRTdGF0ZSA9PSBDQUVOSW50ZXJmYWNlU3RhdGVzOjpPc2NpbGxvc2NvcGVNb2RlIHx8CiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLkN1cnJlbnRTdGF0ZSA9PSBDQUVOSW50ZXJmYWNlU3RhdGVzOjpNZWFzdXJlbWVudFJvdXRpbmVNb2RlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcGRsb2c6OmluZm8oIkdvaW5nIHRvIGRpc2Nvbm5lY3QgdGhlIENBRU4gZGlnaXRpemVyIik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5DdXJyZW50U3RhdGUgPSBDQUVOSW50ZXJmYWNlU3RhdGVzOjpEaXNjb25uZWN0ZWQ7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICApKSB7CiAgICAgICAgICAgICAgICAvLyBMb2NhbCBzdHVmZgogICAgICAgICAgICAgICAgY19jb25uZWN0ZWRfbW9kID0gMS41ZjsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgSW1HdWk6OlBvcFN0eWxlQ29sb3IoMyk7CgogICAgICAgICAgICBJbUd1aTo6U2VwYXJhdG9yKCk7CgogICAgICAgICAgICBzdGF0aWMgZmxvYXQgb19jb25uZWN0ZWRfbW9kID0gMS41ZjsKICAgICAgICAgICAgc3RhdGljIHN0ZDo6c3RyaW5nIG90aGVyX3BvcnQgPSBvdGhlcl9zdGF0ZS5QRkVJRkZFUlBvcnQ7CiAgICAgICAgICAgIEltR3VpOjpJbnB1dFRleHQoIlBGRUlGRkVSIHBvcnQiLCAmb3RoZXJfcG9ydCk7CgogICAgICAgICAgICBJbUd1aTo6U2FtZUxpbmUoMzAwKTsKICAgICAgICAgICAgLy8gQ29sb3JzIHRvIHBvcCB1cCBvciBzaGFkb3cgaXQgZGVwZW5kaW5nIG9uIHRoZSBjb25kaXRpb25zCiAgICAgICAgICAgIEltR3VpOjpQdXNoU3R5bGVDb2xvcihJbUd1aUNvbF9CdXR0b24sCiAgICAgICAgICAgICAgICBzdGF0aWNfY2FzdDxJbVZlYzQ+KEltQ29sb3I6OkhTVigyLjBmIC8gNy4wZiwgMC42Ziwgb19jb25uZWN0ZWRfbW9kKjAuNmYpKSk7CiAgICAgICAgICAgIEltR3VpOjpQdXNoU3R5bGVDb2xvcihJbUd1aUNvbF9CdXR0b25Ib3ZlcmVkLAogICAgICAgICAgICAgICAgc3RhdGljX2Nhc3Q8SW1WZWM0PihJbUNvbG9yOjpIU1YoMi4wZiAvIDcuMGYsIDAuN2YsIG9fY29ubmVjdGVkX21vZCowLjdmKSkpOwogICAgICAgICAgICBJbUd1aTo6UHVzaFN0eWxlQ29sb3IoSW1HdWlDb2xfQnV0dG9uQWN0aXZlLAogICAgICAgICAgICAgICAgc3RhdGljX2Nhc3Q8SW1WZWM0PihJbUNvbG9yOjpIU1YoMi4wZiAvIDcuMGYsIDAuOGYsIG9fY29ubmVjdGVkX21vZCowLjhmKSkpOwoKICAgICAgICAgICAgLy8gVGhpcyBidXR0b24gc3RhcnRzIHRoZSBDQUVOIGNvbW11bmljYXRpb24gYW5kIHNlbmRzIGFsbAogICAgICAgICAgICAvLyB0aGUgc2V0dXAgY29uZmlndXJhdGlvbgogICAgICAgICAgICBpZiAoU2xvd0RBUUNvbnRyb2xGYWMuQnV0dG9uKCJDb25uZWN0IyNzZGFxIiwKICAgICAgICAgICAgICAgIFs9XShTbG93REFRRGF0YSYgc3RhdGUpIHsKICAgICAgICAgICAgICAgICAgICBzdGF0ZSA9IG90aGVyX3N0YXRlOwogICAgICAgICAgICAgICAgICAgIHN0YXRlLlJ1bkRpciA9IGlfcnVuX2RpcjsKCiAgICAgICAgICAgICAgICAgICAgLy8gUGZlaWZmZXIKICAgICAgICAgICAgICAgICAgICBzdGF0ZS5QRkVJRkZFUlBvcnQgPSBvdGhlcl9wb3J0OwogICAgICAgICAgICAgICAgICAgIHN0YXRlLlBGRUlGRkVSU3RhdGUgPQogICAgICAgICAgICAgICAgICAgICAgICBQRkVJRkZFUlNTR1N0YXRlOjpBdHRlbXB0Q29ubmVjdGlvbjsKCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICkpIHsKICAgICAgICAgICAgICAgIHNwZGxvZzo6aW5mbygiSGVsbG8iKTsKICAgICAgICAgICAgICAgIG9fY29ubmVjdGVkX21vZCA9IDAuNWY7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIEltR3VpOjpQb3BTdHlsZUNvbG9yKDMpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vLyBEaXNjb25uZWN0IGJ1dHRvbgogICAgICAgICAgICBmbG9hdCBvX2Rpc2Nvbm5lY3RlZF9tb2QgPSAxLjVmIC0gb19jb25uZWN0ZWRfbW9kOwogICAgICAgICAgICBJbUd1aTo6U2FtZUxpbmUoKTsKICAgICAgICAgICAgSW1HdWk6OlB1c2hTdHlsZUNvbG9yKEltR3VpQ29sX0J1dHRvbiwKICAgICAgICAgICAgICAgIHN0YXRpY19jYXN0PEltVmVjND4oSW1Db2xvcjo6SFNWKDAuMGYsIDAuNmYsIG9fZGlzY29ubmVjdGVkX21vZCowLjZmKSkpOwogICAgICAgICAgICBJbUd1aTo6UHVzaFN0eWxlQ29sb3IoSW1HdWlDb2xfQnV0dG9uSG92ZXJlZCwKICAgICAgICAgICAgICAgIHN0YXRpY19jYXN0PEltVmVjND4oSW1Db2xvcjo6SFNWKDAuMGYsIDAuN2YsIG9fZGlzY29ubmVjdGVkX21vZCowLjdmKSkpOwogICAgICAgICAgICBJbUd1aTo6UHVzaFN0eWxlQ29sb3IoSW1HdWlDb2xfQnV0dG9uQWN0aXZlLAogICAgICAgICAgICAgICAgc3RhdGljX2Nhc3Q8SW1WZWM0PihJbUNvbG9yOjpIU1YoMC4wZiwgMC44Ziwgb19kaXNjb25uZWN0ZWRfbW9kKjAuOGYpKSk7CgogICAgICAgICAgICBpZiAoU2xvd0RBUUNvbnRyb2xGYWMuQnV0dG9uKCJEaXNjb25uZWN0IyNzZGFxIiwKICAgICAgICAgICAgICAgIFs9XShTbG93REFRRGF0YSYgc3RhdGUpIHsKICAgICAgICAgICAgICAgICAgICAvLyBPbmx5IGNoYW5nZSB0aGUgc3RhdGUgaWYgYW55IG9mIHRoZXNlIHN0YXRlcwogICAgICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5QRkVJRkZFUlN0YXRlID09IFBGRUlGRkVSU1NHU3RhdGU6OkF0dGVtcHRDb25uZWN0aW9uIHx8CiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLlBGRUlGRkVSU3RhdGUgPT0gUEZFSUZGRVJTU0dTdGF0ZTo6Q29ubmVjdGVkKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNwZGxvZzo6aW5mbygiR29pbmcgdG8gZGlzY29ubmVjdCB0aGUgUEZFSUZGRVIiKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLlBGRUlGRkVSU3RhdGUgPSBQRkVJRkZFUlNTR1N0YXRlOjpEaXNjb25uZWN0ZWQ7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICApKSB7CiAgICAgICAgICAgICAgICAvLyBMb2NhbCBzdHVmZgogICAgICAgICAgICAgICAgb19jb25uZWN0ZWRfbW9kID0gMS41ZjsKICAgICAgICAgICAgfQogICAgICAgICAgICBJbUd1aTo6UG9wU3R5bGVDb2xvcigzKTsKCiAgICAgICAgICAgIEltR3VpOjpQb3BJdGVtV2lkdGgoKTsKCiAgICAgICAgICAgIEltR3VpOjpTZXBhcmF0b3IoKTsKCgogICAgICAgICAgICAgICAgLy8gX3RlZW5zeVF1ZXVlRihbPV0oVGVlbnN5Q29udHJvbGxlclN0YXRlJiBvbGRTdGF0ZSkgewogICAgICAgICAgICAgICAgLy8gIC8vIFRoZXJlIGlzIG5vdGhpbmcgdG8gZG8gaGVyZSB0ZWNobmljYWxseQogICAgICAgICAgICAgICAgLy8gIC8vIGJ1dCBJIGFtIGluY2x1ZGluZyBpdCBqdXN0IGluIGNhc2UKICAgICAgICAgICAgICAgIC8vICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgICAgIC8vIH0pOwogICAgICAgICAgICAgICAgLy8gX2NhZW5RdWV1ZUYoKTsKCgogICAgICAgICAgICBJbUd1aTo6RW5kVGFiSXRlbSgpOwogICAgICAgIH0KCiAgICAgICAgX2d1aV9jb250cm9sc190YWIoKTsKICAgICAgICB0dGFicygpOwogICAgICAgIGN0YWJzKCk7CgogICAgICAgIEltR3VpOjpFbmRUYWJCYXIoKTsKICAgIH0KICAgIEltR3VpOjpFbmQoKTsKCiAgICByZXR1cm4gdHJ1ZTsKfQoKdm9pZCBDb250cm9sV2luZG93OjpfZ3VpX2NvbnRyb2xzX3RhYigpIHsKICAgIGlmIChJbUd1aTo6QmVnaW5UYWJJdGVtKCJHVUkiKSkgewogICAgICAgIEltR3VpOjpTbGlkZXJGbG9hdCgiUGxvdCBsaW5lLXdpZHRoIiwKICAgICAgICAgICAgJkltUGxvdDo6R2V0U3R5bGUoKS5MaW5lV2VpZ2h0LCAwLjBmLCAxMC4wZik7CiAgICAgICAgSW1HdWk6OlNsaWRlckZsb2F0KCJQbG90IERlZmF1bHQgU2l6ZSBZIiwKICAgICAgICAgICAgJkltUGxvdDo6R2V0U3R5bGUoKS5QbG90RGVmYXVsdFNpemUueSwgMC4wZiwgMTAwMC4wZik7CgogICAgICAgIEltR3VpOjpFbmRUYWJJdGVtKCk7CiAgICB9Cn0KfSAgLy8gbmFtZXNwYWNlIFNCQ1F1ZWVucwoAAAAAAAAAANUKAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/"
				],
				[
					3,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAADVCgAAI2luY2x1ZGUgInNiY3F1ZWVucy1ndWkvZ3VpX3dpbmRvd3MvQ29udHJvbFdpbmRvdy5ocHAiCgpuYW1lc3BhY2UgU0JDUXVlZW5zIHsKCnZvaWQgQ29udHJvbFdpbmRvdzo6aW5pdF93aW5kb3coY29uc3QgdG9tbDo6dGFibGUmIHRiKSB7CiAgICBhdXRvIHRfY29uZiA9IHRiWyJUZWVuc3kiXTsKICAgIGF1dG8gQ0FFTl9jb25mID0gdGJbIkNBRU4iXTsKICAgIGF1dG8gb3RoZXJfY29uZiA9IHRiWyJPdGhlciJdOwogICAgYXV0byBmaWxlX2NvbmYgPSB0YlsiRmlsZSJdOwoKCiAgICAvLy8gVGVlbnN5IGNvbmZpZwogICAgLy8gVGVlbnN5IGluaXRpYWwgc3RhdGUKICAgIF90ZWVuc3lfZG9lLkN1cnJlbnRTdGF0ZSA9IFRlZW5zeUNvbnRyb2xsZXJTdGF0ZXM6OlN0YW5kYnk7CgogICAgLy8vIENBRU4gY29uZmlnCiAgICAvLyBDQUVOIGluaXRpYWwgc3RhdGUKICAgIF9zaXBtX2RvZS5DdXJyZW50U3RhdGUgPSBTaVBNQWNxdWlzaXRpb25TdGF0ZXM6OlN0YW5kYnk7CgogICAgLy8vIENBRU4gbW9kZWwgY29uZmlncwoKICAgIC8vIFdlIGNoZWNrIGhvdyBtYW55IENBRU4uZ3JvdXBYIHRoZXJlIGFyZSBhbmQgY3JlYXRlIHRoYXQgbWFueQogICAgLy8gZ3JvdXBzLgogICAgLy8gY29uc3QgdWludDhfdCBjX01BWF9DSEFOTkVMUyA9IDY0OwogICAgLy8gZm9yICh1aW50OF90IGNoID0gMDsgY2ggPCBjX01BWF9DSEFOTkVMUzsgY2grKykgewogICAgLy8gICAgIHN0ZDo6c3RyaW5nIGNoX3RvbWwgPSAiZ3JvdXAiICsgc3RkOjp0b19zdHJpbmcoY2gpOwogICAgLy8gICAgIGlmIChDQUVOX2NvbmZbY2hfdG9tbF0uYXNfdGFibGUoKSkgewogICAgLy8gICAgICAgICBfc2lwbV9kb2UuR3JvdXBDb25maWdzLmVtcGxhY2VfYmFjaygKICAgIC8vICAgICAgICAgICAgIENBRU5Hcm91cENvbmZpZ3sKICAgIC8vICAgICAgICAgICAgICAgICBjaCwgIC8vIE51bWJlciB1aW50OF90CiAgICAvLyAgICAgICAgICAgICAgICAgQ0FFTl9jb25mW2NoX3RvbWxdWyJUcmdNYXNrIl0udmFsdWVfb3IoMHUpLAogICAgLy8gICAgICAgICAgICAgICAgIC8vIFRyaWdnZXJNYXNrIHVpbnQ4X3QKICAgIC8vICAgICAgICAgICAgICAgICBDQUVOX2NvbmZbY2hfdG9tbF1bIkFjcU1hc2siXS52YWx1ZV9vcigwdSksCiAgICAvLyAgICAgICAgICAgICAgICAgLy8gQWNxdWlzaXRpb25NYXNrIHVpbnQ4X3QKICAgIC8vICAgICAgICAgICAgICAgICBDQUVOX2NvbmZbY2hfdG9tbF1bIk9mZnNldCJdLnZhbHVlX29yKDB4ODAwMHUpLAogICAgLy8gICAgICAgICAgICAgICAgIC8vIERDT2Zmc2V0IHVpbnQ4X3QKICAgIC8vICAgICAgICAgICAgICAgICBzdGQ6OnZlY3Rvcjx1aW50OF90PigpLCAgLy8gRENDb3JyZWN0aW9ucwogICAgLy8gICAgICAgICAgICAgICAgIC8vIHVpbnQ4X3QKICAgIC8vICAgICAgICAgICAgICAgICBDQUVOX2NvbmZbY2hfdG9tbF1bIlJhbmdlIl0udmFsdWVfb3IoMHUpLAogICAgLy8gICAgICAgICAgICAgICAgIC8vIERDUmFuZ2UKICAgIC8vICAgICAgICAgICAgICAgICBDQUVOX2NvbmZbY2hfdG9tbF1bIlRocmVzaG9sZCJdLnZhbHVlX29yKDB4ODAwMHUpCiAgICAvLyAgICAgICAgICAgICAgICAgLy8gVHJpZ2dlclRocmVzaG9sZAoKICAgIC8vICAgICAgICAgICAgIH0pOwoKICAgIC8vICAgICAgICAgaWYgKHRvbWw6OmFycmF5KiBhcnIgPSBDQUVOX2NvbmZbY2hfdG9tbF1bIkNvcnJlY3Rpb25zIl0uYXNfYXJyYXkoKSkgewogICAgLy8gICAgICAgICAgICAgc3BkbG9nOjppbmZvKCJDb3JyZWN0aW9ucyBleGlzdCIpOwogICAgLy8gICAgICAgICAgICAgc2l6ZV90IGogPSAwOwogICAgLy8gICAgICAgICAgICAgQ0FFTkdyb3VwQ29uZmlnJiBsYXN0X2NvbmZpZyA9IF9zaXBtX2RvZS5Hcm91cENvbmZpZ3MuYmFjaygpOwogICAgLy8gICAgICAgICAgICAgZm9yICh0b21sOjpub2RlJiBlbGVtIDogKmFycikgewogICAgLy8gICAgICAgICAgICAgICAgIC8vIE1heCBudW1iZXIgb2YgY2hhbm5lbHMgcGVyIGdyb3VwIHRoZXJlIGNhbiBiZSBpcyA4CiAgICAvLyAgICAgICAgICAgICAgICAgaWYgKGogPCA4KXsKICAgIC8vICAgICAgICAgICAgICAgICAgICAgbGFzdF9jb25maWcuRENDb3JyZWN0aW9ucy5lbXBsYWNlX2JhY2soCiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtLnZhbHVlX29yKDB1KSk7CiAgICAvLyAgICAgICAgICAgICAgICAgICAgIGorKzsKICAgIC8vICAgICAgICAgICAgICAgICB9CiAgICAvLyAgICAgICAgICAgICB9CiAgICAvLyAgICAgICAgIH0KICAgIC8vICAgICB9CiAgICAvLyB9CgogICAgLy8vIE90aGVyIFBGRUlGRkVSU2luZ2xlR2F1Z2UKICAgIF9zbG93ZGFxX2RvZS5QRkVJRkZFUlNpbmdsZUdhdWdlRW5hYmxlCiAgICAgICAgPSBvdGhlcl9jb25mWyJQRkVJRkZFUlNpbmdsZUdhdWdlIl1bIkVuYWJsZWQiXS52YWx1ZV9vcihmYWxzZSk7CiAgICBfc2xvd2RhcV9kb2UuUEZFSUZGRVJTaW5nbGVHYXVnZVVwZGF0ZVNwZWVkCiAgICAgICAgPSBzdGF0aWNfY2FzdDxQRkVJRkZFUlNpbmdsZUdhdWdlU1A+KAogICAgICAgICAgICBvdGhlcl9jb25mWyJQRkVJRkZFUlNpbmdsZUdhdWdlIl1bIkVuYWJsZWQiXS52YWx1ZV9vcigwKSk7Cn0KCnZvaWQgQ29udHJvbFdpbmRvdzo6ZHJhdygpIHsKICAgIC8vIE5vdGhpbmcgaGVyZSByZWFsbHkuIEV2ZXJ5dGhpbmcgaXMgbWFuYWdlZCBieSB0aGUgdGFicy4KICAgIC8vIEJ1dCB0aGlzIGlzIGFuIGVtcHR5IGNhbnZhcyEgRHJhdyBzb21ldGhpbmchCn0KCn0gLy8gbmFtZXNwYWNlIFNCQ1F1ZWVucwAAAAAAAAAAKkEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/"
				],
				[
					4,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAAqQQAAI2luY2x1ZGUgInNiY3F1ZWVucy1ndWkvZ3VpX3dpbmRvd3MvQ29udHJvbFdpbmRvdy5ocHAiCgovLyBDIFNURCBpbmNsdWRlcwovLyBDIDNyZCBwYXJ0eSBpbmNsdWRlcwojaW5jbHVkZSA8aW1ndWkuaD4KCi8vIEMrKyBTVEQgaW5jbHVkZXMKLy8gQysrIDNyZCBwYXJ0eSBpbmNsdWRlcwojaW5jbHVkZSA8bWlzYy9jcHAvaW1ndWlfc3RkbGliLmg+CiNpbmNsdWRlIDx1bm9yZGVyZWRfbWFwPgoKLy8gbXkgaW5jbHVkZXMKCgpuYW1lc3BhY2UgU0JDUXVlZW5zIHsKCnZvaWQgQ29udHJvbFdpbmRvdzo6aW5pdChjb25zdCB0b21sOjp0YWJsZSYgdGIpIHsKICAgIF9jb25maWdfdGFibGUgPSB0YjsKICAgIGF1dG8gdF9jb25mID0gX2NvbmZpZ190YWJsZVsiVGVlbnN5Il07CiAgICBhdXRvIENBRU5fY29uZiA9IF9jb25maWdfdGFibGVbIkNBRU4iXTsKICAgIGF1dG8gb3RoZXJfY29uZiA9IF9jb25maWdfdGFibGVbIk90aGVyIl07CiAgICBhdXRvIGZpbGVfY29uZiA9IF9jb25maWdfdGFibGVbIkZpbGUiXTsKCiAgICAvLyBUaGVzZSB0d28gZ3V5cyBhcmUgc2hhcmVkIGJldHdlZW4gQ0FFTiBhbmQgVGVlbnN5CiAgICBpX3J1bl9kaXIgID0gZmlsZV9jb25mWyJSdW5EaXIiXS52YWx1ZV9vcigiLi9SVU5TIik7CiAgICBjZ3VpX3N0YXRlLlZCRERhdGEuRGF0YVB1bHNlcwogICAgICAgID0gZmlsZV9jb25mWyJSdW5XYXZlZm9ybXMiXS52YWx1ZV9vcigxMDAwMDAwdWxsKTsKICAgIGNndWlfc3RhdGUuVkJERGF0YS5TUEVFc3RpbWF0aW9uVG90YWxQdWxzZXMKICAgICAgICA9IGZpbGVfY29uZlsiR2FpbldhdmVmb3JtcyJdLnZhbHVlX29yKDEwMDAwdWxsKTsKCiAgICAvLy8gVGVlbnN5IGNvbmZpZwogICAgLy8gVGVlbnN5IGluaXRpYWwgc3RhdGUKICAgIHRndWlfc3RhdGUuQ3VycmVudFN0YXRlID0gVGVlbnN5Q29udHJvbGxlclN0YXRlczo6U3RhbmRieTsKICAgIHRndWlfc3RhdGUuUG9ydCAgICAgICAgID0gdF9jb25mWyJQb3J0Il0udmFsdWVfb3IoIkNPTTMiKTsKICAgIHRndWlfc3RhdGUuUnVuRGlyICAgICAgID0gaV9ydW5fZGlyOwoKICAgIC8vLyBUZWVuc3kgUlREIGNvbmZpZwogICAgdGd1aV9zdGF0ZS5SVERTYW1wbGluZ1BlcmlvZAogICAgICAgID0gdF9jb25mWyJSVERTYW1wbGluZ1BlcmlvZCJdLnZhbHVlX29yKDEwMEx1KTsKICAgIHRndWlfc3RhdGUuUlRETWFzawogICAgICAgID0gdF9jb25mWyJSVERNYXNrIl0udmFsdWVfb3IoMHhGRkZGTHUpOwoKICAgIC8vLyBUZWVuc3kgUElEIGNvbmZpZwogICAgLy8gU2VuZCBpbml0aWFsIHN0YXRlcyBvZiB0aGUgUElEcwogICAgdGd1aV9zdGF0ZS5QZWx0aWVyU3RhdGUgPSBmYWxzZTsKCiAgICB0Z3VpX3N0YXRlLlBJRFRlbXBUcmlwUG9pbnQKICAgICAgICA9IHRfY29uZlsiUGVsdGllclRlbXBUcmlwUG9pbnQiXS52YWx1ZV9vcigwLjBmKTsKICAgIHRndWlfc3RhdGUuUElEVGVtcFZhbHVlcy5TZXRQb2ludAogICAgICAgID0gdF9jb25mWyJQZWx0aWVyVGVtcFNldHBvaW50Il0udmFsdWVfb3IoMC4wZik7CiAgICB0Z3VpX3N0YXRlLlBJRFRlbXBWYWx1ZXMuS3AKICAgICAgICA9IHRfY29uZlsiUGVsdGllclRLcCJdLnZhbHVlX29yKDAuMGYpOwogICAgdGd1aV9zdGF0ZS5QSURUZW1wVmFsdWVzLlRpCiAgICAgICAgPSB0X2NvbmZbIlBlbHRpZXJUVGkiXS52YWx1ZV9vcigwLjBmKTsKICAgIHRndWlfc3RhdGUuUElEVGVtcFZhbHVlcy5UZAogICAgICAgID0gdF9jb25mWyJQZWx0aWVyVFRkIl0udmFsdWVfb3IoMC4wZik7CgogICAgLy8vIENBRU4gY29uZmlnCiAgICAvLyBDQUVOIGluaXRpYWwgc3RhdGUKICAgIGNndWlfc3RhdGUuQ3VycmVudFN0YXRlID0gQ0FFTkludGVyZmFjZVN0YXRlczo6U3RhbmRieTsKICAgIGNndWlfc3RhdGUuUnVuRGlyID0gaV9ydW5fZGlyOwoKICAgIC8vLyBDQUVOIG1vZGVsIGNvbmZpZ3MKICAgIHN0ZDo6dW5vcmRlcmVkX21hcDxzdGQ6OnN0cmluZywgQ0FFTkNvbm5lY3Rpb25UeXBlPiBjb25uZWN0aW9uX3R5cGVfbWFwID0KICAgIAl7eyJVU0IiLCBDQUVOQ29ubmVjdGlvblR5cGU6OlVTQiwgfSwKICAgICAgICB7IkE0ODE4IiwgQ0FFTkNvbm5lY3Rpb25UeXBlOjpBNDgxOH19OwogICAgY2d1aV9zdGF0ZS5Nb2RlbAogICAgICAgID0gQ0FFTkRpZ2l0aXplck1vZGVsc01hcC5hdChDQUVOX2NvbmZbIk1vZGVsIl0udmFsdWVfb3IoIkRUNTczMEIiKSk7CiAgICBjZ3VpX3N0YXRlLlBvcnROdW0KICAgICAgICA9IENBRU5fY29uZlsiUG9ydCJdLnZhbHVlX29yKDB1KTsKICAgIGNndWlfc3RhdGUuQ29ubmVjdGlvblR5cGUKICAgIAk9IGNvbm5lY3Rpb25fdHlwZV9tYXBbQ0FFTl9jb25mWyJDb25uZWN0aW9uVHlwZSJdLnZhbHVlX29yKCJVU0IiKV07CiAgICBjZ3VpX3N0YXRlLlZNRUFkZHJlc3MKICAgICAgICA9IENBRU5fY29uZlsiVk1FQWRkcmVzcyJdLnZhbHVlX29yKDB1KTsKICAgIGNndWlfc3RhdGUuR2xvYmFsQ29uZmlnLk1heEV2ZW50c1BlclJlYWQKICAgICAgICA9IENBRU5fY29uZlsiTWF4RXZlbnRzUGVyUmVhZCJdLnZhbHVlX29yKDUxMkx1KTsKICAgIGNndWlfc3RhdGUuR2xvYmFsQ29uZmlnLlJlY29yZExlbmd0aAogICAgICAgID0gQ0FFTl9jb25mWyJSZWNvcmRMZW5ndGgiXS52YWx1ZV9vcigyMDQ4THUpOwogICAgY2d1aV9zdGF0ZS5HbG9iYWxDb25maWcuUG9zdFRyaWdnZXJQb3JjZW50YWdlCiAgICAgICAgPSBDQUVOX2NvbmZbIlBvc3RCdWZmZXJQb3JjZW50YWdlIl0udmFsdWVfb3IoNTB1KTsKICAgIGNndWlfc3RhdGUuR2xvYmFsQ29uZmlnLlRyaWdnZXJPdmVybGFwcGluZ0VuCiAgICAgICAgPSBDQUVOX2NvbmZbIk92ZXJsYXBwaW5nUmVqZWN0aW9uIl0udmFsdWVfb3IoZmFsc2UpOwogICAgY2d1aV9zdGF0ZS5HbG9iYWxDb25maWcuRVhUYXNHYXRlCiAgICAgICAgPSBDQUVOX2NvbmZbIlRSR0lOYXNHYXRlIl0udmFsdWVfb3IoZmFsc2UpOwogICAgY2d1aV9zdGF0ZS5HbG9iYWxDb25maWcuRVhUVHJpZ2dlck1vZGUKICAgICAgICA9IHN0YXRpY19jYXN0PENBRU5fREdUWl9UcmlnZ2VyTW9kZV90PihDQUVOX2NvbmZbIkV4dGVybmFsVHJpZ2dlciJdLnZhbHVlX29yKDBMKSk7CiAgICBjZ3VpX3N0YXRlLkdsb2JhbENvbmZpZy5TV1RyaWdnZXJNb2RlCiAgICAgICAgPSBzdGF0aWNfY2FzdDxDQUVOX0RHVFpfVHJpZ2dlck1vZGVfdD4oQ0FFTl9jb25mWyJTb2Z0d2FyZVRyaWdnZXIiXS52YWx1ZV9vcigwTCkpOwogICAgY2d1aV9zdGF0ZS5HbG9iYWxDb25maWcuVHJpZ2dlclBvbGFyaXR5CiAgICAgICAgPSBzdGF0aWNfY2FzdDxDQUVOX0RHVFpfVHJpZ2dlclBvbGFyaXR5X3Q+KENBRU5fY29uZlsiUG9sYXJpdHkiXS52YWx1ZV9vcigwTCkpOwogICAgY2d1aV9zdGF0ZS5HbG9iYWxDb25maWcuSU9MZXZlbAogICAgICAgID0gc3RhdGljX2Nhc3Q8Q0FFTl9ER1RaX0lPTGV2ZWxfdD4oQ0FFTl9jb25mWyJJT0xldmVsIl0udmFsdWVfb3IoMCkpOwogICAgLy8gV2UgY2hlY2sgaG93IG1hbnkgQ0FFTi5ncm91cFggdGhlcmUgYXJlIGFuZCBjcmVhdGUgdGhhdCBtYW55CiAgICAvLyBncm91cHMuCiAgICBjb25zdCB1aW50OF90IGNfTUFYX0NIQU5ORUxTID0gNjQ7CiAgICBmb3IgKHVpbnQ4X3QgY2ggPSAwOyBjaCA8IGNfTUFYX0NIQU5ORUxTOyBjaCsrKSB7CiAgICAgICAgc3RkOjpzdHJpbmcgY2hfdG9tbCA9ICJncm91cCIgKyBzdGQ6OnRvX3N0cmluZyhjaCk7CiAgICAgICAgaWYgKENBRU5fY29uZltjaF90b21sXS5hc190YWJsZSgpKSB7CiAgICAgICAgICAgIGNndWlfc3RhdGUuR3JvdXBDb25maWdzLmVtcGxhY2VfYmFjaygKICAgICAgICAgICAgICAgIENBRU5Hcm91cENvbmZpZ3sKICAgICAgICAgICAgICAgICAgICBjaCwgIC8vIE51bWJlcgogICAgICAgICAgICAgICAgICAgIENBRU5fY29uZltjaF90b21sXVsiVHJnTWFzayJdLnZhbHVlX29yPHVpbnQ4X3Q+KDApLAogICAgICAgICAgICAgICAgICAgIC8vIFRyaWdnZXJNYXNrCiAgICAgICAgICAgICAgICAgICAgQ0FFTl9jb25mW2NoX3RvbWxdWyJBY3FNYXNrIl0udmFsdWVfb3I8dWludDhfdD4oMCksCiAgICAgICAgICAgICAgICAgICAgLy8gQWNxdWlzaXRpb25NYXNrCiAgICAgICAgICAgICAgICAgICAgQ0FFTl9jb25mW2NoX3RvbWxdWyJPZmZzZXQiXS52YWx1ZV9vcjx1aW50MTZfdD4oMHg4MDAwdSksCiAgICAgICAgICAgICAgICAgICAgLy8gRENPZmZzZXQKICAgICAgICAgICAgICAgICAgICBzdGQ6OnZlY3Rvcjx1aW50OF90PigpLCAgLy8gRENDb3JyZWN0aW9ucwogICAgICAgICAgICAgICAgICAgIENBRU5fY29uZltjaF90b21sXVsiUmFuZ2UiXS52YWx1ZV9vcjx1aW50OF90PigwdSksCiAgICAgICAgICAgICAgICAgICAgLy8gRENSYW5nZQogICAgICAgICAgICAgICAgICAgIENBRU5fY29uZltjaF90b21sXVsiVGhyZXNob2xkIl0udmFsdWVfb3I8dWludDE2X3Q+KDB4ODAwMHUpCiAgICAgICAgICAgICAgICAgICAgLy8gVHJpZ2dlclRocmVzaG9sZAoKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgaWYgKHRvbWw6OmFycmF5KiBhcnIgPSBDQUVOX2NvbmZbY2hfdG9tbF1bIkNvcnJlY3Rpb25zIl0uYXNfYXJyYXkoKSkgewogICAgICAgICAgICAgICAgc3BkbG9nOjppbmZvKCJDb3JyZWN0aW9ucyBleGlzdCIpOwogICAgICAgICAgICAgICAgc2l6ZV90IGogPSAwOwogICAgICAgICAgICAgICAgQ0FFTkdyb3VwQ29uZmlnJiBsYXN0X2NvbmZpZyA9IGNndWlfc3RhdGUuR3JvdXBDb25maWdzLmJhY2soKTsKICAgICAgICAgICAgICAgIGZvciAodG9tbDo6bm9kZSYgZWxlbSA6ICphcnIpIHsKICAgICAgICAgICAgICAgICAgICAvLyBNYXggbnVtYmVyIG9mIGNoYW5uZWxzIHBlciBncm91cCB0aGVyZSBjYW4gYmUgaXMgOAogICAgICAgICAgICAgICAgICAgIGlmIChqIDwgOCl7CiAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RfY29uZmlnLkRDQ29ycmVjdGlvbnMuZW1wbGFjZV9iYWNrKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbS52YWx1ZV9vcigwdSkpOwogICAgICAgICAgICAgICAgICAgICAgICBqKys7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQoKICAgIC8vLyBPdGhlciBjb25maWcKICAgIG90aGVyX3N0YXRlLlJ1bkRpciA9IGlfcnVuX2RpcjsKCiAgICAvLy8gT3RoZXIgUEZFSUZGRVJTaW5nbGVHYXVnZQogICAgb3RoZXJfc3RhdGUuUEZFSUZGRVJQb3J0CiAgICAJPSBvdGhlcl9jb25mWyJQRkVJRkZFUlNpbmdsZUdhdWdlIl1bIlBvcnQiXS52YWx1ZV9vcigiQ09NNSIpOwogICAgb3RoZXJfc3RhdGUuUEZFSUZGRVJTaW5nbGVHYXVnZUVuYWJsZQogICAgICAgID0gb3RoZXJfY29uZlsiUEZFSUZGRVJTaW5nbGVHYXVnZSJdWyJFbmFibGVkIl0udmFsdWVfb3IoZmFsc2UpOwogICAgb3RoZXJfc3RhdGUuUEZFSUZGRVJTaW5nbGVHYXVnZVVwZGF0ZVNwZWVkCiAgICAgICAgPSBzdGF0aWNfY2FzdDxQRkVJRkZFUlNpbmdsZUdhdWdlU1A+KAogICAgICAgICAgICBvdGhlcl9jb25mWyJQRkVJRkZFUlNpbmdsZUdhdWdlIl1bIkVuYWJsZWQiXS52YWx1ZV9vcigwKSk7Cn0KCmJvb2wgQ29udHJvbFdpbmRvdzo6b3BlcmF0b3IoKSgpIHsKICAgIEltR3VpOjpCZWdpbigiQ29udHJvbCBXaW5kb3ciKTsKCiAgICBpZiAoSW1HdWk6OkJlZ2luVGFiQmFyKCJDb250cm9sVGFicyIpKSB7CiAgICAgICAgaWYgKEltR3VpOjpCZWdpblRhYkl0ZW0oIlJ1biIpKSB7CiAgICAgICAgICAgIEltR3VpOjpJbnB1dFRleHQoIlJ1bnMgRGlyZWN0b3J5IiwgJmlfcnVuX2Rpcik7CiAgICAgICAgICAgIGlmIChJbUd1aTo6SXNJdGVtSG92ZXJlZCgpKSB7CiAgICAgICAgICAgICAgICBJbUd1aTo6U2V0VG9vbHRpcCgiRGlyZWN0b3J5IG9mIHdoZXJlIGFsbCB0aGUgcnVuICIKICAgICAgICAgICAgICAgICAgICAiZmlsZXMgYXJlIGdvaW5nIHRvIGJlIHNhdmVkIGF0LlxuIgogICAgICAgICAgICAgICAgICAgICJGaXhlZCB3aGVuIHRoZSBjb25uZWN0IGJ1dHRvbnMgYXJlIHByZXNzZWQuIik7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIEltR3VpOjpTZXBhcmF0b3IoKTsKICAgICAgICAgICAgSW1HdWk6OlB1c2hJdGVtV2lkdGgoMTAwKTsKICAgICAgICAgICAgLy8gMS4wIC0+IDAuNQogICAgICAgICAgICAvLyAwLjUgLT4gMS4wCiAgICAgICAgICAgIC8vICgxLjAgLSAwLjUpIC8gKDAuNSAtIDEuMCkgPSAtMQogICAgICAgICAgICBzdGF0aWMgZmxvYXQgY29ubmVjdGVkX21vZCA9IDEuNWY7CiAgICAgICAgICAgIC8vIENvbSBwb3J0IHRleHQgaW5wdXQKICAgICAgICAgICAgLy8gV2UgZG8gbm90IG1ha2UgdGhpcyBhIEdVSSBxdWV1ZSBpdGVtIGJlY2F1c2UKICAgICAgICAgICAgLy8gd2Ugb25seSBuZWVkIHRvIGxldCB0aGUgY2xpZW50IGtub3cgd2hlbiB3ZSBjbGljayBjb25ubmVjdAogICAgICAgICAgICBJbUd1aTo6SW5wdXRUZXh0KCJUZWVuc3kgQ09NIHBvcnQiLCAmdGd1aV9zdGF0ZS5Qb3J0KTsKCiAgICAgICAgICAgIEltR3VpOjpTYW1lTGluZSgzMDApOwogICAgICAgICAgICAvLyBDb2xvcnMgdG8gcG9wIHVwIG9yIHNoYWRvdyBpdCBkZXBlbmRpbmcgb24gdGhlIGNvbmRpdGlvbnMKICAgICAgICAgICAgSW1HdWk6OlB1c2hTdHlsZUNvbG9yKEltR3VpQ29sX0J1dHRvbiwKICAgICAgICAgICAgICAgIHN0YXRpY19jYXN0PEltVmVjND4oSW1Db2xvcjo6SFNWKDIuMGYgLyA3LjBmLCAwLjZmLCBjb25uZWN0ZWRfbW9kKjAuNmYpKSk7CiAgICAgICAgICAgIEltR3VpOjpQdXNoU3R5bGVDb2xvcihJbUd1aUNvbF9CdXR0b25Ib3ZlcmVkLAogICAgICAgICAgICAgICAgc3RhdGljX2Nhc3Q8SW1WZWM0PihJbUNvbG9yOjpIU1YoMi4wZiAvIDcuMGYsIDAuN2YsIGNvbm5lY3RlZF9tb2QqMC43ZikpKTsKICAgICAgICAgICAgSW1HdWk6OlB1c2hTdHlsZUNvbG9yKEltR3VpQ29sX0J1dHRvbkFjdGl2ZSwKICAgICAgICAgICAgICAgIHN0YXRpY19jYXN0PEltVmVjND4oSW1Db2xvcjo6SFNWKDIuMGYgLyA3LjBmLCAwLjhmLCBjb25uZWN0ZWRfbW9kKjAuOGYpKSk7CiAgICAgICAgICAgIC8vIFRoZSBvcGVyYXRvciAoKSBjYXJyaWVzIHRoZSBJbUdVSSBkcmF3aW5nIGZ1bmN0aW9ucwogICAgICAgICAgICAvLyBhbmQgdGhlIHRhc2sgaXQgc2VuZHMgdG8gaXRzIGFzc29jaWF0ZWQgcXVldWUvdGhyZWFkCiAgICAgICAgICAgIC8vIGlzIHRoZSBsYW1iZGEgKGNhbGxiYWNrKSB3ZSBwYXNzCiAgICAgICAgICAgIC8vCiAgICAgICAgICAgIC8vIFRoZSBkb3VibGUgIyMgYW5kIHRoZSBuYW1lIGlzIG5lY2Vzc2FyeSBpZiBzZXZlcmFsCiAgICAgICAgICAgIC8vIGNvbnRyb2xzIHNoYXJlIGEgc2FtZSBuYW1lIGluIHRoZSBzYW1lIGNvbnRleHQvc2NvcGUKICAgICAgICAgICAgLy8gb3RoZXJ3aXNlLCBJbUdVSSB3aWxsIG5vdCBkaWZmZXJlbnRpYXRlIGJldHdlZW4gdGhlbQogICAgICAgICAgICAvLyBhbmQgY2F1c2VzIGlzc3Vlcy4KICAgICAgICAgICAgaWYgKFRlZW5zeUNvbnRyb2xGYWMuQnV0dG9uKCJDb25uZWN0IyN0ZWVuc3kiLAogICAgICAgICAgICAgICAgLy8gVG8gbWFrZSB0aGluZ3Mgc2VjdXJlLCB3ZSBwYXNzIGV2ZXJ5dGhpbmcgYnkgdmFsdWUKICAgICAgICAgICAgICAgIFs9XShUZWVuc3lDb250cm9sbGVyRGF0YSYgb2xkU3RhdGUpIHsKICAgICAgICAgICAgICAgICAgICAvLyBXZSBjb3B5IHRoZSBsb2NhbCBzdGF0ZS4KICAgICAgICAgICAgICAgICAgICBvbGRTdGF0ZSA9IHRndWlfc3RhdGU7CiAgICAgICAgICAgICAgICAgICAgb2xkU3RhdGUuUnVuRGlyID0gaV9ydW5fZGlyOwogICAgICAgICAgICAgICAgICAgIC8vIEV4Y2VwdCBmb3IgdGhlIGZhY3Qgd2UgYXJlIGNoYW5naW5nIHRoZSBzdGF0ZQogICAgICAgICAgICAgICAgICAgIG9sZFN0YXRlLkN1cnJlbnRTdGF0ZQogICAgICAgICAgICAgICAgICAgICAgICA9IFRlZW5zeUNvbnRyb2xsZXJTdGF0ZXM6OkF0dGVtcHRDb25uZWN0aW9uOwogICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAvLyBUaGlzIGlzIGNvZGUgdGhhdCBpcyBydW4gbG9jYWxseSB0byB0aGlzIHRocmVhZAogICAgICAgICAgICAvLyB3aGVuIHRoZSBidXR0b24gaXMgcHJlc3NlZAogICAgICAgICAgICApKSB7CiAgICAgICAgICAgICAgICBjb25uZWN0ZWRfbW9kID0gMC41OwogICAgICAgICAgICB9CgogICAgICAgICAgICBJbUd1aTo6UG9wU3R5bGVDb2xvcigzKTsKCiAgICAgICAgICAgIC8vLyBEaXNjb25uZWN0IGJ1dHRvbgogICAgICAgICAgICBmbG9hdCBkaXNjb25uZWN0ZWRfbW9kID0gMS41ZiAtIGNvbm5lY3RlZF9tb2Q7CiAgICAgICAgICAgIEltR3VpOjpTYW1lTGluZSgpOwogICAgICAgICAgICBJbUd1aTo6UHVzaFN0eWxlQ29sb3IoSW1HdWlDb2xfQnV0dG9uLAogICAgICAgICAgICAgICAgc3RhdGljX2Nhc3Q8SW1WZWM0PihJbUNvbG9yOjpIU1YoMC4wZiwgMC42ZiwgZGlzY29ubmVjdGVkX21vZCowLjZmKSkpOwogICAgICAgICAgICBJbUd1aTo6UHVzaFN0eWxlQ29sb3IoSW1HdWlDb2xfQnV0dG9uSG92ZXJlZCwKICAgICAgICAgICAgICAgIHN0YXRpY19jYXN0PEltVmVjND4oSW1Db2xvcjo6SFNWKDAuMGYsIDAuN2YsIGRpc2Nvbm5lY3RlZF9tb2QqMC43ZikpKTsKICAgICAgICAgICAgSW1HdWk6OlB1c2hTdHlsZUNvbG9yKEltR3VpQ29sX0J1dHRvbkFjdGl2ZSwKICAgICAgICAgICAgICAgIHN0YXRpY19jYXN0PEltVmVjND4oSW1Db2xvcjo6SFNWKDAuMGYsIDAuOGYsIGRpc2Nvbm5lY3RlZF9tb2QqMC44ZikpKTsKCiAgICAgICAgICAgIGlmIChUZWVuc3lDb250cm9sRmFjLkJ1dHRvbigiRGlzY29ubmVjdCMjdGVlbnN5IiwKICAgICAgICAgICAgICAgIFs9XShUZWVuc3lDb250cm9sbGVyRGF0YSYgb2xkU3RhdGUpIHsKICAgICAgICAgICAgICAgICAgICAvLyBObyBuZWVkIHRvIGRpc2Nvbm5lY3QgaWYgaXRzIG5vdCBjb25uZWN0ZWQKICAgICAgICAgICAgICAgICAgICBpZiAob2xkU3RhdGUuQ3VycmVudFN0YXRlID09IFRlZW5zeUNvbnRyb2xsZXJTdGF0ZXM6OkNvbm5lY3RlZCkgewogICAgICAgICAgICAgICAgICAgICAgICBvbGRTdGF0ZS5DdXJyZW50U3RhdGUKICAgICAgICAgICAgICAgICAgICAgICAgICAgID0gVGVlbnN5Q29udHJvbGxlclN0YXRlczo6RGlzY29ubmVjdGVkOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgKSkgewogICAgICAgICAgICAgICAgY29ubmVjdGVkX21vZCA9IDEuNWY7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIEltR3VpOjpQb3BTdHlsZUNvbG9yKDMpOwogICAgICAgICAgICBJbUd1aTo6U2VwYXJhdG9yKCk7CgogICAgICAgICAgICBzdGF0aWMgZmxvYXQgY19jb25uZWN0ZWRfbW9kID0gMS41ZjsKICAgICAgICAgICAgSW1HdWk6OklucHV0SW50KCJDQUVOIHBvcnQiLCAmY2d1aV9zdGF0ZS5Qb3J0TnVtKTsKICAgICAgICAgICAgaWYgKEltR3VpOjpJc0l0ZW1Ib3ZlcmVkKCkpIHsKICAgICAgICAgICAgICAgIEltR3VpOjpTZXRUb29sdGlwKCJVc3VhbGx5IDAgYXMgbG9uZyBhcyB0aGVyZSBpcyBubyAiCiAgICAgICAgICAgICAgICAib3RoZXIgQ0FFTiBkaWdpdGl6ZXJzIGNvbm5lY3RlZC4gSWYgdGhlcmUgYXJlIG1vcmUsICIKICAgICAgICAgICAgICAgICJ0aGUgcG9ydCBpbmNyZWFzZXMgYXMgdGhleSB3ZXJlIGNvbm5lY3RlZCB0byB0aGUgIgogICAgICAgICAgICAgICAgImNvbXB1dGVyLiIpOwogICAgICAgICAgICB9IEltR3VpOjpTYW1lTGluZSgpOwoKICAgICAgICAgICAgQ0FFTkNvbnRyb2xGYWMuQ29tYm9Cb3goIkNvbm5lY3Rpb24gVHlwZSIsCiAgICAgICAgICAgICAgICBjZ3VpX3N0YXRlLkNvbm5lY3Rpb25UeXBlLAogICAgICAgICAgICAgICAge3tDQUVOQ29ubmVjdGlvblR5cGU6OlVTQiwgIlVTQiJ9LAogICAgICAgICAgICAgICAge0NBRU5Db25uZWN0aW9uVHlwZTo6QTQ4MTgsICJBNDgxOCBVU0IgMy4wIHRvIENPTkVUIEFkYXB0ZXIifX0sCiAgICAgICAgICAgICAgICBbXSgpIHtyZXR1cm4gZmFsc2U7fSwgW10oKXt9KTsKCiAgICAgICAgICAgIGlmIChjZ3VpX3N0YXRlLkNvbm5lY3Rpb25UeXBlID09IENBRU5Db25uZWN0aW9uVHlwZTo6QTQ4MTgpIHsKICAgICAgICAgICAgICAgIEltR3VpOjpTYW1lTGluZSgpOwogICAgICAgICAgICAgICAgSW1HdWk6OklucHV0U2NhbGFyKCJWTUUgQWRkcmVzcyIsIEltR3VpRGF0YVR5cGVfVTMyLCAmY2d1aV9zdGF0ZS5WTUVBZGRyZXNzKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgSW1HdWk6OklucHV0VGV4dCgiS2VpdGhsZXkgQ09NIFBvcnQiLAogICAgICAgICAgICAgICAgJmNndWlfc3RhdGUuU2lQTVZvbHRhZ2VTeXNQb3J0KTsKCiAgICAgICAgICAgIC8vIEltR3VpOjpTYW1lTGluZSgzMDApOwogICAgICAgICAgICAvLyBDb2xvcnMgdG8gcG9wIHVwIG9yIHNoYWRvdyBpdCBkZXBlbmRpbmcgb24gdGhlIGNvbmRpdGlvbnMKICAgICAgICAgICAgSW1HdWk6OlB1c2hTdHlsZUNvbG9yKEltR3VpQ29sX0J1dHRvbiwKICAgICAgICAgICAgICAgIHN0YXRpY19jYXN0PEltVmVjND4oSW1Db2xvcjo6SFNWKDIuMGYgLyA3LjBmLCAwLjZmLCBjX2Nvbm5lY3RlZF9tb2QqMC42ZikpKTsKICAgICAgICAgICAgSW1HdWk6OlB1c2hTdHlsZUNvbG9yKEltR3VpQ29sX0J1dHRvbkhvdmVyZWQsCiAgICAgICAgICAgICAgICBzdGF0aWNfY2FzdDxJbVZlYzQ+KEltQ29sb3I6OkhTVigyLjBmIC8gNy4wZiwgMC43ZiwgY19jb25uZWN0ZWRfbW9kKjAuN2YpKSk7CiAgICAgICAgICAgIEltR3VpOjpQdXNoU3R5bGVDb2xvcihJbUd1aUNvbF9CdXR0b25BY3RpdmUsCiAgICAgICAgICAgICAgICBzdGF0aWNfY2FzdDxJbVZlYzQ+KEltQ29sb3I6OkhTVigyLjBmIC8gNy4wZiwgMC44ZiwgY19jb25uZWN0ZWRfbW9kKjAuOGYpKSk7CgogICAgICAgICAgICAvLyBUaGlzIGJ1dHRvbiBzdGFydHMgdGhlIENBRU4gY29tbXVuaWNhdGlvbiBhbmQgc2VuZHMgYWxsCiAgICAgICAgICAgIC8vIHRoZSBzZXR1cCBjb25maWd1cmF0aW9uCiAgICAgICAgICAgIGlmIChDQUVOQ29udHJvbEZhYy5CdXR0b24oIkNvbm5lY3QjI2NhZW4iLAogICAgICAgICAgICAgICAgWz1dKENBRU5JbnRlcmZhY2VEYXRhJiBzdGF0ZSkgewogICAgICAgICAgICAgICAgICAgIHN0YXRlID0gY2d1aV9zdGF0ZTsKICAgICAgICAgICAgICAgICAgICBzdGF0ZS5WQkREYXRhID0gY2d1aV9zdGF0ZS5WQkREYXRhOwogICAgICAgICAgICAgICAgICAgIHN0YXRlLlJ1bkRpciA9IGlfcnVuX2RpcjsKICAgICAgICAgICAgICAgICAgICBzdGF0ZS5HbG9iYWxDb25maWcgPSBjZ3VpX3N0YXRlLkdsb2JhbENvbmZpZzsKICAgICAgICAgICAgICAgICAgICBzdGF0ZS5Hcm91cENvbmZpZ3MgPSBjZ3VpX3N0YXRlLkdyb3VwQ29uZmlnczsKICAgICAgICAgICAgICAgICAgICBzdGF0ZS5DdXJyZW50U3RhdGUgPQogICAgICAgICAgICAgICAgICAgICAgICBDQUVOSW50ZXJmYWNlU3RhdGVzOjpBdHRlbXB0Q29ubmVjdGlvbjsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgKSkgewogICAgICAgICAgICAgICAgc3BkbG9nOjppbmZvKCJIZWxsbyIpOwogICAgICAgICAgICAgICAgY19jb25uZWN0ZWRfbW9kID0gMC41OwogICAgICAgICAgICB9CgogICAgICAgICAgICBJbUd1aTo6UG9wU3R5bGVDb2xvcigzKTsKCiAgICAgICAgICAgIC8vLyBEaXNjb25uZWN0IGJ1dHRvbgogICAgICAgICAgICBmbG9hdCBjX2Rpc2Nvbm5lY3RlZF9tb2QgPSAxLjVmIC0gY19jb25uZWN0ZWRfbW9kOwogICAgICAgICAgICBJbUd1aTo6U2FtZUxpbmUoKTsKICAgICAgICAgICAgSW1HdWk6OlB1c2hTdHlsZUNvbG9yKEltR3VpQ29sX0J1dHRvbiwKICAgICAgICAgICAgICAgIHN0YXRpY19jYXN0PEltVmVjND4oSW1Db2xvcjo6SFNWKDAuMGYsIDAuNmYsIGNfZGlzY29ubmVjdGVkX21vZCowLjZmKSkpOwogICAgICAgICAgICBJbUd1aTo6UHVzaFN0eWxlQ29sb3IoSW1HdWlDb2xfQnV0dG9uSG92ZXJlZCwKICAgICAgICAgICAgICAgIHN0YXRpY19jYXN0PEltVmVjND4oSW1Db2xvcjo6SFNWKDAuMGYsIDAuN2YsIGNfZGlzY29ubmVjdGVkX21vZCowLjdmKSkpOwogICAgICAgICAgICBJbUd1aTo6UHVzaFN0eWxlQ29sb3IoSW1HdWlDb2xfQnV0dG9uQWN0aXZlLAogICAgICAgICAgICAgICAgc3RhdGljX2Nhc3Q8SW1WZWM0PihJbUNvbG9yOjpIU1YoMC4wZiwgMC44ZiwgY19kaXNjb25uZWN0ZWRfbW9kKjAuOGYpKSk7CgogICAgICAgICAgICBpZiAoQ0FFTkNvbnRyb2xGYWMuQnV0dG9uKCJEaXNjb25uZWN0IyNjYWVuIiwKICAgICAgICAgICAgICAgIFs9XShDQUVOSW50ZXJmYWNlRGF0YSYgc3RhdGUpIHsKICAgICAgICAgICAgICAgICAgICAvLyBPbmx5IGNoYW5nZSB0aGUgc3RhdGUgaWYgYW55IG9mIHRoZXNlIHN0YXRlcwogICAgICAgICAgICAgICAgICAgIGlmKHN0YXRlLkN1cnJlbnRTdGF0ZSA9PSBDQUVOSW50ZXJmYWNlU3RhdGVzOjpPc2NpbGxvc2NvcGVNb2RlIHx8CiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLkN1cnJlbnRTdGF0ZSA9PSBDQUVOSW50ZXJmYWNlU3RhdGVzOjpNZWFzdXJlbWVudFJvdXRpbmVNb2RlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcGRsb2c6OmluZm8oIkdvaW5nIHRvIGRpc2Nvbm5lY3QgdGhlIENBRU4gZGlnaXRpemVyIik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5DdXJyZW50U3RhdGUgPSBDQUVOSW50ZXJmYWNlU3RhdGVzOjpEaXNjb25uZWN0ZWQ7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICApKSB7CiAgICAgICAgICAgICAgICAvLyBMb2NhbCBzdHVmZgogICAgICAgICAgICAgICAgY19jb25uZWN0ZWRfbW9kID0gMS41ZjsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgSW1HdWk6OlBvcFN0eWxlQ29sb3IoMyk7CgogICAgICAgICAgICBJbUd1aTo6U2VwYXJhdG9yKCk7CgogICAgICAgICAgICBzdGF0aWMgZmxvYXQgb19jb25uZWN0ZWRfbW9kID0gMS41ZjsKICAgICAgICAgICAgc3RhdGljIHN0ZDo6c3RyaW5nIG90aGVyX3BvcnQgPSBvdGhlcl9zdGF0ZS5QRkVJRkZFUlBvcnQ7CiAgICAgICAgICAgIEltR3VpOjpJbnB1dFRleHQoIlBGRUlGRkVSIHBvcnQiLCAmb3RoZXJfcG9ydCk7CgogICAgICAgICAgICBJbUd1aTo6U2FtZUxpbmUoMzAwKTsKICAgICAgICAgICAgLy8gQ29sb3JzIHRvIHBvcCB1cCBvciBzaGFkb3cgaXQgZGVwZW5kaW5nIG9uIHRoZSBjb25kaXRpb25zCiAgICAgICAgICAgIEltR3VpOjpQdXNoU3R5bGVDb2xvcihJbUd1aUNvbF9CdXR0b24sCiAgICAgICAgICAgICAgICBzdGF0aWNfY2FzdDxJbVZlYzQ+KEltQ29sb3I6OkhTVigyLjBmIC8gNy4wZiwgMC42Ziwgb19jb25uZWN0ZWRfbW9kKjAuNmYpKSk7CiAgICAgICAgICAgIEltR3VpOjpQdXNoU3R5bGVDb2xvcihJbUd1aUNvbF9CdXR0b25Ib3ZlcmVkLAogICAgICAgICAgICAgICAgc3RhdGljX2Nhc3Q8SW1WZWM0PihJbUNvbG9yOjpIU1YoMi4wZiAvIDcuMGYsIDAuN2YsIG9fY29ubmVjdGVkX21vZCowLjdmKSkpOwogICAgICAgICAgICBJbUd1aTo6UHVzaFN0eWxlQ29sb3IoSW1HdWlDb2xfQnV0dG9uQWN0aXZlLAogICAgICAgICAgICAgICAgc3RhdGljX2Nhc3Q8SW1WZWM0PihJbUNvbG9yOjpIU1YoMi4wZiAvIDcuMGYsIDAuOGYsIG9fY29ubmVjdGVkX21vZCowLjhmKSkpOwoKICAgICAgICAgICAgLy8gVGhpcyBidXR0b24gc3RhcnRzIHRoZSBDQUVOIGNvbW11bmljYXRpb24gYW5kIHNlbmRzIGFsbAogICAgICAgICAgICAvLyB0aGUgc2V0dXAgY29uZmlndXJhdGlvbgogICAgICAgICAgICBpZiAoU2xvd0RBUUNvbnRyb2xGYWMuQnV0dG9uKCJDb25uZWN0IyNzZGFxIiwKICAgICAgICAgICAgICAgIFs9XShTbG93REFRRGF0YSYgc3RhdGUpIHsKICAgICAgICAgICAgICAgICAgICBzdGF0ZSA9IG90aGVyX3N0YXRlOwogICAgICAgICAgICAgICAgICAgIHN0YXRlLlJ1bkRpciA9IGlfcnVuX2RpcjsKCiAgICAgICAgICAgICAgICAgICAgLy8gUGZlaWZmZXIKICAgICAgICAgICAgICAgICAgICBzdGF0ZS5QRkVJRkZFUlBvcnQgPSBvdGhlcl9wb3J0OwogICAgICAgICAgICAgICAgICAgIHN0YXRlLlBGRUlGRkVSU3RhdGUgPQogICAgICAgICAgICAgICAgICAgICAgICBQRkVJRkZFUlNTR1N0YXRlOjpBdHRlbXB0Q29ubmVjdGlvbjsKCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICkpIHsKICAgICAgICAgICAgICAgIHNwZGxvZzo6aW5mbygiSGVsbG8iKTsKICAgICAgICAgICAgICAgIG9fY29ubmVjdGVkX21vZCA9IDAuNWY7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIEltR3VpOjpQb3BTdHlsZUNvbG9yKDMpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vLyBEaXNjb25uZWN0IGJ1dHRvbgogICAgICAgICAgICBmbG9hdCBvX2Rpc2Nvbm5lY3RlZF9tb2QgPSAxLjVmIC0gb19jb25uZWN0ZWRfbW9kOwogICAgICAgICAgICBJbUd1aTo6U2FtZUxpbmUoKTsKICAgICAgICAgICAgSW1HdWk6OlB1c2hTdHlsZUNvbG9yKEltR3VpQ29sX0J1dHRvbiwKICAgICAgICAgICAgICAgIHN0YXRpY19jYXN0PEltVmVjND4oSW1Db2xvcjo6SFNWKDAuMGYsIDAuNmYsIG9fZGlzY29ubmVjdGVkX21vZCowLjZmKSkpOwogICAgICAgICAgICBJbUd1aTo6UHVzaFN0eWxlQ29sb3IoSW1HdWlDb2xfQnV0dG9uSG92ZXJlZCwKICAgICAgICAgICAgICAgIHN0YXRpY19jYXN0PEltVmVjND4oSW1Db2xvcjo6SFNWKDAuMGYsIDAuN2YsIG9fZGlzY29ubmVjdGVkX21vZCowLjdmKSkpOwogICAgICAgICAgICBJbUd1aTo6UHVzaFN0eWxlQ29sb3IoSW1HdWlDb2xfQnV0dG9uQWN0aXZlLAogICAgICAgICAgICAgICAgc3RhdGljX2Nhc3Q8SW1WZWM0PihJbUNvbG9yOjpIU1YoMC4wZiwgMC44Ziwgb19kaXNjb25uZWN0ZWRfbW9kKjAuOGYpKSk7CgogICAgICAgICAgICBpZiAoU2xvd0RBUUNvbnRyb2xGYWMuQnV0dG9uKCJEaXNjb25uZWN0IyNzZGFxIiwKICAgICAgICAgICAgICAgIFs9XShTbG93REFRRGF0YSYgc3RhdGUpIHsKICAgICAgICAgICAgICAgICAgICAvLyBPbmx5IGNoYW5nZSB0aGUgc3RhdGUgaWYgYW55IG9mIHRoZXNlIHN0YXRlcwogICAgICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5QRkVJRkZFUlN0YXRlID09IFBGRUlGRkVSU1NHU3RhdGU6OkF0dGVtcHRDb25uZWN0aW9uIHx8CiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLlBGRUlGRkVSU3RhdGUgPT0gUEZFSUZGRVJTU0dTdGF0ZTo6Q29ubmVjdGVkKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNwZGxvZzo6aW5mbygiR29pbmcgdG8gZGlzY29ubmVjdCB0aGUgUEZFSUZGRVIiKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLlBGRUlGRkVSU3RhdGUgPSBQRkVJRkZFUlNTR1N0YXRlOjpEaXNjb25uZWN0ZWQ7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICApKSB7CiAgICAgICAgICAgICAgICAvLyBMb2NhbCBzdHVmZgogICAgICAgICAgICAgICAgb19jb25uZWN0ZWRfbW9kID0gMS41ZjsKICAgICAgICAgICAgfQogICAgICAgICAgICBJbUd1aTo6UG9wU3R5bGVDb2xvcigzKTsKCiAgICAgICAgICAgIEltR3VpOjpQb3BJdGVtV2lkdGgoKTsKCiAgICAgICAgICAgIEltR3VpOjpTZXBhcmF0b3IoKTsKCgogICAgICAgICAgICAgICAgLy8gX3RlZW5zeVF1ZXVlRihbPV0oVGVlbnN5Q29udHJvbGxlclN0YXRlJiBvbGRTdGF0ZSkgewogICAgICAgICAgICAgICAgLy8gIC8vIFRoZXJlIGlzIG5vdGhpbmcgdG8gZG8gaGVyZSB0ZWNobmljYWxseQogICAgICAgICAgICAgICAgLy8gIC8vIGJ1dCBJIGFtIGluY2x1ZGluZyBpdCBqdXN0IGluIGNhc2UKICAgICAgICAgICAgICAgIC8vICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgICAgIC8vIH0pOwogICAgICAgICAgICAgICAgLy8gX2NhZW5RdWV1ZUYoKTsKCgogICAgICAgICAgICBJbUd1aTo6RW5kVGFiSXRlbSgpOwogICAgICAgIH0KCiAgICAgICAgX2d1aV9jb250cm9sc190YWIoKTsKICAgICAgICB0dGFicygpOwogICAgICAgIGN0YWJzKCk7CgogICAgICAgIEltR3VpOjpFbmRUYWJCYXIoKTsKICAgIH0KICAgIEltR3VpOjpFbmQoKTsKCiAgICByZXR1cm4gdHJ1ZTsKfQoKdm9pZCBDb250cm9sV2luZG93OjpfZ3VpX2NvbnRyb2xzX3RhYigpIHsKICAgIGlmIChJbUd1aTo6QmVnaW5UYWJJdGVtKCJHVUkiKSkgewogICAgICAgIEltR3VpOjpTbGlkZXJGbG9hdCgiUGxvdCBsaW5lLXdpZHRoIiwKICAgICAgICAgICAgJkltUGxvdDo6R2V0U3R5bGUoKS5MaW5lV2VpZ2h0LCAwLjBmLCAxMC4wZik7CiAgICAgICAgSW1HdWk6OlNsaWRlckZsb2F0KCJQbG90IERlZmF1bHQgU2l6ZSBZIiwKICAgICAgICAgICAgJkltUGxvdDo6R2V0U3R5bGUoKS5QbG90RGVmYXVsdFNpemUueSwgMC4wZiwgMTAwMC4wZik7CgogICAgICAgIEltR3VpOjpFbmRUYWJJdGVtKCk7CiAgICB9Cn0KfSAgLy8gbmFtZXNwYWNlIFNCQ1F1ZWVucwoAAAAAAAAAANUKAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/"
				]
			]
		}
	],
	"build_system": "Packages/Python/Python.sublime-build",
	"build_system_choices":
	[
		[
			[
				[
					"Packages/LaTeXTools/LaTeX.sublime-build",
					""
				],
				[
					"Packages/LaTeXTools/LaTeX.sublime-build",
					"Traditional"
				],
				[
					"Packages/LaTeXTools/LaTeX.sublime-build",
					"PdfLaTeX"
				],
				[
					"Packages/LaTeXTools/LaTeX.sublime-build",
					"XeLaTeX"
				],
				[
					"Packages/LaTeXTools/LaTeX.sublime-build",
					"LuaLaTeX"
				],
				[
					"Packages/LaTeXTools/LaTeX.sublime-build",
					"Basic Builder"
				],
				[
					"Packages/LaTeXTools/LaTeX.sublime-build",
					"Basic Builder - PdfLaTeX"
				],
				[
					"Packages/LaTeXTools/LaTeX.sublime-build",
					"Basic Builder - XeLaTeX"
				],
				[
					"Packages/LaTeXTools/LaTeX.sublime-build",
					"Basic Builder - LuaLaTeX"
				],
				[
					"Packages/LaTeXTools/LaTeX.sublime-build",
					"Script Builder"
				],
				[
					"Packages/User/Latex-build.sublime-build",
					""
				]
			],
			[
				"Packages/LaTeXTools/LaTeX.sublime-build",
				"PdfLaTeX"
			]
		],
		[
			[
				[
					"Packages/Makefile/Make.sublime-build",
					""
				],
				[
					"Packages/Makefile/Make.sublime-build",
					"Clean"
				],
				[
					"Packages/LaTeXTools/LaTeX.sublime-build",
					""
				],
				[
					"Packages/LaTeXTools/LaTeX.sublime-build",
					"Traditional"
				],
				[
					"Packages/LaTeXTools/LaTeX.sublime-build",
					"PdfLaTeX"
				],
				[
					"Packages/LaTeXTools/LaTeX.sublime-build",
					"XeLaTeX"
				],
				[
					"Packages/LaTeXTools/LaTeX.sublime-build",
					"LuaLaTeX"
				],
				[
					"Packages/LaTeXTools/LaTeX.sublime-build",
					"Basic Builder"
				],
				[
					"Packages/LaTeXTools/LaTeX.sublime-build",
					"Basic Builder - PdfLaTeX"
				],
				[
					"Packages/LaTeXTools/LaTeX.sublime-build",
					"Basic Builder - XeLaTeX"
				],
				[
					"Packages/LaTeXTools/LaTeX.sublime-build",
					"Basic Builder - LuaLaTeX"
				],
				[
					"Packages/LaTeXTools/LaTeX.sublime-build",
					"Script Builder"
				],
				[
					"Packages/User/Latex-build.sublime-build",
					""
				]
			],
			[
				"Packages/LaTeXTools/LaTeX.sublime-build",
				"PdfLaTeX"
			]
		],
		[
			[
				[
					"Packages/Makefile/Make.sublime-build",
					""
				],
				[
					"Packages/Makefile/Make.sublime-build",
					"Clean"
				],
				[
					"Packages/Python/Python.sublime-build",
					""
				],
				[
					"Packages/Python/Python.sublime-build",
					"Syntax Check"
				]
			],
			[
				"Packages/Python/Python.sublime-build",
				""
			]
		],
		[
			[
				[
					"Packages/Python/Python.sublime-build",
					""
				],
				[
					"Packages/Python/Python.sublime-build",
					"Syntax Check"
				]
			],
			[
				"Packages/Python/Python.sublime-build",
				""
			]
		]
	],
	"build_varint": "",
	"command_palette":
	{
		"height": 0.0,
		"last_filter": "",
		"selected_items":
		[
			[
				"Package Control: ins",
				"Package Control: Install Package"
			],
			[
				"Package Control: ",
				"Package Control: List Packages"
			],
			[
				"Package Control: in",
				"Package Control: Install Package"
			],
			[
				"Package Control: inst",
				"Package Control: Install Package"
			],
			[
				"LSP",
				"LSP: Enable Language Server in Project"
			],
			[
				"Package Control: IN",
				"Package Control: Install Package"
			],
			[
				"LSP: Ena",
				"LSP: Enable Language Server Globally"
			],
			[
				"Package Control: install",
				"Package Control: Install Package"
			],
			[
				"LSP: Enable",
				"LSP: Enable Language Server Globally"
			],
			[
				"package Contro l",
				"Package Control: Install Package"
			],
			[
				"upda",
				"Package Control: Upgrade Package"
			],
			[
				"Insta",
				"Package Control: Install Package"
			],
			[
				"Install Package",
				"Package Control: Install Package"
			],
			[
				"Install",
				"Install Package Control"
			]
		],
		"width": 0.0
	},
	"console":
	{
		"height": 175.0,
		"history":
		[
		]
	},
	"distraction_free":
	{
		"menu_visible": true,
		"show_minimap": false,
		"show_open_files": false,
		"show_tabs": false,
		"side_bar_visible": false,
		"status_bar_visible": false
	},
	"expanded_folders":
	[
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/build",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/build/_deps",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/build/_deps/imgui-src",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/build/cmake",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/cmake",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/include",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/include/sbcqueens-gui",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/include/sbcqueens-gui/gui_windows",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/include/sbcqueens-gui/hardware_helpers",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/include/sbcqueens-gui/rendering_wrappers",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/include/sbcqueens-gui/sipm_helpers",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/src",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/src/gui_windows",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/src/hardware_helpers",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/src/sipm_helpers",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/standalone"
	],
	"file_history":
	[
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/src/gui_windows/IndicatorWindow.cpp",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/src/gui_windows/TeensyTab.cpp",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/include/sbcqueens-gui/multithreading_helpers/Pipe.hpp",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/src/gui_windows/SiPMControlWindow.cpp",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/src/gui_windows/RunTab.cpp",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/build/_deps/implot-src/implot.h",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/include/sbcqueens-gui/hardware_helpers/SiPMAcquisitionManager.hpp",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/standalone/main.cpp",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/cmake/Dependencies.cmake",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/include/sbcqueens-gui/hardware_helpers/CAENDigitizerInterface.hpp",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/include/sbcqueens-gui/hardware_helpers/SiPMAcquisitionData.hpp",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/build/_deps/spdlog-src/include/spdlog/fmt/bundled/core.h",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/build/_deps/implot-src/implot.cpp",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/include/sbcqueens-gui/gui_windows/ControlList.hpp",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/include/sbcqueens-gui/gui_windows/IndicatorList.hpp",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/build/_deps/imgui-src/imgui.h",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/include/sbcqueens-gui/implot_helpers.hpp",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/include/sbcqueens-gui/rendering_wrappers/glfw_vulkan_wrapper.h",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/include/sbcqueens-gui/rendering_wrappers/glfw_opengl3_wrapper.h",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/include/sbcqueens-gui/hardware_helpers/GUIManager.hpp",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/include/sbcqueens-gui/hardware_helpers/SlowDAQManager.hpp",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/include/sbcqueens-gui/hardware_helpers/TeensyControllerManager.hpp",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/include/sbcqueens-gui/gui_windows/IndicatorWindow.hpp",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/include/sbcqueens-gui/gui_windows/SiPMControlWindow.hpp",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/include/sbcqueens-gui/hardware_helpers/SlowDAQData.hpp",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/include/sbcqueens-gui/hardware_helpers/TeensyControllerData.hpp",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/build/_deps/concurrentqueue-src/concurrentqueue.h",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/include/sbcqueens-gui/imgui_helpers.hpp",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/include/sbcqueens-gui/hardware_helpers/ThreadKeys.hpp",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/src/sipm_helpers/BreakDownRoutine.cpp",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/include/sbcqueens-gui/multithreading_helpers/ThreadManager.hpp",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/CMakeLists.txt",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/src/gui_windows/ControlWindow.cpp",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/include/sbcqueens-gui/indicators.hpp",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/include/sbcqueens-gui/hardware_helpers/TeensyControllerInterface.hpp",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/src/hardware_helpers/TeensyControllerInterface.cpp",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/include/sbcqueens-gui/sipm_helpers/BreakDownRoutine.hpp",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/include/sbcqueens-gui/file_helpers.hpp",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/sipm_control_gui.sublime-project",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/gui_setup.toml",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/README.md",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/src/sipm_helpers/AcquisitionRoutine.cpp",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/include/sbcqueens-gui/hardware_helpers/CAENInterfaceData.hpp",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/cmake/CompilerWarnings.cmake",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/src/caen_helper.cpp",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/include/sbcqueens-gui/caen_helper.hpp",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/standalone/CMakeLists.txt",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/include/sbcqueens-gui/hardware_helpers/ClientController.hpp",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/include/sbcqueens-gui/gui_windows/ControlWindow.hpp",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/src/gui_windows/CAENTabs.cpp",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/include/sbcqueens-gui/sipm_helpers/AcquisitionRoutine.hpp",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/include/sbcqueens-gui/sipm_helpers/AcquisitonRoutine.hpp",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/src/sipm_helpers/AcquistionRoutine.cpp",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/include/sbcqueens-gui/serial_helper.hpp",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/C",
		"/home/sbc-queens-linux/Desktop/tmp/Python-3.11.1/setup.py",
		"/home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/Setting Up SublimeText for C++ in WINDOWS.txt",
		"/C/Users/Popcorn/Desktop/SiPMControlGUI/include/sbcqueens-gui/hardware_helpers/GUIManager.hpp",
		"/C/Users/Popcorn/Desktop/SiPMControlGUI/include/sbcqueens-gui/hardware_helpers/TeensyControllerInterface.hpp",
		"/C/Users/Popcorn/Desktop/SiPMControlGUI/include/sbcqueens-gui/indicators.hpp",
		"/C/Users/Popcorn/Desktop/SiPMControlGUI/src/gui_windows/ControlWindow.cpp",
		"/C/Users/Popcorn/Desktop/SiPMControlGUI/include/sbcqueens-gui/hardware_helpers/ClientController.hpp",
		"/C/Users/Popcorn/Desktop/SiPMControlGUI/include/sbcqueens-gui/rendering_wrappers/glfw_opengl3_wrapper.h",
		"/C/Users/Popcorn/Desktop/SiPMControlGUI/include/sbcqueens-gui/rendering_wrappers/glfw_vulkan_wrapper.h",
		"/C/Users/Popcorn/Desktop/SiPMControlGUI/standalone/main.cpp",
		"/C/Users/Popcorn/Desktop/SiPMControlGUI/test/source/gui_test.cpp",
		"/C/Users/Popcorn/Desktop/SiPMControlGUI/include/sbcqueens-gui/caen_helper.hpp",
		"/C/Users/Popcorn/Desktop/SiPMControlGUI/all/CMakeLists.txt",
		"/C/Users/Popcorn/Desktop/SiPMControlGUI/test/CMakeLists.txt",
		"/C/Users/Popcorn/Desktop/SiPMControlGUI/CMakeLists.txt",
		"/C/Users/Popcorn/Desktop/SiPMControlGUI/standalone/CMakeLists.txt",
		"/C/Users/Popcorn/Desktop/SiPMControlGUI/include/sbcqueens-gui/file_helpers.hpp",
		"/C/Users/Popcorn/Desktop/SiPMControlGUI/src/caen_helper.cpp",
		"/C/Users/Popcorn/Desktop/SiPMControlGUI/include/sbcqueens-gui/serial_helper.hpp",
		"/C/Users/Popcorn/Desktop/SiPMControlGUI/include/sbcqueens-gui/implot_helpers.hpp",
		"/C/Users/Popcorn/Desktop/SiPMControlGUI/src/hardware_helpers/TeensyControllerInterface.cpp",
		"/C/Users/Popcorn/Desktop/SiPMControlGUI/src/gui_windows/CAENTabs.cpp",
		"/C/Users/Popcorn/Desktop/SiPMControlGUI/include/sbcqueens-gui/hardware_helpers/CAENDigitizerInterface.hpp",
		"/C/Users/Popcorn/Desktop/SiPMControlGUI/include/sbcqueens-gui/imgui_helpers.hpp",
		"/C/Users/Popcorn/Desktop/SiPMControlGUI/build/compile_commands.json",
		"/C/Users/Popcorn/Desktop/SiPMControlGUI/include/sbcqueens-gui/hardware_helpers/Calibration.hpp",
		"/C/Users/Popcorn/Desktop/SiPMControlGUI/include/sbcqueens-gui/armadillo_helpers.hpp",
		"/C/Users/Popcorn/Desktop/SiPMControlGUI/src/gui_windows/IndicatorWindow.cpp",
		"/C/Users/Popcorn/Desktop/SiPMControlGUI/cmake/Dependencies.cmake",
		"/C/Users/Popcorn/Desktop/SiPMControlGUI/sipm_control_gui.sublime-project",
		"/C/Users/Popcorn/Desktop/SiPMControlGUI/README.md",
		"/C/Users/Popcorn/Desktop/SiPMControlGUI/main.cpp",
		"/C/Users/Popcorn/Desktop/SiPMControlGUI/include/armadillo_helpers.hpp",
		"/C/Users/Popcorn/Desktop/SiPMControlGUI/TeensyControllerInterface.hpp",
		"/C/Users/Popcorn/Desktop/SiPMControlGUI/include/caen_helper.hpp",
		"/C/Users/Popcorn/Desktop/SiPMControlGUI/src/GUI/IndicatorWindow.cpp",
		"/C/Users/Popcorn/Desktop/SiPMControlGUI/src/rendering_wrappers/glfw_vulkan_wrapper.cpp",
		"/C/Users/Popcorn/Desktop/SiPMControlGUI/src/hardware_helpers/Calibration.cpp",
		"/C/Users/Popcorn/Desktop/SiPMControlGUI/src/gui_windows/TeensyTabs.cpp",
		"/C/Users/Popcorn/Desktop/SiPMControlGUI/src/gui_windows/SiPMControlWindow.cpp",
		"/C/Users/Popcorn/Desktop/SiPMControlGUI/src/serial_helper.cpp",
		"/C/Users/Popcorn/Desktop/SiPMControlGUI/src/armadillo_helpers.cpp",
		"/C/Users/Popcorn/Desktop/SiPMControlGUI/include/sbcqueens-gui/hardware_helpers/SlowDAQInterface.hpp",
		"/C/Users/Popcorn/Desktop/SiPMControlGUI/include/sbcqueens-gui/gui_windows/TeensyTabs.hpp",
		"/C/Users/Popcorn/Desktop/SiPMControlGUI/include/sbcqueens-gui/gui_windows/SiPMControlWindow.hpp",
		"/C/Users/Popcorn/Desktop/SiPMControlGUI/include/sbcqueens-gui/gui_windows/IndicatorWindow.hpp",
		"/C/Users/Popcorn/Desktop/SiPMControlGUI/include/sbcqueens-gui/gui_windows/ControlWindow.hpp",
		"/C/Users/Popcorn/Desktop/SiPMControlGUI/include/sbcqueens-gui/gui_windows/CAENTabs.hpp",
		"/C/Users/Popcorn/Desktop/SiPMControlGUI/test/source/main.cpp",
		"/C/Users/Popcorn/Desktop/SiPMControlGUI/TeensyControllerInterface.cpp",
		"/C/Users/Popcorn/Desktop/SiPMControlGUI/include/file_helpers.hpp",
		"/C/Users/Popcorn/Desktop/SiPMControlGUI/include/indicators.hpp",
		"/C/Users/Popcorn/Desktop/SiPMControlGUI/include/GUI/SiPMControlWindow.hpp",
		"/C/Users/Popcorn/Desktop/SiPMControlGUI/GUIManager.hpp",
		"/C/Users/Popcorn/Desktop/SiPMControlGUI/CAENDigitizerInterface.hpp",
		"/C/Users/Popcorn/Desktop/SiPMControlGUI/include/implot_helpers.hpp",
		"/C/Users/Popcorn/Desktop/SiPMControlGUI/include/imgui_helpers.hpp",
		"/X/OneDrive - Queen's University/Research/Research - SIPMs - Queens/Project - SiPM Cooler Pulses/Software/SiPMControlGUI/include/HardwareHelpers/ClientController.hpp",
		"/X/OneDrive - Queen's University/Research/Research - SIPMs - Queens/Project - SiPM Cooler Pulses/Software/SiPMControlGUI/include/HardwareHelpers/Calibration.hpp",
		"/X/OneDrive - Queen's University/Research/Research - SIPMs - Queens/Project - SiPM Cooler Pulses/Software/SiPMControlGUI/src/caen_helper.cpp",
		"/X/OneDrive - Queen's University/Research/Research - SIPMs - Queens/Project - SiPM Cooler Pulses/Software/SiPMControlGUI/include/indicators.hpp",
		"/X/OneDrive - Queen's University/Research/Research - SIPMs - Queens/Project - SiPM Cooler Pulses/Software/SiPMControlGUI/cmake/Dependencies.cmake",
		"/X/OneDrive - Queen's University/Research/Research - SIPMs - Queens/Project - SiPM Cooler Pulses/Software/SiPMControlGUI/README.md",
		"/X/OneDrive - Queen's University/Research/Research - SIPMs - Queens/Project - SiPM Cooler Pulses/Software/SiPMControlGUI/src/GUI/IndicatorWindow.cpp",
		"/X/OneDrive - Queen's University/Research/Research - SIPMs - Queens/Project - SiPM Cooler Pulses/Software/SiPMControlGUI/include/caen_helper.hpp",
		"/X/OneDrive - Queen's University/Research/Research - SIPMs - Queens/Project - SiPM Cooler Pulses/Software/SiPMControlGUI/sipm_control_gui.sublime-project",
		"/X/OneDrive - Queen's University/Research/Research - SIPMs - Queens/Project - SiPM Cooler Pulses/Software/SiPMControlGUI/CMakeLists.txt",
		"/X/OneDrive - Queen's University/Research/Research - SIPMs - Queens/Project - SiPM Cooler Pulses/Software/SiPMControlGUI/CAENDigitizerInterface.hpp",
		"/X/OneDrive - Queen's University/Research/Research - SIPMs - Queens/Project - SiPM Cooler Pulses/Software/SiPMControlGUI/GUIManager.hpp",
		"/X/OneDrive - Queen's University/Research/Research - SIPMs - Queens/Project - SiPM Cooler Pulses/Software/SiPMControlGUI/src/GUI/ControlWindow.cpp",
		"/X/OneDrive - Queen's University/Research/Research - SIPMs - Queens/Project - SiPM Cooler Pulses/Software/SiPMControlGUI/gui_setup.toml",
		"/X/OneDrive - Queen's University/Research/Research - SIPMs - Queens/Project - SiPM Cooler Pulses/Software/SiPMControlGUI/src/GUI/SiPMControlWindow.cpp",
		"/X/OneDrive - Queen's University/Research/Research - SIPMs - Queens/Project - SiPM Cooler Pulses/Software/SiPMControlGUI/src/HardwareHelpers/Calibration.cpp"
	],
	"find":
	{
		"height": 39.0
	},
	"find_in_files":
	{
		"height": 122.0,
		"where_history":
		[
			""
		]
	},
	"find_state":
	{
		"case_sensitive": false,
		"find_history":
		[
			"ImGuiDataType",
			"InputText",
			"std::cout",
			"is_floating_point_v",
			"constexpr",
			");\n",
			"indicator",
			"NumGraphs",
			"NumYAxis",
			"ImPlotScale_",
			"ImPlotScale_SymLog",
			"ImPlotScale",
			"ImPlotAxisFlags_",
			"Plot",
			"Indicator",
			"CurrentIndex",
			"Size",
			"Start",
			"ControlSize",
			"ControlActiveColor",
			"ControlHoveredColor",
			"ControlColor",
			"std",
			"size_t",
			"fill",
			"inline",
			"Color",
			"GUIProducerKey",
			"closeFunc",
			"TeensyControllerKey",
			"TokenType",
			"__draw_similar_begin",
			"control",
			"indicator",
			"retrieve_bmes",
			"LatestAcquiredWaveforms",
			"TriggeredWaveforms",
			"_processing_evts",
			";\n",
			"_processing_evts",
			"TriggeredWaveforms",
			"SavedWaveforms",
			"_latest_num_events",
			"TriggeredWaveforms",
			"SavedWaveforms",
			"_latest_num_events",
			"            _indicator_sender(IndicatorNames::CALCULATING_GAIN, true);",
			"_analysis",
			"disconnected_mod",
			"Connect",
			"prev_event",
			"current_event",
			"filter_data",
			";\n",
			"_vbe_analysis",
			"_spe_analysis",
			"_analysis",
			"retrieve_data_until_n_events",
			"_latest_num_events",
			"_processing_evts",
			"VBDData",
			"VBDData\n",
			"VBDData",
			"prev_event",
			"Analysis",
			"analysis",
			"Analysis",
			"analysis",
			"Analysis",
			"_current_voltage",
			"_close_sipm_file",
			"_current_voltage",
			"();\n",
			"_osc_event",
			"_adj_osc_event",
			"_vbd_routine",
			"_pulse_file",
			"_processing_evts",
			"process_data_for_gui",
			"run_mode",
			"release",
			"CAENDigitizerModelsConstants_map",
			"CAENDigitizerModels_map",
			"acquisition",
			"ac",
			"_caen_constants",
			"_vbd_routine",
			"attempt",
			"_osc_event",
			"_processing_evts",
			"TriggeredWaveforms",
			"_processing_evts",
			"process_data_for_gui",
			"retrieve_data",
			"_processing_evts",
			"_processing_evts[k - 1]",
			"_processing_evts[k]",
			"_processing_evts[k - 1]",
			"_processing_evts[k]",
			"GainVoltages",
			"_current_voltage",
			"GainVoltages",
			"AcquisitionRoutine",
			"AcquistionRoutine",
			"_saveinfo_file",
			"make_",
			"_vbe_analysis_out",
			"Process",
			"isVoltageChanged",
			"LatestMeasure",
			"SiPMVoltageSysVoltage",
			"SiPMVoltageSysChange",
			"_is_voltage_changed",
			"_current_voltage",
			"Hello",
			"_current_color",
			"Start",
			"CURRENT_STABILIZED",
			"_dbm",
			"-dbm",
			"TeensyIndicatorSender",
			"i_run_name",
			"DataPulses",
			"show_demo_window",
			"SiPMParameters",
			"Sipmanalysis",
			"_initFunc",
			"_closeFunc"
		],
		"highlight": true,
		"in_selection": false,
		"preserve_case": false,
		"regex": true,
		"replace_history":
		[
			" ",
			"\\n/MuonVeto/Gun/AddEnergyPhiPoint ",
			"e",
			"hh>",
			"<G",
			"static const",
			"statis const"
		],
		"reverse": false,
		"scrollbar_highlights": true,
		"show_context": true,
		"use_buffer2": true,
		"use_gitignore": true,
		"whole_word": false,
		"wrap": true
	},
	"groups":
	[
		{
			"sheets":
			[
				{
					"buffer": 0,
					"file": "include/sbcqueens-gui/imgui_helpers.hpp",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 26297,
						"regions":
						{
						},
						"selection":
						[
							[
								9806,
								9806
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "<",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"lsp_active": true,
							"lsp_hover_provider_count": 1,
							"lsp_uri": "file:///home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/include/sbcqueens-gui/imgui_helpers.hpp",
							"show_definitions": false,
							"syntax": "Packages/C++/C++.sublime-syntax",
							"tab_size": 4,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 4964.0,
						"zoom_level": 1.0
					},
					"stack_index": 3,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 1,
					"file": "include/sbcqueens-gui/implot_helpers.hpp",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 20842,
						"regions":
						{
						},
						"selection":
						[
							[
								7779,
								7743
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "<",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"lsp_active": true,
							"lsp_hover_provider_count": 1,
							"lsp_uri": "file:///home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/include/sbcqueens-gui/implot_helpers.hpp",
							"show_definitions": false,
							"syntax": "Packages/C++/C++.sublime-syntax",
							"tab_size": 4,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 3789.0,
						"zoom_level": 1.0
					},
					"stack_index": 1,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 2,
					"file": "include/sbcqueens-gui/gui_windows/IndicatorList.hpp",
					"selected": true,
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 2530,
						"regions":
						{
						},
						"selection":
						[
							[
								1491,
								1491
							]
						],
						"settings":
						{
							"syntax": "Packages/C++/C++.sublime-syntax",
							"tab_size": 4,
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 648.0,
						"zoom_level": 1.0
					},
					"stack_index": 0,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 3,
					"file": "include/sbcqueens-gui/gui_windows/ControlList.hpp",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 4395,
						"regions":
						{
						},
						"selection":
						[
							[
								460,
								460
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "<",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"lsp_active": true,
							"lsp_hover_provider_count": 1,
							"lsp_uri": "file:///home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/include/sbcqueens-gui/gui_windows/ControlList.hpp",
							"show_definitions": false,
							"syntax": "Packages/C++/C++.sublime-syntax",
							"tab_size": 4,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 756.0,
						"zoom_level": 1.0
					},
					"stack_index": 2,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 4,
					"file": "include/sbcqueens-gui/hardware_helpers/GUIManager.hpp",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 18941,
						"regions":
						{
						},
						"selection":
						[
							[
								5968,
								5968
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "<",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"lsp_active": true,
							"lsp_hover_provider_count": 1,
							"lsp_uri": "file:///home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/include/sbcqueens-gui/hardware_helpers/GUIManager.hpp",
							"show_definitions": false,
							"syntax": "Packages/C++/C++.sublime-syntax",
							"tab_size": 4,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 2977.0,
						"zoom_level": 1.0
					},
					"stack_index": 4,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 5,
					"file": "src/gui_windows/ControlWindow.cpp",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 2773,
						"regions":
						{
						},
						"selection":
						[
							[
								0,
								0
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "<",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"lsp_active": true,
							"lsp_hover_provider_count": 1,
							"lsp_uri": "file:///home/sbc-queens-linux/MyPrograms/SBC-SIPM-Testing-Software/src/gui_windows/ControlWindow.cpp",
							"show_definitions": false,
							"syntax": "Packages/C++/C++.sublime-syntax",
							"tab_size": 4,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 5,
					"stack_multiselect": false,
					"type": "text"
				}
			]
		}
	],
	"incremental_find":
	{
		"height": 27.0
	},
	"input":
	{
		"height": 48.0
	},
	"layout":
	{
		"cells":
		[
			[
				0,
				0,
				1,
				1
			]
		],
		"cols":
		[
			0.0,
			1.0
		],
		"rows":
		[
			0.0,
			1.0
		]
	},
	"menu_visible": true,
	"output.LSP Log Panel":
	{
		"height": 0.0
	},
	"output.SublimeLinter":
	{
		"height": 0.0
	},
	"output.SublimeLinter Messages":
	{
		"height": 174.0
	},
	"output.diagnostics":
	{
		"height": 187.0
	},
	"output.exec":
	{
		"height": 254.0
	},
	"output.find_results":
	{
		"height": 0.0
	},
	"output.hex_viewer_inspector":
	{
		"height": 138.0
	},
	"output.language servers":
	{
		"height": 0.0
	},
	"output.latextools":
	{
		"height": 138.0
	},
	"output.mdpopups":
	{
		"height": 0.0
	},
	"pinned_build_system": "Build GUI",
	"project": "sipm_control_gui.sublime-project",
	"replace":
	{
		"height": 50.0
	},
	"save_all_on_build": true,
	"select_file":
	{
		"height": 0.0,
		"last_filter": "",
		"selected_items":
		[
		],
		"width": 0.0
	},
	"select_project":
	{
		"height": 0.0,
		"last_filter": "",
		"selected_items":
		[
		],
		"width": 0.0
	},
	"select_symbol":
	{
		"height": 0.0,
		"last_filter": "",
		"selected_items":
		[
		],
		"width": 0.0
	},
	"selected_group": 0,
	"settings":
	{
	},
	"show_minimap": true,
	"show_open_files": true,
	"show_tabs": true,
	"side_bar_visible": true,
	"side_bar_width": 368.0,
	"status_bar_visible": true,
	"template_settings":
	{
	}
}
